function Tj(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in r)){const l=Object.getOwnPropertyDescriptor(n,o);l&&Object.defineProperty(r,o,l.get?l:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function xw(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Pp={exports:{}},fc={},Dp={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function Cj(){if(Av)return Ge;Av=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.iterator;function w(H){return H===null||typeof H!="object"?null:(H=x&&H[x]||H["@@iterator"],typeof H=="function"?H:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,j={};function T(H,te,ee){this.props=H,this.context=te,this.refs=j,this.updater=ee||k}T.prototype.isReactComponent={},T.prototype.setState=function(H,te){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,te,"setState")},T.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function M(){}M.prototype=T.prototype;function B(H,te,ee){this.props=H,this.context=te,this.refs=j,this.updater=ee||k}var F=B.prototype=new M;F.constructor=B,P(F,T.prototype),F.isPureReactComponent=!0;var $=Array.isArray,z=Object.prototype.hasOwnProperty,J={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function E(H,te,ee){var ie,xe={},_e=null,oe=null;if(te!=null)for(ie in te.ref!==void 0&&(oe=te.ref),te.key!==void 0&&(_e=""+te.key),te)z.call(te,ie)&&!A.hasOwnProperty(ie)&&(xe[ie]=te[ie]);var fe=arguments.length-2;if(fe===1)xe.children=ee;else if(1<fe){for(var Ae=Array(fe),Pe=0;Pe<fe;Pe++)Ae[Pe]=arguments[Pe+2];xe.children=Ae}if(H&&H.defaultProps)for(ie in fe=H.defaultProps,fe)xe[ie]===void 0&&(xe[ie]=fe[ie]);return{$$typeof:r,type:H,key:_e,ref:oe,props:xe,_owner:J.current}}function C(H,te){return{$$typeof:r,type:H.type,key:te,ref:H.ref,props:H.props,_owner:H._owner}}function O(H){return typeof H=="object"&&H!==null&&H.$$typeof===r}function L(H){var te={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ee){return te[ee]})}var D=/\/+/g;function R(H,te){return typeof H=="object"&&H!==null&&H.key!=null?L(""+H.key):te.toString(36)}function ge(H,te,ee,ie,xe){var _e=typeof H;(_e==="undefined"||_e==="boolean")&&(H=null);var oe=!1;if(H===null)oe=!0;else switch(_e){case"string":case"number":oe=!0;break;case"object":switch(H.$$typeof){case r:case e:oe=!0}}if(oe)return oe=H,xe=xe(oe),H=ie===""?"."+R(oe,0):ie,$(xe)?(ee="",H!=null&&(ee=H.replace(D,"$&/")+"/"),ge(xe,te,ee,"",function(Pe){return Pe})):xe!=null&&(O(xe)&&(xe=C(xe,ee+(!xe.key||oe&&oe.key===xe.key?"":(""+xe.key).replace(D,"$&/")+"/")+H)),te.push(xe)),1;if(oe=0,ie=ie===""?".":ie+":",$(H))for(var fe=0;fe<H.length;fe++){_e=H[fe];var Ae=ie+R(_e,fe);oe+=ge(_e,te,ee,Ae,xe)}else if(Ae=w(H),typeof Ae=="function")for(H=Ae.call(H),fe=0;!(_e=H.next()).done;)_e=_e.value,Ae=ie+R(_e,fe++),oe+=ge(_e,te,ee,Ae,xe);else if(_e==="object")throw te=String(H),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.");return oe}function le(H,te,ee){if(H==null)return H;var ie=[],xe=0;return ge(H,ie,"","",function(_e){return te.call(ee,_e,xe++)}),ie}function Z(H){if(H._status===-1){var te=H._result;te=te(),te.then(function(ee){(H._status===0||H._status===-1)&&(H._status=1,H._result=ee)},function(ee){(H._status===0||H._status===-1)&&(H._status=2,H._result=ee)}),H._status===-1&&(H._status=0,H._result=te)}if(H._status===1)return H._result.default;throw H._result}var re={current:null},q={transition:null},de={ReactCurrentDispatcher:re,ReactCurrentBatchConfig:q,ReactCurrentOwner:J};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Ge.Children={map:le,forEach:function(H,te,ee){le(H,function(){te.apply(this,arguments)},ee)},count:function(H){var te=0;return le(H,function(){te++}),te},toArray:function(H){return le(H,function(te){return te})||[]},only:function(H){if(!O(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Ge.Component=T,Ge.Fragment=t,Ge.Profiler=o,Ge.PureComponent=B,Ge.StrictMode=n,Ge.Suspense=p,Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,Ge.act=ae,Ge.cloneElement=function(H,te,ee){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var ie=P({},H.props),xe=H.key,_e=H.ref,oe=H._owner;if(te!=null){if(te.ref!==void 0&&(_e=te.ref,oe=J.current),te.key!==void 0&&(xe=""+te.key),H.type&&H.type.defaultProps)var fe=H.type.defaultProps;for(Ae in te)z.call(te,Ae)&&!A.hasOwnProperty(Ae)&&(ie[Ae]=te[Ae]===void 0&&fe!==void 0?fe[Ae]:te[Ae])}var Ae=arguments.length-2;if(Ae===1)ie.children=ee;else if(1<Ae){fe=Array(Ae);for(var Pe=0;Pe<Ae;Pe++)fe[Pe]=arguments[Pe+2];ie.children=fe}return{$$typeof:r,type:H.type,key:xe,ref:_e,props:ie,_owner:oe}},Ge.createContext=function(H){return H={$$typeof:u,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:l,_context:H},H.Consumer=H},Ge.createElement=E,Ge.createFactory=function(H){var te=E.bind(null,H);return te.type=H,te},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(H){return{$$typeof:h,render:H}},Ge.isValidElement=O,Ge.lazy=function(H){return{$$typeof:v,_payload:{_status:-1,_result:H},_init:Z}},Ge.memo=function(H,te){return{$$typeof:m,type:H,compare:te===void 0?null:te}},Ge.startTransition=function(H){var te=q.transition;q.transition={};try{H()}finally{q.transition=te}},Ge.unstable_act=ae,Ge.useCallback=function(H,te){return re.current.useCallback(H,te)},Ge.useContext=function(H){return re.current.useContext(H)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(H){return re.current.useDeferredValue(H)},Ge.useEffect=function(H,te){return re.current.useEffect(H,te)},Ge.useId=function(){return re.current.useId()},Ge.useImperativeHandle=function(H,te,ee){return re.current.useImperativeHandle(H,te,ee)},Ge.useInsertionEffect=function(H,te){return re.current.useInsertionEffect(H,te)},Ge.useLayoutEffect=function(H,te){return re.current.useLayoutEffect(H,te)},Ge.useMemo=function(H,te){return re.current.useMemo(H,te)},Ge.useReducer=function(H,te,ee){return re.current.useReducer(H,te,ee)},Ge.useRef=function(H){return re.current.useRef(H)},Ge.useState=function(H){return re.current.useState(H)},Ge.useSyncExternalStore=function(H,te,ee){return re.current.useSyncExternalStore(H,te,ee)},Ge.useTransition=function(){return re.current.useTransition()},Ge.version="18.3.1",Ge}var Rv;function Eh(){return Rv||(Rv=1,Dp.exports=Cj()),Dp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function Ij(){if(Pv)return fc;Pv=1;var r=Eh(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(h,p,m){var v,x={},w=null,k=null;m!==void 0&&(w=""+m),p.key!==void 0&&(w=""+p.key),p.ref!==void 0&&(k=p.ref);for(v in p)n.call(p,v)&&!l.hasOwnProperty(v)&&(x[v]=p[v]);if(h&&h.defaultProps)for(v in p=h.defaultProps,p)x[v]===void 0&&(x[v]=p[v]);return{$$typeof:e,type:h,key:w,ref:k,props:x,_owner:o.current}}return fc.Fragment=t,fc.jsx=u,fc.jsxs=u,fc}var Dv;function Aj(){return Dv||(Dv=1,Pp.exports=Ij()),Pp.exports}var i=Aj(),md={},Mp={exports:{}},Fr={},Op={exports:{}},Lp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function Rj(){return Mv||(Mv=1,(function(r){function e(q,de){var ae=q.length;q.push(de);e:for(;0<ae;){var H=ae-1>>>1,te=q[H];if(0<o(te,de))q[H]=de,q[ae]=te,ae=H;else break e}}function t(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var de=q[0],ae=q.pop();if(ae!==de){q[0]=ae;e:for(var H=0,te=q.length,ee=te>>>1;H<ee;){var ie=2*(H+1)-1,xe=q[ie],_e=ie+1,oe=q[_e];if(0>o(xe,ae))_e<te&&0>o(oe,xe)?(q[H]=oe,q[_e]=ae,H=_e):(q[H]=xe,q[ie]=ae,H=ie);else if(_e<te&&0>o(oe,ae))q[H]=oe,q[_e]=ae,H=_e;else break e}}return de}function o(q,de){var ae=q.sortIndex-de.sortIndex;return ae!==0?ae:q.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();r.unstable_now=function(){return u.now()-h}}var p=[],m=[],v=1,x=null,w=3,k=!1,P=!1,j=!1,T=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(q){for(var de=t(m);de!==null;){if(de.callback===null)n(m);else if(de.startTime<=q)n(m),de.sortIndex=de.expirationTime,e(p,de);else break;de=t(m)}}function $(q){if(j=!1,F(q),!P)if(t(p)!==null)P=!0,Z(z);else{var de=t(m);de!==null&&re($,de.startTime-q)}}function z(q,de){P=!1,j&&(j=!1,M(E),E=-1),k=!0;var ae=w;try{for(F(de),x=t(p);x!==null&&(!(x.expirationTime>de)||q&&!L());){var H=x.callback;if(typeof H=="function"){x.callback=null,w=x.priorityLevel;var te=H(x.expirationTime<=de);de=r.unstable_now(),typeof te=="function"?x.callback=te:x===t(p)&&n(p),F(de)}else n(p);x=t(p)}if(x!==null)var ee=!0;else{var ie=t(m);ie!==null&&re($,ie.startTime-de),ee=!1}return ee}finally{x=null,w=ae,k=!1}}var J=!1,A=null,E=-1,C=5,O=-1;function L(){return!(r.unstable_now()-O<C)}function D(){if(A!==null){var q=r.unstable_now();O=q;var de=!0;try{de=A(!0,q)}finally{de?R():(J=!1,A=null)}}else J=!1}var R;if(typeof B=="function")R=function(){B(D)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,le=ge.port2;ge.port1.onmessage=D,R=function(){le.postMessage(null)}}else R=function(){T(D,0)};function Z(q){A=q,J||(J=!0,R())}function re(q,de){E=T(function(){q(r.unstable_now())},de)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_continueExecution=function(){P||k||(P=!0,Z(z))},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_getFirstCallbackNode=function(){return t(p)},r.unstable_next=function(q){switch(w){case 1:case 2:case 3:var de=3;break;default:de=w}var ae=w;w=de;try{return q()}finally{w=ae}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(q,de){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ae=w;w=q;try{return de()}finally{w=ae}},r.unstable_scheduleCallback=function(q,de,ae){var H=r.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?H+ae:H):ae=H,q){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=ae+te,q={id:v++,callback:de,priorityLevel:q,startTime:ae,expirationTime:te,sortIndex:-1},ae>H?(q.sortIndex=ae,e(m,q),t(p)===null&&q===t(m)&&(j?(M(E),E=-1):j=!0,re($,ae-H))):(q.sortIndex=te,e(p,q),P||k||(P=!0,Z(z))),q},r.unstable_shouldYield=L,r.unstable_wrapCallback=function(q){var de=w;return function(){var ae=w;w=de;try{return q.apply(this,arguments)}finally{w=ae}}}})(Lp)),Lp}var Ov;function Pj(){return Ov||(Ov=1,Op.exports=Rj()),Op.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function Dj(){if(Lv)return Fr;Lv=1;var r=Eh(),e=Pj();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,o={};function l(s,a){u(s,a),u(s+"Capture",a)}function u(s,a){for(o[s]=a,s=0;s<a.length;s++)n.add(a[s])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},x={};function w(s){return p.call(x,s)?!0:p.call(v,s)?!1:m.test(s)?x[s]=!0:(v[s]=!0,!1)}function k(s,a,c,f){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function P(s,a,c,f){if(a===null||typeof a>"u"||k(s,a,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function j(s,a,c,f,g,y,S){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=s,this.type=a,this.sanitizeURL=y,this.removeEmptyString=S}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){T[s]=new j(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];T[a]=new j(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){T[s]=new j(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){T[s]=new j(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){T[s]=new j(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){T[s]=new j(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){T[s]=new j(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){T[s]=new j(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){T[s]=new j(s,5,!1,s.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function B(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(M,B);T[a]=new j(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(M,B);T[a]=new j(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(M,B);T[a]=new j(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){T[s]=new j(s,1,!1,s.toLowerCase(),null,!1,!1)}),T.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){T[s]=new j(s,1,!1,s.toLowerCase(),null,!0,!0)});function F(s,a,c,f){var g=T.hasOwnProperty(a)?T[a]:null;(g!==null?g.type!==0:f||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(P(a,c,g,f)&&(c=null),f||g===null?w(a)&&(c===null?s.removeAttribute(a):s.setAttribute(a,""+c)):g.mustUseProperty?s[g.propertyName]=c===null?g.type===3?!1:"":c:(a=g.attributeName,f=g.attributeNamespace,c===null?s.removeAttribute(a):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,f?s.setAttributeNS(f,a,c):s.setAttribute(a,c))))}var $=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),J=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),L=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),re=Symbol.for("react.offscreen"),q=Symbol.iterator;function de(s){return s===null||typeof s!="object"?null:(s=q&&s[q]||s["@@iterator"],typeof s=="function"?s:null)}var ae=Object.assign,H;function te(s){if(H===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);H=a&&a[1]||""}return`
`+H+s}var ee=!1;function ie(s,a){if(!s||ee)return"";ee=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Q){var f=Q}Reflect.construct(s,[],a)}else{try{a.call()}catch(Q){f=Q}s.call(a.prototype)}else{try{throw Error()}catch(Q){f=Q}s()}}catch(Q){if(Q&&f&&typeof Q.stack=="string"){for(var g=Q.stack.split(`
`),y=f.stack.split(`
`),S=g.length-1,V=y.length-1;1<=S&&0<=V&&g[S]!==y[V];)V--;for(;1<=S&&0<=V;S--,V--)if(g[S]!==y[V]){if(S!==1||V!==1)do if(S--,V--,0>V||g[S]!==y[V]){var U=`
`+g[S].replace(" at new "," at ");return s.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",s.displayName)),U}while(1<=S&&0<=V);break}}}finally{ee=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?te(s):""}function xe(s){switch(s.tag){case 5:return te(s.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return s=ie(s.type,!1),s;case 11:return s=ie(s.type.render,!1),s;case 1:return s=ie(s.type,!0),s;default:return""}}function _e(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case J:return"Portal";case C:return"Profiler";case E:return"StrictMode";case R:return"Suspense";case ge:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case L:return(s.displayName||"Context")+".Consumer";case O:return(s._context.displayName||"Context")+".Provider";case D:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case le:return a=s.displayName||null,a!==null?a:_e(s.type)||"Memo";case Z:a=s._payload,s=s._init;try{return _e(s(a))}catch{}}return null}function oe(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _e(a);case 8:return a===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function fe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ae(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Pe(s){var a=Ae(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),f=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,y=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(S){f=""+S,y.call(this,S)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(S){f=""+S},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function ze(s){s._valueTracker||(s._valueTracker=Pe(s))}function He(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),f="";return s&&(f=Ae(s)?s.checked?"true":"false":s.value),s=f,s!==c?(a.setValue(s),!0):!1}function pt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Lt(s,a){var c=a.checked;return ae({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function cn(s,a){var c=a.defaultValue==null?"":a.defaultValue,f=a.checked!=null?a.checked:a.defaultChecked;c=fe(a.value!=null?a.value:c),s._wrapperState={initialChecked:f,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Sr(s,a){a=a.checked,a!=null&&F(s,"checked",a,!1)}function ye(s,a){Sr(s,a);var c=fe(a.value),f=a.type;if(c!=null)f==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?We(s,a.type,c):a.hasOwnProperty("defaultValue")&&We(s,a.type,fe(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function Ke(s,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var f=a.type;if(!(f!=="submit"&&f!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,c||a===s.value||(s.value=a),s.defaultValue=a}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function We(s,a,c){(a!=="number"||pt(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var lt=Array.isArray;function Zt(s,a,c,f){if(s=s.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=a.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&f&&(s[c].defaultSelected=!0)}else{for(c=""+fe(c),a=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,f&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function ct(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function mr(s,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(lt(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}s._wrapperState={initialValue:fe(c)}}function or(s,a){var c=fe(a.value),f=fe(a.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),a.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),f!=null&&(s.defaultValue=""+f)}function qr(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Jn(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function di(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Jn(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var kn,hi=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,f,g){MSApp.execUnsafeLocalFunction(function(){return s(a,c,f,g)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(kn=kn||document.createElement("div"),kn.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=kn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Pr(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var Tn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cn=["Webkit","ms","Moz","O"];Object.keys(Tn).forEach(function(s){Cn.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Tn[a]=Tn[s]})});function Zn(s,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||Tn.hasOwnProperty(s)&&Tn[s]?(""+a).trim():a+"px"}function fi(s,a){s=s.style;for(var c in a)if(a.hasOwnProperty(c)){var f=c.indexOf("--")===0,g=Zn(c,a[c],f);c==="float"&&(c="cssFloat"),f?s.setProperty(c,g):s[c]=g}}var pi=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dr(s,a){if(a){if(pi[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function mi(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var un=null;function kr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var In=null,An=null,mt=null;function gi(s){if(s=Jl(s)){if(typeof In!="function")throw Error(t(280));var a=s.stateNode;a&&(a=Iu(a),In(s.stateNode,s.type,a))}}function Oe(s){An?mt?mt.push(s):mt=[s]:An=s}function ut(){if(An){var s=An,a=mt;if(mt=An=null,gi(s),a)for(s=0;s<a.length;s++)gi(a[s])}}function Rt(s,a){return s(a)}function er(){}var Tr=!1;function kt(s,a,c){if(Tr)return s(a,c);Tr=!0;try{return Rt(s,a,c)}finally{Tr=!1,(An!==null||mt!==null)&&(er(),ut())}}function Vt(s,a){var c=s.stateNode;if(c===null)return null;var f=Iu(c);if(f===null)return null;c=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var Gr=!1;if(h)try{var $t={};Object.defineProperty($t,"passive",{get:function(){Gr=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{Gr=!1}function gr(s,a,c,f,g,y,S,V,U){var Q=Array.prototype.slice.call(arguments,3);try{a.apply(c,Q)}catch(ue){this.onError(ue)}}var dn=!1,tr=null,fo=!1,hn=null,lu={onError:function(s){dn=!0,tr=s}};function cu(s,a,c,f,g,y,S,V,U){dn=!1,tr=null,gr.apply(lu,arguments)}function Sl(s,a,c,f,g,y,S,V,U){if(cu.apply(this,arguments),dn){if(dn){var Q=tr;dn=!1,tr=null}else throw Error(t(198));fo||(fo=!0,hn=Q)}}function Rn(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function kl(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function uu(s){if(Rn(s)!==s)throw Error(t(188))}function du(s){var a=s.alternate;if(!a){if(a=Rn(s),a===null)throw Error(t(188));return a!==s?null:s}for(var c=s,f=a;;){var g=c.return;if(g===null)break;var y=g.alternate;if(y===null){if(f=g.return,f!==null){c=f;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===c)return uu(g),s;if(y===f)return uu(g),a;y=y.sibling}throw Error(t(188))}if(c.return!==f.return)c=g,f=y;else{for(var S=!1,V=g.child;V;){if(V===c){S=!0,c=g,f=y;break}if(V===f){S=!0,f=g,c=y;break}V=V.sibling}if(!S){for(V=y.child;V;){if(V===c){S=!0,c=y,f=g;break}if(V===f){S=!0,f=y,c=g;break}V=V.sibling}if(!S)throw Error(t(189))}}if(c.alternate!==f)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:a}function hu(s){return s=du(s),s!==null?po(s):null}function po(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=po(s);if(a!==null)return a;s=s.sibling}return null}var Tl=e.unstable_scheduleCallback,ia=e.unstable_cancelCallback,mo=e.unstable_shouldYield,Ms=e.unstable_requestPaint,gt=e.unstable_now,uf=e.unstable_getCurrentPriorityLevel,oa=e.unstable_ImmediatePriority,Cl=e.unstable_UserBlockingPriority,go=e.unstable_NormalPriority,Il=e.unstable_LowPriority,aa=e.unstable_IdlePriority,xo=null,Kr=null;function fu(s){if(Kr&&typeof Kr.onCommitFiberRoot=="function")try{Kr.onCommitFiberRoot(xo,s,void 0,(s.current.flags&128)===128)}catch{}}var Yr=Math.clz32?Math.clz32:vo,es=Math.log,fn=Math.LN2;function vo(s){return s>>>=0,s===0?32:31-(es(s)/fn|0)|0}var ts=64,xi=4194304;function rt(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Os(s,a){var c=s.pendingLanes;if(c===0)return 0;var f=0,g=s.suspendedLanes,y=s.pingedLanes,S=c&268435455;if(S!==0){var V=S&~g;V!==0?f=rt(V):(y&=S,y!==0&&(f=rt(y)))}else S=c&~g,S!==0?f=rt(S):y!==0&&(f=rt(y));if(f===0)return 0;if(a!==0&&a!==f&&(a&g)===0&&(g=f&-f,y=a&-a,g>=y||g===16&&(y&4194240)!==0))return a;if((f&4)!==0&&(f|=c&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=f;0<a;)c=31-Yr(a),g=1<<c,f|=s[c],a&=~g;return f}function yo(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bo(s,a){for(var c=s.suspendedLanes,f=s.pingedLanes,g=s.expirationTimes,y=s.pendingLanes;0<y;){var S=31-Yr(y),V=1<<S,U=g[S];U===-1?((V&c)===0||(V&f)!==0)&&(g[S]=yo(V,a)):U<=a&&(s.expiredLanes|=V),y&=~V}}function Al(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Rl(){var s=ts;return ts<<=1,(ts&4194240)===0&&(ts=64),s}function Pl(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function wo(s,a,c){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-Yr(a),s[a]=c}function df(s,a){var c=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<c;){var g=31-Yr(c),y=1<<g;a[g]=0,f[g]=-1,s[g]=-1,c&=~y}}function Dl(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var f=31-Yr(c),g=1<<f;g&a|s[f]&a&&(s[f]|=a),c&=~g}}var Je=0;function rs(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Ml,la,Ol,Ll,Vl,ns=!1,ca=[],ss=null,is=null,ar=null,_o=new Map,Ls=new Map,Qr=[],pu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vi(s,a){switch(s){case"focusin":case"focusout":ss=null;break;case"dragenter":case"dragleave":is=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":_o.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ls.delete(a.pointerId)}}function Pn(s,a,c,f,g,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:c,eventSystemFlags:f,nativeEvent:y,targetContainers:[g]},a!==null&&(a=Jl(a),a!==null&&la(a)),s):(s.eventSystemFlags|=f,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function mu(s,a,c,f,g){switch(a){case"focusin":return ss=Pn(ss,s,a,c,f,g),!0;case"dragenter":return is=Pn(is,s,a,c,f,g),!0;case"mouseover":return ar=Pn(ar,s,a,c,f,g),!0;case"pointerover":var y=g.pointerId;return _o.set(y,Pn(_o.get(y)||null,s,a,c,f,g)),!0;case"gotpointercapture":return y=g.pointerId,Ls.set(y,Pn(Ls.get(y)||null,s,a,c,f,g)),!0}return!1}function ua(s){var a=So(s.target);if(a!==null){var c=Rn(a);if(c!==null){if(a=c.tag,a===13){if(a=kl(c),a!==null){s.blockedOn=a,Vl(s.priority,function(){Ol(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function dt(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=da(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var f=new c.constructor(c.type,c);un=f,c.target.dispatchEvent(f),un=null}else return a=Jl(c),a!==null&&la(a),s.blockedOn=c,!1;a.shift()}return!0}function gu(s,a,c){dt(s)&&c.delete(a)}function hf(){ns=!1,ss!==null&&dt(ss)&&(ss=null),is!==null&&dt(is)&&(is=null),ar!==null&&dt(ar)&&(ar=null),_o.forEach(gu),Ls.forEach(gu)}function yi(s,a){s.blockedOn===a&&(s.blockedOn=null,ns||(ns=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,hf)))}function bi(s){function a(g){return yi(g,s)}if(0<ca.length){yi(ca[0],s);for(var c=1;c<ca.length;c++){var f=ca[c];f.blockedOn===s&&(f.blockedOn=null)}}for(ss!==null&&yi(ss,s),is!==null&&yi(is,s),ar!==null&&yi(ar,s),_o.forEach(a),Ls.forEach(a),c=0;c<Qr.length;c++)f=Qr[c],f.blockedOn===s&&(f.blockedOn=null);for(;0<Qr.length&&(c=Qr[0],c.blockedOn===null);)ua(c),c.blockedOn===null&&Qr.shift()}var Vs=$.ReactCurrentBatchConfig,$s=!0;function os(s,a,c,f){var g=Je,y=Vs.transition;Vs.transition=null;try{Je=1,$l(s,a,c,f)}finally{Je=g,Vs.transition=y}}function xu(s,a,c,f){var g=Je,y=Vs.transition;Vs.transition=null;try{Je=4,$l(s,a,c,f)}finally{Je=g,Vs.transition=y}}function $l(s,a,c,f){if($s){var g=da(s,a,c,f);if(g===null)Nf(s,a,f,as,c),vi(s,f);else if(mu(g,s,a,c,f))f.stopPropagation();else if(vi(s,f),a&4&&-1<pu.indexOf(s)){for(;g!==null;){var y=Jl(g);if(y!==null&&Ml(y),y=da(s,a,c,f),y===null&&Nf(s,a,f,as,c),y===g)break;g=y}g!==null&&f.stopPropagation()}else Nf(s,a,f,null,c)}}var as=null;function da(s,a,c,f){if(as=null,s=kr(f),s=So(s),s!==null)if(a=Rn(s),a===null)s=null;else if(c=a.tag,c===13){if(s=kl(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return as=s,null}function ha(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uf()){case oa:return 1;case Cl:return 4;case go:case Il:return 16;case aa:return 536870912;default:return 16}default:return 16}}var Xr=null,fa=null,Fs=null;function vu(){if(Fs)return Fs;var s,a=fa,c=a.length,f,g="value"in Xr?Xr.value:Xr.textContent,y=g.length;for(s=0;s<c&&a[s]===g[s];s++);var S=c-s;for(f=1;f<=S&&a[c-f]===g[y-f];f++);return Fs=g.slice(s,1<f?1-f:void 0)}function No(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function ls(){return!0}function Fl(){return!1}function xr(s){function a(c,f,g,y,S){this._reactName=c,this._targetInst=g,this.type=f,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var V in s)s.hasOwnProperty(V)&&(c=s[V],this[V]=c?c(y):y[V]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ls:Fl,this.isPropagationStopped=Fl,this}return ae(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),a}var cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eo=xr(cs),wi=ae({},cs,{view:0,detail:0}),pa=xr(wi),ma,ga,Jr,jo=ae({},wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ue,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Jr&&(Jr&&s.type==="mousemove"?(ma=s.screenX-Jr.screenX,ga=s.screenY-Jr.screenY):ga=ma=0,Jr=s),ma)},movementY:function(s){return"movementY"in s?s.movementY:ga}}),Ul=xr(jo),yu=ae({},jo,{dataTransfer:0}),bu=xr(yu),xa=ae({},wi,{relatedTarget:0}),lr=xr(xa),wu=ae({},cs,{animationName:0,elapsedTime:0,pseudoElement:0}),_u=xr(wu),_i=ae({},cs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),d=xr(_i),b=ae({},cs,{data:0}),_=xr(b),I={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ve(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=X[s])?!!a[s]:!1}function Ue(){return ve}var Pt=ae({},wi,{key:function(s){if(s.key){var a=I[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=No(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?K[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ue,charCode:function(s){return s.type==="keypress"?No(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?No(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),ot=xr(Pt),Ft=ae({},jo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zr=xr(Ft),Us=ae({},wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ue}),us=xr(Us),ds=ae({},cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),va=xr(ds),Bl=ae({},jo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),_E=xr(Bl),NE=[9,13,27,32],ff=h&&"CompositionEvent"in window,zl=null;h&&"documentMode"in document&&(zl=document.documentMode);var EE=h&&"TextEvent"in window&&!zl,Nx=h&&(!ff||zl&&8<zl&&11>=zl),Ex=" ",jx=!1;function Sx(s,a){switch(s){case"keyup":return NE.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kx(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ya=!1;function jE(s,a){switch(s){case"compositionend":return kx(a);case"keypress":return a.which!==32?null:(jx=!0,Ex);case"textInput":return s=a.data,s===Ex&&jx?null:s;default:return null}}function SE(s,a){if(ya)return s==="compositionend"||!ff&&Sx(s,a)?(s=vu(),Fs=fa=Xr=null,ya=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Nx&&a.locale!=="ko"?null:a.data;default:return null}}var kE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tx(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!kE[s.type]:a==="textarea"}function Cx(s,a,c,f){Oe(f),a=ku(a,"onChange"),0<a.length&&(c=new Eo("onChange","change",null,c,f),s.push({event:c,listeners:a}))}var Hl=null,Wl=null;function TE(s){Gx(s,0)}function Nu(s){var a=Ea(s);if(He(a))return s}function CE(s,a){if(s==="change")return a}var Ix=!1;if(h){var pf;if(h){var mf="oninput"in document;if(!mf){var Ax=document.createElement("div");Ax.setAttribute("oninput","return;"),mf=typeof Ax.oninput=="function"}pf=mf}else pf=!1;Ix=pf&&(!document.documentMode||9<document.documentMode)}function Rx(){Hl&&(Hl.detachEvent("onpropertychange",Px),Wl=Hl=null)}function Px(s){if(s.propertyName==="value"&&Nu(Wl)){var a=[];Cx(a,Wl,s,kr(s)),kt(TE,a)}}function IE(s,a,c){s==="focusin"?(Rx(),Hl=a,Wl=c,Hl.attachEvent("onpropertychange",Px)):s==="focusout"&&Rx()}function AE(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Nu(Wl)}function RE(s,a){if(s==="click")return Nu(a)}function PE(s,a){if(s==="input"||s==="change")return Nu(a)}function DE(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Dn=typeof Object.is=="function"?Object.is:DE;function ql(s,a){if(Dn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),f=Object.keys(a);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var g=c[f];if(!p.call(a,g)||!Dn(s[g],a[g]))return!1}return!0}function Dx(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Mx(s,a){var c=Dx(s);s=0;for(var f;c;){if(c.nodeType===3){if(f=s+c.textContent.length,s<=a&&f>=a)return{node:c,offset:a-s};s=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Dx(c)}}function Ox(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Ox(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Lx(){for(var s=window,a=pt();a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=pt(s.document)}return a}function gf(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function ME(s){var a=Lx(),c=s.focusedElem,f=s.selectionRange;if(a!==c&&c&&c.ownerDocument&&Ox(c.ownerDocument.documentElement,c)){if(f!==null&&gf(c)){if(a=f.start,s=f.end,s===void 0&&(s=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(s,c.value.length);else if(s=(a=c.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var g=c.textContent.length,y=Math.min(f.start,g);f=f.end===void 0?y:Math.min(f.end,g),!s.extend&&y>f&&(g=f,f=y,y=g),g=Mx(c,y);var S=Mx(c,f);g&&S&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==S.node||s.focusOffset!==S.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),s.removeAllRanges(),y>f?(s.addRange(a),s.extend(S.node,S.offset)):(a.setEnd(S.node,S.offset),s.addRange(a)))}}for(a=[],s=c;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)s=a[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var OE=h&&"documentMode"in document&&11>=document.documentMode,ba=null,xf=null,Gl=null,vf=!1;function Vx(s,a,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;vf||ba==null||ba!==pt(f)||(f=ba,"selectionStart"in f&&gf(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Gl&&ql(Gl,f)||(Gl=f,f=ku(xf,"onSelect"),0<f.length&&(a=new Eo("onSelect","select",null,a,c),s.push({event:a,listeners:f}),a.target=ba)))}function Eu(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var wa={animationend:Eu("Animation","AnimationEnd"),animationiteration:Eu("Animation","AnimationIteration"),animationstart:Eu("Animation","AnimationStart"),transitionend:Eu("Transition","TransitionEnd")},yf={},$x={};h&&($x=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function ju(s){if(yf[s])return yf[s];if(!wa[s])return s;var a=wa[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in $x)return yf[s]=a[c];return s}var Fx=ju("animationend"),Ux=ju("animationiteration"),Bx=ju("animationstart"),zx=ju("transitionend"),Hx=new Map,Wx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ni(s,a){Hx.set(s,a),l(a,[s])}for(var bf=0;bf<Wx.length;bf++){var wf=Wx[bf],LE=wf.toLowerCase(),VE=wf[0].toUpperCase()+wf.slice(1);Ni(LE,"on"+VE)}Ni(Fx,"onAnimationEnd"),Ni(Ux,"onAnimationIteration"),Ni(Bx,"onAnimationStart"),Ni("dblclick","onDoubleClick"),Ni("focusin","onFocus"),Ni("focusout","onBlur"),Ni(zx,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$E=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kl));function qx(s,a,c){var f=s.type||"unknown-event";s.currentTarget=c,Sl(f,a,void 0,s),s.currentTarget=null}function Gx(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var f=s[c],g=f.event;f=f.listeners;e:{var y=void 0;if(a)for(var S=f.length-1;0<=S;S--){var V=f[S],U=V.instance,Q=V.currentTarget;if(V=V.listener,U!==y&&g.isPropagationStopped())break e;qx(g,V,Q),y=U}else for(S=0;S<f.length;S++){if(V=f[S],U=V.instance,Q=V.currentTarget,V=V.listener,U!==y&&g.isPropagationStopped())break e;qx(g,V,Q),y=U}}}if(fo)throw s=hn,fo=!1,hn=null,s}function xt(s,a){var c=a[Cf];c===void 0&&(c=a[Cf]=new Set);var f=s+"__bubble";c.has(f)||(Kx(a,s,2,!1),c.add(f))}function _f(s,a,c){var f=0;a&&(f|=4),Kx(c,s,f,a)}var Su="_reactListening"+Math.random().toString(36).slice(2);function Yl(s){if(!s[Su]){s[Su]=!0,n.forEach(function(c){c!=="selectionchange"&&($E.has(c)||_f(c,!1,s),_f(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Su]||(a[Su]=!0,_f("selectionchange",!1,a))}}function Kx(s,a,c,f){switch(ha(a)){case 1:var g=os;break;case 4:g=xu;break;default:g=$l}c=g.bind(null,a,c,s),g=void 0,!Gr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),f?g!==void 0?s.addEventListener(a,c,{capture:!0,passive:g}):s.addEventListener(a,c,!0):g!==void 0?s.addEventListener(a,c,{passive:g}):s.addEventListener(a,c,!1)}function Nf(s,a,c,f,g){var y=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var S=f.tag;if(S===3||S===4){var V=f.stateNode.containerInfo;if(V===g||V.nodeType===8&&V.parentNode===g)break;if(S===4)for(S=f.return;S!==null;){var U=S.tag;if((U===3||U===4)&&(U=S.stateNode.containerInfo,U===g||U.nodeType===8&&U.parentNode===g))return;S=S.return}for(;V!==null;){if(S=So(V),S===null)return;if(U=S.tag,U===5||U===6){f=y=S;continue e}V=V.parentNode}}f=f.return}kt(function(){var Q=y,ue=kr(c),he=[];e:{var ce=Hx.get(s);if(ce!==void 0){var we=Eo,je=s;switch(s){case"keypress":if(No(c)===0)break e;case"keydown":case"keyup":we=ot;break;case"focusin":je="focus",we=lr;break;case"focusout":je="blur",we=lr;break;case"beforeblur":case"afterblur":we=lr;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=Ul;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=us;break;case Fx:case Ux:case Bx:we=_u;break;case zx:we=va;break;case"scroll":we=pa;break;case"wheel":we=_E;break;case"copy":case"cut":case"paste":we=d;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=Zr}var Te=(a&4)!==0,Dt=!Te&&s==="scroll",G=Te?ce!==null?ce+"Capture":null:ce;Te=[];for(var W=Q,Y;W!==null;){Y=W;var pe=Y.stateNode;if(Y.tag===5&&pe!==null&&(Y=pe,G!==null&&(pe=Vt(W,G),pe!=null&&Te.push(Ql(W,pe,Y)))),Dt)break;W=W.return}0<Te.length&&(ce=new we(ce,je,null,c,ue),he.push({event:ce,listeners:Te}))}}if((a&7)===0){e:{if(ce=s==="mouseover"||s==="pointerover",we=s==="mouseout"||s==="pointerout",ce&&c!==un&&(je=c.relatedTarget||c.fromElement)&&(So(je)||je[Bs]))break e;if((we||ce)&&(ce=ue.window===ue?ue:(ce=ue.ownerDocument)?ce.defaultView||ce.parentWindow:window,we?(je=c.relatedTarget||c.toElement,we=Q,je=je?So(je):null,je!==null&&(Dt=Rn(je),je!==Dt||je.tag!==5&&je.tag!==6)&&(je=null)):(we=null,je=Q),we!==je)){if(Te=Ul,pe="onMouseLeave",G="onMouseEnter",W="mouse",(s==="pointerout"||s==="pointerover")&&(Te=Zr,pe="onPointerLeave",G="onPointerEnter",W="pointer"),Dt=we==null?ce:Ea(we),Y=je==null?ce:Ea(je),ce=new Te(pe,W+"leave",we,c,ue),ce.target=Dt,ce.relatedTarget=Y,pe=null,So(ue)===Q&&(Te=new Te(G,W+"enter",je,c,ue),Te.target=Y,Te.relatedTarget=Dt,pe=Te),Dt=pe,we&&je)t:{for(Te=we,G=je,W=0,Y=Te;Y;Y=_a(Y))W++;for(Y=0,pe=G;pe;pe=_a(pe))Y++;for(;0<W-Y;)Te=_a(Te),W--;for(;0<Y-W;)G=_a(G),Y--;for(;W--;){if(Te===G||G!==null&&Te===G.alternate)break t;Te=_a(Te),G=_a(G)}Te=null}else Te=null;we!==null&&Yx(he,ce,we,Te,!1),je!==null&&Dt!==null&&Yx(he,Dt,je,Te,!0)}}e:{if(ce=Q?Ea(Q):window,we=ce.nodeName&&ce.nodeName.toLowerCase(),we==="select"||we==="input"&&ce.type==="file")var Ie=CE;else if(Tx(ce))if(Ix)Ie=PE;else{Ie=AE;var De=IE}else(we=ce.nodeName)&&we.toLowerCase()==="input"&&(ce.type==="checkbox"||ce.type==="radio")&&(Ie=RE);if(Ie&&(Ie=Ie(s,Q))){Cx(he,Ie,c,ue);break e}De&&De(s,ce,Q),s==="focusout"&&(De=ce._wrapperState)&&De.controlled&&ce.type==="number"&&We(ce,"number",ce.value)}switch(De=Q?Ea(Q):window,s){case"focusin":(Tx(De)||De.contentEditable==="true")&&(ba=De,xf=Q,Gl=null);break;case"focusout":Gl=xf=ba=null;break;case"mousedown":vf=!0;break;case"contextmenu":case"mouseup":case"dragend":vf=!1,Vx(he,c,ue);break;case"selectionchange":if(OE)break;case"keydown":case"keyup":Vx(he,c,ue)}var Me;if(ff)e:{switch(s){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else ya?Sx(s,c)&&($e="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&($e="onCompositionStart");$e&&(Nx&&c.locale!=="ko"&&(ya||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&ya&&(Me=vu()):(Xr=ue,fa="value"in Xr?Xr.value:Xr.textContent,ya=!0)),De=ku(Q,$e),0<De.length&&($e=new _($e,s,null,c,ue),he.push({event:$e,listeners:De}),Me?$e.data=Me:(Me=kx(c),Me!==null&&($e.data=Me)))),(Me=EE?jE(s,c):SE(s,c))&&(Q=ku(Q,"onBeforeInput"),0<Q.length&&(ue=new _("onBeforeInput","beforeinput",null,c,ue),he.push({event:ue,listeners:Q}),ue.data=Me))}Gx(he,a)})}function Ql(s,a,c){return{instance:s,listener:a,currentTarget:c}}function ku(s,a){for(var c=a+"Capture",f=[];s!==null;){var g=s,y=g.stateNode;g.tag===5&&y!==null&&(g=y,y=Vt(s,c),y!=null&&f.unshift(Ql(s,y,g)),y=Vt(s,a),y!=null&&f.push(Ql(s,y,g))),s=s.return}return f}function _a(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Yx(s,a,c,f,g){for(var y=a._reactName,S=[];c!==null&&c!==f;){var V=c,U=V.alternate,Q=V.stateNode;if(U!==null&&U===f)break;V.tag===5&&Q!==null&&(V=Q,g?(U=Vt(c,y),U!=null&&S.unshift(Ql(c,U,V))):g||(U=Vt(c,y),U!=null&&S.push(Ql(c,U,V)))),c=c.return}S.length!==0&&s.push({event:a,listeners:S})}var FE=/\r\n?/g,UE=/\u0000|\uFFFD/g;function Qx(s){return(typeof s=="string"?s:""+s).replace(FE,`
`).replace(UE,"")}function Tu(s,a,c){if(a=Qx(a),Qx(s)!==a&&c)throw Error(t(425))}function Cu(){}var Ef=null,jf=null;function Sf(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var kf=typeof setTimeout=="function"?setTimeout:void 0,BE=typeof clearTimeout=="function"?clearTimeout:void 0,Xx=typeof Promise=="function"?Promise:void 0,zE=typeof queueMicrotask=="function"?queueMicrotask:typeof Xx<"u"?function(s){return Xx.resolve(null).then(s).catch(HE)}:kf;function HE(s){setTimeout(function(){throw s})}function Tf(s,a){var c=a,f=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(f===0){s.removeChild(g),bi(a);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=g}while(c);bi(a)}function Ei(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Jx(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}var Na=Math.random().toString(36).slice(2),hs="__reactFiber$"+Na,Xl="__reactProps$"+Na,Bs="__reactContainer$"+Na,Cf="__reactEvents$"+Na,WE="__reactListeners$"+Na,qE="__reactHandles$"+Na;function So(s){var a=s[hs];if(a)return a;for(var c=s.parentNode;c;){if(a=c[Bs]||c[hs]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=Jx(s);s!==null;){if(c=s[hs])return c;s=Jx(s)}return a}s=c,c=s.parentNode}return null}function Jl(s){return s=s[hs]||s[Bs],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ea(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Iu(s){return s[Xl]||null}var If=[],ja=-1;function ji(s){return{current:s}}function vt(s){0>ja||(s.current=If[ja],If[ja]=null,ja--)}function ht(s,a){ja++,If[ja]=s.current,s.current=a}var Si={},vr=ji(Si),Mr=ji(!1),ko=Si;function Sa(s,a){var c=s.type.contextTypes;if(!c)return Si;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===a)return f.__reactInternalMemoizedMaskedChildContext;var g={},y;for(y in c)g[y]=a[y];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=g),g}function Or(s){return s=s.childContextTypes,s!=null}function Au(){vt(Mr),vt(vr)}function Zx(s,a,c){if(vr.current!==Si)throw Error(t(168));ht(vr,a),ht(Mr,c)}function e0(s,a,c){var f=s.stateNode;if(a=a.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var g in f)if(!(g in a))throw Error(t(108,oe(s)||"Unknown",g));return ae({},c,f)}function Ru(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Si,ko=vr.current,ht(vr,s),ht(Mr,Mr.current),!0}function t0(s,a,c){var f=s.stateNode;if(!f)throw Error(t(169));c?(s=e0(s,a,ko),f.__reactInternalMemoizedMergedChildContext=s,vt(Mr),vt(vr),ht(vr,s)):vt(Mr),ht(Mr,c)}var zs=null,Pu=!1,Af=!1;function r0(s){zs===null?zs=[s]:zs.push(s)}function GE(s){Pu=!0,r0(s)}function ki(){if(!Af&&zs!==null){Af=!0;var s=0,a=Je;try{var c=zs;for(Je=1;s<c.length;s++){var f=c[s];do f=f(!0);while(f!==null)}zs=null,Pu=!1}catch(g){throw zs!==null&&(zs=zs.slice(s+1)),Tl(oa,ki),g}finally{Je=a,Af=!1}}return null}var ka=[],Ta=0,Du=null,Mu=0,pn=[],mn=0,To=null,Hs=1,Ws="";function Co(s,a){ka[Ta++]=Mu,ka[Ta++]=Du,Du=s,Mu=a}function n0(s,a,c){pn[mn++]=Hs,pn[mn++]=Ws,pn[mn++]=To,To=s;var f=Hs;s=Ws;var g=32-Yr(f)-1;f&=~(1<<g),c+=1;var y=32-Yr(a)+g;if(30<y){var S=g-g%5;y=(f&(1<<S)-1).toString(32),f>>=S,g-=S,Hs=1<<32-Yr(a)+g|c<<g|f,Ws=y+s}else Hs=1<<y|c<<g|f,Ws=s}function Rf(s){s.return!==null&&(Co(s,1),n0(s,1,0))}function Pf(s){for(;s===Du;)Du=ka[--Ta],ka[Ta]=null,Mu=ka[--Ta],ka[Ta]=null;for(;s===To;)To=pn[--mn],pn[mn]=null,Ws=pn[--mn],pn[mn]=null,Hs=pn[--mn],pn[mn]=null}var en=null,tn=null,wt=!1,Mn=null;function s0(s,a){var c=yn(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=s,a=s.deletions,a===null?(s.deletions=[c],s.flags|=16):a.push(c)}function i0(s,a){switch(s.tag){case 5:var c=s.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,en=s,tn=Ei(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,en=s,tn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=To!==null?{id:Hs,overflow:Ws}:null,s.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=yn(18,null,null,0),c.stateNode=a,c.return=s,s.child=c,en=s,tn=null,!0):!1;default:return!1}}function Df(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Mf(s){if(wt){var a=tn;if(a){var c=a;if(!i0(s,a)){if(Df(s))throw Error(t(418));a=Ei(c.nextSibling);var f=en;a&&i0(s,a)?s0(f,c):(s.flags=s.flags&-4097|2,wt=!1,en=s)}}else{if(Df(s))throw Error(t(418));s.flags=s.flags&-4097|2,wt=!1,en=s}}}function o0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;en=s}function Ou(s){if(s!==en)return!1;if(!wt)return o0(s),wt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Sf(s.type,s.memoizedProps)),a&&(a=tn)){if(Df(s))throw a0(),Error(t(418));for(;a;)s0(s,a),a=Ei(a.nextSibling)}if(o0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(a===0){tn=Ei(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}s=s.nextSibling}tn=null}}else tn=en?Ei(s.stateNode.nextSibling):null;return!0}function a0(){for(var s=tn;s;)s=Ei(s.nextSibling)}function Ca(){tn=en=null,wt=!1}function Of(s){Mn===null?Mn=[s]:Mn.push(s)}var KE=$.ReactCurrentBatchConfig;function Zl(s,a,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var f=c.stateNode}if(!f)throw Error(t(147,s));var g=f,y=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===y?a.ref:(a=function(S){var V=g.refs;S===null?delete V[y]:V[y]=S},a._stringRef=y,a)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function Lu(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function l0(s){var a=s._init;return a(s._payload)}function c0(s){function a(G,W){if(s){var Y=G.deletions;Y===null?(G.deletions=[W],G.flags|=16):Y.push(W)}}function c(G,W){if(!s)return null;for(;W!==null;)a(G,W),W=W.sibling;return null}function f(G,W){for(G=new Map;W!==null;)W.key!==null?G.set(W.key,W):G.set(W.index,W),W=W.sibling;return G}function g(G,W){return G=Mi(G,W),G.index=0,G.sibling=null,G}function y(G,W,Y){return G.index=Y,s?(Y=G.alternate,Y!==null?(Y=Y.index,Y<W?(G.flags|=2,W):Y):(G.flags|=2,W)):(G.flags|=1048576,W)}function S(G){return s&&G.alternate===null&&(G.flags|=2),G}function V(G,W,Y,pe){return W===null||W.tag!==6?(W=kp(Y,G.mode,pe),W.return=G,W):(W=g(W,Y),W.return=G,W)}function U(G,W,Y,pe){var Ie=Y.type;return Ie===A?ue(G,W,Y.props.children,pe,Y.key):W!==null&&(W.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===Z&&l0(Ie)===W.type)?(pe=g(W,Y.props),pe.ref=Zl(G,W,Y),pe.return=G,pe):(pe=ad(Y.type,Y.key,Y.props,null,G.mode,pe),pe.ref=Zl(G,W,Y),pe.return=G,pe)}function Q(G,W,Y,pe){return W===null||W.tag!==4||W.stateNode.containerInfo!==Y.containerInfo||W.stateNode.implementation!==Y.implementation?(W=Tp(Y,G.mode,pe),W.return=G,W):(W=g(W,Y.children||[]),W.return=G,W)}function ue(G,W,Y,pe,Ie){return W===null||W.tag!==7?(W=Lo(Y,G.mode,pe,Ie),W.return=G,W):(W=g(W,Y),W.return=G,W)}function he(G,W,Y){if(typeof W=="string"&&W!==""||typeof W=="number")return W=kp(""+W,G.mode,Y),W.return=G,W;if(typeof W=="object"&&W!==null){switch(W.$$typeof){case z:return Y=ad(W.type,W.key,W.props,null,G.mode,Y),Y.ref=Zl(G,null,W),Y.return=G,Y;case J:return W=Tp(W,G.mode,Y),W.return=G,W;case Z:var pe=W._init;return he(G,pe(W._payload),Y)}if(lt(W)||de(W))return W=Lo(W,G.mode,Y,null),W.return=G,W;Lu(G,W)}return null}function ce(G,W,Y,pe){var Ie=W!==null?W.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number")return Ie!==null?null:V(G,W,""+Y,pe);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case z:return Y.key===Ie?U(G,W,Y,pe):null;case J:return Y.key===Ie?Q(G,W,Y,pe):null;case Z:return Ie=Y._init,ce(G,W,Ie(Y._payload),pe)}if(lt(Y)||de(Y))return Ie!==null?null:ue(G,W,Y,pe,null);Lu(G,Y)}return null}function we(G,W,Y,pe,Ie){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return G=G.get(Y)||null,V(W,G,""+pe,Ie);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case z:return G=G.get(pe.key===null?Y:pe.key)||null,U(W,G,pe,Ie);case J:return G=G.get(pe.key===null?Y:pe.key)||null,Q(W,G,pe,Ie);case Z:var De=pe._init;return we(G,W,Y,De(pe._payload),Ie)}if(lt(pe)||de(pe))return G=G.get(Y)||null,ue(W,G,pe,Ie,null);Lu(W,pe)}return null}function je(G,W,Y,pe){for(var Ie=null,De=null,Me=W,$e=W=0,sr=null;Me!==null&&$e<Y.length;$e++){Me.index>$e?(sr=Me,Me=null):sr=Me.sibling;var tt=ce(G,Me,Y[$e],pe);if(tt===null){Me===null&&(Me=sr);break}s&&Me&&tt.alternate===null&&a(G,Me),W=y(tt,W,$e),De===null?Ie=tt:De.sibling=tt,De=tt,Me=sr}if($e===Y.length)return c(G,Me),wt&&Co(G,$e),Ie;if(Me===null){for(;$e<Y.length;$e++)Me=he(G,Y[$e],pe),Me!==null&&(W=y(Me,W,$e),De===null?Ie=Me:De.sibling=Me,De=Me);return wt&&Co(G,$e),Ie}for(Me=f(G,Me);$e<Y.length;$e++)sr=we(Me,G,$e,Y[$e],pe),sr!==null&&(s&&sr.alternate!==null&&Me.delete(sr.key===null?$e:sr.key),W=y(sr,W,$e),De===null?Ie=sr:De.sibling=sr,De=sr);return s&&Me.forEach(function(Oi){return a(G,Oi)}),wt&&Co(G,$e),Ie}function Te(G,W,Y,pe){var Ie=de(Y);if(typeof Ie!="function")throw Error(t(150));if(Y=Ie.call(Y),Y==null)throw Error(t(151));for(var De=Ie=null,Me=W,$e=W=0,sr=null,tt=Y.next();Me!==null&&!tt.done;$e++,tt=Y.next()){Me.index>$e?(sr=Me,Me=null):sr=Me.sibling;var Oi=ce(G,Me,tt.value,pe);if(Oi===null){Me===null&&(Me=sr);break}s&&Me&&Oi.alternate===null&&a(G,Me),W=y(Oi,W,$e),De===null?Ie=Oi:De.sibling=Oi,De=Oi,Me=sr}if(tt.done)return c(G,Me),wt&&Co(G,$e),Ie;if(Me===null){for(;!tt.done;$e++,tt=Y.next())tt=he(G,tt.value,pe),tt!==null&&(W=y(tt,W,$e),De===null?Ie=tt:De.sibling=tt,De=tt);return wt&&Co(G,$e),Ie}for(Me=f(G,Me);!tt.done;$e++,tt=Y.next())tt=we(Me,G,$e,tt.value,pe),tt!==null&&(s&&tt.alternate!==null&&Me.delete(tt.key===null?$e:tt.key),W=y(tt,W,$e),De===null?Ie=tt:De.sibling=tt,De=tt);return s&&Me.forEach(function(kj){return a(G,kj)}),wt&&Co(G,$e),Ie}function Dt(G,W,Y,pe){if(typeof Y=="object"&&Y!==null&&Y.type===A&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case z:e:{for(var Ie=Y.key,De=W;De!==null;){if(De.key===Ie){if(Ie=Y.type,Ie===A){if(De.tag===7){c(G,De.sibling),W=g(De,Y.props.children),W.return=G,G=W;break e}}else if(De.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===Z&&l0(Ie)===De.type){c(G,De.sibling),W=g(De,Y.props),W.ref=Zl(G,De,Y),W.return=G,G=W;break e}c(G,De);break}else a(G,De);De=De.sibling}Y.type===A?(W=Lo(Y.props.children,G.mode,pe,Y.key),W.return=G,G=W):(pe=ad(Y.type,Y.key,Y.props,null,G.mode,pe),pe.ref=Zl(G,W,Y),pe.return=G,G=pe)}return S(G);case J:e:{for(De=Y.key;W!==null;){if(W.key===De)if(W.tag===4&&W.stateNode.containerInfo===Y.containerInfo&&W.stateNode.implementation===Y.implementation){c(G,W.sibling),W=g(W,Y.children||[]),W.return=G,G=W;break e}else{c(G,W);break}else a(G,W);W=W.sibling}W=Tp(Y,G.mode,pe),W.return=G,G=W}return S(G);case Z:return De=Y._init,Dt(G,W,De(Y._payload),pe)}if(lt(Y))return je(G,W,Y,pe);if(de(Y))return Te(G,W,Y,pe);Lu(G,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"?(Y=""+Y,W!==null&&W.tag===6?(c(G,W.sibling),W=g(W,Y),W.return=G,G=W):(c(G,W),W=kp(Y,G.mode,pe),W.return=G,G=W),S(G)):c(G,W)}return Dt}var Ia=c0(!0),u0=c0(!1),Vu=ji(null),$u=null,Aa=null,Lf=null;function Vf(){Lf=Aa=$u=null}function $f(s){var a=Vu.current;vt(Vu),s._currentValue=a}function Ff(s,a,c){for(;s!==null;){var f=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),s===c)break;s=s.return}}function Ra(s,a){$u=s,Lf=Aa=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(Lr=!0),s.firstContext=null)}function gn(s){var a=s._currentValue;if(Lf!==s)if(s={context:s,memoizedValue:a,next:null},Aa===null){if($u===null)throw Error(t(308));Aa=s,$u.dependencies={lanes:0,firstContext:s}}else Aa=Aa.next=s;return a}var Io=null;function Uf(s){Io===null?Io=[s]:Io.push(s)}function d0(s,a,c,f){var g=a.interleaved;return g===null?(c.next=c,Uf(a)):(c.next=g.next,g.next=c),a.interleaved=c,qs(s,f)}function qs(s,a){s.lanes|=a;var c=s.alternate;for(c!==null&&(c.lanes|=a),c=s,s=s.return;s!==null;)s.childLanes|=a,c=s.alternate,c!==null&&(c.childLanes|=a),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Ti=!1;function Bf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function h0(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Gs(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Ci(s,a,c){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(et&2)!==0){var g=f.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),f.pending=a,qs(s,c)}return g=f.interleaved,g===null?(a.next=a,Uf(f)):(a.next=g.next,g.next=a),f.interleaved=a,qs(s,c)}function Fu(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var f=a.lanes;f&=s.pendingLanes,c|=f,a.lanes=c,Dl(s,c)}}function f0(s,a){var c=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var g=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var S={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};y===null?g=y=S:y=y.next=S,c=c.next}while(c!==null);y===null?g=y=a:y=y.next=a}else g=y=a;c={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:f.shared,effects:f.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}function Uu(s,a,c,f){var g=s.updateQueue;Ti=!1;var y=g.firstBaseUpdate,S=g.lastBaseUpdate,V=g.shared.pending;if(V!==null){g.shared.pending=null;var U=V,Q=U.next;U.next=null,S===null?y=Q:S.next=Q,S=U;var ue=s.alternate;ue!==null&&(ue=ue.updateQueue,V=ue.lastBaseUpdate,V!==S&&(V===null?ue.firstBaseUpdate=Q:V.next=Q,ue.lastBaseUpdate=U))}if(y!==null){var he=g.baseState;S=0,ue=Q=U=null,V=y;do{var ce=V.lane,we=V.eventTime;if((f&ce)===ce){ue!==null&&(ue=ue.next={eventTime:we,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var je=s,Te=V;switch(ce=a,we=c,Te.tag){case 1:if(je=Te.payload,typeof je=="function"){he=je.call(we,he,ce);break e}he=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Te.payload,ce=typeof je=="function"?je.call(we,he,ce):je,ce==null)break e;he=ae({},he,ce);break e;case 2:Ti=!0}}V.callback!==null&&V.lane!==0&&(s.flags|=64,ce=g.effects,ce===null?g.effects=[V]:ce.push(V))}else we={eventTime:we,lane:ce,tag:V.tag,payload:V.payload,callback:V.callback,next:null},ue===null?(Q=ue=we,U=he):ue=ue.next=we,S|=ce;if(V=V.next,V===null){if(V=g.shared.pending,V===null)break;ce=V,V=ce.next,ce.next=null,g.lastBaseUpdate=ce,g.shared.pending=null}}while(!0);if(ue===null&&(U=he),g.baseState=U,g.firstBaseUpdate=Q,g.lastBaseUpdate=ue,a=g.shared.interleaved,a!==null){g=a;do S|=g.lane,g=g.next;while(g!==a)}else y===null&&(g.shared.lanes=0);Po|=S,s.lanes=S,s.memoizedState=he}}function p0(s,a,c){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var f=s[a],g=f.callback;if(g!==null){if(f.callback=null,f=c,typeof g!="function")throw Error(t(191,g));g.call(f)}}}var ec={},fs=ji(ec),tc=ji(ec),rc=ji(ec);function Ao(s){if(s===ec)throw Error(t(174));return s}function zf(s,a){switch(ht(rc,a),ht(tc,s),ht(fs,ec),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:di(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=di(a,s)}vt(fs),ht(fs,a)}function Pa(){vt(fs),vt(tc),vt(rc)}function m0(s){Ao(rc.current);var a=Ao(fs.current),c=di(a,s.type);a!==c&&(ht(tc,s),ht(fs,c))}function Hf(s){tc.current===s&&(vt(fs),vt(tc))}var _t=ji(0);function Bu(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Wf=[];function qf(){for(var s=0;s<Wf.length;s++)Wf[s]._workInProgressVersionPrimary=null;Wf.length=0}var zu=$.ReactCurrentDispatcher,Gf=$.ReactCurrentBatchConfig,Ro=0,Nt=null,Wt=null,rr=null,Hu=!1,nc=!1,sc=0,YE=0;function yr(){throw Error(t(321))}function Kf(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!Dn(s[c],a[c]))return!1;return!0}function Yf(s,a,c,f,g,y){if(Ro=y,Nt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,zu.current=s===null||s.memoizedState===null?ZE:ej,s=c(f,g),nc){y=0;do{if(nc=!1,sc=0,25<=y)throw Error(t(301));y+=1,rr=Wt=null,a.updateQueue=null,zu.current=tj,s=c(f,g)}while(nc)}if(zu.current=Gu,a=Wt!==null&&Wt.next!==null,Ro=0,rr=Wt=Nt=null,Hu=!1,a)throw Error(t(300));return s}function Qf(){var s=sc!==0;return sc=0,s}function ps(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rr===null?Nt.memoizedState=rr=s:rr=rr.next=s,rr}function xn(){if(Wt===null){var s=Nt.alternate;s=s!==null?s.memoizedState:null}else s=Wt.next;var a=rr===null?Nt.memoizedState:rr.next;if(a!==null)rr=a,Wt=s;else{if(s===null)throw Error(t(310));Wt=s,s={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},rr===null?Nt.memoizedState=rr=s:rr=rr.next=s}return rr}function ic(s,a){return typeof a=="function"?a(s):a}function Xf(s){var a=xn(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var f=Wt,g=f.baseQueue,y=c.pending;if(y!==null){if(g!==null){var S=g.next;g.next=y.next,y.next=S}f.baseQueue=g=y,c.pending=null}if(g!==null){y=g.next,f=f.baseState;var V=S=null,U=null,Q=y;do{var ue=Q.lane;if((Ro&ue)===ue)U!==null&&(U=U.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),f=Q.hasEagerState?Q.eagerState:s(f,Q.action);else{var he={lane:ue,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};U===null?(V=U=he,S=f):U=U.next=he,Nt.lanes|=ue,Po|=ue}Q=Q.next}while(Q!==null&&Q!==y);U===null?S=f:U.next=V,Dn(f,a.memoizedState)||(Lr=!0),a.memoizedState=f,a.baseState=S,a.baseQueue=U,c.lastRenderedState=f}if(s=c.interleaved,s!==null){g=s;do y=g.lane,Nt.lanes|=y,Po|=y,g=g.next;while(g!==s)}else g===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function Jf(s){var a=xn(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var f=c.dispatch,g=c.pending,y=a.memoizedState;if(g!==null){c.pending=null;var S=g=g.next;do y=s(y,S.action),S=S.next;while(S!==g);Dn(y,a.memoizedState)||(Lr=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),c.lastRenderedState=y}return[y,f]}function g0(){}function x0(s,a){var c=Nt,f=xn(),g=a(),y=!Dn(f.memoizedState,g);if(y&&(f.memoizedState=g,Lr=!0),f=f.queue,Zf(b0.bind(null,c,f,s),[s]),f.getSnapshot!==a||y||rr!==null&&rr.memoizedState.tag&1){if(c.flags|=2048,oc(9,y0.bind(null,c,f,g,a),void 0,null),nr===null)throw Error(t(349));(Ro&30)!==0||v0(c,a,g)}return g}function v0(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=Nt.updateQueue,a===null?(a={lastEffect:null,stores:null},Nt.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function y0(s,a,c,f){a.value=c,a.getSnapshot=f,w0(a)&&_0(s)}function b0(s,a,c){return c(function(){w0(a)&&_0(s)})}function w0(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!Dn(s,c)}catch{return!0}}function _0(s){var a=qs(s,1);a!==null&&$n(a,s,1,-1)}function N0(s){var a=ps();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ic,lastRenderedState:s},a.queue=s,s=s.dispatch=JE.bind(null,Nt,s),[a.memoizedState,s]}function oc(s,a,c,f){return s={tag:s,create:a,destroy:c,deps:f,next:null},a=Nt.updateQueue,a===null?(a={lastEffect:null,stores:null},Nt.updateQueue=a,a.lastEffect=s.next=s):(c=a.lastEffect,c===null?a.lastEffect=s.next=s:(f=c.next,c.next=s,s.next=f,a.lastEffect=s)),s}function E0(){return xn().memoizedState}function Wu(s,a,c,f){var g=ps();Nt.flags|=s,g.memoizedState=oc(1|a,c,void 0,f===void 0?null:f)}function qu(s,a,c,f){var g=xn();f=f===void 0?null:f;var y=void 0;if(Wt!==null){var S=Wt.memoizedState;if(y=S.destroy,f!==null&&Kf(f,S.deps)){g.memoizedState=oc(a,c,y,f);return}}Nt.flags|=s,g.memoizedState=oc(1|a,c,y,f)}function j0(s,a){return Wu(8390656,8,s,a)}function Zf(s,a){return qu(2048,8,s,a)}function S0(s,a){return qu(4,2,s,a)}function k0(s,a){return qu(4,4,s,a)}function T0(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function C0(s,a,c){return c=c!=null?c.concat([s]):null,qu(4,4,T0.bind(null,a,s),c)}function ep(){}function I0(s,a){var c=xn();a=a===void 0?null:a;var f=c.memoizedState;return f!==null&&a!==null&&Kf(a,f[1])?f[0]:(c.memoizedState=[s,a],s)}function A0(s,a){var c=xn();a=a===void 0?null:a;var f=c.memoizedState;return f!==null&&a!==null&&Kf(a,f[1])?f[0]:(s=s(),c.memoizedState=[s,a],s)}function R0(s,a,c){return(Ro&21)===0?(s.baseState&&(s.baseState=!1,Lr=!0),s.memoizedState=c):(Dn(c,a)||(c=Rl(),Nt.lanes|=c,Po|=c,s.baseState=!0),a)}function QE(s,a){var c=Je;Je=c!==0&&4>c?c:4,s(!0);var f=Gf.transition;Gf.transition={};try{s(!1),a()}finally{Je=c,Gf.transition=f}}function P0(){return xn().memoizedState}function XE(s,a,c){var f=Pi(s);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},D0(s))M0(a,c);else if(c=d0(s,a,c,f),c!==null){var g=Ir();$n(c,s,f,g),O0(c,a,f)}}function JE(s,a,c){var f=Pi(s),g={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(D0(s))M0(a,g);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var S=a.lastRenderedState,V=y(S,c);if(g.hasEagerState=!0,g.eagerState=V,Dn(V,S)){var U=a.interleaved;U===null?(g.next=g,Uf(a)):(g.next=U.next,U.next=g),a.interleaved=g;return}}catch{}finally{}c=d0(s,a,g,f),c!==null&&(g=Ir(),$n(c,s,f,g),O0(c,a,f))}}function D0(s){var a=s.alternate;return s===Nt||a!==null&&a===Nt}function M0(s,a){nc=Hu=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function O0(s,a,c){if((c&4194240)!==0){var f=a.lanes;f&=s.pendingLanes,c|=f,a.lanes=c,Dl(s,c)}}var Gu={readContext:gn,useCallback:yr,useContext:yr,useEffect:yr,useImperativeHandle:yr,useInsertionEffect:yr,useLayoutEffect:yr,useMemo:yr,useReducer:yr,useRef:yr,useState:yr,useDebugValue:yr,useDeferredValue:yr,useTransition:yr,useMutableSource:yr,useSyncExternalStore:yr,useId:yr,unstable_isNewReconciler:!1},ZE={readContext:gn,useCallback:function(s,a){return ps().memoizedState=[s,a===void 0?null:a],s},useContext:gn,useEffect:j0,useImperativeHandle:function(s,a,c){return c=c!=null?c.concat([s]):null,Wu(4194308,4,T0.bind(null,a,s),c)},useLayoutEffect:function(s,a){return Wu(4194308,4,s,a)},useInsertionEffect:function(s,a){return Wu(4,2,s,a)},useMemo:function(s,a){var c=ps();return a=a===void 0?null:a,s=s(),c.memoizedState=[s,a],s},useReducer:function(s,a,c){var f=ps();return a=c!==void 0?c(a):a,f.memoizedState=f.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},f.queue=s,s=s.dispatch=XE.bind(null,Nt,s),[f.memoizedState,s]},useRef:function(s){var a=ps();return s={current:s},a.memoizedState=s},useState:N0,useDebugValue:ep,useDeferredValue:function(s){return ps().memoizedState=s},useTransition:function(){var s=N0(!1),a=s[0];return s=QE.bind(null,s[1]),ps().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,c){var f=Nt,g=ps();if(wt){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),nr===null)throw Error(t(349));(Ro&30)!==0||v0(f,a,c)}g.memoizedState=c;var y={value:c,getSnapshot:a};return g.queue=y,j0(b0.bind(null,f,y,s),[s]),f.flags|=2048,oc(9,y0.bind(null,f,y,c,a),void 0,null),c},useId:function(){var s=ps(),a=nr.identifierPrefix;if(wt){var c=Ws,f=Hs;c=(f&~(1<<32-Yr(f)-1)).toString(32)+c,a=":"+a+"R"+c,c=sc++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=YE++,a=":"+a+"r"+c.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},ej={readContext:gn,useCallback:I0,useContext:gn,useEffect:Zf,useImperativeHandle:C0,useInsertionEffect:S0,useLayoutEffect:k0,useMemo:A0,useReducer:Xf,useRef:E0,useState:function(){return Xf(ic)},useDebugValue:ep,useDeferredValue:function(s){var a=xn();return R0(a,Wt.memoizedState,s)},useTransition:function(){var s=Xf(ic)[0],a=xn().memoizedState;return[s,a]},useMutableSource:g0,useSyncExternalStore:x0,useId:P0,unstable_isNewReconciler:!1},tj={readContext:gn,useCallback:I0,useContext:gn,useEffect:Zf,useImperativeHandle:C0,useInsertionEffect:S0,useLayoutEffect:k0,useMemo:A0,useReducer:Jf,useRef:E0,useState:function(){return Jf(ic)},useDebugValue:ep,useDeferredValue:function(s){var a=xn();return Wt===null?a.memoizedState=s:R0(a,Wt.memoizedState,s)},useTransition:function(){var s=Jf(ic)[0],a=xn().memoizedState;return[s,a]},useMutableSource:g0,useSyncExternalStore:x0,useId:P0,unstable_isNewReconciler:!1};function On(s,a){if(s&&s.defaultProps){a=ae({},a),s=s.defaultProps;for(var c in s)a[c]===void 0&&(a[c]=s[c]);return a}return a}function tp(s,a,c,f){a=s.memoizedState,c=c(f,a),c=c==null?a:ae({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Ku={isMounted:function(s){return(s=s._reactInternals)?Rn(s)===s:!1},enqueueSetState:function(s,a,c){s=s._reactInternals;var f=Ir(),g=Pi(s),y=Gs(f,g);y.payload=a,c!=null&&(y.callback=c),a=Ci(s,y,g),a!==null&&($n(a,s,g,f),Fu(a,s,g))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var f=Ir(),g=Pi(s),y=Gs(f,g);y.tag=1,y.payload=a,c!=null&&(y.callback=c),a=Ci(s,y,g),a!==null&&($n(a,s,g,f),Fu(a,s,g))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=Ir(),f=Pi(s),g=Gs(c,f);g.tag=2,a!=null&&(g.callback=a),a=Ci(s,g,f),a!==null&&($n(a,s,f,c),Fu(a,s,f))}};function L0(s,a,c,f,g,y,S){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,y,S):a.prototype&&a.prototype.isPureReactComponent?!ql(c,f)||!ql(g,y):!0}function V0(s,a,c){var f=!1,g=Si,y=a.contextType;return typeof y=="object"&&y!==null?y=gn(y):(g=Or(a)?ko:vr.current,f=a.contextTypes,y=(f=f!=null)?Sa(s,g):Si),a=new a(c,y),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Ku,s.stateNode=a,a._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=y),a}function $0(s,a,c,f){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,f),a.state!==s&&Ku.enqueueReplaceState(a,a.state,null)}function rp(s,a,c,f){var g=s.stateNode;g.props=c,g.state=s.memoizedState,g.refs={},Bf(s);var y=a.contextType;typeof y=="object"&&y!==null?g.context=gn(y):(y=Or(a)?ko:vr.current,g.context=Sa(s,y)),g.state=s.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(tp(s,a,y,c),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&Ku.enqueueReplaceState(g,g.state,null),Uu(s,c,g,f),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function Da(s,a){try{var c="",f=a;do c+=xe(f),f=f.return;while(f);var g=c}catch(y){g=`
Error generating stack: `+y.message+`
`+y.stack}return{value:s,source:a,stack:g,digest:null}}function np(s,a,c){return{value:s,source:null,stack:c??null,digest:a??null}}function sp(s,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var rj=typeof WeakMap=="function"?WeakMap:Map;function F0(s,a,c){c=Gs(-1,c),c.tag=3,c.payload={element:null};var f=a.value;return c.callback=function(){td||(td=!0,yp=f),sp(s,a)},c}function U0(s,a,c){c=Gs(-1,c),c.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var g=a.value;c.payload=function(){return f(g)},c.callback=function(){sp(s,a)}}var y=s.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(c.callback=function(){sp(s,a),typeof f!="function"&&(Ai===null?Ai=new Set([this]):Ai.add(this));var S=a.stack;this.componentDidCatch(a.value,{componentStack:S!==null?S:""})}),c}function B0(s,a,c){var f=s.pingCache;if(f===null){f=s.pingCache=new rj;var g=new Set;f.set(a,g)}else g=f.get(a),g===void 0&&(g=new Set,f.set(a,g));g.has(c)||(g.add(c),s=gj.bind(null,s,a,c),a.then(s,s))}function z0(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function H0(s,a,c,f,g){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=Gs(-1,1),a.tag=2,Ci(c,a,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var nj=$.ReactCurrentOwner,Lr=!1;function Cr(s,a,c,f){a.child=s===null?u0(a,null,c,f):Ia(a,s.child,c,f)}function W0(s,a,c,f,g){c=c.render;var y=a.ref;return Ra(a,g),f=Yf(s,a,c,f,y,g),c=Qf(),s!==null&&!Lr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Ks(s,a,g)):(wt&&c&&Rf(a),a.flags|=1,Cr(s,a,f,g),a.child)}function q0(s,a,c,f,g){if(s===null){var y=c.type;return typeof y=="function"&&!Sp(y)&&y.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=y,G0(s,a,y,f,g)):(s=ad(c.type,null,f,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,(s.lanes&g)===0){var S=y.memoizedProps;if(c=c.compare,c=c!==null?c:ql,c(S,f)&&s.ref===a.ref)return Ks(s,a,g)}return a.flags|=1,s=Mi(y,f),s.ref=a.ref,s.return=a,a.child=s}function G0(s,a,c,f,g){if(s!==null){var y=s.memoizedProps;if(ql(y,f)&&s.ref===a.ref)if(Lr=!1,a.pendingProps=f=y,(s.lanes&g)!==0)(s.flags&131072)!==0&&(Lr=!0);else return a.lanes=s.lanes,Ks(s,a,g)}return ip(s,a,c,f,g)}function K0(s,a,c){var f=a.pendingProps,g=f.children,y=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(Oa,rn),rn|=c;else{if((c&1073741824)===0)return s=y!==null?y.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,ht(Oa,rn),rn|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=y!==null?y.baseLanes:c,ht(Oa,rn),rn|=f}else y!==null?(f=y.baseLanes|c,a.memoizedState=null):f=c,ht(Oa,rn),rn|=f;return Cr(s,a,g,c),a.child}function Y0(s,a){var c=a.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function ip(s,a,c,f,g){var y=Or(c)?ko:vr.current;return y=Sa(a,y),Ra(a,g),c=Yf(s,a,c,f,y,g),f=Qf(),s!==null&&!Lr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Ks(s,a,g)):(wt&&f&&Rf(a),a.flags|=1,Cr(s,a,c,g),a.child)}function Q0(s,a,c,f,g){if(Or(c)){var y=!0;Ru(a)}else y=!1;if(Ra(a,g),a.stateNode===null)Qu(s,a),V0(a,c,f),rp(a,c,f,g),f=!0;else if(s===null){var S=a.stateNode,V=a.memoizedProps;S.props=V;var U=S.context,Q=c.contextType;typeof Q=="object"&&Q!==null?Q=gn(Q):(Q=Or(c)?ko:vr.current,Q=Sa(a,Q));var ue=c.getDerivedStateFromProps,he=typeof ue=="function"||typeof S.getSnapshotBeforeUpdate=="function";he||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(V!==f||U!==Q)&&$0(a,S,f,Q),Ti=!1;var ce=a.memoizedState;S.state=ce,Uu(a,f,S,g),U=a.memoizedState,V!==f||ce!==U||Mr.current||Ti?(typeof ue=="function"&&(tp(a,c,ue,f),U=a.memoizedState),(V=Ti||L0(a,c,V,f,ce,U,Q))?(he||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(a.flags|=4194308)):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=U),S.props=f,S.state=U,S.context=Q,f=V):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{S=a.stateNode,h0(s,a),V=a.memoizedProps,Q=a.type===a.elementType?V:On(a.type,V),S.props=Q,he=a.pendingProps,ce=S.context,U=c.contextType,typeof U=="object"&&U!==null?U=gn(U):(U=Or(c)?ko:vr.current,U=Sa(a,U));var we=c.getDerivedStateFromProps;(ue=typeof we=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(V!==he||ce!==U)&&$0(a,S,f,U),Ti=!1,ce=a.memoizedState,S.state=ce,Uu(a,f,S,g);var je=a.memoizedState;V!==he||ce!==je||Mr.current||Ti?(typeof we=="function"&&(tp(a,c,we,f),je=a.memoizedState),(Q=Ti||L0(a,c,Q,f,ce,je,U)||!1)?(ue||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(f,je,U),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(f,je,U)),typeof S.componentDidUpdate=="function"&&(a.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof S.componentDidUpdate!="function"||V===s.memoizedProps&&ce===s.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&ce===s.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=je),S.props=f,S.state=je,S.context=U,f=Q):(typeof S.componentDidUpdate!="function"||V===s.memoizedProps&&ce===s.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&ce===s.memoizedState||(a.flags|=1024),f=!1)}return op(s,a,c,f,y,g)}function op(s,a,c,f,g,y){Y0(s,a);var S=(a.flags&128)!==0;if(!f&&!S)return g&&t0(a,c,!1),Ks(s,a,y);f=a.stateNode,nj.current=a;var V=S&&typeof c.getDerivedStateFromError!="function"?null:f.render();return a.flags|=1,s!==null&&S?(a.child=Ia(a,s.child,null,y),a.child=Ia(a,null,V,y)):Cr(s,a,V,y),a.memoizedState=f.state,g&&t0(a,c,!0),a.child}function X0(s){var a=s.stateNode;a.pendingContext?Zx(s,a.pendingContext,a.pendingContext!==a.context):a.context&&Zx(s,a.context,!1),zf(s,a.containerInfo)}function J0(s,a,c,f,g){return Ca(),Of(g),a.flags|=256,Cr(s,a,c,f),a.child}var ap={dehydrated:null,treeContext:null,retryLane:0};function lp(s){return{baseLanes:s,cachePool:null,transitions:null}}function Z0(s,a,c){var f=a.pendingProps,g=_t.current,y=!1,S=(a.flags&128)!==0,V;if((V=S)||(V=s!==null&&s.memoizedState===null?!1:(g&2)!==0),V?(y=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),ht(_t,g&1),s===null)return Mf(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(S=f.children,s=f.fallback,y?(f=a.mode,y=a.child,S={mode:"hidden",children:S},(f&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=S):y=ld(S,f,0,null),s=Lo(s,f,c,null),y.return=a,s.return=a,y.sibling=s,a.child=y,a.child.memoizedState=lp(c),a.memoizedState=ap,s):cp(a,S));if(g=s.memoizedState,g!==null&&(V=g.dehydrated,V!==null))return sj(s,a,S,f,V,g,c);if(y){y=f.fallback,S=a.mode,g=s.child,V=g.sibling;var U={mode:"hidden",children:f.children};return(S&1)===0&&a.child!==g?(f=a.child,f.childLanes=0,f.pendingProps=U,a.deletions=null):(f=Mi(g,U),f.subtreeFlags=g.subtreeFlags&14680064),V!==null?y=Mi(V,y):(y=Lo(y,S,c,null),y.flags|=2),y.return=a,f.return=a,f.sibling=y,a.child=f,f=y,y=a.child,S=s.child.memoizedState,S=S===null?lp(c):{baseLanes:S.baseLanes|c,cachePool:null,transitions:S.transitions},y.memoizedState=S,y.childLanes=s.childLanes&~c,a.memoizedState=ap,f}return y=s.child,s=y.sibling,f=Mi(y,{mode:"visible",children:f.children}),(a.mode&1)===0&&(f.lanes=c),f.return=a,f.sibling=null,s!==null&&(c=a.deletions,c===null?(a.deletions=[s],a.flags|=16):c.push(s)),a.child=f,a.memoizedState=null,f}function cp(s,a){return a=ld({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Yu(s,a,c,f){return f!==null&&Of(f),Ia(a,s.child,null,c),s=cp(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function sj(s,a,c,f,g,y,S){if(c)return a.flags&256?(a.flags&=-257,f=np(Error(t(422))),Yu(s,a,S,f)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(y=f.fallback,g=a.mode,f=ld({mode:"visible",children:f.children},g,0,null),y=Lo(y,g,S,null),y.flags|=2,f.return=a,y.return=a,f.sibling=y,a.child=f,(a.mode&1)!==0&&Ia(a,s.child,null,S),a.child.memoizedState=lp(S),a.memoizedState=ap,y);if((a.mode&1)===0)return Yu(s,a,S,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var V=f.dgst;return f=V,y=Error(t(419)),f=np(y,f,void 0),Yu(s,a,S,f)}if(V=(S&s.childLanes)!==0,Lr||V){if(f=nr,f!==null){switch(S&-S){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|S))!==0?0:g,g!==0&&g!==y.retryLane&&(y.retryLane=g,qs(s,g),$n(f,s,g,-1))}return jp(),f=np(Error(t(421))),Yu(s,a,S,f)}return g.data==="$?"?(a.flags|=128,a.child=s.child,a=xj.bind(null,s),g._reactRetry=a,null):(s=y.treeContext,tn=Ei(g.nextSibling),en=a,wt=!0,Mn=null,s!==null&&(pn[mn++]=Hs,pn[mn++]=Ws,pn[mn++]=To,Hs=s.id,Ws=s.overflow,To=a),a=cp(a,f.children),a.flags|=4096,a)}function ev(s,a,c){s.lanes|=a;var f=s.alternate;f!==null&&(f.lanes|=a),Ff(s.return,a,c)}function up(s,a,c,f,g){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:g}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=c,y.tailMode=g)}function tv(s,a,c){var f=a.pendingProps,g=f.revealOrder,y=f.tail;if(Cr(s,a,f.children,c),f=_t.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&ev(s,c,a);else if(s.tag===19)ev(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(ht(_t,f),(a.mode&1)===0)a.memoizedState=null;else switch(g){case"forwards":for(c=a.child,g=null;c!==null;)s=c.alternate,s!==null&&Bu(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),up(a,!1,g,c,y);break;case"backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&Bu(s)===null){a.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}up(a,!0,c,null,y);break;case"together":up(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Qu(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Ks(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),Po|=a.lanes,(c&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,c=Mi(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=Mi(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function ij(s,a,c){switch(a.tag){case 3:X0(a),Ca();break;case 5:m0(a);break;case 1:Or(a.type)&&Ru(a);break;case 4:zf(a,a.stateNode.containerInfo);break;case 10:var f=a.type._context,g=a.memoizedProps.value;ht(Vu,f._currentValue),f._currentValue=g;break;case 13:if(f=a.memoizedState,f!==null)return f.dehydrated!==null?(ht(_t,_t.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?Z0(s,a,c):(ht(_t,_t.current&1),s=Ks(s,a,c),s!==null?s.sibling:null);ht(_t,_t.current&1);break;case 19:if(f=(c&a.childLanes)!==0,(s.flags&128)!==0){if(f)return tv(s,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ht(_t,_t.current),f)break;return null;case 22:case 23:return a.lanes=0,K0(s,a,c)}return Ks(s,a,c)}var rv,dp,nv,sv;rv=function(s,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},dp=function(){},nv=function(s,a,c,f){var g=s.memoizedProps;if(g!==f){s=a.stateNode,Ao(fs.current);var y=null;switch(c){case"input":g=Lt(s,g),f=Lt(s,f),y=[];break;case"select":g=ae({},g,{value:void 0}),f=ae({},f,{value:void 0}),y=[];break;case"textarea":g=ct(s,g),f=ct(s,f),y=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=Cu)}Dr(c,f);var S;c=null;for(Q in g)if(!f.hasOwnProperty(Q)&&g.hasOwnProperty(Q)&&g[Q]!=null)if(Q==="style"){var V=g[Q];for(S in V)V.hasOwnProperty(S)&&(c||(c={}),c[S]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(o.hasOwnProperty(Q)?y||(y=[]):(y=y||[]).push(Q,null));for(Q in f){var U=f[Q];if(V=g?.[Q],f.hasOwnProperty(Q)&&U!==V&&(U!=null||V!=null))if(Q==="style")if(V){for(S in V)!V.hasOwnProperty(S)||U&&U.hasOwnProperty(S)||(c||(c={}),c[S]="");for(S in U)U.hasOwnProperty(S)&&V[S]!==U[S]&&(c||(c={}),c[S]=U[S])}else c||(y||(y=[]),y.push(Q,c)),c=U;else Q==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,V=V?V.__html:void 0,U!=null&&V!==U&&(y=y||[]).push(Q,U)):Q==="children"?typeof U!="string"&&typeof U!="number"||(y=y||[]).push(Q,""+U):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(o.hasOwnProperty(Q)?(U!=null&&Q==="onScroll"&&xt("scroll",s),y||V===U||(y=[])):(y=y||[]).push(Q,U))}c&&(y=y||[]).push("style",c);var Q=y;(a.updateQueue=Q)&&(a.flags|=4)}},sv=function(s,a,c,f){c!==f&&(a.flags|=4)};function ac(s,a){if(!wt)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function br(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,f=0;if(a)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=f,s.childLanes=c,a}function oj(s,a,c){var f=a.pendingProps;switch(Pf(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return br(a),null;case 1:return Or(a.type)&&Au(),br(a),null;case 3:return f=a.stateNode,Pa(),vt(Mr),vt(vr),qf(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(Ou(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Mn!==null&&(_p(Mn),Mn=null))),dp(s,a),br(a),null;case 5:Hf(a);var g=Ao(rc.current);if(c=a.type,s!==null&&a.stateNode!=null)nv(s,a,c,f,g),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!f){if(a.stateNode===null)throw Error(t(166));return br(a),null}if(s=Ao(fs.current),Ou(a)){f=a.stateNode,c=a.type;var y=a.memoizedProps;switch(f[hs]=a,f[Xl]=y,s=(a.mode&1)!==0,c){case"dialog":xt("cancel",f),xt("close",f);break;case"iframe":case"object":case"embed":xt("load",f);break;case"video":case"audio":for(g=0;g<Kl.length;g++)xt(Kl[g],f);break;case"source":xt("error",f);break;case"img":case"image":case"link":xt("error",f),xt("load",f);break;case"details":xt("toggle",f);break;case"input":cn(f,y),xt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!y.multiple},xt("invalid",f);break;case"textarea":mr(f,y),xt("invalid",f)}Dr(c,y),g=null;for(var S in y)if(y.hasOwnProperty(S)){var V=y[S];S==="children"?typeof V=="string"?f.textContent!==V&&(y.suppressHydrationWarning!==!0&&Tu(f.textContent,V,s),g=["children",V]):typeof V=="number"&&f.textContent!==""+V&&(y.suppressHydrationWarning!==!0&&Tu(f.textContent,V,s),g=["children",""+V]):o.hasOwnProperty(S)&&V!=null&&S==="onScroll"&&xt("scroll",f)}switch(c){case"input":ze(f),Ke(f,y,!0);break;case"textarea":ze(f),qr(f);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(f.onclick=Cu)}f=g,a.updateQueue=f,f!==null&&(a.flags|=4)}else{S=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Jn(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=S.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=S.createElement(c,{is:f.is}):(s=S.createElement(c),c==="select"&&(S=s,f.multiple?S.multiple=!0:f.size&&(S.size=f.size))):s=S.createElementNS(s,c),s[hs]=a,s[Xl]=f,rv(s,a,!1,!1),a.stateNode=s;e:{switch(S=mi(c,f),c){case"dialog":xt("cancel",s),xt("close",s),g=f;break;case"iframe":case"object":case"embed":xt("load",s),g=f;break;case"video":case"audio":for(g=0;g<Kl.length;g++)xt(Kl[g],s);g=f;break;case"source":xt("error",s),g=f;break;case"img":case"image":case"link":xt("error",s),xt("load",s),g=f;break;case"details":xt("toggle",s),g=f;break;case"input":cn(s,f),g=Lt(s,f),xt("invalid",s);break;case"option":g=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},g=ae({},f,{value:void 0}),xt("invalid",s);break;case"textarea":mr(s,f),g=ct(s,f),xt("invalid",s);break;default:g=f}Dr(c,g),V=g;for(y in V)if(V.hasOwnProperty(y)){var U=V[y];y==="style"?fi(s,U):y==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&hi(s,U)):y==="children"?typeof U=="string"?(c!=="textarea"||U!=="")&&Pr(s,U):typeof U=="number"&&Pr(s,""+U):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?U!=null&&y==="onScroll"&&xt("scroll",s):U!=null&&F(s,y,U,S))}switch(c){case"input":ze(s),Ke(s,f,!1);break;case"textarea":ze(s),qr(s);break;case"option":f.value!=null&&s.setAttribute("value",""+fe(f.value));break;case"select":s.multiple=!!f.multiple,y=f.value,y!=null?Zt(s,!!f.multiple,y,!1):f.defaultValue!=null&&Zt(s,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=Cu)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return br(a),null;case 6:if(s&&a.stateNode!=null)sv(s,a,s.memoizedProps,f);else{if(typeof f!="string"&&a.stateNode===null)throw Error(t(166));if(c=Ao(rc.current),Ao(fs.current),Ou(a)){if(f=a.stateNode,c=a.memoizedProps,f[hs]=a,(y=f.nodeValue!==c)&&(s=en,s!==null))switch(s.tag){case 3:Tu(f.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Tu(f.nodeValue,c,(s.mode&1)!==0)}y&&(a.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[hs]=a,a.stateNode=f}return br(a),null;case 13:if(vt(_t),f=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(wt&&tn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)a0(),Ca(),a.flags|=98560,y=!1;else if(y=Ou(a),f!==null&&f.dehydrated!==null){if(s===null){if(!y)throw Error(t(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[hs]=a}else Ca(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;br(a),y=!1}else Mn!==null&&(_p(Mn),Mn=null),y=!0;if(!y)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(_t.current&1)!==0?qt===0&&(qt=3):jp())),a.updateQueue!==null&&(a.flags|=4),br(a),null);case 4:return Pa(),dp(s,a),s===null&&Yl(a.stateNode.containerInfo),br(a),null;case 10:return $f(a.type._context),br(a),null;case 17:return Or(a.type)&&Au(),br(a),null;case 19:if(vt(_t),y=a.memoizedState,y===null)return br(a),null;if(f=(a.flags&128)!==0,S=y.rendering,S===null)if(f)ac(y,!1);else{if(qt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(S=Bu(s),S!==null){for(a.flags|=128,ac(y,!1),f=S.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),a.subtreeFlags=0,f=c,c=a.child;c!==null;)y=c,s=f,y.flags&=14680066,S=y.alternate,S===null?(y.childLanes=0,y.lanes=s,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=S.childLanes,y.lanes=S.lanes,y.child=S.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=S.memoizedProps,y.memoizedState=S.memoizedState,y.updateQueue=S.updateQueue,y.type=S.type,s=S.dependencies,y.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return ht(_t,_t.current&1|2),a.child}s=s.sibling}y.tail!==null&&gt()>La&&(a.flags|=128,f=!0,ac(y,!1),a.lanes=4194304)}else{if(!f)if(s=Bu(S),s!==null){if(a.flags|=128,f=!0,c=s.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),ac(y,!0),y.tail===null&&y.tailMode==="hidden"&&!S.alternate&&!wt)return br(a),null}else 2*gt()-y.renderingStartTime>La&&c!==1073741824&&(a.flags|=128,f=!0,ac(y,!1),a.lanes=4194304);y.isBackwards?(S.sibling=a.child,a.child=S):(c=y.last,c!==null?c.sibling=S:a.child=S,y.last=S)}return y.tail!==null?(a=y.tail,y.rendering=a,y.tail=a.sibling,y.renderingStartTime=gt(),a.sibling=null,c=_t.current,ht(_t,f?c&1|2:c&1),a):(br(a),null);case 22:case 23:return Ep(),f=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(a.flags|=8192),f&&(a.mode&1)!==0?(rn&1073741824)!==0&&(br(a),a.subtreeFlags&6&&(a.flags|=8192)):br(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function aj(s,a){switch(Pf(a),a.tag){case 1:return Or(a.type)&&Au(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Pa(),vt(Mr),vt(vr),qf(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Hf(a),null;case 13:if(vt(_t),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Ca()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return vt(_t),null;case 4:return Pa(),null;case 10:return $f(a.type._context),null;case 22:case 23:return Ep(),null;case 24:return null;default:return null}}var Xu=!1,wr=!1,lj=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function Ma(s,a){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){Tt(s,a,f)}else c.current=null}function hp(s,a,c){try{c()}catch(f){Tt(s,a,f)}}var iv=!1;function cj(s,a){if(Ef=$s,s=Lx(),gf(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var g=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var S=0,V=-1,U=-1,Q=0,ue=0,he=s,ce=null;t:for(;;){for(var we;he!==c||g!==0&&he.nodeType!==3||(V=S+g),he!==y||f!==0&&he.nodeType!==3||(U=S+f),he.nodeType===3&&(S+=he.nodeValue.length),(we=he.firstChild)!==null;)ce=he,he=we;for(;;){if(he===s)break t;if(ce===c&&++Q===g&&(V=S),ce===y&&++ue===f&&(U=S),(we=he.nextSibling)!==null)break;he=ce,ce=he.parentNode}he=we}c=V===-1||U===-1?null:{start:V,end:U}}else c=null}c=c||{start:0,end:0}}else c=null;for(jf={focusedElem:s,selectionRange:c},$s=!1,Ee=a;Ee!==null;)if(a=Ee,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Ee=s;else for(;Ee!==null;){a=Ee;try{var je=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(je!==null){var Te=je.memoizedProps,Dt=je.memoizedState,G=a.stateNode,W=G.getSnapshotBeforeUpdate(a.elementType===a.type?Te:On(a.type,Te),Dt);G.__reactInternalSnapshotBeforeUpdate=W}break;case 3:var Y=a.stateNode.containerInfo;Y.nodeType===1?Y.textContent="":Y.nodeType===9&&Y.documentElement&&Y.removeChild(Y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(pe){Tt(a,a.return,pe)}if(s=a.sibling,s!==null){s.return=a.return,Ee=s;break}Ee=a.return}return je=iv,iv=!1,je}function lc(s,a,c){var f=a.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&s)===s){var y=g.destroy;g.destroy=void 0,y!==void 0&&hp(a,c,y)}g=g.next}while(g!==f)}}function Ju(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&s)===s){var f=c.create;c.destroy=f()}c=c.next}while(c!==a)}}function fp(s){var a=s.ref;if(a!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof a=="function"?a(s):a.current=s}}function ov(s){var a=s.alternate;a!==null&&(s.alternate=null,ov(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[hs],delete a[Xl],delete a[Cf],delete a[WE],delete a[qE])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function av(s){return s.tag===5||s.tag===3||s.tag===4}function lv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||av(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function pp(s,a,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(s,a):c.insertBefore(s,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(s,c)):(a=c,a.appendChild(s)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Cu));else if(f!==4&&(s=s.child,s!==null))for(pp(s,a,c),s=s.sibling;s!==null;)pp(s,a,c),s=s.sibling}function mp(s,a,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(mp(s,a,c),s=s.sibling;s!==null;)mp(s,a,c),s=s.sibling}var cr=null,Ln=!1;function Ii(s,a,c){for(c=c.child;c!==null;)cv(s,a,c),c=c.sibling}function cv(s,a,c){if(Kr&&typeof Kr.onCommitFiberUnmount=="function")try{Kr.onCommitFiberUnmount(xo,c)}catch{}switch(c.tag){case 5:wr||Ma(c,a);case 6:var f=cr,g=Ln;cr=null,Ii(s,a,c),cr=f,Ln=g,cr!==null&&(Ln?(s=cr,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):cr.removeChild(c.stateNode));break;case 18:cr!==null&&(Ln?(s=cr,c=c.stateNode,s.nodeType===8?Tf(s.parentNode,c):s.nodeType===1&&Tf(s,c),bi(s)):Tf(cr,c.stateNode));break;case 4:f=cr,g=Ln,cr=c.stateNode.containerInfo,Ln=!0,Ii(s,a,c),cr=f,Ln=g;break;case 0:case 11:case 14:case 15:if(!wr&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var y=g,S=y.destroy;y=y.tag,S!==void 0&&((y&2)!==0||(y&4)!==0)&&hp(c,a,S),g=g.next}while(g!==f)}Ii(s,a,c);break;case 1:if(!wr&&(Ma(c,a),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(V){Tt(c,a,V)}Ii(s,a,c);break;case 21:Ii(s,a,c);break;case 22:c.mode&1?(wr=(f=wr)||c.memoizedState!==null,Ii(s,a,c),wr=f):Ii(s,a,c);break;default:Ii(s,a,c)}}function uv(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new lj),a.forEach(function(f){var g=vj.bind(null,s,f);c.has(f)||(c.add(f),f.then(g,g))})}}function Vn(s,a){var c=a.deletions;if(c!==null)for(var f=0;f<c.length;f++){var g=c[f];try{var y=s,S=a,V=S;e:for(;V!==null;){switch(V.tag){case 5:cr=V.stateNode,Ln=!1;break e;case 3:cr=V.stateNode.containerInfo,Ln=!0;break e;case 4:cr=V.stateNode.containerInfo,Ln=!0;break e}V=V.return}if(cr===null)throw Error(t(160));cv(y,S,g),cr=null,Ln=!1;var U=g.alternate;U!==null&&(U.return=null),g.return=null}catch(Q){Tt(g,a,Q)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)dv(a,s),a=a.sibling}function dv(s,a){var c=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Vn(a,s),ms(s),f&4){try{lc(3,s,s.return),Ju(3,s)}catch(Te){Tt(s,s.return,Te)}try{lc(5,s,s.return)}catch(Te){Tt(s,s.return,Te)}}break;case 1:Vn(a,s),ms(s),f&512&&c!==null&&Ma(c,c.return);break;case 5:if(Vn(a,s),ms(s),f&512&&c!==null&&Ma(c,c.return),s.flags&32){var g=s.stateNode;try{Pr(g,"")}catch(Te){Tt(s,s.return,Te)}}if(f&4&&(g=s.stateNode,g!=null)){var y=s.memoizedProps,S=c!==null?c.memoizedProps:y,V=s.type,U=s.updateQueue;if(s.updateQueue=null,U!==null)try{V==="input"&&y.type==="radio"&&y.name!=null&&Sr(g,y),mi(V,S);var Q=mi(V,y);for(S=0;S<U.length;S+=2){var ue=U[S],he=U[S+1];ue==="style"?fi(g,he):ue==="dangerouslySetInnerHTML"?hi(g,he):ue==="children"?Pr(g,he):F(g,ue,he,Q)}switch(V){case"input":ye(g,y);break;case"textarea":or(g,y);break;case"select":var ce=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!y.multiple;var we=y.value;we!=null?Zt(g,!!y.multiple,we,!1):ce!==!!y.multiple&&(y.defaultValue!=null?Zt(g,!!y.multiple,y.defaultValue,!0):Zt(g,!!y.multiple,y.multiple?[]:"",!1))}g[Xl]=y}catch(Te){Tt(s,s.return,Te)}}break;case 6:if(Vn(a,s),ms(s),f&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,y=s.memoizedProps;try{g.nodeValue=y}catch(Te){Tt(s,s.return,Te)}}break;case 3:if(Vn(a,s),ms(s),f&4&&c!==null&&c.memoizedState.isDehydrated)try{bi(a.containerInfo)}catch(Te){Tt(s,s.return,Te)}break;case 4:Vn(a,s),ms(s);break;case 13:Vn(a,s),ms(s),g=s.child,g.flags&8192&&(y=g.memoizedState!==null,g.stateNode.isHidden=y,!y||g.alternate!==null&&g.alternate.memoizedState!==null||(vp=gt())),f&4&&uv(s);break;case 22:if(ue=c!==null&&c.memoizedState!==null,s.mode&1?(wr=(Q=wr)||ue,Vn(a,s),wr=Q):Vn(a,s),ms(s),f&8192){if(Q=s.memoizedState!==null,(s.stateNode.isHidden=Q)&&!ue&&(s.mode&1)!==0)for(Ee=s,ue=s.child;ue!==null;){for(he=Ee=ue;Ee!==null;){switch(ce=Ee,we=ce.child,ce.tag){case 0:case 11:case 14:case 15:lc(4,ce,ce.return);break;case 1:Ma(ce,ce.return);var je=ce.stateNode;if(typeof je.componentWillUnmount=="function"){f=ce,c=ce.return;try{a=f,je.props=a.memoizedProps,je.state=a.memoizedState,je.componentWillUnmount()}catch(Te){Tt(f,c,Te)}}break;case 5:Ma(ce,ce.return);break;case 22:if(ce.memoizedState!==null){pv(he);continue}}we!==null?(we.return=ce,Ee=we):pv(he)}ue=ue.sibling}e:for(ue=null,he=s;;){if(he.tag===5){if(ue===null){ue=he;try{g=he.stateNode,Q?(y=g.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(V=he.stateNode,U=he.memoizedProps.style,S=U!=null&&U.hasOwnProperty("display")?U.display:null,V.style.display=Zn("display",S))}catch(Te){Tt(s,s.return,Te)}}}else if(he.tag===6){if(ue===null)try{he.stateNode.nodeValue=Q?"":he.memoizedProps}catch(Te){Tt(s,s.return,Te)}}else if((he.tag!==22&&he.tag!==23||he.memoizedState===null||he===s)&&he.child!==null){he.child.return=he,he=he.child;continue}if(he===s)break e;for(;he.sibling===null;){if(he.return===null||he.return===s)break e;ue===he&&(ue=null),he=he.return}ue===he&&(ue=null),he.sibling.return=he.return,he=he.sibling}}break;case 19:Vn(a,s),ms(s),f&4&&uv(s);break;case 21:break;default:Vn(a,s),ms(s)}}function ms(s){var a=s.flags;if(a&2){try{e:{for(var c=s.return;c!==null;){if(av(c)){var f=c;break e}c=c.return}throw Error(t(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(Pr(g,""),f.flags&=-33);var y=lv(s);mp(s,y,g);break;case 3:case 4:var S=f.stateNode.containerInfo,V=lv(s);pp(s,V,S);break;default:throw Error(t(161))}}catch(U){Tt(s,s.return,U)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function uj(s,a,c){Ee=s,hv(s)}function hv(s,a,c){for(var f=(s.mode&1)!==0;Ee!==null;){var g=Ee,y=g.child;if(g.tag===22&&f){var S=g.memoizedState!==null||Xu;if(!S){var V=g.alternate,U=V!==null&&V.memoizedState!==null||wr;V=Xu;var Q=wr;if(Xu=S,(wr=U)&&!Q)for(Ee=g;Ee!==null;)S=Ee,U=S.child,S.tag===22&&S.memoizedState!==null?mv(g):U!==null?(U.return=S,Ee=U):mv(g);for(;y!==null;)Ee=y,hv(y),y=y.sibling;Ee=g,Xu=V,wr=Q}fv(s)}else(g.subtreeFlags&8772)!==0&&y!==null?(y.return=g,Ee=y):fv(s)}}function fv(s){for(;Ee!==null;){var a=Ee;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:wr||Ju(5,a);break;case 1:var f=a.stateNode;if(a.flags&4&&!wr)if(c===null)f.componentDidMount();else{var g=a.elementType===a.type?c.memoizedProps:On(a.type,c.memoizedProps);f.componentDidUpdate(g,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var y=a.updateQueue;y!==null&&p0(a,y,f);break;case 3:var S=a.updateQueue;if(S!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}p0(a,S,c)}break;case 5:var V=a.stateNode;if(c===null&&a.flags&4){c=V;var U=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&c.focus();break;case"img":U.src&&(c.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Q=a.alternate;if(Q!==null){var ue=Q.memoizedState;if(ue!==null){var he=ue.dehydrated;he!==null&&bi(he)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}wr||a.flags&512&&fp(a)}catch(ce){Tt(a,a.return,ce)}}if(a===s){Ee=null;break}if(c=a.sibling,c!==null){c.return=a.return,Ee=c;break}Ee=a.return}}function pv(s){for(;Ee!==null;){var a=Ee;if(a===s){Ee=null;break}var c=a.sibling;if(c!==null){c.return=a.return,Ee=c;break}Ee=a.return}}function mv(s){for(;Ee!==null;){var a=Ee;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{Ju(4,a)}catch(U){Tt(a,c,U)}break;case 1:var f=a.stateNode;if(typeof f.componentDidMount=="function"){var g=a.return;try{f.componentDidMount()}catch(U){Tt(a,g,U)}}var y=a.return;try{fp(a)}catch(U){Tt(a,y,U)}break;case 5:var S=a.return;try{fp(a)}catch(U){Tt(a,S,U)}}}catch(U){Tt(a,a.return,U)}if(a===s){Ee=null;break}var V=a.sibling;if(V!==null){V.return=a.return,Ee=V;break}Ee=a.return}}var dj=Math.ceil,Zu=$.ReactCurrentDispatcher,gp=$.ReactCurrentOwner,vn=$.ReactCurrentBatchConfig,et=0,nr=null,Ut=null,ur=0,rn=0,Oa=ji(0),qt=0,cc=null,Po=0,ed=0,xp=0,uc=null,Vr=null,vp=0,La=1/0,Ys=null,td=!1,yp=null,Ai=null,rd=!1,Ri=null,nd=0,dc=0,bp=null,sd=-1,id=0;function Ir(){return(et&6)!==0?gt():sd!==-1?sd:sd=gt()}function Pi(s){return(s.mode&1)===0?1:(et&2)!==0&&ur!==0?ur&-ur:KE.transition!==null?(id===0&&(id=Rl()),id):(s=Je,s!==0||(s=window.event,s=s===void 0?16:ha(s.type)),s)}function $n(s,a,c,f){if(50<dc)throw dc=0,bp=null,Error(t(185));wo(s,c,f),((et&2)===0||s!==nr)&&(s===nr&&((et&2)===0&&(ed|=c),qt===4&&Di(s,ur)),$r(s,f),c===1&&et===0&&(a.mode&1)===0&&(La=gt()+500,Pu&&ki()))}function $r(s,a){var c=s.callbackNode;bo(s,a);var f=Os(s,s===nr?ur:0);if(f===0)c!==null&&ia(c),s.callbackNode=null,s.callbackPriority=0;else if(a=f&-f,s.callbackPriority!==a){if(c!=null&&ia(c),a===1)s.tag===0?GE(xv.bind(null,s)):r0(xv.bind(null,s)),zE(function(){(et&6)===0&&ki()}),c=null;else{switch(rs(f)){case 1:c=oa;break;case 4:c=Cl;break;case 16:c=go;break;case 536870912:c=aa;break;default:c=go}c=jv(c,gv.bind(null,s))}s.callbackPriority=a,s.callbackNode=c}}function gv(s,a){if(sd=-1,id=0,(et&6)!==0)throw Error(t(327));var c=s.callbackNode;if(Va()&&s.callbackNode!==c)return null;var f=Os(s,s===nr?ur:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||a)a=od(s,f);else{a=f;var g=et;et|=2;var y=yv();(nr!==s||ur!==a)&&(Ys=null,La=gt()+500,Mo(s,a));do try{pj();break}catch(V){vv(s,V)}while(!0);Vf(),Zu.current=y,et=g,Ut!==null?a=0:(nr=null,ur=0,a=qt)}if(a!==0){if(a===2&&(g=Al(s),g!==0&&(f=g,a=wp(s,g))),a===1)throw c=cc,Mo(s,0),Di(s,f),$r(s,gt()),c;if(a===6)Di(s,f);else{if(g=s.current.alternate,(f&30)===0&&!hj(g)&&(a=od(s,f),a===2&&(y=Al(s),y!==0&&(f=y,a=wp(s,y))),a===1))throw c=cc,Mo(s,0),Di(s,f),$r(s,gt()),c;switch(s.finishedWork=g,s.finishedLanes=f,a){case 0:case 1:throw Error(t(345));case 2:Oo(s,Vr,Ys);break;case 3:if(Di(s,f),(f&130023424)===f&&(a=vp+500-gt(),10<a)){if(Os(s,0)!==0)break;if(g=s.suspendedLanes,(g&f)!==f){Ir(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=kf(Oo.bind(null,s,Vr,Ys),a);break}Oo(s,Vr,Ys);break;case 4:if(Di(s,f),(f&4194240)===f)break;for(a=s.eventTimes,g=-1;0<f;){var S=31-Yr(f);y=1<<S,S=a[S],S>g&&(g=S),f&=~y}if(f=g,f=gt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*dj(f/1960))-f,10<f){s.timeoutHandle=kf(Oo.bind(null,s,Vr,Ys),f);break}Oo(s,Vr,Ys);break;case 5:Oo(s,Vr,Ys);break;default:throw Error(t(329))}}}return $r(s,gt()),s.callbackNode===c?gv.bind(null,s):null}function wp(s,a){var c=uc;return s.current.memoizedState.isDehydrated&&(Mo(s,a).flags|=256),s=od(s,a),s!==2&&(a=Vr,Vr=c,a!==null&&_p(a)),s}function _p(s){Vr===null?Vr=s:Vr.push.apply(Vr,s)}function hj(s){for(var a=s;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var g=c[f],y=g.getSnapshot;g=g.value;try{if(!Dn(y(),g))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Di(s,a){for(a&=~xp,a&=~ed,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var c=31-Yr(a),f=1<<c;s[c]=-1,a&=~f}}function xv(s){if((et&6)!==0)throw Error(t(327));Va();var a=Os(s,0);if((a&1)===0)return $r(s,gt()),null;var c=od(s,a);if(s.tag!==0&&c===2){var f=Al(s);f!==0&&(a=f,c=wp(s,f))}if(c===1)throw c=cc,Mo(s,0),Di(s,a),$r(s,gt()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Oo(s,Vr,Ys),$r(s,gt()),null}function Np(s,a){var c=et;et|=1;try{return s(a)}finally{et=c,et===0&&(La=gt()+500,Pu&&ki())}}function Do(s){Ri!==null&&Ri.tag===0&&(et&6)===0&&Va();var a=et;et|=1;var c=vn.transition,f=Je;try{if(vn.transition=null,Je=1,s)return s()}finally{Je=f,vn.transition=c,et=a,(et&6)===0&&ki()}}function Ep(){rn=Oa.current,vt(Oa)}function Mo(s,a){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,BE(c)),Ut!==null)for(c=Ut.return;c!==null;){var f=c;switch(Pf(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Au();break;case 3:Pa(),vt(Mr),vt(vr),qf();break;case 5:Hf(f);break;case 4:Pa();break;case 13:vt(_t);break;case 19:vt(_t);break;case 10:$f(f.type._context);break;case 22:case 23:Ep()}c=c.return}if(nr=s,Ut=s=Mi(s.current,null),ur=rn=a,qt=0,cc=null,xp=ed=Po=0,Vr=uc=null,Io!==null){for(a=0;a<Io.length;a++)if(c=Io[a],f=c.interleaved,f!==null){c.interleaved=null;var g=f.next,y=c.pending;if(y!==null){var S=y.next;y.next=g,f.next=S}c.pending=f}Io=null}return s}function vv(s,a){do{var c=Ut;try{if(Vf(),zu.current=Gu,Hu){for(var f=Nt.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}Hu=!1}if(Ro=0,rr=Wt=Nt=null,nc=!1,sc=0,gp.current=null,c===null||c.return===null){qt=1,cc=a,Ut=null;break}e:{var y=s,S=c.return,V=c,U=a;if(a=ur,V.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var Q=U,ue=V,he=ue.tag;if((ue.mode&1)===0&&(he===0||he===11||he===15)){var ce=ue.alternate;ce?(ue.updateQueue=ce.updateQueue,ue.memoizedState=ce.memoizedState,ue.lanes=ce.lanes):(ue.updateQueue=null,ue.memoizedState=null)}var we=z0(S);if(we!==null){we.flags&=-257,H0(we,S,V,y,a),we.mode&1&&B0(y,Q,a),a=we,U=Q;var je=a.updateQueue;if(je===null){var Te=new Set;Te.add(U),a.updateQueue=Te}else je.add(U);break e}else{if((a&1)===0){B0(y,Q,a),jp();break e}U=Error(t(426))}}else if(wt&&V.mode&1){var Dt=z0(S);if(Dt!==null){(Dt.flags&65536)===0&&(Dt.flags|=256),H0(Dt,S,V,y,a),Of(Da(U,V));break e}}y=U=Da(U,V),qt!==4&&(qt=2),uc===null?uc=[y]:uc.push(y),y=S;do{switch(y.tag){case 3:y.flags|=65536,a&=-a,y.lanes|=a;var G=F0(y,U,a);f0(y,G);break e;case 1:V=U;var W=y.type,Y=y.stateNode;if((y.flags&128)===0&&(typeof W.getDerivedStateFromError=="function"||Y!==null&&typeof Y.componentDidCatch=="function"&&(Ai===null||!Ai.has(Y)))){y.flags|=65536,a&=-a,y.lanes|=a;var pe=U0(y,V,a);f0(y,pe);break e}}y=y.return}while(y!==null)}wv(c)}catch(Ie){a=Ie,Ut===c&&c!==null&&(Ut=c=c.return);continue}break}while(!0)}function yv(){var s=Zu.current;return Zu.current=Gu,s===null?Gu:s}function jp(){(qt===0||qt===3||qt===2)&&(qt=4),nr===null||(Po&268435455)===0&&(ed&268435455)===0||Di(nr,ur)}function od(s,a){var c=et;et|=2;var f=yv();(nr!==s||ur!==a)&&(Ys=null,Mo(s,a));do try{fj();break}catch(g){vv(s,g)}while(!0);if(Vf(),et=c,Zu.current=f,Ut!==null)throw Error(t(261));return nr=null,ur=0,qt}function fj(){for(;Ut!==null;)bv(Ut)}function pj(){for(;Ut!==null&&!mo();)bv(Ut)}function bv(s){var a=Ev(s.alternate,s,rn);s.memoizedProps=s.pendingProps,a===null?wv(s):Ut=a,gp.current=null}function wv(s){var a=s;do{var c=a.alternate;if(s=a.return,(a.flags&32768)===0){if(c=oj(c,a,rn),c!==null){Ut=c;return}}else{if(c=aj(c,a),c!==null){c.flags&=32767,Ut=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{qt=6,Ut=null;return}}if(a=a.sibling,a!==null){Ut=a;return}Ut=a=s}while(a!==null);qt===0&&(qt=5)}function Oo(s,a,c){var f=Je,g=vn.transition;try{vn.transition=null,Je=1,mj(s,a,c,f)}finally{vn.transition=g,Je=f}return null}function mj(s,a,c,f){do Va();while(Ri!==null);if((et&6)!==0)throw Error(t(327));c=s.finishedWork;var g=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var y=c.lanes|c.childLanes;if(df(s,y),s===nr&&(Ut=nr=null,ur=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||rd||(rd=!0,jv(go,function(){return Va(),null})),y=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||y){y=vn.transition,vn.transition=null;var S=Je;Je=1;var V=et;et|=4,gp.current=null,cj(s,c),dv(c,s),ME(jf),$s=!!Ef,jf=Ef=null,s.current=c,uj(c),Ms(),et=V,Je=S,vn.transition=y}else s.current=c;if(rd&&(rd=!1,Ri=s,nd=g),y=s.pendingLanes,y===0&&(Ai=null),fu(c.stateNode),$r(s,gt()),a!==null)for(f=s.onRecoverableError,c=0;c<a.length;c++)g=a[c],f(g.value,{componentStack:g.stack,digest:g.digest});if(td)throw td=!1,s=yp,yp=null,s;return(nd&1)!==0&&s.tag!==0&&Va(),y=s.pendingLanes,(y&1)!==0?s===bp?dc++:(dc=0,bp=s):dc=0,ki(),null}function Va(){if(Ri!==null){var s=rs(nd),a=vn.transition,c=Je;try{if(vn.transition=null,Je=16>s?16:s,Ri===null)var f=!1;else{if(s=Ri,Ri=null,nd=0,(et&6)!==0)throw Error(t(331));var g=et;for(et|=4,Ee=s.current;Ee!==null;){var y=Ee,S=y.child;if((Ee.flags&16)!==0){var V=y.deletions;if(V!==null){for(var U=0;U<V.length;U++){var Q=V[U];for(Ee=Q;Ee!==null;){var ue=Ee;switch(ue.tag){case 0:case 11:case 15:lc(8,ue,y)}var he=ue.child;if(he!==null)he.return=ue,Ee=he;else for(;Ee!==null;){ue=Ee;var ce=ue.sibling,we=ue.return;if(ov(ue),ue===Q){Ee=null;break}if(ce!==null){ce.return=we,Ee=ce;break}Ee=we}}}var je=y.alternate;if(je!==null){var Te=je.child;if(Te!==null){je.child=null;do{var Dt=Te.sibling;Te.sibling=null,Te=Dt}while(Te!==null)}}Ee=y}}if((y.subtreeFlags&2064)!==0&&S!==null)S.return=y,Ee=S;else e:for(;Ee!==null;){if(y=Ee,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:lc(9,y,y.return)}var G=y.sibling;if(G!==null){G.return=y.return,Ee=G;break e}Ee=y.return}}var W=s.current;for(Ee=W;Ee!==null;){S=Ee;var Y=S.child;if((S.subtreeFlags&2064)!==0&&Y!==null)Y.return=S,Ee=Y;else e:for(S=W;Ee!==null;){if(V=Ee,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:Ju(9,V)}}catch(Ie){Tt(V,V.return,Ie)}if(V===S){Ee=null;break e}var pe=V.sibling;if(pe!==null){pe.return=V.return,Ee=pe;break e}Ee=V.return}}if(et=g,ki(),Kr&&typeof Kr.onPostCommitFiberRoot=="function")try{Kr.onPostCommitFiberRoot(xo,s)}catch{}f=!0}return f}finally{Je=c,vn.transition=a}}return!1}function _v(s,a,c){a=Da(c,a),a=F0(s,a,1),s=Ci(s,a,1),a=Ir(),s!==null&&(wo(s,1,a),$r(s,a))}function Tt(s,a,c){if(s.tag===3)_v(s,s,c);else for(;a!==null;){if(a.tag===3){_v(a,s,c);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ai===null||!Ai.has(f))){s=Da(c,s),s=U0(a,s,1),a=Ci(a,s,1),s=Ir(),a!==null&&(wo(a,1,s),$r(a,s));break}}a=a.return}}function gj(s,a,c){var f=s.pingCache;f!==null&&f.delete(a),a=Ir(),s.pingedLanes|=s.suspendedLanes&c,nr===s&&(ur&c)===c&&(qt===4||qt===3&&(ur&130023424)===ur&&500>gt()-vp?Mo(s,0):xp|=c),$r(s,a)}function Nv(s,a){a===0&&((s.mode&1)===0?a=1:(a=xi,xi<<=1,(xi&130023424)===0&&(xi=4194304)));var c=Ir();s=qs(s,a),s!==null&&(wo(s,a,c),$r(s,c))}function xj(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),Nv(s,c)}function vj(s,a){var c=0;switch(s.tag){case 13:var f=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(a),Nv(s,c)}var Ev;Ev=function(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps||Mr.current)Lr=!0;else{if((s.lanes&c)===0&&(a.flags&128)===0)return Lr=!1,ij(s,a,c);Lr=(s.flags&131072)!==0}else Lr=!1,wt&&(a.flags&1048576)!==0&&n0(a,Mu,a.index);switch(a.lanes=0,a.tag){case 2:var f=a.type;Qu(s,a),s=a.pendingProps;var g=Sa(a,vr.current);Ra(a,c),g=Yf(null,a,f,s,g,c);var y=Qf();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Or(f)?(y=!0,Ru(a)):y=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Bf(a),g.updater=Ku,a.stateNode=g,g._reactInternals=a,rp(a,f,s,c),a=op(null,a,f,!0,y,c)):(a.tag=0,wt&&y&&Rf(a),Cr(null,a,g,c),a=a.child),a;case 16:f=a.elementType;e:{switch(Qu(s,a),s=a.pendingProps,g=f._init,f=g(f._payload),a.type=f,g=a.tag=bj(f),s=On(f,s),g){case 0:a=ip(null,a,f,s,c);break e;case 1:a=Q0(null,a,f,s,c);break e;case 11:a=W0(null,a,f,s,c);break e;case 14:a=q0(null,a,f,On(f.type,s),c);break e}throw Error(t(306,f,""))}return a;case 0:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:On(f,g),ip(s,a,f,g,c);case 1:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:On(f,g),Q0(s,a,f,g,c);case 3:e:{if(X0(a),s===null)throw Error(t(387));f=a.pendingProps,y=a.memoizedState,g=y.element,h0(s,a),Uu(a,f,null,c);var S=a.memoizedState;if(f=S.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){g=Da(Error(t(423)),a),a=J0(s,a,f,c,g);break e}else if(f!==g){g=Da(Error(t(424)),a),a=J0(s,a,f,c,g);break e}else for(tn=Ei(a.stateNode.containerInfo.firstChild),en=a,wt=!0,Mn=null,c=u0(a,null,f,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ca(),f===g){a=Ks(s,a,c);break e}Cr(s,a,f,c)}a=a.child}return a;case 5:return m0(a),s===null&&Mf(a),f=a.type,g=a.pendingProps,y=s!==null?s.memoizedProps:null,S=g.children,Sf(f,g)?S=null:y!==null&&Sf(f,y)&&(a.flags|=32),Y0(s,a),Cr(s,a,S,c),a.child;case 6:return s===null&&Mf(a),null;case 13:return Z0(s,a,c);case 4:return zf(a,a.stateNode.containerInfo),f=a.pendingProps,s===null?a.child=Ia(a,null,f,c):Cr(s,a,f,c),a.child;case 11:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:On(f,g),W0(s,a,f,g,c);case 7:return Cr(s,a,a.pendingProps,c),a.child;case 8:return Cr(s,a,a.pendingProps.children,c),a.child;case 12:return Cr(s,a,a.pendingProps.children,c),a.child;case 10:e:{if(f=a.type._context,g=a.pendingProps,y=a.memoizedProps,S=g.value,ht(Vu,f._currentValue),f._currentValue=S,y!==null)if(Dn(y.value,S)){if(y.children===g.children&&!Mr.current){a=Ks(s,a,c);break e}}else for(y=a.child,y!==null&&(y.return=a);y!==null;){var V=y.dependencies;if(V!==null){S=y.child;for(var U=V.firstContext;U!==null;){if(U.context===f){if(y.tag===1){U=Gs(-1,c&-c),U.tag=2;var Q=y.updateQueue;if(Q!==null){Q=Q.shared;var ue=Q.pending;ue===null?U.next=U:(U.next=ue.next,ue.next=U),Q.pending=U}}y.lanes|=c,U=y.alternate,U!==null&&(U.lanes|=c),Ff(y.return,c,a),V.lanes|=c;break}U=U.next}}else if(y.tag===10)S=y.type===a.type?null:y.child;else if(y.tag===18){if(S=y.return,S===null)throw Error(t(341));S.lanes|=c,V=S.alternate,V!==null&&(V.lanes|=c),Ff(S,c,a),S=y.sibling}else S=y.child;if(S!==null)S.return=y;else for(S=y;S!==null;){if(S===a){S=null;break}if(y=S.sibling,y!==null){y.return=S.return,S=y;break}S=S.return}y=S}Cr(s,a,g.children,c),a=a.child}return a;case 9:return g=a.type,f=a.pendingProps.children,Ra(a,c),g=gn(g),f=f(g),a.flags|=1,Cr(s,a,f,c),a.child;case 14:return f=a.type,g=On(f,a.pendingProps),g=On(f.type,g),q0(s,a,f,g,c);case 15:return G0(s,a,a.type,a.pendingProps,c);case 17:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:On(f,g),Qu(s,a),a.tag=1,Or(f)?(s=!0,Ru(a)):s=!1,Ra(a,c),V0(a,f,g),rp(a,f,g,c),op(null,a,f,!0,s,c);case 19:return tv(s,a,c);case 22:return K0(s,a,c)}throw Error(t(156,a.tag))};function jv(s,a){return Tl(s,a)}function yj(s,a,c,f){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(s,a,c,f){return new yj(s,a,c,f)}function Sp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function bj(s){if(typeof s=="function")return Sp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===D)return 11;if(s===le)return 14}return 2}function Mi(s,a){var c=s.alternate;return c===null?(c=yn(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function ad(s,a,c,f,g,y){var S=2;if(f=s,typeof s=="function")Sp(s)&&(S=1);else if(typeof s=="string")S=5;else e:switch(s){case A:return Lo(c.children,g,y,a);case E:S=8,g|=8;break;case C:return s=yn(12,c,a,g|2),s.elementType=C,s.lanes=y,s;case R:return s=yn(13,c,a,g),s.elementType=R,s.lanes=y,s;case ge:return s=yn(19,c,a,g),s.elementType=ge,s.lanes=y,s;case re:return ld(c,g,y,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case O:S=10;break e;case L:S=9;break e;case D:S=11;break e;case le:S=14;break e;case Z:S=16,f=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=yn(S,c,a,g),a.elementType=s,a.type=f,a.lanes=y,a}function Lo(s,a,c,f){return s=yn(7,s,f,a),s.lanes=c,s}function ld(s,a,c,f){return s=yn(22,s,f,a),s.elementType=re,s.lanes=c,s.stateNode={isHidden:!1},s}function kp(s,a,c){return s=yn(6,s,null,a),s.lanes=c,s}function Tp(s,a,c){return a=yn(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function wj(s,a,c,f,g){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pl(0),this.expirationTimes=Pl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pl(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Cp(s,a,c,f,g,y,S,V,U){return s=new wj(s,a,c,V,U),a===1?(a=1,y===!0&&(a|=8)):a=0,y=yn(3,null,null,a),s.current=y,y.stateNode=s,y.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bf(y),s}function _j(s,a,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:J,key:f==null?null:""+f,children:s,containerInfo:a,implementation:c}}function Sv(s){if(!s)return Si;s=s._reactInternals;e:{if(Rn(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Or(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(Or(c))return e0(s,c,a)}return a}function kv(s,a,c,f,g,y,S,V,U){return s=Cp(c,f,!0,s,g,y,S,V,U),s.context=Sv(null),c=s.current,f=Ir(),g=Pi(c),y=Gs(f,g),y.callback=a??null,Ci(c,y,g),s.current.lanes=g,wo(s,g,f),$r(s,f),s}function cd(s,a,c,f){var g=a.current,y=Ir(),S=Pi(g);return c=Sv(c),a.context===null?a.context=c:a.pendingContext=c,a=Gs(y,S),a.payload={element:s},f=f===void 0?null:f,f!==null&&(a.callback=f),s=Ci(g,a,S),s!==null&&($n(s,g,S,y),Fu(s,g,S)),S}function ud(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Tv(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function Ip(s,a){Tv(s,a),(s=s.alternate)&&Tv(s,a)}function Nj(){return null}var Cv=typeof reportError=="function"?reportError:function(s){console.error(s)};function Ap(s){this._internalRoot=s}dd.prototype.render=Ap.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));cd(s,a,null,null)},dd.prototype.unmount=Ap.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Do(function(){cd(null,s,null,null)}),a[Bs]=null}};function dd(s){this._internalRoot=s}dd.prototype.unstable_scheduleHydration=function(s){if(s){var a=Ll();s={blockedOn:null,target:s,priority:a};for(var c=0;c<Qr.length&&a!==0&&a<Qr[c].priority;c++);Qr.splice(c,0,s),c===0&&ua(s)}};function Rp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function hd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Iv(){}function Ej(s,a,c,f,g){if(g){if(typeof f=="function"){var y=f;f=function(){var Q=ud(S);y.call(Q)}}var S=kv(a,f,s,0,null,!1,!1,"",Iv);return s._reactRootContainer=S,s[Bs]=S.current,Yl(s.nodeType===8?s.parentNode:s),Do(),S}for(;g=s.lastChild;)s.removeChild(g);if(typeof f=="function"){var V=f;f=function(){var Q=ud(U);V.call(Q)}}var U=Cp(s,0,!1,null,null,!1,!1,"",Iv);return s._reactRootContainer=U,s[Bs]=U.current,Yl(s.nodeType===8?s.parentNode:s),Do(function(){cd(a,U,c,f)}),U}function fd(s,a,c,f,g){var y=c._reactRootContainer;if(y){var S=y;if(typeof g=="function"){var V=g;g=function(){var U=ud(S);V.call(U)}}cd(a,S,s,g)}else S=Ej(c,a,s,g,f);return ud(S)}Ml=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var c=rt(a.pendingLanes);c!==0&&(Dl(a,c|1),$r(a,gt()),(et&6)===0&&(La=gt()+500,ki()))}break;case 13:Do(function(){var f=qs(s,1);if(f!==null){var g=Ir();$n(f,s,1,g)}}),Ip(s,1)}},la=function(s){if(s.tag===13){var a=qs(s,134217728);if(a!==null){var c=Ir();$n(a,s,134217728,c)}Ip(s,134217728)}},Ol=function(s){if(s.tag===13){var a=Pi(s),c=qs(s,a);if(c!==null){var f=Ir();$n(c,s,a,f)}Ip(s,a)}},Ll=function(){return Je},Vl=function(s,a){var c=Je;try{return Je=s,a()}finally{Je=c}},In=function(s,a,c){switch(a){case"input":if(ye(s,c),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var f=c[a];if(f!==s&&f.form===s.form){var g=Iu(f);if(!g)throw Error(t(90));He(f),ye(f,g)}}}break;case"textarea":or(s,c);break;case"select":a=c.value,a!=null&&Zt(s,!!c.multiple,a,!1)}},Rt=Np,er=Do;var jj={usingClientEntryPoint:!1,Events:[Jl,Ea,Iu,Oe,ut,Np]},hc={findFiberByHostInstance:So,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Sj={bundleType:hc.bundleType,version:hc.version,rendererPackageName:hc.rendererPackageName,rendererConfig:hc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=hu(s),s===null?null:s.stateNode},findFiberByHostInstance:hc.findFiberByHostInstance||Nj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pd.isDisabled&&pd.supportsFiber)try{xo=pd.inject(Sj),Kr=pd}catch{}}return Fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jj,Fr.createPortal=function(s,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rp(a))throw Error(t(200));return _j(s,a,null,c)},Fr.createRoot=function(s,a){if(!Rp(s))throw Error(t(299));var c=!1,f="",g=Cv;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=Cp(s,1,!1,null,null,c,!1,f,g),s[Bs]=a.current,Yl(s.nodeType===8?s.parentNode:s),new Ap(a)},Fr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=hu(a),s=s===null?null:s.stateNode,s},Fr.flushSync=function(s){return Do(s)},Fr.hydrate=function(s,a,c){if(!hd(a))throw Error(t(200));return fd(null,s,a,!0,c)},Fr.hydrateRoot=function(s,a,c){if(!Rp(s))throw Error(t(405));var f=c!=null&&c.hydratedSources||null,g=!1,y="",S=Cv;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onRecoverableError!==void 0&&(S=c.onRecoverableError)),a=kv(a,null,s,1,c??null,g,!1,y,S),s[Bs]=a.current,Yl(s),f)for(s=0;s<f.length;s++)c=f[s],g=c._getVersion,g=g(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,g]:a.mutableSourceEagerHydrationData.push(c,g);return new dd(a)},Fr.render=function(s,a,c){if(!hd(a))throw Error(t(200));return fd(null,s,a,!1,c)},Fr.unmountComponentAtNode=function(s){if(!hd(s))throw Error(t(40));return s._reactRootContainer?(Do(function(){fd(null,null,s,!1,function(){s._reactRootContainer=null,s[Bs]=null})}),!0):!1},Fr.unstable_batchedUpdates=Np,Fr.unstable_renderSubtreeIntoContainer=function(s,a,c,f){if(!hd(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return fd(s,a,c,!1,f)},Fr.version="18.3.1-next-f1338f8080-20240426",Fr}var Vv;function vw(){if(Vv)return Mp.exports;Vv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Mp.exports=Dj(),Mp.exports}var $v;function Mj(){if($v)return md;$v=1;var r=vw();return md.createRoot=r.createRoot,md.hydrateRoot=r.hydrateRoot,md}var Oj=Mj(),N=Eh();const me=xw(N),tg=Tj({__proto__:null,default:me},[N]);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Vj=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),Fv=r=>{const e=Vj(r);return e.charAt(0).toUpperCase()+e.slice(1)},yw=(...r)=>r.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $j={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=N.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:o="",children:l,iconNode:u,...h},p)=>N.createElement("svg",{ref:p,...$j,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:yw("lucide",o),...h},[...u.map(([m,v])=>N.createElement(m,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=(r,e)=>{const t=N.forwardRef(({className:n,...o},l)=>N.createElement(Fj,{ref:l,iconNode:e,className:yw(`lucide-${Lj(Fv(r))}`,`lucide-${r}`,n),...o}));return t.displayName=Fv(r),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=[["path",{d:"M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3",key:"irtipd"}],["path",{d:"M3 16a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"1qyhux"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]],Md=Ce("armchair",Uj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],Et=Ce("arrow-left-right",Bj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],bt=Ce("arrow-left",zj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]],bw=Ce("beaker",Hj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],tl=Ce("bell",Wj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],hm=Ce("book-open",qj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Kj=Ce("briefcase",Gj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],jh=Ce("calendar",Yj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],ww=Ce("camera",Qj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],Jj=Ce("check-check",Xj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],_w=Ce("check",Zj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],rg=Ce("chevron-down",eS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],rS=Ce("chevron-left",tS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ng=Ce("chevron-right",nS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Nw=Ce("chevron-up",sS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],En=Ce("circle-check-big",iS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],aS=Ce("circle-help",oS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Hc=Ce("clock",lS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Kt=Ce("coins",cS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Yd=Ce("eye-off",uS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ho=Ce("eye",dS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Ew=Ce("globe",hS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],pS=Ce("graduation-cap",fS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],sg=Ce("grid-3x3",mS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Uo=Ce("house",gS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],vS=Ce("image",xS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],bS=Ce("info",yS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],_S=Ce("instagram",wS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]],jw=Ce("laptop",NS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],jS=Ce("lightbulb",ES);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],kS=Ce("linkedin",SS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],ig=Ce("list",TS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],IS=Ce("lock",CS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],an=Ce("map-pin",AS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],PS=Ce("menu",RS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],MS=Ce("message-circle",DS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Sw=Ce("message-square",OS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],VS=Ce("moon",LS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],FS=Ce("music",$S);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],bs=Ce("package",US);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]],kw=Ce("paintbrush",BS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],HS=Ce("party-popper",zS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Zs=Ce("plus",WS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]],GS=Ce("recycle",qS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Tw=Ce("save",KS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Zo=Ce("search",YS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],XS=Ce("send",QS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ZS=Ce("settings",JS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Hn=Ce("shield",ek);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],fm=Ce("shirt",tk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],nk=Ce("shopping-bag",rk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],ik=Ce("sparkles",sk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Cw=Ce("star",ok);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],lk=Ce("target",ak);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Iw=Ce("trending-up",ck);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Uv=Ce("triangle-alert",uk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Aw=Ce("upload",dk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],fk=Ce("user-x",hk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],pm=Ce("user",pk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Rr=Ce("users",mk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],Rw=Ce("utensils-crossed",gk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Sn=Ce("x",xk);function vk({value:r,onChange:e}){return i.jsx("div",{className:"relative backdrop-blur-xl bg-white/60 border border-white/60 rounded-full p-1 shadow-sm",children:i.jsxs("div",{className:"relative flex items-center",children:[i.jsx("div",{className:`absolute top-1 h-[calc(100%-8px)] w-[calc(50%-4px)] rounded-full bg-gradient-to-br from-purple-500 to-purple-600 shadow-md transition-all duration-300 ${r==="credits"?"left-1":"left-[calc(50%+3px)]"}`,style:{boxShadow:"0 4px 12px rgba(139, 92, 246, 0.3)"}}),i.jsxs("button",{onClick:()=>e("credits"),className:"relative z-10 flex-1 flex items-center justify-center gap-2 px-4 py-2.5 transition-all",children:[i.jsx(Kt,{className:`w-4 h-4 transition-colors ${r==="credits"?"text-white":"text-[#555]"}`}),i.jsx("span",{className:`text-sm font-medium transition-all ${r==="credits"?"text-white font-semibold":"text-[#555] opacity-60"}`,children:"Credits"})]}),i.jsxs("button",{onClick:()=>e("trade"),className:"relative z-10 flex-1 flex items-center justify-center gap-2 px-4 py-2.5 transition-all",children:[i.jsx(Et,{className:`w-4 h-4 transition-colors ${r==="trade"?"text-white":"text-[#555]"}`}),i.jsx("span",{className:`text-sm font-medium transition-all ${r==="trade"?"text-white font-semibold":"text-[#555] opacity-60"}`,children:"Trade"})]})]})})}function Bv(r,e){if(typeof r=="function")return r(e);r!=null&&(r.current=e)}function Wc(...r){return e=>{let t=!1;const n=r.map(o=>{const l=Bv(o,e);return!t&&typeof l=="function"&&(t=!0),l});if(t)return()=>{for(let o=0;o<n.length;o++){const l=n[o];typeof l=="function"?l():Bv(r[o],null)}}}}function Ot(...r){return N.useCallback(Wc(...r),r)}var yk=Symbol.for("react.lazy"),Qd=tg[" use ".trim().toString()];function bk(r){return typeof r=="object"&&r!==null&&"then"in r}function Pw(r){return r!=null&&typeof r=="object"&&"$$typeof"in r&&r.$$typeof===yk&&"_payload"in r&&bk(r._payload)}function og(r){const e=wk(r),t=N.forwardRef((n,o)=>{let{children:l,...u}=n;Pw(l)&&typeof Qd=="function"&&(l=Qd(l._payload));const h=N.Children.toArray(l),p=h.find(Nk);if(p){const m=p.props.children,v=h.map(x=>x===p?N.Children.count(m)>1?N.Children.only(null):N.isValidElement(m)?m.props.children:null:x);return i.jsx(e,{...u,ref:o,children:N.isValidElement(m)?N.cloneElement(m,void 0,v):null})}return i.jsx(e,{...u,ref:o,children:l})});return t.displayName=`${r}.Slot`,t}var Dw=og("Slot");function wk(r){const e=N.forwardRef((t,n)=>{let{children:o,...l}=t;if(Pw(o)&&typeof Qd=="function"&&(o=Qd(o._payload)),N.isValidElement(o)){const u=jk(o),h=Ek(l,o.props);return o.type!==N.Fragment&&(h.ref=n?Wc(n,u):u),N.cloneElement(o,h)}return N.Children.count(o)>1?N.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var _k=Symbol("radix.slottable");function Nk(r){return N.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===_k}function Ek(r,e){const t={...e};for(const n in e){const o=r[n],l=e[n];/^on[A-Z]/.test(n)?o&&l?t[n]=(...h)=>{const p=l(...h);return o(...h),p}:o&&(t[n]=o):n==="style"?t[n]={...o,...l}:n==="className"&&(t[n]=[o,l].filter(Boolean).join(" "))}return{...r,...t}}function jk(r){let e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}function Mw(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(t=Mw(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function Ow(){for(var r,e,t=0,n="",o=arguments.length;t<o;t++)(r=arguments[t])&&(e=Mw(r))&&(n&&(n+=" "),n+=e);return n}const zv=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,Hv=Ow,Lw=(r,e)=>t=>{var n;if(e?.variants==null)return Hv(r,t?.class,t?.className);const{variants:o,defaultVariants:l}=e,u=Object.keys(o).map(m=>{const v=t?.[m],x=l?.[m];if(v===null)return null;const w=zv(v)||zv(x);return o[m][w]}),h=t&&Object.entries(t).reduce((m,v)=>{let[x,w]=v;return w===void 0||(m[x]=w),m},{}),p=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((m,v)=>{let{class:x,className:w,...k}=v;return Object.entries(k).every(P=>{let[j,T]=P;return Array.isArray(T)?T.includes({...l,...h}[j]):{...l,...h}[j]===T})?[...m,x,w]:m},[]);return Hv(r,u,p,t?.class,t?.className)},Sk=(r,e)=>{const t=new Array(r.length+e.length);for(let n=0;n<r.length;n++)t[n]=r[n];for(let n=0;n<e.length;n++)t[r.length+n]=e[n];return t},kk=(r,e)=>({classGroupId:r,validator:e}),Vw=(r=new Map,e=null,t)=>({nextPart:r,validators:e,classGroupId:t}),Xd="-",Wv=[],Tk="arbitrary..",Ck=r=>{const e=Ak(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:n}=r;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return Ik(u);const h=u.split(Xd),p=h[0]===""&&h.length>1?1:0;return $w(h,p,e)},getConflictingClassGroupIds:(u,h)=>{if(h){const p=n[u],m=t[u];return p?m?Sk(m,p):p:m||Wv}return t[u]||Wv}}},$w=(r,e,t)=>{if(r.length-e===0)return t.classGroupId;const o=r[e],l=t.nextPart.get(o);if(l){const m=$w(r,e+1,l);if(m)return m}const u=t.validators;if(u===null)return;const h=e===0?r.join(Xd):r.slice(e).join(Xd),p=u.length;for(let m=0;m<p;m++){const v=u[m];if(v.validator(h))return v.classGroupId}},Ik=r=>r.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=r.slice(1,-1),t=e.indexOf(":"),n=e.slice(0,t);return n?Tk+n:void 0})(),Ak=r=>{const{theme:e,classGroups:t}=r;return Rk(t,e)},Rk=(r,e)=>{const t=Vw();for(const n in r){const o=r[n];ag(o,t,n,e)}return t},ag=(r,e,t,n)=>{const o=r.length;for(let l=0;l<o;l++){const u=r[l];Pk(u,e,t,n)}},Pk=(r,e,t,n)=>{if(typeof r=="string"){Dk(r,e,t);return}if(typeof r=="function"){Mk(r,e,t,n);return}Ok(r,e,t,n)},Dk=(r,e,t)=>{const n=r===""?e:Fw(e,r);n.classGroupId=t},Mk=(r,e,t,n)=>{if(Lk(r)){ag(r(n),e,t,n);return}e.validators===null&&(e.validators=[]),e.validators.push(kk(t,r))},Ok=(r,e,t,n)=>{const o=Object.entries(r),l=o.length;for(let u=0;u<l;u++){const[h,p]=o[u];ag(p,Fw(e,h),t,n)}},Fw=(r,e)=>{let t=r;const n=e.split(Xd),o=n.length;for(let l=0;l<o;l++){const u=n[l];let h=t.nextPart.get(u);h||(h=Vw(),t.nextPart.set(u,h)),t=h}return t},Lk=r=>"isThemeGetter"in r&&r.isThemeGetter===!0,Vk=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),n=Object.create(null);const o=(l,u)=>{t[l]=u,e++,e>r&&(e=0,n=t,t=Object.create(null))};return{get(l){let u=t[l];if(u!==void 0)return u;if((u=n[l])!==void 0)return o(l,u),u},set(l,u){l in t?t[l]=u:o(l,u)}}},mm="!",qv=":",$k=[],Gv=(r,e,t,n,o)=>({modifiers:r,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:n,isExternal:o}),Fk=r=>{const{prefix:e,experimentalParseClassName:t}=r;let n=o=>{const l=[];let u=0,h=0,p=0,m;const v=o.length;for(let j=0;j<v;j++){const T=o[j];if(u===0&&h===0){if(T===qv){l.push(o.slice(p,j)),p=j+1;continue}if(T==="/"){m=j;continue}}T==="["?u++:T==="]"?u--:T==="("?h++:T===")"&&h--}const x=l.length===0?o:o.slice(p);let w=x,k=!1;x.endsWith(mm)?(w=x.slice(0,-1),k=!0):x.startsWith(mm)&&(w=x.slice(1),k=!0);const P=m&&m>p?m-p:void 0;return Gv(l,k,w,P)};if(e){const o=e+qv,l=n;n=u=>u.startsWith(o)?l(u.slice(o.length)):Gv($k,!1,u,void 0,!0)}if(t){const o=n;n=l=>t({className:l,parseClassName:o})}return n},Uk=r=>{const e=new Map;return r.orderSensitiveModifiers.forEach((t,n)=>{e.set(t,1e6+n)}),t=>{const n=[];let o=[];for(let l=0;l<t.length;l++){const u=t[l],h=u[0]==="[",p=e.has(u);h||p?(o.length>0&&(o.sort(),n.push(...o),o=[]),n.push(u)):o.push(u)}return o.length>0&&(o.sort(),n.push(...o)),n}},Bk=r=>({cache:Vk(r.cacheSize),parseClassName:Fk(r),sortModifiers:Uk(r),...Ck(r)}),zk=/\s+/,Hk=(r,e)=>{const{parseClassName:t,getClassGroupId:n,getConflictingClassGroupIds:o,sortModifiers:l}=e,u=[],h=r.trim().split(zk);let p="";for(let m=h.length-1;m>=0;m-=1){const v=h[m],{isExternal:x,modifiers:w,hasImportantModifier:k,baseClassName:P,maybePostfixModifierPosition:j}=t(v);if(x){p=v+(p.length>0?" "+p:p);continue}let T=!!j,M=n(T?P.substring(0,j):P);if(!M){if(!T){p=v+(p.length>0?" "+p:p);continue}if(M=n(P),!M){p=v+(p.length>0?" "+p:p);continue}T=!1}const B=w.length===0?"":w.length===1?w[0]:l(w).join(":"),F=k?B+mm:B,$=F+M;if(u.indexOf($)>-1)continue;u.push($);const z=o(M,T);for(let J=0;J<z.length;++J){const A=z[J];u.push(F+A)}p=v+(p.length>0?" "+p:p)}return p},Wk=(...r)=>{let e=0,t,n,o="";for(;e<r.length;)(t=r[e++])&&(n=Uw(t))&&(o&&(o+=" "),o+=n);return o},Uw=r=>{if(typeof r=="string")return r;let e,t="";for(let n=0;n<r.length;n++)r[n]&&(e=Uw(r[n]))&&(t&&(t+=" "),t+=e);return t},qk=(r,...e)=>{let t,n,o,l;const u=p=>{const m=e.reduce((v,x)=>x(v),r());return t=Bk(m),n=t.cache.get,o=t.cache.set,l=h,h(p)},h=p=>{const m=n(p);if(m)return m;const v=Hk(p,t);return o(p,v),v};return l=u,(...p)=>l(Wk(...p))},Gk=[],Gt=r=>{const e=t=>t[r]||Gk;return e.isThemeGetter=!0,e},Bw=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,zw=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Kk=/^\d+\/\d+$/,Yk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Qk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Xk=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Jk=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Zk=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$a=r=>Kk.test(r),qe=r=>!!r&&!Number.isNaN(Number(r)),Li=r=>!!r&&Number.isInteger(Number(r)),Vp=r=>r.endsWith("%")&&qe(r.slice(0,-1)),Qs=r=>Yk.test(r),eT=()=>!0,tT=r=>Qk.test(r)&&!Xk.test(r),Hw=()=>!1,rT=r=>Jk.test(r),nT=r=>Zk.test(r),sT=r=>!Se(r)&&!ke(r),iT=r=>dl(r,Gw,Hw),Se=r=>Bw.test(r),Vo=r=>dl(r,Kw,tT),$p=r=>dl(r,uT,qe),Kv=r=>dl(r,Ww,Hw),oT=r=>dl(r,qw,nT),gd=r=>dl(r,Yw,rT),ke=r=>zw.test(r),pc=r=>hl(r,Kw),aT=r=>hl(r,dT),Yv=r=>hl(r,Ww),lT=r=>hl(r,Gw),cT=r=>hl(r,qw),xd=r=>hl(r,Yw,!0),dl=(r,e,t)=>{const n=Bw.exec(r);return n?n[1]?e(n[1]):t(n[2]):!1},hl=(r,e,t=!1)=>{const n=zw.exec(r);return n?n[1]?e(n[1]):t:!1},Ww=r=>r==="position"||r==="percentage",qw=r=>r==="image"||r==="url",Gw=r=>r==="length"||r==="size"||r==="bg-size",Kw=r=>r==="length",uT=r=>r==="number",dT=r=>r==="family-name",Yw=r=>r==="shadow",hT=()=>{const r=Gt("color"),e=Gt("font"),t=Gt("text"),n=Gt("font-weight"),o=Gt("tracking"),l=Gt("leading"),u=Gt("breakpoint"),h=Gt("container"),p=Gt("spacing"),m=Gt("radius"),v=Gt("shadow"),x=Gt("inset-shadow"),w=Gt("text-shadow"),k=Gt("drop-shadow"),P=Gt("blur"),j=Gt("perspective"),T=Gt("aspect"),M=Gt("ease"),B=Gt("animate"),F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],z=()=>[...$(),ke,Se],J=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto","contain","none"],E=()=>[ke,Se,p],C=()=>[$a,"full","auto",...E()],O=()=>[Li,"none","subgrid",ke,Se],L=()=>["auto",{span:["full",Li,ke,Se]},Li,ke,Se],D=()=>[Li,"auto",ke,Se],R=()=>["auto","min","max","fr",ke,Se],ge=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],le=()=>["start","end","center","stretch","center-safe","end-safe"],Z=()=>["auto",...E()],re=()=>[$a,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],q=()=>[r,ke,Se],de=()=>[...$(),Yv,Kv,{position:[ke,Se]}],ae=()=>["no-repeat",{repeat:["","x","y","space","round"]}],H=()=>["auto","cover","contain",lT,iT,{size:[ke,Se]}],te=()=>[Vp,pc,Vo],ee=()=>["","none","full",m,ke,Se],ie=()=>["",qe,pc,Vo],xe=()=>["solid","dashed","dotted","double"],_e=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],oe=()=>[qe,Vp,Yv,Kv],fe=()=>["","none",P,ke,Se],Ae=()=>["none",qe,ke,Se],Pe=()=>["none",qe,ke,Se],ze=()=>[qe,ke,Se],He=()=>[$a,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Qs],breakpoint:[Qs],color:[eT],container:[Qs],"drop-shadow":[Qs],ease:["in","out","in-out"],font:[sT],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Qs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Qs],shadow:[Qs],spacing:["px",qe],text:[Qs],"text-shadow":[Qs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",$a,Se,ke,T]}],container:["container"],columns:[{columns:[qe,Se,ke,h]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:z()}],overflow:[{overflow:J()}],"overflow-x":[{"overflow-x":J()}],"overflow-y":[{"overflow-y":J()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[Li,"auto",ke,Se]}],basis:[{basis:[$a,"full","auto",h,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[qe,$a,"auto","initial","none",Se]}],grow:[{grow:["",qe,ke,Se]}],shrink:[{shrink:["",qe,ke,Se]}],order:[{order:[Li,"first","last","none",ke,Se]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:L()}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:L()}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":R()}],"auto-rows":[{"auto-rows":R()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...ge(),"normal"]}],"justify-items":[{"justify-items":[...le(),"normal"]}],"justify-self":[{"justify-self":["auto",...le()]}],"align-content":[{content:["normal",...ge()]}],"align-items":[{items:[...le(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...le(),{baseline:["","last"]}]}],"place-content":[{"place-content":ge()}],"place-items":[{"place-items":[...le(),"baseline"]}],"place-self":[{"place-self":["auto",...le()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:Z()}],mx:[{mx:Z()}],my:[{my:Z()}],ms:[{ms:Z()}],me:[{me:Z()}],mt:[{mt:Z()}],mr:[{mr:Z()}],mb:[{mb:Z()}],ml:[{ml:Z()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:re()}],w:[{w:[h,"screen",...re()]}],"min-w":[{"min-w":[h,"screen","none",...re()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[u]},...re()]}],h:[{h:["screen","lh",...re()]}],"min-h":[{"min-h":["screen","lh","none",...re()]}],"max-h":[{"max-h":["screen","lh",...re()]}],"font-size":[{text:["base",t,pc,Vo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,ke,$p]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Vp,Se]}],"font-family":[{font:[aT,Se,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,ke,Se]}],"line-clamp":[{"line-clamp":[qe,"none",ke,$p]}],leading:[{leading:[l,...E()]}],"list-image":[{"list-image":["none",ke,Se]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ke,Se]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:q()}],"text-color":[{text:q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...xe(),"wavy"]}],"text-decoration-thickness":[{decoration:[qe,"from-font","auto",ke,Vo]}],"text-decoration-color":[{decoration:q()}],"underline-offset":[{"underline-offset":[qe,"auto",ke,Se]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ke,Se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ke,Se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:de()}],"bg-repeat":[{bg:ae()}],"bg-size":[{bg:H()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Li,ke,Se],radial:["",ke,Se],conic:[Li,ke,Se]},cT,oT]}],"bg-color":[{bg:q()}],"gradient-from-pos":[{from:te()}],"gradient-via-pos":[{via:te()}],"gradient-to-pos":[{to:te()}],"gradient-from":[{from:q()}],"gradient-via":[{via:q()}],"gradient-to":[{to:q()}],rounded:[{rounded:ee()}],"rounded-s":[{"rounded-s":ee()}],"rounded-e":[{"rounded-e":ee()}],"rounded-t":[{"rounded-t":ee()}],"rounded-r":[{"rounded-r":ee()}],"rounded-b":[{"rounded-b":ee()}],"rounded-l":[{"rounded-l":ee()}],"rounded-ss":[{"rounded-ss":ee()}],"rounded-se":[{"rounded-se":ee()}],"rounded-ee":[{"rounded-ee":ee()}],"rounded-es":[{"rounded-es":ee()}],"rounded-tl":[{"rounded-tl":ee()}],"rounded-tr":[{"rounded-tr":ee()}],"rounded-br":[{"rounded-br":ee()}],"rounded-bl":[{"rounded-bl":ee()}],"border-w":[{border:ie()}],"border-w-x":[{"border-x":ie()}],"border-w-y":[{"border-y":ie()}],"border-w-s":[{"border-s":ie()}],"border-w-e":[{"border-e":ie()}],"border-w-t":[{"border-t":ie()}],"border-w-r":[{"border-r":ie()}],"border-w-b":[{"border-b":ie()}],"border-w-l":[{"border-l":ie()}],"divide-x":[{"divide-x":ie()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ie()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...xe(),"hidden","none"]}],"divide-style":[{divide:[...xe(),"hidden","none"]}],"border-color":[{border:q()}],"border-color-x":[{"border-x":q()}],"border-color-y":[{"border-y":q()}],"border-color-s":[{"border-s":q()}],"border-color-e":[{"border-e":q()}],"border-color-t":[{"border-t":q()}],"border-color-r":[{"border-r":q()}],"border-color-b":[{"border-b":q()}],"border-color-l":[{"border-l":q()}],"divide-color":[{divide:q()}],"outline-style":[{outline:[...xe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[qe,ke,Se]}],"outline-w":[{outline:["",qe,pc,Vo]}],"outline-color":[{outline:q()}],shadow:[{shadow:["","none",v,xd,gd]}],"shadow-color":[{shadow:q()}],"inset-shadow":[{"inset-shadow":["none",x,xd,gd]}],"inset-shadow-color":[{"inset-shadow":q()}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:q()}],"ring-offset-w":[{"ring-offset":[qe,Vo]}],"ring-offset-color":[{"ring-offset":q()}],"inset-ring-w":[{"inset-ring":ie()}],"inset-ring-color":[{"inset-ring":q()}],"text-shadow":[{"text-shadow":["none",w,xd,gd]}],"text-shadow-color":[{"text-shadow":q()}],opacity:[{opacity:[qe,ke,Se]}],"mix-blend":[{"mix-blend":[..._e(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":_e()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[qe]}],"mask-image-linear-from-pos":[{"mask-linear-from":oe()}],"mask-image-linear-to-pos":[{"mask-linear-to":oe()}],"mask-image-linear-from-color":[{"mask-linear-from":q()}],"mask-image-linear-to-color":[{"mask-linear-to":q()}],"mask-image-t-from-pos":[{"mask-t-from":oe()}],"mask-image-t-to-pos":[{"mask-t-to":oe()}],"mask-image-t-from-color":[{"mask-t-from":q()}],"mask-image-t-to-color":[{"mask-t-to":q()}],"mask-image-r-from-pos":[{"mask-r-from":oe()}],"mask-image-r-to-pos":[{"mask-r-to":oe()}],"mask-image-r-from-color":[{"mask-r-from":q()}],"mask-image-r-to-color":[{"mask-r-to":q()}],"mask-image-b-from-pos":[{"mask-b-from":oe()}],"mask-image-b-to-pos":[{"mask-b-to":oe()}],"mask-image-b-from-color":[{"mask-b-from":q()}],"mask-image-b-to-color":[{"mask-b-to":q()}],"mask-image-l-from-pos":[{"mask-l-from":oe()}],"mask-image-l-to-pos":[{"mask-l-to":oe()}],"mask-image-l-from-color":[{"mask-l-from":q()}],"mask-image-l-to-color":[{"mask-l-to":q()}],"mask-image-x-from-pos":[{"mask-x-from":oe()}],"mask-image-x-to-pos":[{"mask-x-to":oe()}],"mask-image-x-from-color":[{"mask-x-from":q()}],"mask-image-x-to-color":[{"mask-x-to":q()}],"mask-image-y-from-pos":[{"mask-y-from":oe()}],"mask-image-y-to-pos":[{"mask-y-to":oe()}],"mask-image-y-from-color":[{"mask-y-from":q()}],"mask-image-y-to-color":[{"mask-y-to":q()}],"mask-image-radial":[{"mask-radial":[ke,Se]}],"mask-image-radial-from-pos":[{"mask-radial-from":oe()}],"mask-image-radial-to-pos":[{"mask-radial-to":oe()}],"mask-image-radial-from-color":[{"mask-radial-from":q()}],"mask-image-radial-to-color":[{"mask-radial-to":q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":$()}],"mask-image-conic-pos":[{"mask-conic":[qe]}],"mask-image-conic-from-pos":[{"mask-conic-from":oe()}],"mask-image-conic-to-pos":[{"mask-conic-to":oe()}],"mask-image-conic-from-color":[{"mask-conic-from":q()}],"mask-image-conic-to-color":[{"mask-conic-to":q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:de()}],"mask-repeat":[{mask:ae()}],"mask-size":[{mask:H()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ke,Se]}],filter:[{filter:["","none",ke,Se]}],blur:[{blur:fe()}],brightness:[{brightness:[qe,ke,Se]}],contrast:[{contrast:[qe,ke,Se]}],"drop-shadow":[{"drop-shadow":["","none",k,xd,gd]}],"drop-shadow-color":[{"drop-shadow":q()}],grayscale:[{grayscale:["",qe,ke,Se]}],"hue-rotate":[{"hue-rotate":[qe,ke,Se]}],invert:[{invert:["",qe,ke,Se]}],saturate:[{saturate:[qe,ke,Se]}],sepia:[{sepia:["",qe,ke,Se]}],"backdrop-filter":[{"backdrop-filter":["","none",ke,Se]}],"backdrop-blur":[{"backdrop-blur":fe()}],"backdrop-brightness":[{"backdrop-brightness":[qe,ke,Se]}],"backdrop-contrast":[{"backdrop-contrast":[qe,ke,Se]}],"backdrop-grayscale":[{"backdrop-grayscale":["",qe,ke,Se]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[qe,ke,Se]}],"backdrop-invert":[{"backdrop-invert":["",qe,ke,Se]}],"backdrop-opacity":[{"backdrop-opacity":[qe,ke,Se]}],"backdrop-saturate":[{"backdrop-saturate":[qe,ke,Se]}],"backdrop-sepia":[{"backdrop-sepia":["",qe,ke,Se]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ke,Se]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[qe,"initial",ke,Se]}],ease:[{ease:["linear","initial",M,ke,Se]}],delay:[{delay:[qe,ke,Se]}],animate:[{animate:["none",B,ke,Se]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,ke,Se]}],"perspective-origin":[{"perspective-origin":z()}],rotate:[{rotate:Ae()}],"rotate-x":[{"rotate-x":Ae()}],"rotate-y":[{"rotate-y":Ae()}],"rotate-z":[{"rotate-z":Ae()}],scale:[{scale:Pe()}],"scale-x":[{"scale-x":Pe()}],"scale-y":[{"scale-y":Pe()}],"scale-z":[{"scale-z":Pe()}],"scale-3d":["scale-3d"],skew:[{skew:ze()}],"skew-x":[{"skew-x":ze()}],"skew-y":[{"skew-y":ze()}],transform:[{transform:[ke,Se,"","none","gpu","cpu"]}],"transform-origin":[{origin:z()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:He()}],"translate-x":[{"translate-x":He()}],"translate-y":[{"translate-y":He()}],"translate-z":[{"translate-z":He()}],"translate-none":["translate-none"],accent:[{accent:q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ke,Se]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ke,Se]}],fill:[{fill:["none",...q()]}],"stroke-w":[{stroke:[qe,pc,Vo,$p]}],stroke:[{stroke:["none",...q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},fT=qk(hT);function Qt(...r){return fT(Ow(r))}const pT=Lw("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium",{variants:{variant:{default:"bg-primary text-white",outline:"border"}},defaultVariants:{variant:"default"}});function Hr({className:r,variant:e,asChild:t=!1,...n}){const o=t?Dw:"span";return i.jsx(o,{className:Qt(pT({variant:e}),r),...n})}function mT(r,e=[]){let t=[];function n(l,u){const h=N.createContext(u);h.displayName=l+"Context";const p=t.length;t=[...t,u];const m=x=>{const{scope:w,children:k,...P}=x,j=w?.[r]?.[p]||h,T=N.useMemo(()=>P,Object.values(P));return i.jsx(j.Provider,{value:T,children:k})};m.displayName=l+"Provider";function v(x,w){const k=w?.[r]?.[p]||h,P=N.useContext(k);if(P)return P;if(u!==void 0)return u;throw new Error(`\`${x}\` must be used within \`${l}\``)}return[m,v]}const o=()=>{const l=t.map(u=>N.createContext(u));return function(h){const p=h?.[r]||l;return N.useMemo(()=>({[`__scope${r}`]:{...h,[r]:p}}),[h,p])}};return o.scopeName=r,[n,gT(o,...e)]}function gT(...r){const e=r[0];if(r.length===1)return e;const t=()=>{const n=r.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const u=n.reduce((h,{useScope:p,scopeName:m})=>{const x=p(l)[`__scope${m}`];return{...h,...x}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}function ri(r){const e=N.useRef(r);return N.useEffect(()=>{e.current=r}),N.useMemo(()=>(...t)=>e.current?.(...t),[])}var Xt=globalThis?.document?N.useLayoutEffect:()=>{},qc=vw();const Qw=xw(qc);var xT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],lg=xT.reduce((r,e)=>{const t=og(`Primitive.${e}`),n=N.forwardRef((o,l)=>{const{asChild:u,...h}=o,p=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(p,{...h,ref:l})});return n.displayName=`Primitive.${e}`,{...r,[e]:n}},{}),Fp={exports:{}},Up={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function vT(){if(Qv)return Up;Qv=1;var r=Eh();function e(x,w){return x===w&&(x!==0||1/x===1/w)||x!==x&&w!==w}var t=typeof Object.is=="function"?Object.is:e,n=r.useState,o=r.useEffect,l=r.useLayoutEffect,u=r.useDebugValue;function h(x,w){var k=w(),P=n({inst:{value:k,getSnapshot:w}}),j=P[0].inst,T=P[1];return l(function(){j.value=k,j.getSnapshot=w,p(j)&&T({inst:j})},[x,k,w]),o(function(){return p(j)&&T({inst:j}),x(function(){p(j)&&T({inst:j})})},[x]),u(k),k}function p(x){var w=x.getSnapshot;x=x.value;try{var k=w();return!t(x,k)}catch{return!0}}function m(x,w){return w()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:h;return Up.useSyncExternalStore=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:v,Up}var Xv;function yT(){return Xv||(Xv=1,Fp.exports=vT()),Fp.exports}var bT=yT();function wT(){return bT.useSyncExternalStore(_T,()=>!0,()=>!1)}function _T(){return()=>{}}var cg="Avatar",[NT]=mT(cg),[ET,Xw]=NT(cg),Jw=N.forwardRef((r,e)=>{const{__scopeAvatar:t,...n}=r,[o,l]=N.useState("idle");return i.jsx(ET,{scope:t,imageLoadingStatus:o,onImageLoadingStatusChange:l,children:i.jsx(lg.span,{...n,ref:e})})});Jw.displayName=cg;var Zw="AvatarImage",jT=N.forwardRef((r,e)=>{const{__scopeAvatar:t,src:n,onLoadingStatusChange:o=()=>{},...l}=r,u=Xw(Zw,t),h=ST(n,l),p=ri(m=>{o(m),u.onImageLoadingStatusChange(m)});return Xt(()=>{h!=="idle"&&p(h)},[h,p]),h==="loaded"?i.jsx(lg.img,{...l,ref:e,src:n}):null});jT.displayName=Zw;var e2="AvatarFallback",t2=N.forwardRef((r,e)=>{const{__scopeAvatar:t,delayMs:n,...o}=r,l=Xw(e2,t),[u,h]=N.useState(n===void 0);return N.useEffect(()=>{if(n!==void 0){const p=window.setTimeout(()=>h(!0),n);return()=>window.clearTimeout(p)}},[n]),u&&l.imageLoadingStatus!=="loaded"?i.jsx(lg.span,{...o,ref:e}):null});t2.displayName=e2;function Jv(r,e){return r?e?(r.src!==e&&(r.src=e),r.complete&&r.naturalWidth>0?"loaded":"loading"):"error":"idle"}function ST(r,{referrerPolicy:e,crossOrigin:t}){const n=wT(),o=N.useRef(null),l=n?(o.current||(o.current=new window.Image),o.current):null,[u,h]=N.useState(()=>Jv(l,r));return Xt(()=>{h(Jv(l,r))},[l,r]),Xt(()=>{const p=x=>()=>{h(x)};if(!l)return;const m=p("loaded"),v=p("error");return l.addEventListener("load",m),l.addEventListener("error",v),e&&(l.referrerPolicy=e),typeof t=="string"&&(l.crossOrigin=t),()=>{l.removeEventListener("load",m),l.removeEventListener("error",v)}},[l,t,e]),u}var kT=Jw,TT=t2;function Wn({className:r,...e}){return i.jsx(kT,{"data-slot":"avatar",className:Qt("relative flex size-10 shrink-0 overflow-hidden rounded-full",r),...e})}function qn({className:r,...e}){return i.jsx(TT,{"data-slot":"avatar-fallback",className:Qt("bg-muted flex size-full items-center justify-center rounded-full",r),...e})}const r2=N.createContext(void 0);function CT({children:r}){const[e,t]=N.useState(()=>localStorage.getItem("darkMode")==="true");N.useEffect(()=>{localStorage.setItem("darkMode",e.toString())},[e]);const n=()=>t(o=>!o);return i.jsx(r2.Provider,{value:{darkMode:e,toggleDarkMode:n},children:r})}function St(){const r=N.useContext(r2);if(r===void 0)throw new Error("useDarkMode must be used within a DarkModeProvider");return r}const IT=()=>{};var Zv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let o=r.charCodeAt(n);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},AT=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const o=r[t++];if(o<128)e[n++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[n++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],u=r[t++],h=r[t++],p=((o&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[n++]=String.fromCharCode(55296+(p>>10)),e[n++]=String.fromCharCode(56320+(p&1023))}else{const l=r[t++],u=r[t++];e[n++]=String.fromCharCode((o&15)<<12|(l&63)<<6|u&63)}}return e.join("")},s2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let o=0;o<r.length;o+=3){const l=r[o],u=o+1<r.length,h=u?r[o+1]:0,p=o+2<r.length,m=p?r[o+2]:0,v=l>>2,x=(l&3)<<4|h>>4;let w=(h&15)<<2|m>>6,k=m&63;p||(k=64,u||(w=64)),n.push(t[v],t[x],t[w],t[k])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(n2(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):AT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],h=o<r.length?t[r.charAt(o)]:0;++o;const m=o<r.length?t[r.charAt(o)]:64;++o;const x=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||h==null||m==null||x==null)throw new RT;const w=l<<2|h>>4;if(n.push(w),m!==64){const k=h<<4&240|m>>2;if(n.push(k),x!==64){const P=m<<6&192|x;n.push(P)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class RT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PT=function(r){const e=n2(r);return s2.encodeByteArray(e,!0)},Jd=function(r){return PT(r).replace(/\./g,"")},i2=function(r){try{return s2.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT=()=>DT().__FIREBASE_DEFAULTS__,OT=()=>{if(typeof process>"u"||typeof Zv>"u")return;const r=Zv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},LT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&i2(r[1]);return e&&JSON.parse(e)},Sh=()=>{try{return IT()||MT()||OT()||LT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},o2=r=>Sh()?.emulatorHosts?.[r],a2=r=>{const e=o2(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},l2=()=>Sh()?.config,c2=r=>Sh()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ug(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${n}`,aud:n,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Jd(JSON.stringify(t)),Jd(JSON.stringify(u)),""].join(".")}const Ec={};function $T(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ec))Ec[e]?r.emulator.push(e):r.prod.push(e);return r}function FT(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let ey=!1;function dg(r,e){if(typeof window>"u"||typeof document>"u"||!ea(window.location.host)||Ec[r]===e||Ec[r]||ey)return;Ec[r]=e;function t(w){return`__firebase__banner__${w}`}const n="__firebase__banner",l=$T().prod.length>0;function u(){const w=document.getElementById(n);w&&w.remove()}function h(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,k){w.setAttribute("width","24"),w.setAttribute("id",k),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function m(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{ey=!0,u()},w}function v(w,k){w.setAttribute("id",k),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function x(){const w=FT(n),k=t("text"),P=document.getElementById(k)||document.createElement("span"),j=t("learnmore"),T=document.getElementById(j)||document.createElement("a"),M=t("preprendIcon"),B=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const F=w.element;h(F),v(T,j);const $=m();p(B,M),F.append(B,P,T,$),document.body.appendChild(F)}l?(P.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jr())}function BT(){const r=Sh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HT(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function WT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qT(){const r=jr();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function GT(){return!BT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function KT(){try{return typeof indexedDB=="object"}catch{return!1}}function YT(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(n);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="FirebaseError";class Rs extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=QT,Object.setPrototypeOf(this,Rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gc.prototype.create)}}class Gc{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],u=l?XT(l,n):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new Rs(o,h,n)}}function XT(r,e){return r.replace(JT,(t,n)=>{const o=e[n];return o!=null?String(o):`<${n}?>`})}const JT=/\{\$([^}]+)}/g;function ZT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Qi(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const o of t){if(!n.includes(o))return!1;const l=r[o],u=e[o];if(ty(l)&&ty(u)){if(!Qi(l,u))return!1}else if(l!==u)return!1}for(const o of n)if(!t.includes(o))return!1;return!0}function ty(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function gc(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[o,l]=n.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function xc(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function eC(r,e){const t=new tC(r,e);return t.subscribe.bind(t)}class tC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let o;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");rC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:n},o.next===void 0&&(o.next=Bp),o.error===void 0&&(o.error=Bp),o.complete===void 0&&(o.complete=Bp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rC(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Bp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(r){return r&&r._delegate?r._delegate:r}class Xi{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new VT;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&n.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(n)return null;throw o}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iC(e))try{this.getOrInitializeService({instanceIdentifier:$o})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});n.resolve(l)}catch{}}}}clearInstance(e=$o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$o){return this.instances.has(e)}getOptions(e=$o){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);n===h&&u.resolve(o)}return o}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(n)??new Set;o.add(e),this.onInitCallbacks.set(n,o);const l=this.instances.get(n);return l&&e(l,n),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const o of n)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:sC(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=$o){return this.component?this.component.multipleInstances?e:$o:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sC(r){return r===$o?void 0:r}function iC(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new nC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ye||(Ye={}));const aC={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},lC=Ye.INFO,cC={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},uC=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),o=cC[e];if(o)console[o](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hg{constructor(e){this.name=e,this._logLevel=lC,this._logHandler=uC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?aC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const dC=(r,e)=>e.some(t=>r instanceof t);let ry,ny;function hC(){return ry||(ry=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fC(){return ny||(ny=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d2=new WeakMap,gm=new WeakMap,h2=new WeakMap,zp=new WeakMap,fg=new WeakMap;function pC(r){const e=new Promise((t,n)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",u)},l=()=>{t(Wi(r.result)),o()},u=()=>{n(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&d2.set(t,r)}).catch(()=>{}),fg.set(e,r),e}function mC(r){if(gm.has(r))return;const e=new Promise((t,n)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",u),r.removeEventListener("abort",u)},l=()=>{t(),o()},u=()=>{n(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",u),r.addEventListener("abort",u)});gm.set(r,e)}let xm={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return gm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||h2.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Wi(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function gC(r){xm=r(xm)}function xC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(Hp(this),e,...t);return h2.set(n,e.sort?e.sort():[e]),Wi(n)}:fC().includes(r)?function(...e){return r.apply(Hp(this),e),Wi(d2.get(this))}:function(...e){return Wi(r.apply(Hp(this),e))}}function vC(r){return typeof r=="function"?xC(r):(r instanceof IDBTransaction&&mC(r),dC(r,hC())?new Proxy(r,xm):r)}function Wi(r){if(r instanceof IDBRequest)return pC(r);if(zp.has(r))return zp.get(r);const e=vC(r);return e!==r&&(zp.set(r,e),fg.set(e,r)),e}const Hp=r=>fg.get(r);function yC(r,e,{blocked:t,upgrade:n,blocking:o,terminated:l}={}){const u=indexedDB.open(r,e),h=Wi(u);return n&&u.addEventListener("upgradeneeded",p=>{n(Wi(u.result),p.oldVersion,p.newVersion,Wi(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),h.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const bC=["get","getKey","getAll","getAllKeys","count"],wC=["put","add","delete","clear"],Wp=new Map;function sy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Wp.get(e))return Wp.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,o=wC.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(o||bC.includes(t)))return;const l=async function(u,...h){const p=this.transaction(u,o?"readwrite":"readonly");let m=p.store;return n&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),o&&p.done]))[0]};return Wp.set(e,l),l}gC(r=>({...r,get:(e,t,n)=>sy(e,t)||r.get(e,t,n),has:(e,t)=>!!sy(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(NC(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function NC(r){return r.getComponent()?.type==="VERSION"}const vm="@firebase/app",iy="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni=new hg("@firebase/app"),EC="@firebase/app-compat",jC="@firebase/analytics-compat",SC="@firebase/analytics",kC="@firebase/app-check-compat",TC="@firebase/app-check",CC="@firebase/auth",IC="@firebase/auth-compat",AC="@firebase/database",RC="@firebase/data-connect",PC="@firebase/database-compat",DC="@firebase/functions",MC="@firebase/functions-compat",OC="@firebase/installations",LC="@firebase/installations-compat",VC="@firebase/messaging",$C="@firebase/messaging-compat",FC="@firebase/performance",UC="@firebase/performance-compat",BC="@firebase/remote-config",zC="@firebase/remote-config-compat",HC="@firebase/storage",WC="@firebase/storage-compat",qC="@firebase/firestore",GC="@firebase/ai",KC="@firebase/firestore-compat",YC="firebase",QC="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="[DEFAULT]",XC={[vm]:"fire-core",[EC]:"fire-core-compat",[SC]:"fire-analytics",[jC]:"fire-analytics-compat",[TC]:"fire-app-check",[kC]:"fire-app-check-compat",[CC]:"fire-auth",[IC]:"fire-auth-compat",[AC]:"fire-rtdb",[RC]:"fire-data-connect",[PC]:"fire-rtdb-compat",[DC]:"fire-fn",[MC]:"fire-fn-compat",[OC]:"fire-iid",[LC]:"fire-iid-compat",[VC]:"fire-fcm",[$C]:"fire-fcm-compat",[FC]:"fire-perf",[UC]:"fire-perf-compat",[BC]:"fire-rc",[zC]:"fire-rc-compat",[HC]:"fire-gcs",[WC]:"fire-gcs-compat",[qC]:"fire-fst",[KC]:"fire-fst-compat",[GC]:"fire-vertex","fire-js":"fire-js",[YC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd=new Map,JC=new Map,bm=new Map;function oy(r,e){try{r.container.addComponent(e)}catch(t){ni.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Wo(r){const e=r.name;if(bm.has(e))return ni.debug(`There were multiple attempts to register component ${e}.`),!1;bm.set(e,r);for(const t of Zd.values())oy(t,r);for(const t of JC.values())oy(t,r);return!0}function kh(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function sn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qi=new Gc("app","Firebase",ZC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Xi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta=QC;function f2(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n={name:ym,automaticDataCollectionEnabled:!0,...e},o=n.name;if(typeof o!="string"||!o)throw qi.create("bad-app-name",{appName:String(o)});if(t||(t=l2()),!t)throw qi.create("no-options");const l=Zd.get(o);if(l){if(Qi(t,l.options)&&Qi(n,l.config))return l;throw qi.create("duplicate-app",{appName:o})}const u=new oC(o);for(const p of bm.values())u.addComponent(p);const h=new eI(t,n,u);return Zd.set(o,h),h}function pg(r=ym){const e=Zd.get(r);if(!e&&r===ym&&l2())return f2();if(!e)throw qi.create("no-app",{appName:r});return e}function ws(r,e,t){let n=XC[r]??r;t&&(n+=`-${t}`);const o=n.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${n}" with version "${e}":`];o&&u.push(`library name "${n}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ni.warn(u.join(" "));return}Wo(new Xi(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="firebase-heartbeat-database",rI=1,Ic="firebase-heartbeat-store";let qp=null;function p2(){return qp||(qp=yC(tI,rI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ic)}catch(t){console.warn(t)}}}}).catch(r=>{throw qi.create("idb-open",{originalErrorMessage:r.message})})),qp}async function nI(r){try{const t=(await p2()).transaction(Ic),n=await t.objectStore(Ic).get(m2(r));return await t.done,n}catch(e){if(e instanceof Rs)ni.warn(e.message);else{const t=qi.create("idb-get",{originalErrorMessage:e?.message});ni.warn(t.message)}}}async function ay(r,e){try{const n=(await p2()).transaction(Ic,"readwrite");await n.objectStore(Ic).put(e,m2(r)),await n.done}catch(t){if(t instanceof Rs)ni.warn(t.message);else{const n=qi.create("idb-set",{originalErrorMessage:t?.message});ni.warn(n.message)}}}function m2(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=1024,iI=30;class oI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new lI(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=ly();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(o=>o.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats.length>iI){const o=cI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ni.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ly(),{heartbeatsToSend:t,unsentEntries:n}=aI(this._heartbeatsCache.heartbeats),o=Jd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ni.warn(e),""}}}function ly(){return new Date().toISOString().substring(0,10)}function aI(r,e=sI){const t=[];let n=r.slice();for(const o of r){const l=t.find(u=>u.agent===o.agent);if(l){if(l.dates.push(o.date),cy(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),cy(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class lI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return KT()?YT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await nI(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return ay(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return ay(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function cy(r){return Jd(JSON.stringify({version:2,heartbeats:r})).length}function cI(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(r){Wo(new Xi("platform-logger",e=>new _C(e),"PRIVATE")),Wo(new Xi("heartbeat",e=>new oI(e),"PRIVATE")),ws(vm,iy,r),ws(vm,iy,"esm2020"),ws("fire-js","")}uI("");var dI="firebase",hI="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ws(dI,hI,"app");function g2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fI=g2,x2=new Gc("auth","Firebase",g2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=new hg("@firebase/auth");function pI(r,...e){eh.logLevel<=Ye.WARN&&eh.warn(`Auth (${ta}): ${r}`,...e)}function Od(r,...e){eh.logLevel<=Ye.ERROR&&eh.error(`Auth (${ta}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(r,...e){throw mg(r,...e)}function _s(r,...e){return mg(r,...e)}function v2(r,e,t){const n={...fI(),[e]:t};return new Gc("auth","Firebase",n).create(e,{appName:r.name})}function ei(r){return v2(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mg(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return x2.create(r,...e)}function Le(r,e,...t){if(!r)throw mg(e,...t)}function Xs(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Od(e),new Error(e)}function si(r,e){r||Xs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(){return typeof self<"u"&&self.location?.href||""}function mI(){return uy()==="http:"||uy()==="https:"}function uy(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mI()||HT()||"connection"in navigator)?navigator.onLine:!0}function xI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,t){this.shortDelay=e,this.longDelay=t,si(t>e,"Short delay should be less than long delay!"),this.isMobile=UT()||WT()}get(){return gI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(r,e){si(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bI=new Yc(3e4,6e4);function oo(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ui(r,e,t,n,o={}){return b2(r,o,async()=>{let l={},u={};n&&(e==="GET"?u=n:l={body:JSON.stringify(n)});const h=Kc({key:r.config.apiKey,...u}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const m={method:e,headers:p,...l};return zT()||(m.referrerPolicy="no-referrer"),r.emulatorConfig&&ea(r.emulatorConfig.host)&&(m.credentials="include"),y2.fetch()(await w2(r,r.config.apiHost,t,h),m)})}async function b2(r,e,t){r._canInitEmulator=!1;const n={...vI,...e};try{const o=new _I(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw vd(r,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[p,m]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw vd(r,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw vd(r,"email-already-in-use",u);if(p==="USER_DISABLED")throw vd(r,"user-disabled",u);const v=n[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw v2(r,v,m);Gn(r,v)}}catch(o){if(o instanceof Rs)throw o;Gn(r,"network-request-failed",{message:String(o)})}}async function Qc(r,e,t,n,o={}){const l=await ui(r,e,t,n,o);return"mfaPendingCredential"in l&&Gn(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function w2(r,e,t,n){const o=`${e}${t}?${n}`,l=r,u=l.config.emulator?gg(r.config,o):`${r.config.apiScheme}://${o}`;return yI.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function wI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _I{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(_s(this.auth,"network-request-failed")),bI.get())})}}function vd(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const o=_s(r,e,n);return o.customData._tokenResponse=t,o}function dy(r){return r!==void 0&&r.enterprise!==void 0}class NI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return wI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function EI(r,e){return ui(r,"GET","/v2/recaptchaConfig",oo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jI(r,e){return ui(r,"POST","/v1/accounts:delete",e)}async function th(r,e){return ui(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function SI(r,e=!1){const t=Jt(r),n=await t.getIdToken(e),o=xg(n);Le(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,u=l?.sign_in_provider;return{claims:o,token:n,authTime:jc(Gp(o.auth_time)),issuedAtTime:jc(Gp(o.iat)),expirationTime:jc(Gp(o.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Gp(r){return Number(r)*1e3}function xg(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return Od("JWT malformed, contained fewer than 3 sections"),null;try{const o=i2(t);return o?JSON.parse(o):(Od("Failed to decode base64 JWT payload"),null)}catch(o){return Od("Caught error parsing JWT payload as JSON",o?.toString()),null}}function hy(r){const e=xg(r);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rl(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof Rs&&kI(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function kI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=jc(this.lastLoginAt),this.creationTime=jc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rh(r){const e=r.auth,t=await r.getIdToken(),n=await rl(r,th(e,{idToken:t}));Le(n?.users.length,e,"internal-error");const o=n.users[0];r._notifyReloadListener(o);const l=o.providerUserInfo?.length?_2(o.providerUserInfo):[],u=II(r.providerData,l),h=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!u?.length,m=h?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new _m(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(r,v)}async function CI(r){const e=Jt(r);await rh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function II(r,e){return[...r.filter(n=>!e.some(o=>o.providerId===n.providerId)),...e]}function _2(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AI(r,e){const t=await b2(r,{},async()=>{const n=Kc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,u=await w2(r,o,"/v1/token",`key=${l}`),h=await r._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:h,body:n};return r.emulatorConfig&&ea(r.emulatorConfig.host)&&(p.credentials="include"),y2.fetch()(u,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function RI(r,e){return ui(r,"POST","/v2/accounts:revokeToken",oo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const t=hy(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:o,expiresIn:l}=await AI(e,t);this.updateTokensAndExpiration(n,o,Number(l))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:o,expirationTime:l}=t,u=new Ka;return n&&(Le(typeof n=="string","internal-error",{appName:e}),u.refreshToken=n),o&&(Le(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),l&&(Le(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ka,this.toJSON())}_performRefresh(){return Xs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(r,e){Le(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Un{constructor({uid:e,auth:t,stsTokenManager:n,...o}){this.providerId="firebase",this.proactiveRefresh=new TI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new _m(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await rl(this,this.stsTokenManager.getToken(this.auth,e));return Le(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return SI(this,e)}reload(){return CI(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Un({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await rh(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(sn(this.auth.app))return Promise.reject(ei(this.auth));const e=await this.getIdToken();return await rl(this,jI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,u=t.photoURL??void 0,h=t.tenantId??void 0,p=t._redirectEventId??void 0,m=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:x,emailVerified:w,isAnonymous:k,providerData:P,stsTokenManager:j}=t;Le(x&&j,e,"internal-error");const T=Ka.fromJSON(this.name,j);Le(typeof x=="string",e,"internal-error"),Vi(n,e.name),Vi(o,e.name),Le(typeof w=="boolean",e,"internal-error"),Le(typeof k=="boolean",e,"internal-error"),Vi(l,e.name),Vi(u,e.name),Vi(h,e.name),Vi(p,e.name),Vi(m,e.name),Vi(v,e.name);const M=new Un({uid:x,auth:e,email:o,emailVerified:w,displayName:n,isAnonymous:k,photoURL:u,phoneNumber:l,tenantId:h,stsTokenManager:T,createdAt:m,lastLoginAt:v});return P&&Array.isArray(P)&&(M.providerData=P.map(B=>({...B}))),p&&(M._redirectEventId=p),M}static async _fromIdTokenResponse(e,t,n=!1){const o=new Ka;o.updateFromServerResponse(t);const l=new Un({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:n});return await rh(l),l}static async _fromGetAccountInfoResponse(e,t,n){const o=t.users[0];Le(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?_2(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!l?.length,h=new Ka;h.updateFromIdToken(n);const p=new Un({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new _m(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy=new Map;function Js(r){si(r instanceof Function,"Expected a class definition");let e=fy.get(r);return e?(si(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,fy.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}N2.type="NONE";const py=N2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(r,e,t){return`firebase:${r}:${e}:${t}`}class Ya{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:o,name:l}=this.auth;this.fullUserKey=Ld(this.userKey,o.apiKey,l),this.fullPersistenceKey=Ld("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await th(this.auth,{idToken:e}).catch(()=>{});return t?Un._fromGetAccountInfoResponse(this.auth,t,e):null}return Un._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Ya(Js(py),e,n);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=o[0]||Js(py);const u=Ld(n,e.config.apiKey,e.name);let h=null;for(const m of t)try{const v=await m._get(u);if(v){let x;if(typeof v=="string"){const w=await th(e,{idToken:v}).catch(()=>{});if(!w)break;x=await Un._fromGetAccountInfoResponse(e,w,v)}else x=Un._fromJSON(e,v);m!==l&&(h=x),l=m;break}}catch{}const p=o.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Ya(l,e,n):(l=p[0],h&&await l._set(u,h.toJSON()),await Promise.all(t.map(async m=>{if(m!==l)try{await m._remove(u)}catch{}})),new Ya(l,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(k2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(E2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(C2(e))return"Blackberry";if(I2(e))return"Webos";if(j2(e))return"Safari";if((e.includes("chrome/")||S2(e))&&!e.includes("edge/"))return"Chrome";if(T2(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if(n?.length===2)return n[1]}return"Other"}function E2(r=jr()){return/firefox\//i.test(r)}function j2(r=jr()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function S2(r=jr()){return/crios\//i.test(r)}function k2(r=jr()){return/iemobile/i.test(r)}function T2(r=jr()){return/android/i.test(r)}function C2(r=jr()){return/blackberry/i.test(r)}function I2(r=jr()){return/webos/i.test(r)}function vg(r=jr()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function PI(r=jr()){return vg(r)&&!!window.navigator?.standalone}function DI(){return qT()&&document.documentMode===10}function A2(r=jr()){return vg(r)||T2(r)||I2(r)||C2(r)||/windows phone/i.test(r)||k2(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(r,e=[]){let t;switch(r){case"Browser":t=my(jr());break;case"Worker":t=`${my(jr())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ta}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=l=>new Promise((u,h)=>{try{const p=e(l);u(p)}catch(p){h(p)}});n.onAbort=t,this.queue.push(n);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OI(r,e={}){return ui(r,"GET","/v2/passwordPolicy",oo(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=6;class VI{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??LI,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let o=0;o<e.length;o++)n=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,t,n,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gy(this),this.idTokenSubscription=new gy(this),this.beforeStateQueue=new MI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=x2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Js(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ya.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await th(this,{idToken:e}),n=await Un._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(sn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=n?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&h?.user&&(n=h.user,o=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(n)}catch(l){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await rh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(sn(this.app))return Promise.reject(ei(this));const t=e?Jt(e):null;return t&&Le(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return sn(this.app)?Promise.reject(ei(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return sn(this.app)?Promise.reject(ei(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Js(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await OI(this),t=new VI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Gc("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await RI(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Js(e)||this._popupRedirectResolver;Le(t,this,"argument-error"),this.redirectPersistenceManager=await Ya.create(this,[Js(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,n,o);return()=>{u=!0,p()}}else{const p=e.addObserver(t);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=R2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&pI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ra(r){return Jt(r)}class gy{constructor(e){this.auth=e,this.observer=null,this.addObserver=eC(t=>this.observer=t)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Th={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FI(r){Th=r}function P2(r){return Th.loadJS(r)}function UI(){return Th.recaptchaEnterpriseScript}function BI(){return Th.gapiScript}function zI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class HI{constructor(){this.enterprise=new WI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class WI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const qI="recaptcha-enterprise",D2="NO_RECAPTCHA";class GI{constructor(e){this.type=qI,this.auth=ra(e)}async verify(e="verify",t=!1){async function n(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,h)=>{EI(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new NI(p);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,u(m.siteKey)}}).catch(p=>{h(p)})})}function o(l,u,h){const p=window.grecaptcha;dy(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(m=>{u(m)}).catch(()=>{u(D2)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HI().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{n(this.auth).then(h=>{if(!t&&dy(window.grecaptcha))o(h,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=UI();p.length!==0&&(p+=h),P2(p).then(()=>{o(h,l,u)}).catch(m=>{u(m)})}}).catch(h=>{u(h)})})}}async function xy(r,e,t,n=!1,o=!1){const l=new GI(r);let u;if(o)u=D2;else try{u=await l.verify(t)}catch{u=await l.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const p=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const p=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return n?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Nm(r,e,t,n,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await xy(r,e,t,t==="getOobCode");return n(r,l)}else return n(r,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await xy(r,e,t,t==="getOobCode");return n(r,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(r,e){const t=kh(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Qi(l,e??{}))return o;Gn(o,"already-initialized")}return t.initialize({options:e})}function YI(r,e){const t=e?.persistence||[],n=(Array.isArray(t)?t:[t]).map(Js);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e?.popupRedirectResolver)}function QI(r,e,t){const n=ra(r);Le(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const o=!1,l=M2(e),{host:u,port:h}=XI(e),p=h===null?"":`:${h}`,m={url:`${l}//${u}${p}/`},v=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!n._canInitEmulator){Le(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Le(Qi(m,n.config.emulator)&&Qi(v,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=m,n.emulatorConfig=v,n.settings.appVerificationDisabledForTesting=!0,ea(u)?(ug(`${l}//${u}${p}`),dg("Auth",!0)):JI()}function M2(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function XI(r){const e=M2(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(n);if(o){const l=o[1];return{host:l,port:vy(n.substr(l.length+1))}}else{const[l,u]=n.split(":");return{host:l,port:vy(u)}}}function vy(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function JI(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Xs("not implemented")}_getIdTokenResponse(e){return Xs("not implemented")}_linkToIdToken(e,t){return Xs("not implemented")}_getReauthenticationResolver(e){return Xs("not implemented")}}async function ZI(r,e){return ui(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e4(r,e){return Qc(r,"POST","/v1/accounts:signInWithPassword",oo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t4(r,e){return Qc(r,"POST","/v1/accounts:signInWithEmailLink",oo(r,e))}async function r4(r,e){return Qc(r,"POST","/v1/accounts:signInWithEmailLink",oo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac extends yg{constructor(e,t,n,o=null){super("password",n),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Ac(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Ac(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nm(e,t,"signInWithPassword",e4);case"emailLink":return t4(e,{email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nm(e,n,"signUpPassword",ZI);case"emailLink":return r4(e,{idToken:t,email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qa(r,e){return Qc(r,"POST","/v1/accounts:signInWithIdp",oo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4="http://localhost";class qo extends yg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new qo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Gn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:o,...l}=t;if(!n||!o)return null;const u=new qo(n,o);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Qa(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Qa(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Qa(e,t)}buildRequest(){const e={requestUri:n4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Kc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function i4(r){const e=gc(xc(r)).link,t=e?gc(xc(e)).deep_link_id:null,n=gc(xc(r)).deep_link_id;return(n?gc(xc(n)).link:null)||n||t||e||r}class bg{constructor(e){const t=gc(xc(e)),n=t.apiKey??null,o=t.oobCode??null,l=s4(t.mode??null);Le(n&&o&&l,"argument-error"),this.apiKey=n,this.operation=l,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=i4(e);try{return new bg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(){this.providerId=fl.PROVIDER_ID}static credential(e,t){return Ac._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=bg.parseLink(t);return Le(n,"argument-error"),Ac._fromEmailAndCode(e,n.code,n.tenantId)}}fl.PROVIDER_ID="password";fl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc extends O2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Xc{constructor(){super("facebook.com")}static credential(e){return qo._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Xc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return qo._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Ui.credential(t,n)}catch{return null}}}Ui.GOOGLE_SIGN_IN_METHOD="google.com";Ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends Xc{constructor(){super("github.com")}static credential(e){return qo._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.GITHUB_SIGN_IN_METHOD="github.com";Bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Xc{constructor(){super("twitter.com")}static credential(e,t){return qo._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return zi.credential(t,n)}catch{return null}}}zi.TWITTER_SIGN_IN_METHOD="twitter.com";zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o4(r,e){return Qc(r,"POST","/v1/accounts:signUp",oo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,o=!1){const l=await Un._fromIdTokenResponse(e,n,o),u=yy(n);return new Go({user:l,providerId:u,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const o=yy(n);return new Go({user:e,providerId:o,_tokenResponse:n,operationType:t})}}function yy(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh extends Rs{constructor(e,t,n,o){super(t.code,t.message),this.operationType=n,this.user=o,Object.setPrototypeOf(this,nh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,o){return new nh(e,t,n,o)}}function L2(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?nh._fromErrorAndOperation(r,l,e,n):l})}async function a4(r,e,t=!1){const n=await rl(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Go._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l4(r,e,t=!1){const{auth:n}=r;if(sn(n.app))return Promise.reject(ei(n));const o="reauthenticate";try{const l=await rl(r,L2(n,o,e,r),t);Le(l.idToken,n,"internal-error");const u=xg(l.idToken);Le(u,n,"internal-error");const{sub:h}=u;return Le(r.uid===h,n,"user-mismatch"),Go._forOperation(r,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&Gn(n,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V2(r,e,t=!1){if(sn(r.app))return Promise.reject(ei(r));const n="signIn",o=await L2(r,n,e),l=await Go._fromIdTokenResponse(r,n,o);return t||await r._updateCurrentUser(l.user),l}async function c4(r,e){return V2(ra(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $2(r){const e=ra(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function u4(r,e,t){if(sn(r.app))return Promise.reject(ei(r));const n=ra(r),u=await Nm(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",o4).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&$2(r),p}),h=await Go._fromIdTokenResponse(n,"signIn",u);return await n._updateCurrentUser(h.user),h}function d4(r,e,t){return sn(r.app)?Promise.reject(ei(r)):c4(Jt(r),fl.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&$2(r),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h4(r,e){return ui(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f4(r,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const n=Jt(r),l={idToken:await n.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await rl(n,h4(n.auth,l));n.displayName=u.displayName||null,n.photoURL=u.photoUrl||null;const h=n.providerData.find(({providerId:p})=>p==="password");h&&(h.displayName=n.displayName,h.photoURL=n.photoURL),await n._updateTokensIfNecessary(u)}function p4(r,e,t,n){return Jt(r).onIdTokenChanged(e,t,n)}function m4(r,e,t){return Jt(r).beforeAuthStateChanged(e,t)}const sh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(sh,"1"),this.storage.removeItem(sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4=1e3,x4=10;class U2 extends F2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=A2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),o=this.localCache[t];n!==o&&e(t,o,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,p)=>{this.notifyListeners(u,p)});return}const n=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(n);!t&&this.localCache[n]===u||this.notifyListeners(n,u)},l=this.storage.getItem(n);DI()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,x4):o()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const o of Array.from(n))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},g4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}U2.type="LOCAL";const v4=U2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2 extends F2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}B2.type="SESSION";const z2=B2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const n=new Ch(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:o,data:l}=t.data,u=this.handlersMap[o];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:o});const h=Array.from(u).map(async m=>m(t.origin,l)),p=await y4(h);t.ports[0].postMessage({status:"done",eventId:n,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ch.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,u;return new Promise((h,p)=>{const m=wg("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},n);u={messageChannel:o,onMessage(x){const w=x;if(w.data.eventId===m)switch(w.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(w.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(){return window}function w4(r){Ns().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(){return typeof Ns().WorkerGlobalScope<"u"&&typeof Ns().importScripts=="function"}async function _4(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function N4(){return navigator?.serviceWorker?.controller||null}function E4(){return H2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="firebaseLocalStorageDb",j4=1,ih="firebaseLocalStorage",q2="fbase_key";class Jc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ih(r,e){return r.transaction([ih],e?"readwrite":"readonly").objectStore(ih)}function S4(){const r=indexedDB.deleteDatabase(W2);return new Jc(r).toPromise()}function Em(){const r=indexedDB.open(W2,j4);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(ih,{keyPath:q2})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(ih)?e(n):(n.close(),await S4(),e(await Em()))})})}async function by(r,e,t){const n=Ih(r,!0).put({[q2]:e,value:t});return new Jc(n).toPromise()}async function k4(r,e){const t=Ih(r,!1).get(e),n=await new Jc(t).toPromise();return n===void 0?null:n.value}function wy(r,e){const t=Ih(r,!0).delete(e);return new Jc(t).toPromise()}const T4=800,C4=3;class G2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Em(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>C4)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return H2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ch._getInstance(E4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await _4(),!this.activeServiceWorker)return;this.sender=new b4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||N4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Em();return await by(e,sh,"1"),await wy(e,sh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>by(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>k4(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>wy(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Ih(o,!1).getAll();return new Jc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)n.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!n.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const o of Array.from(n))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),T4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}G2.type="LOCAL";const I4=G2;new Yc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A4(r,e){return e?Js(e):(Le(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g extends yg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Qa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Qa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function R4(r){return V2(r.auth,new _g(r),r.bypassAuthState)}function P4(r){const{auth:e,user:t}=r;return Le(t,e,"internal-error"),l4(t,new _g(r),r.bypassAuthState)}async function D4(r){const{auth:e,user:t}=r;return Le(t,e,"internal-error"),a4(t,new _g(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,t,n,o,l=!1){this.auth=e,this.resolver=n,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:o,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:t,sessionId:n,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return R4;case"linkViaPopup":case"linkViaRedirect":return D4;case"reauthViaPopup":case"reauthViaRedirect":return P4;default:Gn(this.auth,"internal-error")}}resolve(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=new Yc(2e3,1e4);class Ga extends K2{constructor(e,t,n,o,l){super(e,t,o,l),this.provider=n,this.authWindow=null,this.pollId=null,Ga.currentPopupAction&&Ga.currentPopupAction.cancel(),Ga.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){si(this.filter.length===1,"Popup operations only handle one event");const e=wg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(_s(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(_s(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ga.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_s(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,M4.get())};e()}}Ga.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4="pendingRedirect",Vd=new Map;class L4 extends K2{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Vd.get(this.auth._key());if(!e){try{const n=await V4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Vd.set(this.auth._key(),e)}return this.bypassAuthState||Vd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function V4(r,e){const t=U4(e),n=F4(r);if(!await n._isAvailable())return!1;const o=await n._get(t)==="true";return await n._remove(t),o}function $4(r,e){Vd.set(r._key(),e)}function F4(r){return Js(r._redirectPersistence)}function U4(r){return Ld(O4,r.config.apiKey,r.name)}async function B4(r,e,t=!1){if(sn(r.app))return Promise.reject(ei(r));const n=ra(r),o=A4(n,e),u=await new L4(n,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await n._persistUserIfCurrent(u.user),await n._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4=600*1e3;class H4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!W4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Y2(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(_s(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=z4&&this.cachedEventUids.clear(),this.cachedEventUids.has(_y(e))}saveEventToCache(e){this.cachedEventUids.add(_y(e)),this.lastProcessedEventTime=Date.now()}}function _y(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Y2({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function W4(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Y2(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q4(r,e={}){return ui(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,K4=/^https?/;async function Y4(r){if(r.config.emulator)return;const{authorizedDomains:e}=await q4(r);for(const t of e)try{if(Q4(t))return}catch{}Gn(r,"unauthorized-domain")}function Q4(r){const e=wm(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const u=new URL(r);return u.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===n}if(!K4.test(t))return!1;if(G4.test(r))return n===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4=new Yc(3e4,6e4);function Ny(){const r=Ns().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function J4(r){return new Promise((e,t)=>{function n(){Ny(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ny(),t(_s(r,"network-request-failed"))},timeout:X4.get()})}if(Ns().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ns().gapi?.load)n();else{const o=zI("iframefcb");return Ns()[o]=()=>{gapi.load?n():t(_s(r,"network-request-failed"))},P2(`${BI()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw $d=null,e})}let $d=null;function Z4(r){return $d=$d||J4(r),$d}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5=new Yc(5e3,15e3),t5="__/auth/iframe",r5="emulator/auth/iframe",n5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},s5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function i5(r){const e=r.config;Le(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?gg(e,r5):`https://${r.config.authDomain}/${t5}`,n={apiKey:e.apiKey,appName:r.name,v:ta},o=s5.get(r.config.apiHost);o&&(n.eid=o);const l=r._getFrameworks();return l.length&&(n.fw=l.join(",")),`${t}?${Kc(n).slice(1)}`}async function o5(r){const e=await Z4(r),t=Ns().gapi;return Le(t,r,"internal-error"),e.open({where:document.body,url:i5(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:n5,dontclear:!0},n=>new Promise(async(o,l)=>{await n.restyle({setHideOnLeave:!1});const u=_s(r,"network-request-failed"),h=Ns().setTimeout(()=>{l(u)},e5.get());function p(){Ns().clearTimeout(h),o(n)}n.ping(p).then(p,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},l5=500,c5=600,u5="_blank",d5="http://localhost";class Ey{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function h5(r,e,t,n=l5,o=c5){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-n)/2,0).toString();let h="";const p={...a5,width:n.toString(),height:o.toString(),top:l,left:u},m=jr().toLowerCase();t&&(h=S2(m)?u5:t),E2(m)&&(e=e||d5,p.scrollbars="yes");const v=Object.entries(p).reduce((w,[k,P])=>`${w}${k}=${P},`,"");if(PI(m)&&h!=="_self")return f5(e||"",h),new Ey(null);const x=window.open(e||"",h,v);Le(x,r,"popup-blocked");try{x.focus()}catch{}return new Ey(x)}function f5(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p5="__/auth/handler",m5="emulator/auth/handler",g5=encodeURIComponent("fac");async function jy(r,e,t,n,o,l){Le(r.config.authDomain,r,"auth-domain-config-required"),Le(r.config.apiKey,r,"invalid-api-key");const u={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:ta,eventId:o};if(e instanceof O2){e.setDefaultLanguage(r.languageCode),u.providerId=e.providerId||"",ZT(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,x]of Object.entries({}))u[v]=x}if(e instanceof Xc){const v=e.getScopes().filter(x=>x!=="");v.length>0&&(u.scopes=v.join(","))}r.tenantId&&(u.tid=r.tenantId);const h=u;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const p=await r._getAppCheckToken(),m=p?`#${g5}=${encodeURIComponent(p)}`:"";return`${x5(r)}?${Kc(h).slice(1)}${m}`}function x5({config:r}){return r.emulator?gg(r,m5):`https://${r.authDomain}/${p5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp="webStorageSupport";class v5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=z2,this._completeRedirectFn=B4,this._overrideRedirectResult=$4}async _openPopup(e,t,n,o){si(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await jy(e,t,n,wm(),o);return h5(e,l,wg())}async _openRedirect(e,t,n,o){await this._originValidation(e);const l=await jy(e,t,n,wm(),o);return w4(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(si(l,"If manager is not set, promise should be"),l)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await o5(e),n=new H4(e);return t.register("authEvent",o=>(Le(o?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Kp,{type:Kp},o=>{const l=o?.[0]?.[Kp];l!==void 0&&t(!!l),Gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Y4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return A2()||j2()||vg()}}const y5=v5;var Sy="@firebase/auth",ky="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w5(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _5(r){Wo(new Xi("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=n.options;Le(u&&!u.includes(":"),"invalid-api-key",{appName:n.name});const p={apiKey:u,authDomain:h,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:R2(r)},m=new $I(n,o,l,p);return YI(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Wo(new Xi("auth-internal",e=>{const t=ra(e.getProvider("auth").getImmediate());return(n=>new b5(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ws(Sy,ky,w5(r)),ws(Sy,ky,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5=300,E5=c2("authIdTokenMaxAge")||N5;let Ty=null;const j5=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>E5)return;const o=t?.token;Ty!==o&&(Ty=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function S5(r=pg()){const e=kh(r,"auth");if(e.isInitialized())return e.getImmediate();const t=KI(r,{popupRedirectResolver:y5,persistence:[I4,v4,z2]}),n=c2("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(n,location.origin);if(location.origin===l.origin){const u=j5(l.toString());m4(t,u,()=>u(t.currentUser)),p4(t,h=>u(h))}}const o=o2("auth");return o&&QI(t,`http://${o}`),t}function k5(){return document.getElementsByTagName("head")?.[0]??document}FI({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=o=>{const l=_s("internal-error");l.customData=o,t(l)},n.type="text/javascript",n.charset="UTF-8",k5().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_5("Browser");var Cy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gi,Q2;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,E){function C(){}C.prototype=E.prototype,A.F=E.prototype,A.prototype=new C,A.prototype.constructor=A,A.D=function(O,L,D){for(var R=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)R[ge-2]=arguments[ge];return E.prototype[L].apply(O,R)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,t),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(A,E,C){C||(C=0);const O=Array(16);if(typeof E=="string")for(var L=0;L<16;++L)O[L]=E.charCodeAt(C++)|E.charCodeAt(C++)<<8|E.charCodeAt(C++)<<16|E.charCodeAt(C++)<<24;else for(L=0;L<16;++L)O[L]=E[C++]|E[C++]<<8|E[C++]<<16|E[C++]<<24;E=A.g[0],C=A.g[1],L=A.g[2];let D=A.g[3],R;R=E+(D^C&(L^D))+O[0]+3614090360&4294967295,E=C+(R<<7&4294967295|R>>>25),R=D+(L^E&(C^L))+O[1]+3905402710&4294967295,D=E+(R<<12&4294967295|R>>>20),R=L+(C^D&(E^C))+O[2]+606105819&4294967295,L=D+(R<<17&4294967295|R>>>15),R=C+(E^L&(D^E))+O[3]+3250441966&4294967295,C=L+(R<<22&4294967295|R>>>10),R=E+(D^C&(L^D))+O[4]+4118548399&4294967295,E=C+(R<<7&4294967295|R>>>25),R=D+(L^E&(C^L))+O[5]+1200080426&4294967295,D=E+(R<<12&4294967295|R>>>20),R=L+(C^D&(E^C))+O[6]+2821735955&4294967295,L=D+(R<<17&4294967295|R>>>15),R=C+(E^L&(D^E))+O[7]+4249261313&4294967295,C=L+(R<<22&4294967295|R>>>10),R=E+(D^C&(L^D))+O[8]+1770035416&4294967295,E=C+(R<<7&4294967295|R>>>25),R=D+(L^E&(C^L))+O[9]+2336552879&4294967295,D=E+(R<<12&4294967295|R>>>20),R=L+(C^D&(E^C))+O[10]+4294925233&4294967295,L=D+(R<<17&4294967295|R>>>15),R=C+(E^L&(D^E))+O[11]+2304563134&4294967295,C=L+(R<<22&4294967295|R>>>10),R=E+(D^C&(L^D))+O[12]+1804603682&4294967295,E=C+(R<<7&4294967295|R>>>25),R=D+(L^E&(C^L))+O[13]+4254626195&4294967295,D=E+(R<<12&4294967295|R>>>20),R=L+(C^D&(E^C))+O[14]+2792965006&4294967295,L=D+(R<<17&4294967295|R>>>15),R=C+(E^L&(D^E))+O[15]+1236535329&4294967295,C=L+(R<<22&4294967295|R>>>10),R=E+(L^D&(C^L))+O[1]+4129170786&4294967295,E=C+(R<<5&4294967295|R>>>27),R=D+(C^L&(E^C))+O[6]+3225465664&4294967295,D=E+(R<<9&4294967295|R>>>23),R=L+(E^C&(D^E))+O[11]+643717713&4294967295,L=D+(R<<14&4294967295|R>>>18),R=C+(D^E&(L^D))+O[0]+3921069994&4294967295,C=L+(R<<20&4294967295|R>>>12),R=E+(L^D&(C^L))+O[5]+3593408605&4294967295,E=C+(R<<5&4294967295|R>>>27),R=D+(C^L&(E^C))+O[10]+38016083&4294967295,D=E+(R<<9&4294967295|R>>>23),R=L+(E^C&(D^E))+O[15]+3634488961&4294967295,L=D+(R<<14&4294967295|R>>>18),R=C+(D^E&(L^D))+O[4]+3889429448&4294967295,C=L+(R<<20&4294967295|R>>>12),R=E+(L^D&(C^L))+O[9]+568446438&4294967295,E=C+(R<<5&4294967295|R>>>27),R=D+(C^L&(E^C))+O[14]+3275163606&4294967295,D=E+(R<<9&4294967295|R>>>23),R=L+(E^C&(D^E))+O[3]+4107603335&4294967295,L=D+(R<<14&4294967295|R>>>18),R=C+(D^E&(L^D))+O[8]+1163531501&4294967295,C=L+(R<<20&4294967295|R>>>12),R=E+(L^D&(C^L))+O[13]+2850285829&4294967295,E=C+(R<<5&4294967295|R>>>27),R=D+(C^L&(E^C))+O[2]+4243563512&4294967295,D=E+(R<<9&4294967295|R>>>23),R=L+(E^C&(D^E))+O[7]+1735328473&4294967295,L=D+(R<<14&4294967295|R>>>18),R=C+(D^E&(L^D))+O[12]+2368359562&4294967295,C=L+(R<<20&4294967295|R>>>12),R=E+(C^L^D)+O[5]+4294588738&4294967295,E=C+(R<<4&4294967295|R>>>28),R=D+(E^C^L)+O[8]+2272392833&4294967295,D=E+(R<<11&4294967295|R>>>21),R=L+(D^E^C)+O[11]+1839030562&4294967295,L=D+(R<<16&4294967295|R>>>16),R=C+(L^D^E)+O[14]+4259657740&4294967295,C=L+(R<<23&4294967295|R>>>9),R=E+(C^L^D)+O[1]+2763975236&4294967295,E=C+(R<<4&4294967295|R>>>28),R=D+(E^C^L)+O[4]+1272893353&4294967295,D=E+(R<<11&4294967295|R>>>21),R=L+(D^E^C)+O[7]+4139469664&4294967295,L=D+(R<<16&4294967295|R>>>16),R=C+(L^D^E)+O[10]+3200236656&4294967295,C=L+(R<<23&4294967295|R>>>9),R=E+(C^L^D)+O[13]+681279174&4294967295,E=C+(R<<4&4294967295|R>>>28),R=D+(E^C^L)+O[0]+3936430074&4294967295,D=E+(R<<11&4294967295|R>>>21),R=L+(D^E^C)+O[3]+3572445317&4294967295,L=D+(R<<16&4294967295|R>>>16),R=C+(L^D^E)+O[6]+76029189&4294967295,C=L+(R<<23&4294967295|R>>>9),R=E+(C^L^D)+O[9]+3654602809&4294967295,E=C+(R<<4&4294967295|R>>>28),R=D+(E^C^L)+O[12]+3873151461&4294967295,D=E+(R<<11&4294967295|R>>>21),R=L+(D^E^C)+O[15]+530742520&4294967295,L=D+(R<<16&4294967295|R>>>16),R=C+(L^D^E)+O[2]+3299628645&4294967295,C=L+(R<<23&4294967295|R>>>9),R=E+(L^(C|~D))+O[0]+4096336452&4294967295,E=C+(R<<6&4294967295|R>>>26),R=D+(C^(E|~L))+O[7]+1126891415&4294967295,D=E+(R<<10&4294967295|R>>>22),R=L+(E^(D|~C))+O[14]+2878612391&4294967295,L=D+(R<<15&4294967295|R>>>17),R=C+(D^(L|~E))+O[5]+4237533241&4294967295,C=L+(R<<21&4294967295|R>>>11),R=E+(L^(C|~D))+O[12]+1700485571&4294967295,E=C+(R<<6&4294967295|R>>>26),R=D+(C^(E|~L))+O[3]+2399980690&4294967295,D=E+(R<<10&4294967295|R>>>22),R=L+(E^(D|~C))+O[10]+4293915773&4294967295,L=D+(R<<15&4294967295|R>>>17),R=C+(D^(L|~E))+O[1]+2240044497&4294967295,C=L+(R<<21&4294967295|R>>>11),R=E+(L^(C|~D))+O[8]+1873313359&4294967295,E=C+(R<<6&4294967295|R>>>26),R=D+(C^(E|~L))+O[15]+4264355552&4294967295,D=E+(R<<10&4294967295|R>>>22),R=L+(E^(D|~C))+O[6]+2734768916&4294967295,L=D+(R<<15&4294967295|R>>>17),R=C+(D^(L|~E))+O[13]+1309151649&4294967295,C=L+(R<<21&4294967295|R>>>11),R=E+(L^(C|~D))+O[4]+4149444226&4294967295,E=C+(R<<6&4294967295|R>>>26),R=D+(C^(E|~L))+O[11]+3174756917&4294967295,D=E+(R<<10&4294967295|R>>>22),R=L+(E^(D|~C))+O[2]+718787259&4294967295,L=D+(R<<15&4294967295|R>>>17),R=C+(D^(L|~E))+O[9]+3951481745&4294967295,A.g[0]=A.g[0]+E&4294967295,A.g[1]=A.g[1]+(L+(R<<21&4294967295|R>>>11))&4294967295,A.g[2]=A.g[2]+L&4294967295,A.g[3]=A.g[3]+D&4294967295}n.prototype.v=function(A,E){E===void 0&&(E=A.length);const C=E-this.blockSize,O=this.C;let L=this.h,D=0;for(;D<E;){if(L==0)for(;D<=C;)o(this,A,D),D+=this.blockSize;if(typeof A=="string"){for(;D<E;)if(O[L++]=A.charCodeAt(D++),L==this.blockSize){o(this,O),L=0;break}}else for(;D<E;)if(O[L++]=A[D++],L==this.blockSize){o(this,O),L=0;break}}this.h=L,this.o+=E},n.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var E=1;E<A.length-8;++E)A[E]=0;E=this.o*8;for(var C=A.length-8;C<A.length;++C)A[C]=E&255,E/=256;for(this.v(A),A=Array(16),E=0,C=0;C<4;++C)for(let O=0;O<32;O+=8)A[E++]=this.g[C]>>>O&255;return A};function l(A,E){var C=h;return Object.prototype.hasOwnProperty.call(C,A)?C[A]:C[A]=E(A)}function u(A,E){this.h=E;const C=[];let O=!0;for(let L=A.length-1;L>=0;L--){const D=A[L]|0;O&&D==E||(C[L]=D,O=!1)}this.g=C}var h={};function p(A){return-128<=A&&A<128?l(A,function(E){return new u([E|0],E<0?-1:0)}):new u([A|0],A<0?-1:0)}function m(A){if(isNaN(A)||!isFinite(A))return x;if(A<0)return T(m(-A));const E=[];let C=1;for(let O=0;A>=C;O++)E[O]=A/C|0,C*=4294967296;return new u(E,0)}function v(A,E){if(A.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(A.charAt(0)=="-")return T(v(A.substring(1),E));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=m(Math.pow(E,8));let O=x;for(let D=0;D<A.length;D+=8){var L=Math.min(8,A.length-D);const R=parseInt(A.substring(D,D+L),E);L<8?(L=m(Math.pow(E,L)),O=O.j(L).add(m(R))):(O=O.j(C),O=O.add(m(R)))}return O}var x=p(0),w=p(1),k=p(16777216);r=u.prototype,r.m=function(){if(j(this))return-T(this).m();let A=0,E=1;for(let C=0;C<this.g.length;C++){const O=this.i(C);A+=(O>=0?O:4294967296+O)*E,E*=4294967296}return A},r.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(P(this))return"0";if(j(this))return"-"+T(this).toString(A);const E=m(Math.pow(A,6));var C=this;let O="";for(;;){const L=$(C,E).g;C=M(C,L.j(E));let D=((C.g.length>0?C.g[0]:C.h)>>>0).toString(A);if(C=L,P(C))return D+O;for(;D.length<6;)D="0"+D;O=D+O}},r.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function P(A){if(A.h!=0)return!1;for(let E=0;E<A.g.length;E++)if(A.g[E]!=0)return!1;return!0}function j(A){return A.h==-1}r.l=function(A){return A=M(this,A),j(A)?-1:P(A)?0:1};function T(A){const E=A.g.length,C=[];for(let O=0;O<E;O++)C[O]=~A.g[O];return new u(C,~A.h).add(w)}r.abs=function(){return j(this)?T(this):this},r.add=function(A){const E=Math.max(this.g.length,A.g.length),C=[];let O=0;for(let L=0;L<=E;L++){let D=O+(this.i(L)&65535)+(A.i(L)&65535),R=(D>>>16)+(this.i(L)>>>16)+(A.i(L)>>>16);O=R>>>16,D&=65535,R&=65535,C[L]=R<<16|D}return new u(C,C[C.length-1]&-2147483648?-1:0)};function M(A,E){return A.add(T(E))}r.j=function(A){if(P(this)||P(A))return x;if(j(this))return j(A)?T(this).j(T(A)):T(T(this).j(A));if(j(A))return T(this.j(T(A)));if(this.l(k)<0&&A.l(k)<0)return m(this.m()*A.m());const E=this.g.length+A.g.length,C=[];for(var O=0;O<2*E;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(let L=0;L<A.g.length;L++){const D=this.i(O)>>>16,R=this.i(O)&65535,ge=A.i(L)>>>16,le=A.i(L)&65535;C[2*O+2*L]+=R*le,B(C,2*O+2*L),C[2*O+2*L+1]+=D*le,B(C,2*O+2*L+1),C[2*O+2*L+1]+=R*ge,B(C,2*O+2*L+1),C[2*O+2*L+2]+=D*ge,B(C,2*O+2*L+2)}for(A=0;A<E;A++)C[A]=C[2*A+1]<<16|C[2*A];for(A=E;A<2*E;A++)C[A]=0;return new u(C,0)};function B(A,E){for(;(A[E]&65535)!=A[E];)A[E+1]+=A[E]>>>16,A[E]&=65535,E++}function F(A,E){this.g=A,this.h=E}function $(A,E){if(P(E))throw Error("division by zero");if(P(A))return new F(x,x);if(j(A))return E=$(T(A),E),new F(T(E.g),T(E.h));if(j(E))return E=$(A,T(E)),new F(T(E.g),E.h);if(A.g.length>30){if(j(A)||j(E))throw Error("slowDivide_ only works with positive integers.");for(var C=w,O=E;O.l(A)<=0;)C=z(C),O=z(O);var L=J(C,1),D=J(O,1);for(O=J(O,2),C=J(C,2);!P(O);){var R=D.add(O);R.l(A)<=0&&(L=L.add(C),D=R),O=J(O,1),C=J(C,1)}return E=M(A,L.j(E)),new F(L,E)}for(L=x;A.l(E)>=0;){for(C=Math.max(1,Math.floor(A.m()/E.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),D=m(C),R=D.j(E);j(R)||R.l(A)>0;)C-=O,D=m(C),R=D.j(E);P(D)&&(D=w),L=L.add(D),A=M(A,R)}return new F(L,A)}r.B=function(A){return $(this,A).h},r.and=function(A){const E=Math.max(this.g.length,A.g.length),C=[];for(let O=0;O<E;O++)C[O]=this.i(O)&A.i(O);return new u(C,this.h&A.h)},r.or=function(A){const E=Math.max(this.g.length,A.g.length),C=[];for(let O=0;O<E;O++)C[O]=this.i(O)|A.i(O);return new u(C,this.h|A.h)},r.xor=function(A){const E=Math.max(this.g.length,A.g.length),C=[];for(let O=0;O<E;O++)C[O]=this.i(O)^A.i(O);return new u(C,this.h^A.h)};function z(A){const E=A.g.length+1,C=[];for(let O=0;O<E;O++)C[O]=A.i(O)<<1|A.i(O-1)>>>31;return new u(C,A.h)}function J(A,E){const C=E>>5;E%=32;const O=A.g.length-C,L=[];for(let D=0;D<O;D++)L[D]=E>0?A.i(D+C)>>>E|A.i(D+C+1)<<32-E:A.i(D+C);return new u(L,A.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,Q2=n,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,Gi=u}).apply(typeof Cy<"u"?Cy:typeof self<"u"?self:typeof window<"u"?window:{});var yd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var X2,vc,J2,Fd,jm,Z2,e1,t1;(function(){var r,e=Object.defineProperty;function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof yd=="object"&&yd];for(var b=0;b<d.length;++b){var _=d[b];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var n=t(this);function o(d,b){if(b)e:{var _=n;d=d.split(".");for(var I=0;I<d.length-1;I++){var K=d[I];if(!(K in _))break e;_=_[K]}d=d[d.length-1],I=_[d],b=b(I),b!=I&&b!=null&&e(_,d,{configurable:!0,writable:!0,value:b})}}o("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(d){return d||function(b){var _=[],I;for(I in b)Object.prototype.hasOwnProperty.call(b,I)&&_.push([I,b[I]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(d){var b=typeof d;return b=="object"&&d!=null||b=="function"}function p(d,b,_){return d.call.apply(d.bind,arguments)}function m(d,b,_){return m=p,m.apply(null,arguments)}function v(d,b){var _=Array.prototype.slice.call(arguments,1);return function(){var I=_.slice();return I.push.apply(I,arguments),d.apply(this,I)}}function x(d,b){function _(){}_.prototype=b.prototype,d.Z=b.prototype,d.prototype=new _,d.prototype.constructor=d,d.Ob=function(I,K,X){for(var ve=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)ve[Ue-2]=arguments[Ue];return b.prototype[K].apply(I,ve)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function k(d){const b=d.length;if(b>0){const _=Array(b);for(let I=0;I<b;I++)_[I]=d[I];return _}return[]}function P(d,b){for(let I=1;I<arguments.length;I++){const K=arguments[I];var _=typeof K;if(_=_!="object"?_:K?Array.isArray(K)?"array":_:"null",_=="array"||_=="object"&&typeof K.length=="number"){_=d.length||0;const X=K.length||0;d.length=_+X;for(let ve=0;ve<X;ve++)d[_+ve]=K[ve]}else d.push(K)}}class j{constructor(b,_){this.i=b,this.j=_,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function T(d){u.setTimeout(()=>{throw d},0)}function M(){var d=A;let b=null;return d.g&&(b=d.g,d.g=d.g.next,d.g||(d.h=null),b.next=null),b}class B{constructor(){this.h=this.g=null}add(b,_){const I=F.get();I.set(b,_),this.h?this.h.next=I:this.g=I,this.h=I}}var F=new j(()=>new $,d=>d.reset());class ${constructor(){this.next=this.g=this.h=null}set(b,_){this.h=b,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let z,J=!1,A=new B,E=()=>{const d=Promise.resolve(void 0);z=()=>{d.then(C)}};function C(){for(var d;d=M();){try{d.h.call(d.g)}catch(_){T(_)}var b=F;b.j(d),b.h<100&&(b.h++,d.next=b.g,b.g=d)}J=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(d,b){this.type=d,this.g=this.target=b,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var D=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,b=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const _=()=>{};u.addEventListener("test",_,b),u.removeEventListener("test",_,b)}catch{}return d})();function R(d){return/^[\s\xa0]*$/.test(d)}function ge(d,b){L.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,b)}x(ge,L),ge.prototype.init=function(d,b){const _=this.type=d.type,I=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=b,b=d.relatedTarget,b||(_=="mouseover"?b=d.fromElement:_=="mouseout"&&(b=d.toElement)),this.relatedTarget=b,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&ge.Z.h.call(this)},ge.prototype.h=function(){ge.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var le="closure_listenable_"+(Math.random()*1e6|0),Z=0;function re(d,b,_,I,K){this.listener=d,this.proxy=null,this.src=b,this.type=_,this.capture=!!I,this.ha=K,this.key=++Z,this.da=this.fa=!1}function q(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function de(d,b,_){for(const I in d)b.call(_,d[I],I,d)}function ae(d,b){for(const _ in d)b.call(void 0,d[_],_,d)}function H(d){const b={};for(const _ in d)b[_]=d[_];return b}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ee(d,b){let _,I;for(let K=1;K<arguments.length;K++){I=arguments[K];for(_ in I)d[_]=I[_];for(let X=0;X<te.length;X++)_=te[X],Object.prototype.hasOwnProperty.call(I,_)&&(d[_]=I[_])}}function ie(d){this.src=d,this.g={},this.h=0}ie.prototype.add=function(d,b,_,I,K){const X=d.toString();d=this.g[X],d||(d=this.g[X]=[],this.h++);const ve=_e(d,b,I,K);return ve>-1?(b=d[ve],_||(b.fa=!1)):(b=new re(b,this.src,X,!!I,K),b.fa=_,d.push(b)),b};function xe(d,b){const _=b.type;if(_ in d.g){var I=d.g[_],K=Array.prototype.indexOf.call(I,b,void 0),X;(X=K>=0)&&Array.prototype.splice.call(I,K,1),X&&(q(b),d.g[_].length==0&&(delete d.g[_],d.h--))}}function _e(d,b,_,I){for(let K=0;K<d.length;++K){const X=d[K];if(!X.da&&X.listener==b&&X.capture==!!_&&X.ha==I)return K}return-1}var oe="closure_lm_"+(Math.random()*1e6|0),fe={};function Ae(d,b,_,I,K){if(Array.isArray(b)){for(let X=0;X<b.length;X++)Ae(d,b[X],_,I,K);return null}return _=Ke(_),d&&d[le]?d.J(b,_,h(I)?!!I.capture:!1,K):Pe(d,b,_,!1,I,K)}function Pe(d,b,_,I,K,X){if(!b)throw Error("Invalid event type");const ve=h(K)?!!K.capture:!!K;let Ue=Sr(d);if(Ue||(d[oe]=Ue=new ie(d)),_=Ue.add(b,_,I,ve,X),_.proxy)return _;if(I=ze(),_.proxy=I,I.src=d,I.listener=_,d.addEventListener)D||(K=ve),K===void 0&&(K=!1),d.addEventListener(b.toString(),I,K);else if(d.attachEvent)d.attachEvent(Lt(b.toString()),I);else if(d.addListener&&d.removeListener)d.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ze(){function d(_){return b.call(d.src,d.listener,_)}const b=cn;return d}function He(d,b,_,I,K){if(Array.isArray(b))for(var X=0;X<b.length;X++)He(d,b[X],_,I,K);else I=h(I)?!!I.capture:!!I,_=Ke(_),d&&d[le]?(d=d.i,X=String(b).toString(),X in d.g&&(b=d.g[X],_=_e(b,_,I,K),_>-1&&(q(b[_]),Array.prototype.splice.call(b,_,1),b.length==0&&(delete d.g[X],d.h--)))):d&&(d=Sr(d))&&(b=d.g[b.toString()],d=-1,b&&(d=_e(b,_,I,K)),(_=d>-1?b[d]:null)&&pt(_))}function pt(d){if(typeof d!="number"&&d&&!d.da){var b=d.src;if(b&&b[le])xe(b.i,d);else{var _=d.type,I=d.proxy;b.removeEventListener?b.removeEventListener(_,I,d.capture):b.detachEvent?b.detachEvent(Lt(_),I):b.addListener&&b.removeListener&&b.removeListener(I),(_=Sr(b))?(xe(_,d),_.h==0&&(_.src=null,b[oe]=null)):q(d)}}}function Lt(d){return d in fe?fe[d]:fe[d]="on"+d}function cn(d,b){if(d.da)d=!0;else{b=new ge(b,this);const _=d.listener,I=d.ha||d.src;d.fa&&pt(d),d=_.call(I,b)}return d}function Sr(d){return d=d[oe],d instanceof ie?d:null}var ye="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ke(d){return typeof d=="function"?d:(d[ye]||(d[ye]=function(b){return d.handleEvent(b)}),d[ye])}function We(){O.call(this),this.i=new ie(this),this.M=this,this.G=null}x(We,O),We.prototype[le]=!0,We.prototype.removeEventListener=function(d,b,_,I){He(this,d,b,_,I)};function lt(d,b){var _,I=d.G;if(I)for(_=[];I;I=I.G)_.push(I);if(d=d.M,I=b.type||b,typeof b=="string")b=new L(b,d);else if(b instanceof L)b.target=b.target||d;else{var K=b;b=new L(I,d),ee(b,K)}K=!0;let X,ve;if(_)for(ve=_.length-1;ve>=0;ve--)X=b.g=_[ve],K=Zt(X,I,!0,b)&&K;if(X=b.g=d,K=Zt(X,I,!0,b)&&K,K=Zt(X,I,!1,b)&&K,_)for(ve=0;ve<_.length;ve++)X=b.g=_[ve],K=Zt(X,I,!1,b)&&K}We.prototype.N=function(){if(We.Z.N.call(this),this.i){var d=this.i;for(const b in d.g){const _=d.g[b];for(let I=0;I<_.length;I++)q(_[I]);delete d.g[b],d.h--}}this.G=null},We.prototype.J=function(d,b,_,I){return this.i.add(String(d),b,!1,_,I)},We.prototype.K=function(d,b,_,I){return this.i.add(String(d),b,!0,_,I)};function Zt(d,b,_,I){if(b=d.i.g[String(b)],!b)return!0;b=b.concat();let K=!0;for(let X=0;X<b.length;++X){const ve=b[X];if(ve&&!ve.da&&ve.capture==_){const Ue=ve.listener,Pt=ve.ha||ve.src;ve.fa&&xe(d.i,ve),K=Ue.call(Pt,I)!==!1&&K}}return K&&!I.defaultPrevented}function ct(d,b){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:u.setTimeout(d,b||0)}function mr(d){d.g=ct(()=>{d.g=null,d.i&&(d.i=!1,mr(d))},d.l);const b=d.h;d.h=null,d.m.apply(null,b)}class or extends O{constructor(b,_){super(),this.m=b,this.l=_,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:mr(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qr(d){O.call(this),this.h=d,this.g={}}x(qr,O);var Jn=[];function di(d){de(d.g,function(b,_){this.g.hasOwnProperty(_)&&pt(b)},d),d.g={}}qr.prototype.N=function(){qr.Z.N.call(this),di(this)},qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kn=u.JSON.stringify,hi=u.JSON.parse,Pr=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function Tn(){}function Cn(){}var Zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function fi(){L.call(this,"d")}x(fi,L);function pi(){L.call(this,"c")}x(pi,L);var Dr={},mi=null;function un(){return mi=mi||new We}Dr.Ia="serverreachability";function kr(d){L.call(this,Dr.Ia,d)}x(kr,L);function In(d){const b=un();lt(b,new kr(b))}Dr.STAT_EVENT="statevent";function An(d,b){L.call(this,Dr.STAT_EVENT,d),this.stat=b}x(An,L);function mt(d){const b=un();lt(b,new An(b,d))}Dr.Ja="timingevent";function gi(d,b){L.call(this,Dr.Ja,d),this.size=b}x(gi,L);function Oe(d,b){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},b)}function ut(){this.g=!0}ut.prototype.ua=function(){this.g=!1};function Rt(d,b,_,I,K,X){d.info(function(){if(d.g)if(X){var ve="",Ue=X.split("&");for(let ot=0;ot<Ue.length;ot++){var Pt=Ue[ot].split("=");if(Pt.length>1){const Ft=Pt[0];Pt=Pt[1];const Zr=Ft.split("_");ve=Zr.length>=2&&Zr[1]=="type"?ve+(Ft+"="+Pt+"&"):ve+(Ft+"=redacted&")}}}else ve=null;else ve=X;return"XMLHTTP REQ ("+I+") [attempt "+K+"]: "+b+`
`+_+`
`+ve})}function er(d,b,_,I,K,X,ve){d.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+K+"]: "+b+`
`+_+`
`+X+" "+ve})}function Tr(d,b,_,I){d.info(function(){return"XMLHTTP TEXT ("+b+"): "+Vt(d,_)+(I?" "+I:"")})}function kt(d,b){d.info(function(){return"TIMEOUT: "+b})}ut.prototype.info=function(){};function Vt(d,b){if(!d.g)return b;if(!b)return null;try{const X=JSON.parse(b);if(X){for(d=0;d<X.length;d++)if(Array.isArray(X[d])){var _=X[d];if(!(_.length<2)){var I=_[1];if(Array.isArray(I)&&!(I.length<1)){var K=I[0];if(K!="noop"&&K!="stop"&&K!="close")for(let ve=1;ve<I.length;ve++)I[ve]=""}}}}return kn(X)}catch{return b}}var Gr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},$t={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},gr;function dn(){}x(dn,Tn),dn.prototype.g=function(){return new XMLHttpRequest},gr=new dn;function tr(d){return encodeURIComponent(String(d))}function fo(d){var b=1;d=d.split(":");const _=[];for(;b>0&&d.length;)_.push(d.shift()),b--;return d.length&&_.push(d.join(":")),_}function hn(d,b,_,I){this.j=d,this.i=b,this.l=_,this.S=I||1,this.V=new qr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new lu}function lu(){this.i=null,this.g="",this.h=!1}var cu={},Sl={};function Rn(d,b,_){d.M=1,d.A=Os(fn(b)),d.u=_,d.R=!0,kl(d,null)}function kl(d,b){d.F=Date.now(),po(d),d.B=fn(d.A);var _=d.B,I=d.S;Array.isArray(I)||(I=[String(I)]),Ll(_.i,"t",I),d.C=0,_=d.j.L,d.h=new lu,d.g=yu(d.j,_?b:null,!d.u),d.P>0&&(d.O=new or(m(d.Y,d,d.g),d.P)),b=d.V,_=d.g,I=d.ba;var K="readystatechange";Array.isArray(K)||(K&&(Jn[0]=K.toString()),K=Jn);for(let X=0;X<K.length;X++){const ve=Ae(_,K[X],I||b.handleEvent,!1,b.h||b);if(!ve)break;b.g[ve.key]=ve}b=d.J?H(d.J):{},d.u?(d.v||(d.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,b)):(d.v="GET",d.g.ea(d.B,d.v,null,b)),In(),Rt(d.i,d.v,d.B,d.l,d.S,d.u)}hn.prototype.ba=function(d){d=d.target;const b=this.O;b&&os(d)==3?b.j():this.Y(d)},hn.prototype.Y=function(d){try{if(d==this.g)e:{const Ue=os(this.g),Pt=this.g.ya(),ot=this.g.ca();if(!(Ue<3)&&(Ue!=3||this.g&&(this.h.h||this.g.la()||xu(this.g)))){this.K||Ue!=4||Pt==7||(Pt==8||ot<=0?In(3):In(2)),ia(this);var b=this.g.ca();this.X=b;var _=uu(this);if(this.o=b==200,er(this.i,this.v,this.B,this.l,this.S,Ue,b),this.o){if(this.U&&!this.L){t:{if(this.g){var I,K=this.g;if((I=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(I)){var X=I;break t}}X=null}if(d=X)Tr(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gt(this,d);else{this.o=!1,this.m=3,mt(12),Ms(this),mo(this);break e}}if(this.R){d=!0;let Ft;for(;!this.K&&this.C<_.length;)if(Ft=hu(this,_),Ft==Sl){Ue==4&&(this.m=4,mt(14),d=!1),Tr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ft==cu){this.m=4,mt(15),Tr(this.i,this.l,_,"[Invalid Chunk]"),d=!1;break}else Tr(this.i,this.l,Ft,null),gt(this,Ft);if(du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||_.length!=0||this.h.h||(this.m=1,mt(16),d=!1),this.o=this.o&&d,!d)Tr(this.i,this.l,_,"[Invalid Chunked Response]"),Ms(this),mo(this);else if(_.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Eo(ve),ve.P=!0,mt(11))}}else Tr(this.i,this.l,_,null),gt(this,_);Ue==4&&Ms(this),this.o&&!this.K&&(Ue==4?ma(this.j,this):(this.o=!1,po(this)))}else $l(this.g),b==400&&_.indexOf("Unknown SID")>0?(this.m=3,mt(12)):(this.m=0,mt(13)),Ms(this),mo(this)}}}catch{}finally{}};function uu(d){if(!du(d))return d.g.la();const b=xu(d.g);if(b==="")return"";let _="";const I=b.length,K=os(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Ms(d),mo(d),"";d.h.i=new u.TextDecoder}for(let X=0;X<I;X++)d.h.h=!0,_+=d.h.i.decode(b[X],{stream:!(K&&X==I-1)});return b.length=0,d.h.g+=_,d.C=0,d.h.g}function du(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function hu(d,b){var _=d.C,I=b.indexOf(`
`,_);return I==-1?Sl:(_=Number(b.substring(_,I)),isNaN(_)?cu:(I+=1,I+_>b.length?Sl:(b=b.slice(I,I+_),d.C=I+_,b)))}hn.prototype.cancel=function(){this.K=!0,Ms(this)};function po(d){d.T=Date.now()+d.H,Tl(d,d.H)}function Tl(d,b){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Oe(m(d.aa,d),b)}function ia(d){d.D&&(u.clearTimeout(d.D),d.D=null)}hn.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(kt(this.i,this.B),this.M!=2&&(In(),mt(17)),Ms(this),this.m=2,mo(this)):Tl(this,this.T-d)};function mo(d){d.j.I==0||d.K||ma(d.j,d)}function Ms(d){ia(d);var b=d.O;b&&typeof b.dispose=="function"&&b.dispose(),d.O=null,di(d.V),d.g&&(b=d.g,d.g=null,b.abort(),b.dispose())}function gt(d,b){try{var _=d.j;if(_.I!=0&&(_.g==d||Il(_.h,d))){if(!d.L&&Il(_.h,d)&&_.I==3){try{var I=_.Ba.g.parse(b)}catch{I=null}if(Array.isArray(I)&&I.length==3){var K=I;if(K[0]==0){e:if(!_.v){if(_.g)if(_.g.F+3e3<d.F)pa(_),Xr(_);else break e;cs(_),mt(18)}}else _.xa=K[1],0<_.xa-_.K&&K[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Oe(m(_.Va,_),6e3));go(_.h)<=1&&_.ta&&(_.ta=void 0)}else Jr(_,11)}else if((d.L||_.g==d)&&pa(_),!R(b))for(K=_.Ba.g.parse(b),b=0;b<K.length;b++){let ot=K[b];const Ft=ot[0];if(!(Ft<=_.K))if(_.K=Ft,ot=ot[1],_.I==2)if(ot[0]=="c"){_.M=ot[1],_.ba=ot[2];const Zr=ot[3];Zr!=null&&(_.ka=Zr,_.j.info("VER="+_.ka));const Us=ot[4];Us!=null&&(_.za=Us,_.j.info("SVER="+_.za));const us=ot[5];us!=null&&typeof us=="number"&&us>0&&(I=1.5*us,_.O=I,_.j.info("backChannelRequestTimeoutMs_="+I)),I=_;const ds=d.g;if(ds){const va=ds.g?ds.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(va){var X=I.h;X.g||va.indexOf("spdy")==-1&&va.indexOf("quic")==-1&&va.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(aa(X,X.h),X.h=null))}if(I.G){const Bl=ds.g?ds.g.getResponseHeader("X-HTTP-Session-Id"):null;Bl&&(I.wa=Bl,rt(I.J,I.G,Bl))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-d.F,_.j.info("Handshake RTT: "+_.T+"ms")),I=_;var ve=d;if(I.na=Ul(I,I.L?I.ba:null,I.W),ve.L){xo(I.h,ve);var Ue=ve,Pt=I.O;Pt&&(Ue.H=Pt),Ue.D&&(ia(Ue),po(Ue)),I.g=ve}else xr(I);_.i.length>0&&Fs(_)}else ot[0]!="stop"&&ot[0]!="close"||Jr(_,7);else _.I==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?Jr(_,7):ha(_):ot[0]!="noop"&&_.l&&_.l.qa(ot),_.A=0)}}In(4)}catch{}}var uf=class{constructor(d,b){this.g=d,this.map=b}};function oa(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Cl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function go(d){return d.h?1:d.g?d.g.size:0}function Il(d,b){return d.h?d.h==b:d.g?d.g.has(b):!1}function aa(d,b){d.g?d.g.add(b):d.h=b}function xo(d,b){d.h&&d.h==b?d.h=null:d.g&&d.g.has(b)&&d.g.delete(b)}oa.prototype.cancel=function(){if(this.i=Kr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Kr(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let b=d.i;for(const _ of d.g.values())b=b.concat(_.G);return b}return k(d.i)}var fu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yr(d,b){if(d){d=d.split("&");for(let _=0;_<d.length;_++){const I=d[_].indexOf("=");let K,X=null;I>=0?(K=d[_].substring(0,I),X=d[_].substring(I+1)):K=d[_],b(K,X?decodeURIComponent(X.replace(/\+/g," ")):"")}}}function es(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;d instanceof es?(this.l=d.l,vo(this,d.j),this.o=d.o,this.g=d.g,ts(this,d.u),this.h=d.h,xi(this,Vl(d.i)),this.m=d.m):d&&(b=String(d).match(fu))?(this.l=!1,vo(this,b[1]||"",!0),this.o=yo(b[2]||""),this.g=yo(b[3]||"",!0),ts(this,b[4]),this.h=yo(b[5]||"",!0),xi(this,b[6]||"",!0),this.m=yo(b[7]||"")):(this.l=!1,this.i=new Je(null,this.l))}es.prototype.toString=function(){const d=[];var b=this.j;b&&d.push(bo(b,Rl,!0),":");var _=this.g;return(_||b=="file")&&(d.push("//"),(b=this.o)&&d.push(bo(b,Rl,!0),"@"),d.push(tr(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&d.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&d.push("/"),d.push(bo(_,_.charAt(0)=="/"?wo:Pl,!0))),(_=this.i.toString())&&d.push("?",_),(_=this.m)&&d.push("#",bo(_,Dl)),d.join("")},es.prototype.resolve=function(d){const b=fn(this);let _=!!d.j;_?vo(b,d.j):_=!!d.o,_?b.o=d.o:_=!!d.g,_?b.g=d.g:_=d.u!=null;var I=d.h;if(_)ts(b,d.u);else if(_=!!d.h){if(I.charAt(0)!="/")if(this.g&&!this.h)I="/"+I;else{var K=b.h.lastIndexOf("/");K!=-1&&(I=b.h.slice(0,K+1)+I)}if(K=I,K==".."||K==".")I="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){I=K.lastIndexOf("/",0)==0,K=K.split("/");const X=[];for(let ve=0;ve<K.length;){const Ue=K[ve++];Ue=="."?I&&ve==K.length&&X.push(""):Ue==".."?((X.length>1||X.length==1&&X[0]!="")&&X.pop(),I&&ve==K.length&&X.push("")):(X.push(Ue),I=!0)}I=X.join("/")}else I=K}return _?b.h=I:_=d.i.toString()!=="",_?xi(b,Vl(d.i)):_=!!d.m,_&&(b.m=d.m),b};function fn(d){return new es(d)}function vo(d,b,_){d.j=_?yo(b,!0):b,d.j&&(d.j=d.j.replace(/:$/,""))}function ts(d,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);d.u=b}else d.u=null}function xi(d,b,_){b instanceof Je?(d.i=b,ca(d.i,d.l)):(_||(b=bo(b,df)),d.i=new Je(b,d.l))}function rt(d,b,_){d.i.set(b,_)}function Os(d){return rt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function yo(d,b){return d?b?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function bo(d,b,_){return typeof d=="string"?(d=encodeURI(d).replace(b,Al),_&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Al(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Rl=/[#\/\?@]/g,Pl=/[#\?:]/g,wo=/[#\?]/g,df=/[#\?@]/g,Dl=/#/g;function Je(d,b){this.h=this.g=null,this.i=d||null,this.j=!!b}function rs(d){d.g||(d.g=new Map,d.h=0,d.i&&Yr(d.i,function(b,_){d.add(decodeURIComponent(b.replace(/\+/g," ")),_)}))}r=Je.prototype,r.add=function(d,b){rs(this),this.i=null,d=ns(this,d);let _=this.g.get(d);return _||this.g.set(d,_=[]),_.push(b),this.h+=1,this};function Ml(d,b){rs(d),b=ns(d,b),d.g.has(b)&&(d.i=null,d.h-=d.g.get(b).length,d.g.delete(b))}function la(d,b){return rs(d),b=ns(d,b),d.g.has(b)}r.forEach=function(d,b){rs(this),this.g.forEach(function(_,I){_.forEach(function(K){d.call(b,K,I,this)},this)},this)};function Ol(d,b){rs(d);let _=[];if(typeof b=="string")la(d,b)&&(_=_.concat(d.g.get(ns(d,b))));else for(d=Array.from(d.g.values()),b=0;b<d.length;b++)_=_.concat(d[b]);return _}r.set=function(d,b){return rs(this),this.i=null,d=ns(this,d),la(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[b]),this.h+=1,this},r.get=function(d,b){return d?(d=Ol(this,d),d.length>0?String(d[0]):b):b};function Ll(d,b,_){Ml(d,b),_.length>0&&(d.i=null,d.g.set(ns(d,b),k(_)),d.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],b=Array.from(this.g.keys());for(let I=0;I<b.length;I++){var _=b[I];const K=tr(_);_=Ol(this,_);for(let X=0;X<_.length;X++){let ve=K;_[X]!==""&&(ve+="="+tr(_[X])),d.push(ve)}}return this.i=d.join("&")};function Vl(d){const b=new Je;return b.i=d.i,d.g&&(b.g=new Map(d.g),b.h=d.h),b}function ns(d,b){return b=String(b),d.j&&(b=b.toLowerCase()),b}function ca(d,b){b&&!d.j&&(rs(d),d.i=null,d.g.forEach(function(_,I){const K=I.toLowerCase();I!=K&&(Ml(this,I),Ll(this,K,_))},d)),d.j=b}function ss(d,b){const _=new ut;if(u.Image){const I=new Image;I.onload=v(ar,_,"TestLoadImage: loaded",!0,b,I),I.onerror=v(ar,_,"TestLoadImage: error",!1,b,I),I.onabort=v(ar,_,"TestLoadImage: abort",!1,b,I),I.ontimeout=v(ar,_,"TestLoadImage: timeout",!1,b,I),u.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=d}else b(!1)}function is(d,b){const _=new ut,I=new AbortController,K=setTimeout(()=>{I.abort(),ar(_,"TestPingServer: timeout",!1,b)},1e4);fetch(d,{signal:I.signal}).then(X=>{clearTimeout(K),X.ok?ar(_,"TestPingServer: ok",!0,b):ar(_,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(K),ar(_,"TestPingServer: error",!1,b)})}function ar(d,b,_,I,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),I(_)}catch{}}function _o(){this.g=new Pr}function Ls(d){this.i=d.Sb||null,this.h=d.ab||!1}x(Ls,Tn),Ls.prototype.g=function(){return new Qr(this.i,this.h)};function Qr(d,b){We.call(this),this.H=d,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(Qr,We),r=Qr.prototype,r.open=function(d,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=b,this.readyState=1,Pn(this)},r.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(b.body=d),(this.H||u).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,vi(this)),this.readyState=0},r.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Pn(this)),this.g&&(this.readyState=3,Pn(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;pu(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function pu(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}r.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var b=d.value?d.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!d.done}))&&(this.response=this.responseText+=b)}d.done?vi(this):Pn(this),this.readyState==3&&pu(this)}},r.Oa=function(d){this.g&&(this.response=this.responseText=d,vi(this))},r.Na=function(d){this.g&&(this.response=d,vi(this))},r.ga=function(){this.g&&vi(this)};function vi(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Pn(d)}r.setRequestHeader=function(d,b){this.A.append(d,b)},r.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],b=this.h.entries();for(var _=b.next();!_.done;)_=_.value,d.push(_[0]+": "+_[1]),_=b.next();return d.join(`\r
`)};function Pn(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Qr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function mu(d){let b="";return de(d,function(_,I){b+=I,b+=":",b+=_,b+=`\r
`}),b}function ua(d,b,_){e:{for(I in _){var I=!1;break e}I=!0}I||(_=mu(_),typeof d=="string"?_!=null&&tr(_):rt(d,b,_))}function dt(d){We.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(dt,We);var gu=/^https?$/i,hf=["POST","PUT"];r=dt.prototype,r.Fa=function(d){this.H=d},r.ea=function(d,b,_,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);b=b?b.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():gr.g(),this.g.onreadystatechange=w(m(this.Ca,this));try{this.B=!0,this.g.open(b,String(d),!0),this.B=!1}catch(X){yi(this,X);return}if(d=_||"",_=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var K in I)_.set(K,I[K]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const X of I.keys())_.set(X,I.get(X));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),K=u.FormData&&d instanceof u.FormData,!(Array.prototype.indexOf.call(hf,b,void 0)>=0)||I||K||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ve]of _)this.g.setRequestHeader(X,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(X){yi(this,X)}};function yi(d,b){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=b,d.o=5,bi(d),$s(d)}function bi(d){d.A||(d.A=!0,lt(d,"complete"),lt(d,"error"))}r.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,lt(this,"complete"),lt(this,"abort"),$s(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$s(this,!0)),dt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Vs(this):this.Xa())},r.Xa=function(){Vs(this)};function Vs(d){if(d.h&&typeof l<"u"){if(d.v&&os(d)==4)setTimeout(d.Ca.bind(d),0);else if(lt(d,"readystatechange"),os(d)==4){d.h=!1;try{const X=d.ca();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var _;if(!(_=b)){var I;if(I=X===0){let ve=String(d.D).match(fu)[1]||null;!ve&&u.self&&u.self.location&&(ve=u.self.location.protocol.slice(0,-1)),I=!gu.test(ve?ve.toLowerCase():"")}_=I}if(_)lt(d,"complete"),lt(d,"success");else{d.o=6;try{var K=os(d)>2?d.g.statusText:""}catch{K=""}d.l=K+" ["+d.ca()+"]",bi(d)}}finally{$s(d)}}}}function $s(d,b){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const _=d.g;d.g=null,b||lt(d,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function os(d){return d.g?d.g.readyState:0}r.ca=function(){try{return os(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(d){if(this.g){var b=this.g.responseText;return d&&b.indexOf(d)==0&&(b=b.substring(d.length)),hi(b)}};function xu(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function $l(d){const b={};d=(d.g&&os(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<d.length;I++){if(R(d[I]))continue;var _=fo(d[I]);const K=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=b[K]||[];b[K]=X,X.push(_)}ae(b,function(I){return I.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function as(d,b,_){return _&&_.internalChannelParams&&_.internalChannelParams[d]||b}function da(d){this.za=0,this.i=[],this.j=new ut,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=as("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=as("baseRetryDelayMs",5e3,d),this.Za=as("retryDelaySeedMs",1e4,d),this.Ta=as("forwardChannelMaxRetries",2,d),this.va=as("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new oa(d&&d.concurrentRequestLimit),this.Ba=new _o,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=da.prototype,r.ka=8,r.I=1,r.connect=function(d,b,_,I){mt(0),this.W=d,this.H=b||{},_&&I!==void 0&&(this.H.OSID=_,this.H.OAID=I),this.F=this.X,this.J=Ul(this,null,this.W),Fs(this)};function ha(d){if(fa(d),d.I==3){var b=d.V++,_=fn(d.J);if(rt(_,"SID",d.M),rt(_,"RID",b),rt(_,"TYPE","terminate"),ls(d,_),b=new hn(d,d.j,b),b.M=2,b.A=Os(fn(_)),_=!1,u.navigator&&u.navigator.sendBeacon)try{_=u.navigator.sendBeacon(b.A.toString(),"")}catch{}!_&&u.Image&&(new Image().src=b.A,_=!0),_||(b.g=yu(b.j,null),b.g.ea(b.A)),b.F=Date.now(),po(b)}jo(d)}function Xr(d){d.g&&(Eo(d),d.g.cancel(),d.g=null)}function fa(d){Xr(d),d.v&&(u.clearTimeout(d.v),d.v=null),pa(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&u.clearTimeout(d.m),d.m=null)}function Fs(d){if(!Cl(d.h)&&!d.m){d.m=!0;var b=d.Ea;z||E(),J||(z(),J=!0),A.add(b,d),d.D=0}}function vu(d,b){return go(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=b.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Oe(m(d.Ea,d,b),ga(d,d.D)),d.D++,!0)}r.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const K=new hn(this,this.j,d);let X=this.o;if(this.U&&(X?(X=H(X),ee(X,this.U)):X=this.U),this.u!==null||this.R||(K.J=X,X=null),this.S)e:{for(var b=0,_=0;_<this.i.length;_++){t:{var I=this.i[_];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(b+=I,b>4096){b=_;break e}if(b===4096||_===this.i.length-1){b=_+1;break e}}b=1e3}else b=1e3;b=Fl(this,K,b),_=fn(this.J),rt(_,"RID",d),rt(_,"CVER",22),this.G&&rt(_,"X-HTTP-Session-Id",this.G),ls(this,_),X&&(this.R?b="headers="+tr(mu(X))+"&"+b:this.u&&ua(_,this.u,X)),aa(this.h,K),this.Ra&&rt(_,"TYPE","init"),this.S?(rt(_,"$req",b),rt(_,"SID","null"),K.U=!0,Rn(K,_,null)):Rn(K,_,b),this.I=2}}else this.I==3&&(d?No(this,d):this.i.length==0||Cl(this.h)||No(this))};function No(d,b){var _;b?_=b.l:_=d.V++;const I=fn(d.J);rt(I,"SID",d.M),rt(I,"RID",_),rt(I,"AID",d.K),ls(d,I),d.u&&d.o&&ua(I,d.u,d.o),_=new hn(d,d.j,_,d.D+1),d.u===null&&(_.J=d.o),b&&(d.i=b.G.concat(d.i)),b=Fl(d,_,1e3),_.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),aa(d.h,_),Rn(_,I,b)}function ls(d,b){d.H&&de(d.H,function(_,I){rt(b,I,_)}),d.l&&de({},function(_,I){rt(b,I,_)})}function Fl(d,b,_){_=Math.min(d.i.length,_);const I=d.l?m(d.l.Ka,d.l,d):null;e:{var K=d.i;let Ue=-1;for(;;){const Pt=["count="+_];Ue==-1?_>0?(Ue=K[0].g,Pt.push("ofs="+Ue)):Ue=0:Pt.push("ofs="+Ue);let ot=!0;for(let Ft=0;Ft<_;Ft++){var X=K[Ft].g;const Zr=K[Ft].map;if(X-=Ue,X<0)Ue=Math.max(0,K[Ft].g-100),ot=!1;else try{X="req"+X+"_"||"";try{var ve=Zr instanceof Map?Zr:Object.entries(Zr);for(const[Us,us]of ve){let ds=us;h(us)&&(ds=kn(us)),Pt.push(X+Us+"="+encodeURIComponent(ds))}}catch(Us){throw Pt.push(X+"type="+encodeURIComponent("_badmap")),Us}}catch{I&&I(Zr)}}if(ot){ve=Pt.join("&");break e}}ve=void 0}return d=d.i.splice(0,_),b.G=d,ve}function xr(d){if(!d.g&&!d.v){d.Y=1;var b=d.Da;z||E(),J||(z(),J=!0),A.add(b,d),d.A=0}}function cs(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Oe(m(d.Da,d),ga(d,d.A)),d.A++,!0)}r.Da=function(){if(this.v=null,wi(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Oe(m(this.Wa,this),d)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,mt(10),Xr(this),wi(this))};function Eo(d){d.B!=null&&(u.clearTimeout(d.B),d.B=null)}function wi(d){d.g=new hn(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var b=fn(d.na);rt(b,"RID","rpc"),rt(b,"SID",d.M),rt(b,"AID",d.K),rt(b,"CI",d.F?"0":"1"),!d.F&&d.ia&&rt(b,"TO",d.ia),rt(b,"TYPE","xmlhttp"),ls(d,b),d.u&&d.o&&ua(b,d.u,d.o),d.O&&(d.g.H=d.O);var _=d.g;d=d.ba,_.M=1,_.A=Os(fn(b)),_.u=null,_.R=!0,kl(_,d)}r.Va=function(){this.C!=null&&(this.C=null,Xr(this),cs(this),mt(19))};function pa(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function ma(d,b){var _=null;if(d.g==b){pa(d),Eo(d),d.g=null;var I=2}else if(Il(d.h,b))_=b.G,xo(d.h,b),I=1;else return;if(d.I!=0){if(b.o)if(I==1){_=b.u?b.u.length:0,b=Date.now()-b.F;var K=d.D;I=un(),lt(I,new gi(I,_)),Fs(d)}else xr(d);else if(K=b.m,K==3||K==0&&b.X>0||!(I==1&&vu(d,b)||I==2&&cs(d)))switch(_&&_.length>0&&(b=d.h,b.i=b.i.concat(_)),K){case 1:Jr(d,5);break;case 4:Jr(d,10);break;case 3:Jr(d,6);break;default:Jr(d,2)}}}function ga(d,b){let _=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(_*=2),_*b}function Jr(d,b){if(d.j.info("Error code "+b),b==2){var _=m(d.bb,d),I=d.Ua;const K=!I;I=new es(I||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||vo(I,"https"),Os(I),K?ss(I.toString(),_):is(I.toString(),_)}else mt(2);d.I=0,d.l&&d.l.pa(b),jo(d),fa(d)}r.bb=function(d){d?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function jo(d){if(d.I=0,d.ja=[],d.l){const b=Kr(d.h);(b.length!=0||d.i.length!=0)&&(P(d.ja,b),P(d.ja,d.i),d.h.i.length=0,k(d.i),d.i.length=0),d.l.oa()}}function Ul(d,b,_){var I=_ instanceof es?fn(_):new es(_);if(I.g!="")b&&(I.g=b+"."+I.g),ts(I,I.u);else{var K=u.location;I=K.protocol,b=b?b+"."+K.hostname:K.hostname,K=+K.port;const X=new es(null);I&&vo(X,I),b&&(X.g=b),K&&ts(X,K),_&&(X.h=_),I=X}return _=d.G,b=d.wa,_&&b&&rt(I,_,b),rt(I,"VER",d.ka),ls(d,I),I}function yu(d,b,_){if(b&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=d.Aa&&!d.ma?new dt(new Ls({ab:_})):new dt(d.ma),b.Fa(d.L),b}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function bu(){}r=bu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function xa(){}xa.prototype.g=function(d,b){return new lr(d,b)};function lr(d,b){We.call(this),this.g=new da(b),this.l=d,this.h=b&&b.messageUrlParams||null,d=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(d?d["X-WebChannel-Content-Type"]=b.messageContentType:d={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(d?d["X-WebChannel-Client-Profile"]=b.sa:d={"X-WebChannel-Client-Profile":b.sa}),this.g.U=d,(d=b&&b.Qb)&&!R(d)&&(this.g.u=d),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!R(b)&&(this.g.G=b,d=this.h,d!==null&&b in d&&(d=this.h,b in d&&delete d[b])),this.j=new _i(this)}x(lr,We),lr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},lr.prototype.close=function(){ha(this.g)},lr.prototype.o=function(d){var b=this.g;if(typeof d=="string"){var _={};_.__data__=d,d=_}else this.v&&(_={},_.__data__=kn(d),d=_);b.i.push(new uf(b.Ya++,d)),b.I==3&&Fs(b)},lr.prototype.N=function(){this.g.l=null,delete this.j,ha(this.g),delete this.g,lr.Z.N.call(this)};function wu(d){fi.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var b=d.__sm__;if(b){e:{for(const _ in b){d=_;break e}d=void 0}(this.i=d)&&(d=this.i,b=b!==null&&d in b?b[d]:void 0),this.data=b}else this.data=d}x(wu,fi);function _u(){pi.call(this),this.status=1}x(_u,pi);function _i(d){this.g=d}x(_i,bu),_i.prototype.ra=function(){lt(this.g,"a")},_i.prototype.qa=function(d){lt(this.g,new wu(d))},_i.prototype.pa=function(d){lt(this.g,new _u)},_i.prototype.oa=function(){lt(this.g,"b")},xa.prototype.createWebChannel=xa.prototype.g,lr.prototype.send=lr.prototype.o,lr.prototype.open=lr.prototype.m,lr.prototype.close=lr.prototype.close,t1=function(){return new xa},e1=function(){return un()},Z2=Dr,jm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Gr.NO_ERROR=0,Gr.TIMEOUT=8,Gr.HTTP_ERROR=6,Fd=Gr,$t.COMPLETE="complete",J2=$t,Cn.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",We.prototype.listen=We.prototype.J,vc=Cn,dt.prototype.listenOnce=dt.prototype.K,dt.prototype.getLastError=dt.prototype.Ha,dt.prototype.getLastErrorCode=dt.prototype.ya,dt.prototype.getStatus=dt.prototype.ca,dt.prototype.getResponseJson=dt.prototype.La,dt.prototype.getResponseText=dt.prototype.la,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Fa,X2=dt}).apply(typeof yd<"u"?yd:typeof self<"u"?self:typeof window<"u"?window:{});const Iy="@firebase/firestore",Ay="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nr.UNAUTHENTICATED=new Nr(null),Nr.GOOGLE_CREDENTIALS=new Nr("google-credentials-uid"),Nr.FIRST_PARTY=new Nr("first-party-uid"),Nr.MOCK_USER=new Nr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=new hg("@firebase/firestore");function za(){return Ko.logLevel}function Ne(r,...e){if(Ko.logLevel<=Ye.DEBUG){const t=e.map(Ng);Ko.debug(`Firestore (${pl}): ${r}`,...t)}}function ii(r,...e){if(Ko.logLevel<=Ye.ERROR){const t=e.map(Ng);Ko.error(`Firestore (${pl}): ${r}`,...t)}}function nl(r,...e){if(Ko.logLevel<=Ye.WARN){const t=e.map(Ng);Ko.warn(`Firestore (${pl}): ${r}`,...t)}}function Ng(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(r,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,r1(r,n,t)}function r1(r,e,t){let n=`FIRESTORE (${pl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw ii(n),new Error(n)}function it(r,e,t,n){let o="Unexpected state";typeof t=="string"?o=t:n=t,r||r1(e,o,n)}function Be(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends Rs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class T5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Nr.UNAUTHENTICATED)))}shutdown(){}}class C5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class I5{constructor(e){this.t=e,this.currentUser=Nr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){it(this.o===void 0,42304);let n=this.i;const o=p=>this.i!==n?(n=this.i,t(p)):Promise.resolve();let l=new ti;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ti,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},h=p=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>h(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ti)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((n=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(it(typeof n.accessToken=="string",31837,{l:n}),new n1(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new Nr(e)}}class A5{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Nr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class R5{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new A5(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Nr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ry{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class P5{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,sn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){it(this.o===void 0,3512);const n=l=>{l.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,Ne("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>n(l)))};const o=l=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ry(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(it(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Ry(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D5(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const o=D5(40);for(let l=0;l<o.length;++l)n.length<20&&o[l]<t&&(n+=e.charAt(o[l]%62))}return n}}function Qe(r,e){return r<e?-1:r>e?1:0}function Sm(r,e){const t=Math.min(r.length,e.length);for(let n=0;n<t;n++){const o=r.charAt(n),l=e.charAt(n);if(o!==l)return Yp(o)===Yp(l)?Qe(o,l):Yp(o)?1:-1}return Qe(r.length,e.length)}const M5=55296,O5=57343;function Yp(r){const e=r.charCodeAt(0);return e>=M5&&e<=O5}function sl(r,e,t){return r.length===e.length&&r.every(((n,o)=>t(n,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="__name__";class xs{constructor(e,t,n){t===void 0?t=0:t>e.length&&Ve(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&Ve(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return xs.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof xs?e.forEach((n=>{t.push(n)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let o=0;o<n;o++){const l=xs.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Qe(e.length,t.length)}static compareSegments(e,t){const n=xs.isNumericId(e),o=xs.isNumericId(t);return n&&!o?-1:!n&&o?1:n&&o?xs.extractNumericId(e).compare(xs.extractNumericId(t)):Sm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Gi.fromString(e.substring(4,e.length-2))}}class ft extends xs{construct(e,t,n){return new ft(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new be(ne.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((o=>o.length>0)))}return new ft(t)}static emptyPath(){return new ft([])}}const L5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hr extends xs{construct(e,t,n){return new hr(e,t,n)}static isValidIdentifier(e){return L5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Py}static keyField(){return new hr([Py])}static fromServerFormat(e){const t=[];let n="",o=0;const l=()=>{if(n.length===0)throw new be(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let u=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new be(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new be(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=p,o+=2}else h==="`"?(u=!u,o++):h!=="."||u?(n+=h,o++):(l(),o++)}if(l(),u)throw new be(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hr(t)}static emptyPath(){return new hr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(ft.fromString(e))}static fromName(e){return new Re(ft.fromString(e).popFirst(5))}static empty(){return new Re(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ft.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new ft(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(r,e,t){if(!t)throw new be(ne.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function V5(r,e,t,n){if(e===!0&&n===!0)throw new be(ne.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Dy(r){if(!Re.isDocumentKey(r))throw new be(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function My(r){if(Re.isDocumentKey(r))throw new be(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function i1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Ah(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ve(12329,{type:typeof r})}function Wr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new be(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ah(r);throw new be(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(r,e){const t={typeString:r};return e&&(t.value=e),t}function Zc(r,e){if(!i1(r))throw new be(ne.INVALID_ARGUMENT,"JSON must be an object");let t;for(const n in e)if(e[n]){const o=e[n].typeString,l="value"in e[n]?{value:e[n].value}:void 0;if(!(n in r)){t=`JSON missing required field: '${n}'`;break}const u=r[n];if(o&&typeof u!==o){t=`JSON field '${n}' must be a ${o}.`;break}if(l!==void 0&&u!==l.value){t=`Expected '${n}' field to equal '${l.value}'`;break}}if(t)throw new be(ne.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy=-62135596800,Ly=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Ly);return new yt(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new be(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new be(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Oy)throw new be(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ly}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Zc(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Oy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:Ht("string",yt._jsonSchemaVersion),seconds:Ht("number"),nanoseconds:Ht("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new yt(0,0))}static max(){return new Fe(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=-1;function $5(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,o=Fe.fromTimestamp(n===1e9?new yt(t+1,0):new yt(t,n));return new Ji(o,Re.empty(),e)}function F5(r){return new Ji(r.readTime,r.key,Rc)}class Ji{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ji(Fe.min(),Re.empty(),Rc)}static max(){return new Ji(Fe.max(),Re.empty(),Rc)}}function U5(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Re.comparator(r.documentKey,e.documentKey),t!==0?t:Qe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class z5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(r){if(r.code!==ne.FAILED_PRECONDITION||r.message!==B5)throw r;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se(((n,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(n,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(n,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):se.reject(t)}static resolve(e){return new se(((t,n)=>{t(e)}))}static reject(e){return new se(((t,n)=>{n(e)}))}static waitFor(e){return new se(((t,n)=>{let o=0,l=0,u=!1;e.forEach((h=>{++o,h.next((()=>{++l,u&&l===o&&t()}),(p=>n(p)))})),u=!0,l===o&&t()}))}static or(e){let t=se.resolve(!1);for(const n of e)t=t.next((o=>o?se.resolve(o):n()));return t}static forEach(e,t){const n=[];return e.forEach(((o,l)=>{n.push(t.call(this,o,l))})),this.waitFor(n)}static mapArray(e,t){return new se(((n,o)=>{const l=e.length,u=new Array(l);let h=0;for(let p=0;p<l;p++){const m=p;t(e[m]).next((v=>{u[m]=v,++h,h===l&&n(u)}),(v=>o(v)))}}))}static doWhile(e,t){return new se(((n,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):n()};l()}))}}function H5(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function gl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>t.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Rh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg=-1;function Ph(r){return r==null}function oh(r){return r===0&&1/r==-1/0}function W5(r){return typeof r=="number"&&Number.isInteger(r)&&!oh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="";function q5(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Vy(e)),e=G5(r.get(t),e);return Vy(e)}function G5(r,e){let t=e;const n=r.length;for(let o=0;o<n;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case o1:t+="";break;default:t+=l}}return t}function Vy(r){return r+o1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ao(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function a1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,t){this.comparator=e,this.root=t||dr.EMPTY}insert(e,t){return new jt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,dr.BLACK,null,null))}remove(e){return new jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(o===0)return t+n.left.size;o<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bd(this.root,e,this.comparator,!1)}getReverseIterator(){return new bd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bd(this.root,e,this.comparator,!0)}}class bd{constructor(e,t,n,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?n(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dr{constructor(e,t,n,o,l){this.key=e,this.value=t,this.color=n??dr.RED,this.left=o??dr.EMPTY,this.right=l??dr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,o,l){return new dr(e??this.key,t??this.value,n??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let o=this;const l=n(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,n),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,n)),o.fixUp()}removeMin(){if(this.left.isEmpty())return dr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return dr.EMPTY;n=o.right.min(),o=o.copy(n.key,n.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ve(27949);return e+(this.isRed()?0:1)}}dr.EMPTY=null,dr.RED=!0,dr.BLACK=!1;dr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve(57766)}get value(){throw Ve(16141)}get color(){throw Ve(16727)}get left(){throw Ve(29726)}get right(){throw Ve(36894)}copy(e,t,n,o,l){return this}insert(e,t,n){return new dr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.comparator=e,this.data=new jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const o=n.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Fy(this.data.getIterator())}getIteratorFrom(e){return new Fy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((n=>{t=t.add(n)})),t}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=n.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Yt(this.comparator);return t.data=e,t}}class Fy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.fields=e,e.sort(hr.comparator)}static empty(){return new on([])}unionWith(e){let t=new Yt(hr.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new on(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sl(this.fields,e.fields,((t,n)=>t.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new l1("Invalid base64 string: "+l):l}})(e);return new pr(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);return l})(e);return new pr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const n=new Uint8Array(t.length);for(let o=0;o<t.length;o++)n[o]=t.charCodeAt(o);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pr.EMPTY_BYTE_STRING=new pr("");const K5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zi(r){if(it(!!r,39018),typeof r=="string"){let e=0;const t=K5.exec(r);if(it(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Mt(r.seconds),nanos:Mt(r.nanos)}}function Mt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function eo(r){return typeof r=="string"?pr.fromBase64String(r):pr.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="server_timestamp",u1="__type__",d1="__previous_value__",h1="__local_write_time__";function Sg(r){return(r?.mapValue?.fields||{})[u1]?.stringValue===c1}function Dh(r){const e=r.mapValue.fields[d1];return Sg(e)?Dh(e):e}function Pc(r){const e=Zi(r.mapValue.fields[h1].timestampValue);return new yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(e,t,n,o,l,u,h,p,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=o,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=v}}const ah="(default)";class Dc{constructor(e,t){this.projectId=e,this.database=t||ah}static empty(){return new Dc("","")}get isDefaultDatabase(){return this.database===ah}isEqual(e){return e instanceof Dc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="__type__",Q5="__max__",wd={mapValue:{}},p1="__vector__",lh="value";function to(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Sg(r)?4:J5(r)?9007199254740991:X5(r)?10:11:Ve(28295,{value:r})}function Cs(r,e){if(r===e)return!0;const t=to(r);if(t!==to(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Pc(r).isEqual(Pc(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const u=Zi(o.timestampValue),h=Zi(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,l){return eo(o.bytesValue).isEqual(eo(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,l){return Mt(o.geoPointValue.latitude)===Mt(l.geoPointValue.latitude)&&Mt(o.geoPointValue.longitude)===Mt(l.geoPointValue.longitude)})(r,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return Mt(o.integerValue)===Mt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const u=Mt(o.doubleValue),h=Mt(l.doubleValue);return u===h?oh(u)===oh(h):isNaN(u)&&isNaN(h)}return!1})(r,e);case 9:return sl(r.arrayValue.values||[],e.arrayValue.values||[],Cs);case 10:case 11:return(function(o,l){const u=o.mapValue.fields||{},h=l.mapValue.fields||{};if($y(u)!==$y(h))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(h[p]===void 0||!Cs(u[p],h[p])))return!1;return!0})(r,e);default:return Ve(52216,{left:r})}}function Mc(r,e){return(r.values||[]).find((t=>Cs(t,e)))!==void 0}function il(r,e){if(r===e)return 0;const t=to(r),n=to(e);if(t!==n)return Qe(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qe(r.booleanValue,e.booleanValue);case 2:return(function(l,u){const h=Mt(l.integerValue||l.doubleValue),p=Mt(u.integerValue||u.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1})(r,e);case 3:return Uy(r.timestampValue,e.timestampValue);case 4:return Uy(Pc(r),Pc(e));case 5:return Sm(r.stringValue,e.stringValue);case 6:return(function(l,u){const h=eo(l),p=eo(u);return h.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(l,u){const h=l.split("/"),p=u.split("/");for(let m=0;m<h.length&&m<p.length;m++){const v=Qe(h[m],p[m]);if(v!==0)return v}return Qe(h.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,u){const h=Qe(Mt(l.latitude),Mt(u.latitude));return h!==0?h:Qe(Mt(l.longitude),Mt(u.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return By(r.arrayValue,e.arrayValue);case 10:return(function(l,u){const h=l.fields||{},p=u.fields||{},m=h[lh]?.arrayValue,v=p[lh]?.arrayValue,x=Qe(m?.values?.length||0,v?.values?.length||0);return x!==0?x:By(m,v)})(r.mapValue,e.mapValue);case 11:return(function(l,u){if(l===wd.mapValue&&u===wd.mapValue)return 0;if(l===wd.mapValue)return 1;if(u===wd.mapValue)return-1;const h=l.fields||{},p=Object.keys(h),m=u.fields||{},v=Object.keys(m);p.sort(),v.sort();for(let x=0;x<p.length&&x<v.length;++x){const w=Sm(p[x],v[x]);if(w!==0)return w;const k=il(h[p[x]],m[v[x]]);if(k!==0)return k}return Qe(p.length,v.length)})(r.mapValue,e.mapValue);default:throw Ve(23264,{he:t})}}function Uy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Qe(r,e);const t=Zi(r),n=Zi(e),o=Qe(t.seconds,n.seconds);return o!==0?o:Qe(t.nanos,n.nanos)}function By(r,e){const t=r.values||[],n=e.values||[];for(let o=0;o<t.length&&o<n.length;++o){const l=il(t[o],n[o]);if(l)return l}return Qe(t.length,n.length)}function ol(r){return km(r)}function km(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const n=Zi(t);return`time(${n.seconds},${n.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return eo(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return Re.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let n="[",o=!0;for(const l of t.values||[])o?o=!1:n+=",",n+=km(l);return n+"]"})(r.arrayValue):"mapValue"in r?(function(t){const n=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const u of n)l?l=!1:o+=",",o+=`${u}:${km(t.fields[u])}`;return o+"}"})(r.mapValue):Ve(61005,{value:r})}function Ud(r){switch(to(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dh(r);return e?16+Ud(e):16;case 5:return 2*r.stringValue.length;case 6:return eo(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((o,l)=>o+Ud(l)),0)})(r.arrayValue);case 10:case 11:return(function(n){let o=0;return ao(n.fields,((l,u)=>{o+=l.length+Ud(u)})),o})(r.mapValue);default:throw Ve(13486,{value:r})}}function zy(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Tm(r){return!!r&&"integerValue"in r}function kg(r){return!!r&&"arrayValue"in r}function Hy(r){return!!r&&"nullValue"in r}function Wy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Bd(r){return!!r&&"mapValue"in r}function X5(r){return(r?.mapValue?.fields||{})[f1]?.stringValue===p1}function Sc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ao(r.mapValue.fields,((t,n)=>e.mapValue.fields[t]=Sc(n))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Sc(r.arrayValue.values[t]);return e}return{...r}}function J5(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Q5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this.value=e}static empty(){return new zr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Bd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sc(t)}setAll(e){let t=hr.emptyPath(),n={},o=[];e.forEach(((u,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,n,o),n={},o=[],t=h.popLast()}u?n[h.lastSegment()]=Sc(u):o.push(h.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,n,o)}delete(e){const t=this.field(e.popLast());Bd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Cs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let o=t.mapValue.fields[e.get(n)];Bd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,n){ao(t,((o,l)=>e[o]=l));for(const o of n)delete e[o]}clone(){return new zr(Sc(this.value))}}function m1(r){const e=[];return ao(r.fields,((t,n)=>{const o=new hr([t]);if(Bd(n)){const l=m1(n.mapValue).fields;if(l.length===0)e.push(o);else for(const u of l)e.push(o.child(u))}else e.push(o)})),new on(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,t,n,o,l,u,h){this.key=e,this.documentType=t,this.version=n,this.readTime=o,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Er(e,0,Fe.min(),Fe.min(),Fe.min(),zr.empty(),0)}static newFoundDocument(e,t,n,o){return new Er(e,1,t,Fe.min(),n,o,0)}static newNoDocument(e,t){return new Er(e,2,t,Fe.min(),Fe.min(),zr.empty(),0)}static newUnknownDocument(e,t){return new Er(e,3,t,Fe.min(),Fe.min(),zr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Er&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Er(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,t){this.position=e,this.inclusive=t}}function qy(r,e,t){let n=0;for(let o=0;o<r.position.length;o++){const l=e[o],u=r.position[o];if(l.field.isKeyField()?n=Re.comparator(Re.fromName(u.referenceValue),t.key):n=il(u,t.data.field(l.field)),l.dir==="desc"&&(n*=-1),n!==0)break}return n}function Gy(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Cs(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,t="asc"){this.field=e,this.dir=t}}function Z5(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{}class zt extends g1{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new tA(e,t,n):t==="array-contains"?new sA(e,n):t==="in"?new iA(e,n):t==="not-in"?new oA(e,n):t==="array-contains-any"?new aA(e,n):new zt(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new rA(e,n):new nA(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(il(t,this.value)):t!==null&&to(this.value)===to(t)&&this.matchesComparison(il(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends g1{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Kn(e,t)}matches(e){return x1(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function x1(r){return r.op==="and"}function v1(r){return eA(r)&&x1(r)}function eA(r){for(const e of r.filters)if(e instanceof Kn)return!1;return!0}function Cm(r){if(r instanceof zt)return r.field.canonicalString()+r.op.toString()+ol(r.value);if(v1(r))return r.filters.map((e=>Cm(e))).join(",");{const e=r.filters.map((t=>Cm(t))).join(",");return`${r.op}(${e})`}}function y1(r,e){return r instanceof zt?(function(n,o){return o instanceof zt&&n.op===o.op&&n.field.isEqual(o.field)&&Cs(n.value,o.value)})(r,e):r instanceof Kn?(function(n,o){return o instanceof Kn&&n.op===o.op&&n.filters.length===o.filters.length?n.filters.reduce(((l,u,h)=>l&&y1(u,o.filters[h])),!0):!1})(r,e):void Ve(19439)}function b1(r){return r instanceof zt?(function(t){return`${t.field.canonicalString()} ${t.op} ${ol(t.value)}`})(r):r instanceof Kn?(function(t){return t.op.toString()+" {"+t.getFilters().map(b1).join(" ,")+"}"})(r):"Filter"}class tA extends zt{constructor(e,t,n){super(e,t,n),this.key=Re.fromName(n.referenceValue)}matches(e){const t=Re.comparator(e.key,this.key);return this.matchesComparison(t)}}class rA extends zt{constructor(e,t){super(e,"in",t),this.keys=w1("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class nA extends zt{constructor(e,t){super(e,"not-in",t),this.keys=w1("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function w1(r,e){return(e.arrayValue?.values||[]).map((t=>Re.fromName(t.referenceValue)))}class sA extends zt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return kg(t)&&Mc(t.arrayValue,this.value)}}class iA extends zt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Mc(this.value.arrayValue,t)}}class oA extends zt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Mc(this.value.arrayValue,t)}}class aA extends zt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!kg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((n=>Mc(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,t=null,n=[],o=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=o,this.limit=l,this.startAt=u,this.endAt=h,this.Te=null}}function Ky(r,e=null,t=[],n=[],o=null,l=null,u=null){return new lA(r,e,t,n,o,l,u)}function Tg(r){const e=Be(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((n=>Cm(n))).join(","),t+="|ob:",t+=e.orderBy.map((n=>(function(l){return l.field.canonicalString()+l.dir})(n))).join(","),Ph(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((n=>ol(n))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((n=>ol(n))).join(",")),e.Te=t}return e.Te}function Cg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!Z5(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!y1(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Gy(r.startAt,e.startAt)&&Gy(r.endAt,e.endAt)}function Im(r){return Re.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,t=null,n=[],o=[],l=null,u="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=o,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function cA(r,e,t,n,o,l,u,h){return new xl(r,e,t,n,o,l,u,h)}function Mh(r){return new xl(r)}function Yy(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function _1(r){return r.collectionGroup!==null}function kc(r){const e=Be(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Yt(hr.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Oc(l,n))})),t.has(hr.keyField().canonicalString())||e.Ie.push(new Oc(hr.keyField(),n))}return e.Ie}function Es(r){const e=Be(r);return e.Ee||(e.Ee=uA(e,kc(r))),e.Ee}function uA(r,e){if(r.limitType==="F")return Ky(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new Oc(o.field,l)}));const t=r.endAt?new ch(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new ch(r.startAt.position,r.startAt.inclusive):null;return Ky(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function Am(r,e){const t=r.filters.concat([e]);return new xl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Rm(r,e,t){return new xl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Oh(r,e){return Cg(Es(r),Es(e))&&r.limitType===e.limitType}function N1(r){return`${Tg(Es(r))}|lt:${r.limitType}`}function Ha(r){return`Query(target=${(function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map((o=>b1(o))).join(", ")}]`),Ph(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((o=>ol(o))).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((o=>ol(o))).join(",")),`Target(${n})`})(Es(r))}; limitType=${r.limitType})`}function Lh(r,e){return e.isFoundDocument()&&(function(n,o){const l=o.key.path;return n.collectionGroup!==null?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(l):Re.isDocumentKey(n.path)?n.path.isEqual(l):n.path.isImmediateParentOf(l)})(r,e)&&(function(n,o){for(const l of kc(n))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(n,o){for(const l of n.filters)if(!l.matches(o))return!1;return!0})(r,e)&&(function(n,o){return!(n.startAt&&!(function(u,h,p){const m=qy(u,h,p);return u.inclusive?m<=0:m<0})(n.startAt,kc(n),o)||n.endAt&&!(function(u,h,p){const m=qy(u,h,p);return u.inclusive?m>=0:m>0})(n.endAt,kc(n),o))})(r,e)}function dA(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function E1(r){return(e,t)=>{let n=!1;for(const o of kc(r)){const l=hA(o,e,t);if(l!==0)return l;n=n||o.field.isKeyField()}return 0}}function hA(r,e,t){const n=r.field.isKeyField()?Re.comparator(e.key,t.key):(function(l,u,h){const p=u.data.field(l),m=h.data.field(l);return p!==null&&m!==null?il(p,m):Ve(42886)})(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Ve(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[o,l]of n)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),o=this.inner[n];if(o===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let o=0;o<n.length;o++)if(this.equalsFn(n[o][0],e))return n.length===1?delete this.inner[t]:n.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ao(this.inner,((t,n)=>{for(const[o,l]of n)e(o,l)}))}isEmpty(){return a1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA=new jt(Re.comparator);function oi(){return fA}const j1=new jt(Re.comparator);function yc(...r){let e=j1;for(const t of r)e=e.insert(t.key,t);return e}function S1(r){let e=j1;return r.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function Fo(){return Tc()}function k1(){return Tc()}function Tc(){return new na((r=>r.toString()),((r,e)=>r.isEqual(e)))}const pA=new jt(Re.comparator),mA=new Yt(Re.comparator);function Xe(...r){let e=mA;for(const t of r)e=e.add(t);return e}const gA=new Yt(Qe);function xA(){return gA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oh(e)?"-0":e}}function T1(r){return{integerValue:""+r}}function C1(r,e){return W5(e)?T1(e):Ig(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(){this._=void 0}}function vA(r,e,t){return r instanceof Lc?(function(o,l){const u={fields:{[u1]:{stringValue:c1},[h1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Sg(l)&&(l=Dh(l)),l&&(u.fields[d1]=l),{mapValue:u}})(t,e):r instanceof al?A1(r,e):r instanceof Vc?R1(r,e):(function(o,l){const u=I1(o,l),h=Qy(u)+Qy(o.Ae);return Tm(u)&&Tm(o.Ae)?T1(h):Ig(o.serializer,h)})(r,e)}function yA(r,e,t){return r instanceof al?A1(r,e):r instanceof Vc?R1(r,e):t}function I1(r,e){return r instanceof $c?(function(n){return Tm(n)||(function(l){return!!l&&"doubleValue"in l})(n)})(e)?e:{integerValue:0}:null}class Lc extends Vh{}class al extends Vh{constructor(e){super(),this.elements=e}}function A1(r,e){const t=P1(e);for(const n of r.elements)t.some((o=>Cs(o,n)))||t.push(n);return{arrayValue:{values:t}}}class Vc extends Vh{constructor(e){super(),this.elements=e}}function R1(r,e){let t=P1(e);for(const n of r.elements)t=t.filter((o=>!Cs(o,n)));return{arrayValue:{values:t}}}class $c extends Vh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Qy(r){return Mt(r.integerValue||r.doubleValue)}function P1(r){return kg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,t){this.field=e,this.transform=t}}function bA(r,e){return r.field.isEqual(e.field)&&(function(n,o){return n instanceof al&&o instanceof al||n instanceof Vc&&o instanceof Vc?sl(n.elements,o.elements,Cs):n instanceof $c&&o instanceof $c?Cs(n.Ae,o.Ae):n instanceof Lc&&o instanceof Lc})(r.transform,e.transform)}class wA{constructor(e,t){this.version=e,this.transformResults=t}}class jn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new jn}static exists(e){return new jn(void 0,e)}static updateTime(e){return new jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zd(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class $h{}function D1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Rg(r.key,jn.none()):new eu(r.key,r.data,jn.none());{const t=r.data,n=zr.empty();let o=new Yt(hr.comparator);for(let l of e.fields)if(!o.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?n.delete(l):n.set(l,u),o=o.add(l)}return new lo(r.key,n,new on(o.toArray()),jn.none())}}function _A(r,e,t){r instanceof eu?(function(o,l,u){const h=o.value.clone(),p=Jy(o.fieldTransforms,l,u.transformResults);h.setAll(p),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(r,e,t):r instanceof lo?(function(o,l,u){if(!zd(o.precondition,l))return void l.convertToUnknownDocument(u.version);const h=Jy(o.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(M1(o)),p.setAll(h),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(r,e,t):(function(o,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Cc(r,e,t,n){return r instanceof eu?(function(l,u,h,p){if(!zd(l.precondition,u))return h;const m=l.value.clone(),v=Zy(l.fieldTransforms,p,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(r,e,t,n):r instanceof lo?(function(l,u,h,p){if(!zd(l.precondition,u))return h;const m=Zy(l.fieldTransforms,p,u),v=u.data;return v.setAll(M1(l)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((x=>x.field)))})(r,e,t,n):(function(l,u,h){return zd(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(r,e,t)}function NA(r,e){let t=null;for(const n of r.fieldTransforms){const o=e.data.field(n.field),l=I1(n.transform,o||null);l!=null&&(t===null&&(t=zr.empty()),t.set(n.field,l))}return t||null}function Xy(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(n,o){return n===void 0&&o===void 0||!(!n||!o)&&sl(n,o,((l,u)=>bA(l,u)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class eu extends $h{constructor(e,t,n,o=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class lo extends $h{constructor(e,t,n,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function M1(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}})),e}function Jy(r,e,t){const n=new Map;it(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let o=0;o<t.length;o++){const l=r[o],u=l.transform,h=e.data.field(l.field);n.set(l.field,yA(u,h,t[o]))}return n}function Zy(r,e,t){const n=new Map;for(const o of r){const l=o.transform,u=t.data.field(o.field);n.set(o.field,vA(l,u,e))}return n}class Rg extends $h{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EA extends $h{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,t,n,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=o}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&_A(l,e,n[o])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Cc(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Cc(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=k1();return this.mutations.forEach((o=>{const l=e.get(o.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=t.has(o.key)?null:h;const p=D1(u,h);p!==null&&n.set(o.key,p),u.isValidDocument()||u.convertToNoDocument(Fe.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Xe())}isEqual(e){return this.batchId===e.batchId&&sl(this.mutations,e.mutations,((t,n)=>Xy(t,n)))&&sl(this.baseMutations,e.baseMutations,((t,n)=>Xy(t,n)))}}class Pg{constructor(e,t,n,o){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=o}static from(e,t,n){it(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let o=(function(){return pA})();const l=e.mutations;for(let u=0;u<l.length;u++)o=o.insert(l[u].key,n[u].version);return new Pg(e,t,n,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt,Ze;function TA(r){switch(r){case ne.OK:return Ve(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ve(15467,{code:r})}}function O1(r){if(r===void 0)return ii("GRPC error has no .code"),ne.UNKNOWN;switch(r){case Bt.OK:return ne.OK;case Bt.CANCELLED:return ne.CANCELLED;case Bt.UNKNOWN:return ne.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return ne.INTERNAL;case Bt.UNAVAILABLE:return ne.UNAVAILABLE;case Bt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Bt.NOT_FOUND:return ne.NOT_FOUND;case Bt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Bt.ABORTED:return ne.ABORTED;case Bt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Bt.DATA_LOSS:return ne.DATA_LOSS;default:return Ve(39323,{code:r})}}(Ze=Bt||(Bt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=new Gi([4294967295,4294967295],0);function eb(r){const e=CA().encode(r),t=new Q2;return t.update(e),new Uint8Array(t.digest())}function tb(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Gi([t,n],0),new Gi([o,l],0)]}class Dg{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new bc(`Invalid padding: ${t}`);if(n<0)throw new bc(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new bc(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new bc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Gi.fromNumber(this.ge)}ye(e,t,n){let o=e.add(t.multiply(Gi.fromNumber(n)));return o.compare(IA)===1&&(o=new Gi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=eb(e),[n,o]=tb(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(n,o,l);if(!this.we(u))return!1}return!0}static create(e,t,n){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Dg(l,o,t);return n.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const t=eb(e),[n,o]=tb(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(n,o,l);this.Se(u)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class bc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,t,n,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const o=new Map;return o.set(e,tu.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Fh(Fe.min(),o,new jt(Qe),oi(),Xe())}}class tu{constructor(e,t,n,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new tu(n,t,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,t,n,o){this.be=e,this.removedTargetIds=t,this.key=n,this.De=o}}class L1{constructor(e,t){this.targetId=e,this.Ce=t}}class V1{constructor(e,t,n=pr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=o}}class rb{constructor(){this.ve=0,this.Fe=nb(),this.Me=pr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xe(),t=Xe(),n=Xe();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:n=n.add(o);break;default:Ve(38017,{changeType:l})}})),new tu(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=nb()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,it(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class AA{constructor(e){this.Ge=e,this.ze=new Map,this.je=oi(),this.Je=_d(),this.He=_d(),this.Ye=new jt(Qe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Ve(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((n,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,n=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(Im(l))if(n===0){const u=new Re(l.path);this.et(t,u,Er.newNoDocument(u,Fe.min()))}else it(n===1,20013,{expectedCount:n});else{const u=this._t(t);if(u!==n){const h=this.ut(e),p=h?this.ct(h,e,u):1;if(p!==0){this.it(t);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:o=0},hashCount:l=0}=t;let u,h;try{u=eo(n).toUint8Array()}catch(p){if(p instanceof l1)return nl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new Dg(u,o,l)}catch(p){return nl(p instanceof bc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.ge===0?null:h}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let o=0;return n.forEach((l=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,u)=>{const h=this.ot(u);if(h){if(l.current&&Im(h.target)){const p=new Re(h.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,Er.newNoDocument(p,e))}l.Be&&(t.set(u,l.ke()),l.qe())}}));let n=Xe();this.He.forEach(((l,u)=>{let h=!0;u.forEachWhile((p=>{const m=this.ot(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(n=n.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const o=new Fh(e,t,this.Ye,this.je,n);return this.je=oi(),this.Je=_d(),this.He=_d(),this.Ye=new jt(Qe),o}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new rb,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Yt(Qe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Yt(Qe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Ne("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new rb),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function _d(){return new jt(Re.comparator)}function nb(){return new jt(Re.comparator)}const RA={asc:"ASCENDING",desc:"DESCENDING"},PA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DA={and:"AND",or:"OR"};class MA{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Pm(r,e){return r.useProto3Json||Ph(e)?e:{value:e}}function uh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function OA(r,e){return uh(r,e.toTimestamp())}function js(r){return it(!!r,49232),Fe.fromTimestamp((function(t){const n=Zi(t);return new yt(n.seconds,n.nanos)})(r))}function Mg(r,e){return Dm(r,e).canonicalString()}function Dm(r,e){const t=(function(o){return new ft(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?t:t.child(e)}function F1(r){const e=ft.fromString(r);return it(W1(e),10190,{key:e.toString()}),e}function Mm(r,e){return Mg(r.databaseId,e.path)}function Qp(r,e){const t=F1(e);if(t.get(1)!==r.databaseId.projectId)throw new be(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new be(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Re(B1(t))}function U1(r,e){return Mg(r.databaseId,e)}function LA(r){const e=F1(r);return e.length===4?ft.emptyPath():B1(e)}function Om(r){return new ft(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function B1(r){return it(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function sb(r,e,t){return{name:Mm(r,e),fields:t.value.mapValue.fields}}function VA(r,e){let t;if("targetChange"in e){e.targetChange;const n=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ve(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(m,v){return m.useProto3Json?(it(v===void 0||typeof v=="string",58123),pr.fromBase64String(v||"")):(it(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),pr.fromUint8Array(v||new Uint8Array))})(r,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(m){const v=m.code===void 0?ne.UNKNOWN:O1(m.code);return new be(v,m.message||"")})(u);t=new V1(n,o,l,h||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const o=Qp(r,n.document.name),l=js(n.document.updateTime),u=n.document.createTime?js(n.document.createTime):Fe.min(),h=new zr({mapValue:{fields:n.document.fields}}),p=Er.newFoundDocument(o,l,u,h),m=n.targetIds||[],v=n.removedTargetIds||[];t=new Hd(m,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const o=Qp(r,n.document),l=n.readTime?js(n.readTime):Fe.min(),u=Er.newNoDocument(o,l),h=n.removedTargetIds||[];t=new Hd([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const o=Qp(r,n.document),l=n.removedTargetIds||[];t=new Hd([],l,o,null)}else{if(!("filter"in e))return Ve(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:o=0,unchangedNames:l}=n,u=new kA(o,l),h=n.targetId;t=new L1(h,u)}}return t}function $A(r,e){let t;if(e instanceof eu)t={update:sb(r,e.key,e.value)};else if(e instanceof Rg)t={delete:Mm(r,e.key)};else if(e instanceof lo)t={update:sb(r,e.key,e.data),updateMask:KA(e.fieldMask)};else{if(!(e instanceof EA))return Ve(16599,{Vt:e.type});t={verify:Mm(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((n=>(function(l,u){const h=u.transform;if(h instanceof Lc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof al)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Vc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof $c)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Ve(20930,{transform:u.transform})})(0,n)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:OA(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ve(27497)})(r,e.precondition)),t}function FA(r,e){return r&&r.length>0?(it(e!==void 0,14353),r.map((t=>(function(o,l){let u=o.updateTime?js(o.updateTime):js(l);return u.isEqual(Fe.min())&&(u=js(l)),new wA(u,o.transformResults||[])})(t,e)))):[]}function UA(r,e){return{documents:[U1(r,e.path)]}}function BA(r,e){const t={structuredQuery:{}},n=e.path;let o;e.collectionGroup!==null?(o=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=U1(r,o);const l=(function(m){if(m.length!==0)return H1(Kn.create(m,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const u=(function(m){if(m.length!==0)return m.map((v=>(function(w){return{field:Wa(w.field),direction:WA(w.dir)}})(v)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=Pm(r,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:o}}function zA(r){let e=LA(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let o=null;if(n>0){it(n===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(x){const w=z1(x);return w instanceof Kn&&v1(w)?w.getFilters():[w]})(t.where));let u=[];t.orderBy&&(u=(function(x){return x.map((w=>(function(P){return new Oc(qa(P.field),(function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(w)))})(t.orderBy));let h=null;t.limit&&(h=(function(x){let w;return w=typeof x=="object"?x.value:x,Ph(w)?null:w})(t.limit));let p=null;t.startAt&&(p=(function(x){const w=!!x.before,k=x.values||[];return new ch(k,w)})(t.startAt));let m=null;return t.endAt&&(m=(function(x){const w=!x.before,k=x.values||[];return new ch(k,w)})(t.endAt)),cA(e,o,u,l,h,"F",p,m)}function HA(r,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function z1(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=qa(t.unaryFilter.field);return zt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const o=qa(t.unaryFilter.field);return zt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=qa(t.unaryFilter.field);return zt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=qa(t.unaryFilter.field);return zt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ve(61313);default:return Ve(60726)}})(r):r.fieldFilter!==void 0?(function(t){return zt.create(qa(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ve(58110);default:return Ve(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return Kn.create(t.compositeFilter.filters.map((n=>z1(n))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ve(1026)}})(t.compositeFilter.op))})(r):Ve(30097,{filter:r})}function WA(r){return RA[r]}function qA(r){return PA[r]}function GA(r){return DA[r]}function Wa(r){return{fieldPath:r.canonicalString()}}function qa(r){return hr.fromServerFormat(r.fieldPath)}function H1(r){return r instanceof zt?(function(t){if(t.op==="=="){if(Wy(t.value))return{unaryFilter:{field:Wa(t.field),op:"IS_NAN"}};if(Hy(t.value))return{unaryFilter:{field:Wa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Wy(t.value))return{unaryFilter:{field:Wa(t.field),op:"IS_NOT_NAN"}};if(Hy(t.value))return{unaryFilter:{field:Wa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(t.field),op:qA(t.op),value:t.value}}})(r):r instanceof Kn?(function(t){const n=t.getFilters().map((o=>H1(o)));return n.length===1?n[0]:{compositeFilter:{op:GA(t.op),filters:n}}})(r):Ve(54877,{filter:r})}function KA(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function W1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,t,n,o,l=Fe.min(),u=Fe.min(),h=pr.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new Hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e){this.yt=e}}function QA(r){const e=zA({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Rm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(){this.Cn=new JA}addToCollectionParentIndex(e,t){return this.Cn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(Ji.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(Ji.min())}updateCollectionGroup(e,t,n){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class JA{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),o=this.index[t]||new Yt(ft.comparator),l=!o.has(n);return this.index[t]=o.add(n),l}has(e){const t=e.lastSegment(),n=e.popLast(),o=this.index[t];return o&&o.has(n)}getEntries(e){return(this.index[e]||new Yt(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},q1=41943040;class Br{static withCacheSize(e){return new Br(e,Br.DEFAULT_COLLECTION_PERCENTILE,Br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Br.DEFAULT_COLLECTION_PERCENTILE=10,Br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Br.DEFAULT=new Br(q1,Br.DEFAULT_COLLECTION_PERCENTILE,Br.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Br.DISABLED=new Br(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ll(0)}static cr(){return new ll(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="LruGarbageCollector",ZA=1048576;function ab([r,e],[t,n]){const o=Qe(r,t);return o===0?Qe(e,n):o}class eR{constructor(e){this.Ir=e,this.buffer=new Yt(ab),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();ab(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class tR{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ne(ob,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){gl(t)?Ne(ob,"Ignoring IndexedDB error during garbage collection: ",t):await ml(t)}await this.Vr(3e5)}))}}class rR{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((n=>Math.floor(t/100*n)))}nthSequenceNumber(e,t){if(t===0)return se.resolve(Rh.ce);const n=new eR(t);return this.mr.forEachTarget(e,(o=>n.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>n.Ar(o))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(ib)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ib):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,o,l,u,h,p,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,u=Date.now(),this.nthSequenceNumber(e,o)))).next((x=>(n=x,h=Date.now(),this.removeTargets(e,n,t)))).next((x=>(l=x,p=Date.now(),this.removeOrphanedDocuments(e,n)))).next((x=>(m=Date.now(),za()<=Ye.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(h-u)+`ms
	Removed ${l} targets in `+(p-h)+`ms
	Removed ${x} documents in `+(m-p)+`ms
Total Duration: ${m-v}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:x}))))}}function nR(r,e){return new rR(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(){this.changes=new na((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Er.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?se.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,t,n,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=o}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(n=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(n!==null&&Cc(n.mutation,o,on.empty(),yt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.getLocalViewOfDocuments(e,n,Xe()).next((()=>n))))}getLocalViewOfDocuments(e,t,n=Xe()){const o=Fo();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,n).next((l=>{let u=yc();return l.forEach(((h,p)=>{u=u.insert(h,p.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const n=Fo();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Xe())))}populateOverlays(e,t,n){const o=[];return n.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((u,h)=>{t.set(u,h)}))}))}computeViews(e,t,n,o){let l=oi();const u=Tc(),h=(function(){return Tc()})();return t.forEach(((p,m)=>{const v=n.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof lo)?l=l.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),Cc(v.mutation,m,v.mutation.getFieldMask(),yt.now())):u.set(m.key,on.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((m,v)=>u.set(m,v))),t.forEach(((m,v)=>h.set(m,new iR(v,u.get(m)??null)))),h)))}recalculateAndSaveOverlays(e,t){const n=Tc();let o=new jt(((u,h)=>u-h)),l=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const h of u)h.keys().forEach((p=>{const m=t.get(p);if(m===null)return;let v=n.get(p)||on.empty();v=h.applyToLocalView(m,v),n.set(p,v);const x=(o.get(h.batchId)||Xe()).add(p);o=o.insert(h.batchId,x)}))})).next((()=>{const u=[],h=o.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),m=p.key,v=p.value,x=k1();v.forEach((w=>{if(!l.has(w)){const k=D1(t.get(w),n.get(w));k!==null&&x.set(w,k),l=l.add(w)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,x))}return se.waitFor(u)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,t,n,o){return(function(u){return Re.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):_1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,o):this.getDocumentsMatchingCollectionQuery(e,t,n,o)}getNextDocuments(e,t,n,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,o).next((l=>{const u=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,o-l.size):se.resolve(Fo());let h=Rc,p=l;return u.next((m=>se.forEach(m,((v,x)=>(h<x.largestBatchId&&(h=x.largestBatchId),l.get(v)?se.resolve():this.remoteDocumentCache.getEntry(e,v).next((w=>{p=p.insert(v,w)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,p,m,Xe()))).next((v=>({batchId:h,changes:S1(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Re(t)).next((n=>{let o=yc();return n.isFoundDocument()&&(o=o.insert(n.key,n)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,o){const l=t.collectionGroup;let u=yc();return this.indexManager.getCollectionParents(e,l).next((h=>se.forEach(h,(p=>{const m=(function(x,w){return new xl(w,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,n,o).next((v=>{v.forEach(((x,w)=>{u=u.insert(x,w)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,n,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,l,o)))).next((u=>{l.forEach(((p,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,Er.newInvalidDocument(v)))}));let h=yc();return u.forEach(((p,m)=>{const v=l.get(p);v!==void 0&&Cc(v.mutation,m,on.empty(),yt.now()),Lh(t,m)&&(h=h.insert(p,m))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return se.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:js(o.createTime)}})(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:QA(o.bundledQuery),readTime:js(o.readTime)}})(t)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(){this.overlays=new jt(Re.comparator),this.qr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Fo();return se.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&n.set(o,l)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((o,l)=>{this.St(e,t,l)})),se.resolve()}removeOverlaysForBatchId(e,t,n){const o=this.qr.get(n);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(n)),se.resolve()}getOverlaysForCollection(e,t,n){const o=Fo(),l=t.length+1,u=new Re(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const p=h.getNext().value,m=p.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>n&&o.set(p.getKey(),p)}return se.resolve(o)}getOverlaysForCollectionGroup(e,t,n,o){let l=new jt(((m,v)=>m-v));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>n){let v=l.get(m.largestBatchId);v===null&&(v=Fo(),l=l.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const h=Fo(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((m,v)=>h.set(m,v))),!(h.size()>=o)););return se.resolve(h)}St(e,t,n){const o=this.overlays.get(n.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(n.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(n.key,new SA(t,n));let l=this.qr.get(t);l===void 0&&(l=Xe(),this.qr.set(t,l)),this.qr.set(t,l.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(){this.sessionToken=pr.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(){this.Qr=new Yt(ir.$r),this.Ur=new Yt(ir.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new ir(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach((n=>this.addReference(n,t)))}removeReference(e,t){this.Gr(new ir(e,t))}zr(e,t){e.forEach((n=>this.removeReference(n,t)))}jr(e){const t=new Re(new ft([])),n=new ir(t,e),o=new ir(t,e+1),l=[];return this.Ur.forEachInRange([n,o],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Re(new ft([])),n=new ir(t,e),o=new ir(t,e+1);let l=Xe();return this.Ur.forEachInRange([n,o],(u=>{l=l.add(u.key)})),l}containsKey(e){const t=new ir(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class ir{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Re.comparator(e.key,t.key)||Qe(e.Yr,t.Yr)}static Kr(e,t){return Qe(e.Yr,t.Yr)||Re.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Yt(ir.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new jA(l,t,n,o);this.mutationQueue.push(u);for(const h of o)this.Zr=this.Zr.add(new ir(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return se.resolve(u)}lookupMutationBatch(e,t){return se.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,o=this.ei(n),l=o<0?0:o;return se.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?jg:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ir(t,0),o=new ir(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([n,o],(u=>{const h=this.Xr(u.Yr);l.push(h)})),se.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Yt(Qe);return t.forEach((o=>{const l=new ir(o,0),u=new ir(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(h=>{n=n.add(h.Yr)}))})),se.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,o=n.length+1;let l=n;Re.isDocumentKey(l)||(l=l.child(""));const u=new ir(new Re(l),0);let h=new Yt(Qe);return this.Zr.forEachWhile((p=>{const m=p.key.path;return!!n.isPrefixOf(m)&&(m.length===o&&(h=h.add(p.Yr)),!0)}),u),se.resolve(this.ti(h))}ti(e){const t=[];return e.forEach((n=>{const o=this.Xr(n);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){it(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return se.forEach(t.mutations,(o=>{const l=new ir(o.key,t.batchId);return n=n.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,t){const n=new ir(t,0),o=this.Zr.firstAfterOrEqual(n);return se.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e){this.ri=e,this.docs=(function(){return new jt(Re.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,o=this.docs.get(n),l=o?o.size:0,u=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return se.resolve(n?n.document.mutableCopy():Er.newInvalidDocument(t))}getEntries(e,t){let n=oi();return t.forEach((o=>{const l=this.docs.get(o);n=n.insert(o,l?l.document.mutableCopy():Er.newInvalidDocument(o))})),se.resolve(n)}getDocumentsMatchingQuery(e,t,n,o){let l=oi();const u=t.path,h=new Re(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:m,value:{document:v}}=p.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||U5(F5(v),n)<=0||(o.has(v.key)||Lh(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return se.resolve(l)}getAllFromCollectionGroup(e,t,n,o){Ve(9500)}ii(e,t){return se.forEach(this.docs,(n=>t(n)))}newChangeBuffer(e){return new hR(this)}getSize(e){return se.resolve(this.size)}}class hR extends sR{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(n)})),se.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e){this.persistence=e,this.si=new na((t=>Tg(t)),Cg),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.oi=0,this._i=new Og,this.targetCount=0,this.ai=ll.ur()}forEachTarget(e,t){return this.si.forEach(((n,o)=>t(o))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),se.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ll(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.Pr(t),se.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,n){let o=0;const l=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=t&&n.get(h.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)})),se.waitFor(l).next((()=>o))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return se.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),se.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((u=>{l.push(o.markPotentiallyOrphaned(e,u))})),se.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),se.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return se.resolve(n)}containsKey(e,t){return se.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,t){this.ui={},this.overlays={},this.ci=new Rh(0),this.li=!1,this.li=!0,this.hi=new cR,this.referenceDelegate=e(this),this.Pi=new fR(this),this.indexManager=new XA,this.remoteDocumentCache=(function(o){return new dR(o)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new YA(t),this.Ii=new aR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new lR,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new uR(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){Ne("MemoryPersistence","Starting transaction:",e);const o=new pR(this.ci.next());return this.referenceDelegate.Ei(),n(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,t){return se.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,t))))}}class pR extends z5{constructor(e){super(),this.currentSequenceNumber=e}}class Lg{constructor(e){this.persistence=e,this.Ri=new Og,this.Vi=null}static mi(e){return new Lg(e)}get fi(){if(this.Vi)return this.Vi;throw Ve(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),se.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),se.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>n.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(n=>{const o=Re.fromPath(n);return this.gi(e,o).next((l=>{l||t.removeEntry(o,Fe.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((n=>{n?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return se.or([()=>se.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class dh{constructor(e,t){this.persistence=e,this.pi=new na((n=>q5(n.path)),((n,o)=>n.isEqual(o))),this.garbageCollector=nR(this,t)}static mi(e,t){return new dh(e,t)}Ei(){}di(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>t.next((o=>n+o))))}wr(e){let t=0;return this.pr(e,(n=>{t++})).next((()=>t))}pr(e,t){return se.forEach(this.pi,((n,o)=>this.br(e,n,o).next((l=>l?se.resolve():t(o)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,t).next((h=>{h||(n++,l.removeEntry(u,Fe.min()))})))).next((()=>l.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),se.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ud(e.data.value)),t}br(e,t,n){return se.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return se.resolve(o!==void 0&&o>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,t,n,o){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=o}static As(e,t){let n=Xe(),o=Xe();for(const l of t.docChanges)switch(l.type){case 0:n=n.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Vg(e,t.fromCache,n,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return GT()?8:H5(jr())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,o){const l={result:null};return this.ys(e,t).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,t,o,n).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new mR;return this.Ss(e,t,u).next((h=>{if(l.result=h,this.Vs)return this.bs(e,t,u,h.size)}))})).next((()=>l.result))}bs(e,t,n,o){return n.documentReadCount<this.fs?(za()<=Ye.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",Ha(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(za()<=Ye.DEBUG&&Ne("QueryEngine","Query:",Ha(t),"scans",n.documentReadCount,"local documents and returns",o,"documents as results."),n.documentReadCount>this.gs*o?(za()<=Ye.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",Ha(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Es(t))):se.resolve())}ys(e,t){if(Yy(t))return se.resolve(null);let n=Es(t);return this.indexManager.getIndexType(e,n).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Rm(t,null,"F"),n=Es(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((l=>{const u=Xe(...l);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,n).next((p=>{const m=this.Ds(t,h);return this.Cs(t,m,u,p.readTime)?this.ys(e,Rm(t,null,"F")):this.vs(e,m,t,p)}))))})))))}ws(e,t,n,o){return Yy(t)||o.isEqual(Fe.min())?se.resolve(null):this.ps.getDocuments(e,n).next((l=>{const u=this.Ds(t,l);return this.Cs(t,u,n,o)?se.resolve(null):(za()<=Ye.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ha(t)),this.vs(e,u,t,$5(o,Rc)).next((h=>h)))}))}Ds(e,t){let n=new Yt(E1(e));return t.forEach(((o,l)=>{Lh(e,l)&&(n=n.add(l))})),n}Cs(e,t,n,o){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,n){return za()<=Ye.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",Ha(t)),this.ps.getDocumentsMatchingQuery(e,t,Ji.min(),n)}vs(e,t,n,o){return this.ps.getDocumentsMatchingQuery(e,n,o).next((l=>(t.forEach((u=>{l=l.insert(u.key,u)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g="LocalStore",xR=3e8;class vR{constructor(e,t,n,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new jt(Qe),this.xs=new na((l=>Tg(l)),Cg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function yR(r,e,t,n){return new vR(r,e,t,n)}async function K1(r,e){const t=Be(r);return await t.persistence.runTransaction("Handle user change","readonly",(n=>{let o;return t.mutationQueue.getAllMutationBatches(n).next((l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(n)))).next((l=>{const u=[],h=[];let p=Xe();for(const m of o){u.push(m.batchId);for(const v of m.mutations)p=p.add(v.key)}for(const m of l){h.push(m.batchId);for(const v of m.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(n,p).next((m=>({Ls:m,removedBatchIds:u,addedBatchIds:h})))}))}))}function bR(r,e){const t=Be(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,p,m,v){const x=m.batch,w=x.keys();let k=se.resolve();return w.forEach((P=>{k=k.next((()=>v.getEntry(p,P))).next((j=>{const T=m.docVersions.get(P);it(T!==null,48541),j.version.compareTo(T)<0&&(x.applyToRemoteDocument(j,m),j.isValidDocument()&&(j.setReadTime(m.commitVersion),v.addEntry(j)))}))})),k.next((()=>h.mutationQueue.removeMutationBatch(p,x)))})(t,n,e,l).next((()=>l.apply(n))).next((()=>t.mutationQueue.performConsistencyCheck(n))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(n,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(h){let p=Xe();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(p=p.add(h.batch.mutations[m].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(n,o)))}))}function Y1(r){const e=Be(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function wR(r,e){const t=Be(r),n=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const h=[];e.targetChanges.forEach(((v,x)=>{const w=o.get(x);if(!w)return;h.push(t.Pi.removeMatchingKeys(l,v.removedDocuments,x).next((()=>t.Pi.addMatchingKeys(l,v.addedDocuments,x))));let k=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(x)!==null?k=k.withResumeToken(pr.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):v.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(v.resumeToken,n)),o=o.insert(x,k),(function(j,T,M){return j.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=xR?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0})(w,k,v)&&h.push(t.Pi.updateTargetData(l,k))}));let p=oi(),m=Xe();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),h.push(_R(l,u,e.documentUpdates).next((v=>{p=v.ks,m=v.qs}))),!n.isEqual(Fe.min())){const v=t.Pi.getLastRemoteSnapshotVersion(l).next((x=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,n)));h.push(v)}return se.waitFor(h).next((()=>u.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,m))).next((()=>p))})).then((l=>(t.Ms=o,l)))}function _R(r,e,t){let n=Xe(),o=Xe();return t.forEach((l=>n=n.add(l))),e.getEntries(r,n).next((l=>{let u=oi();return t.forEach(((h,p)=>{const m=l.get(h);p.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(h)),p.isNoDocument()&&p.version.isEqual(Fe.min())?(e.removeEntry(h,p.readTime),u=u.insert(h,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),u=u.insert(h,p)):Ne($g,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",p.version)})),{ks:u,qs:o}}))}function NR(r,e){const t=Be(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=jg),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function ER(r,e){const t=Be(r);return t.persistence.runTransaction("Allocate target","readwrite",(n=>{let o;return t.Pi.getTargetData(n,e).next((l=>l?(o=l,se.resolve(o)):t.Pi.allocateTargetId(n).next((u=>(o=new Hi(e,u,"TargetPurposeListen",n.currentSequenceNumber),t.Pi.addTargetData(n,o).next((()=>o)))))))})).then((n=>{const o=t.Ms.get(n.targetId);return(o===null||n.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(n.targetId,n),t.xs.set(e,n.targetId)),n}))}async function Lm(r,e,t){const n=Be(r),o=n.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",l,(u=>n.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!gl(u))throw u;Ne($g,`Failed to update sequence numbers for target ${e}: ${u}`)}n.Ms=n.Ms.remove(e),n.xs.delete(o.target)}function lb(r,e,t){const n=Be(r);let o=Fe.min(),l=Xe();return n.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,m,v){const x=Be(p),w=x.xs.get(v);return w!==void 0?se.resolve(x.Ms.get(w)):x.Pi.getTargetData(m,v)})(n,u,Es(e)).next((h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(u,h.targetId).next((p=>{l=p}))})).next((()=>n.Fs.getDocumentsMatchingQuery(u,e,t?o:Fe.min(),t?l:Xe()))).next((h=>(jR(n,dA(e),h),{documents:h,Qs:l})))))}function jR(r,e,t){let n=r.Os.get(e)||Fe.min();t.forEach(((o,l)=>{l.readTime.compareTo(n)>0&&(n=l.readTime)})),r.Os.set(e,n)}class cb{constructor(){this.activeTargetIds=xA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SR{constructor(){this.Mo=new cb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new cb,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="ConnectivityMonitor";class db{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ne(ub,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ne(ub,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nd=null;function Vm(){return Nd===null?Nd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Nd++,"0x"+Nd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="RestConnection",TR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${o}`,this.Wo=this.databaseId.database===ah?`project_id=${n}`:`project_id=${n}&database_id=${o}`}Go(e,t,n,o,l){const u=Vm(),h=this.zo(e,t.toUriEncodedString());Ne(Xp,`Sending RPC '${e}' ${u}:`,h,n);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,l);const{host:m}=new URL(h),v=ea(m);return this.Jo(e,h,p,n,v).then((x=>(Ne(Xp,`Received RPC '${e}' ${u}: `,x),x)),(x=>{throw nl(Xp,`RPC '${e}' ${u} failed with error: `,x,"url: ",h,"request:",n),x}))}Ho(e,t,n,o,l,u){return this.Go(e,t,n,o,l)}jo(e,t,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+pl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),n&&n.headers.forEach(((o,l)=>e[l]=o))}zo(e,t){const n=TR[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r="WebChannelConnection";class AR extends CR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,o,l){const u=Vm();return new Promise(((h,p)=>{const m=new X2;m.setWithCredentials(!0),m.listenOnce(J2.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Fd.NO_ERROR:const x=m.getResponseJson();Ne(_r,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(x)),h(x);break;case Fd.TIMEOUT:Ne(_r,`RPC '${e}' ${u} timed out`),p(new be(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Fd.HTTP_ERROR:const w=m.getStatus();if(Ne(_r,`RPC '${e}' ${u} failed with status:`,w,"response text:",m.getResponseText()),w>0){let k=m.getResponseJson();Array.isArray(k)&&(k=k[0]);const P=k?.error;if(P&&P.status&&P.message){const j=(function(M){const B=M.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(B)>=0?B:ne.UNKNOWN})(P.status);p(new be(j,P.message))}else p(new be(ne.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new be(ne.UNAVAILABLE,"Connection failed."));break;default:Ve(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{Ne(_r,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(o);Ne(_r,`RPC '${e}' ${u} sending request:`,o),m.send(t,"POST",v,n,15)}))}T_(e,t,n){const o=Vm(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=t1(),h=e1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,n),p.encodeInitMessageHeaders=!0;const v=l.join("");Ne(_r,`Creating RPC '${e}' stream ${o}: ${v}`,p);const x=u.createWebChannel(v,p);this.I_(x);let w=!1,k=!1;const P=new IR({Yo:T=>{k?Ne(_r,`Not sending because RPC '${e}' stream ${o} is closed:`,T):(w||(Ne(_r,`Opening RPC '${e}' stream ${o} transport.`),x.open(),w=!0),Ne(_r,`RPC '${e}' stream ${o} sending:`,T),x.send(T))},Zo:()=>x.close()}),j=(T,M,B)=>{T.listen(M,(F=>{try{B(F)}catch($){setTimeout((()=>{throw $}),0)}}))};return j(x,vc.EventType.OPEN,(()=>{k||(Ne(_r,`RPC '${e}' stream ${o} transport opened.`),P.o_())})),j(x,vc.EventType.CLOSE,(()=>{k||(k=!0,Ne(_r,`RPC '${e}' stream ${o} transport closed`),P.a_(),this.E_(x))})),j(x,vc.EventType.ERROR,(T=>{k||(k=!0,nl(_r,`RPC '${e}' stream ${o} transport errored. Name:`,T.name,"Message:",T.message),P.a_(new be(ne.UNAVAILABLE,"The operation could not be completed")))})),j(x,vc.EventType.MESSAGE,(T=>{if(!k){const M=T.data[0];it(!!M,16349);const B=M,F=B?.error||B[0]?.error;if(F){Ne(_r,`RPC '${e}' stream ${o} received error:`,F);const $=F.status;let z=(function(E){const C=Bt[E];if(C!==void 0)return O1(C)})($),J=F.message;z===void 0&&(z=ne.INTERNAL,J="Unknown error status: "+$+" with message "+F.message),k=!0,P.a_(new be(z,J)),x.close()}else Ne(_r,`RPC '${e}' stream ${o} received:`,M),P.u_(M)}})),j(h,Z2.STAT_EVENT,(T=>{T.stat===jm.PROXY?Ne(_r,`RPC '${e}' stream ${o} detected buffering proxy`):T.stat===jm.NOPROXY&&Ne(_r,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{P.__()}),0),P}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Jp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(r){return new MA(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,t,n=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-n);o>0&&Ne("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="PersistentStream";class X1{constructor(e,t,n,o,l,u,h,p){this.Mi=e,this.S_=n,this.b_=o,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Q1(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(ii(t.toString()),ii("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,o])=>{this.D_===t&&this.G_(n,o)}),(n=>{e((()=>{const o=new be(ne.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(o)}))}))}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{n((()=>this.z_(o)))})),this.stream.onMessage((o=>{n((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ne(hb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Ne(hb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class RR extends X1{constructor(e,t,n,o,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,o,u),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=VA(this.serializer,e),n=(function(l){if(!("targetChange"in l))return Fe.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Fe.min():u.readTime?js(u.readTime):Fe.min()})(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=Om(this.serializer),t.addTarget=(function(l,u){let h;const p=u.target;if(h=Im(p)?{documents:UA(l,p)}:{query:BA(l,p).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=$1(l,u.resumeToken);const m=Pm(l,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(Fe.min())>0){h.readTime=uh(l,u.snapshotVersion.toTimestamp());const m=Pm(l,u.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const n=HA(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=Om(this.serializer),t.removeTarget=e,this.q_(t)}}class PR extends X1{constructor(e,t,n,o,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,o,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return it(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){it(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=FA(e.writeResults,e.commitTime),n=js(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Om(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((n=>$A(this.serializer,n)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{}class MR extends DR{constructor(e,t,n,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new be(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,Dm(t,n),o,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new be(ne.UNKNOWN,l.toString())}))}Ho(e,t,n,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,Dm(t,n),o,u,h,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new be(ne.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class OR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ii(t),this.aa=!1):Ne("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo="RemoteStore";class LR{constructor(e,t,n,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{n.enqueueAndForget((async()=>{sa(this)&&(Ne(Yo,"Restarting streams for network reachability change."),await(async function(p){const m=Be(p);m.Ea.add(4),await ru(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Bh(m)})(this))}))})),this.Ra=new OR(n,o)}}async function Bh(r){if(sa(r))for(const e of r.da)await e(!0)}async function ru(r){for(const e of r.da)await e(!1)}function J1(r,e){const t=Be(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),zg(t)?Bg(t):vl(t).O_()&&Ug(t,e))}function Fg(r,e){const t=Be(r),n=vl(t);t.Ia.delete(e),n.O_()&&Z1(t,e),t.Ia.size===0&&(n.O_()?n.L_():sa(t)&&t.Ra.set("Unknown"))}function Ug(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}vl(r).Y_(e)}function Z1(r,e){r.Va.Ue(e),vl(r).Z_(e)}function Bg(r){r.Va=new AA({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),vl(r).start(),r.Ra.ua()}function zg(r){return sa(r)&&!vl(r).x_()&&r.Ia.size>0}function sa(r){return Be(r).Ea.size===0}function e_(r){r.Va=void 0}async function VR(r){r.Ra.set("Online")}async function $R(r){r.Ia.forEach(((e,t)=>{Ug(r,e)}))}async function FR(r,e){e_(r),zg(r)?(r.Ra.ha(e),Bg(r)):r.Ra.set("Unknown")}async function UR(r,e,t){if(r.Ra.set("Online"),e instanceof V1&&e.state===2&&e.cause)try{await(async function(o,l){const u=l.cause;for(const h of l.targetIds)o.Ia.has(h)&&(await o.remoteSyncer.rejectListen(h,u),o.Ia.delete(h),o.Va.removeTarget(h))})(r,e)}catch(n){Ne(Yo,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await hh(r,n)}else if(e instanceof Hd?r.Va.Ze(e):e instanceof L1?r.Va.st(e):r.Va.tt(e),!t.isEqual(Fe.min()))try{const n=await Y1(r.localStore);t.compareTo(n)>=0&&await(function(l,u){const h=l.Va.Tt(u);return h.targetChanges.forEach(((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ia.get(m);v&&l.Ia.set(m,v.withResumeToken(p.resumeToken,u))}})),h.targetMismatches.forEach(((p,m)=>{const v=l.Ia.get(p);if(!v)return;l.Ia.set(p,v.withResumeToken(pr.EMPTY_BYTE_STRING,v.snapshotVersion)),Z1(l,p);const x=new Hi(v.target,p,m,v.sequenceNumber);Ug(l,x)})),l.remoteSyncer.applyRemoteEvent(h)})(r,t)}catch(n){Ne(Yo,"Failed to raise snapshot:",n),await hh(r,n)}}async function hh(r,e,t){if(!gl(e))throw e;r.Ea.add(1),await ru(r),r.Ra.set("Offline"),t||(t=()=>Y1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{Ne(Yo,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await Bh(r)}))}function t_(r,e){return e().catch((t=>hh(r,t,e)))}async function zh(r){const e=Be(r),t=ro(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:jg;for(;BR(e);)try{const o=await NR(e.localStore,n);if(o===null){e.Ta.length===0&&t.L_();break}n=o.batchId,zR(e,o)}catch(o){await hh(e,o)}r_(e)&&n_(e)}function BR(r){return sa(r)&&r.Ta.length<10}function zR(r,e){r.Ta.push(e);const t=ro(r);t.O_()&&t.X_&&t.ea(e.mutations)}function r_(r){return sa(r)&&!ro(r).x_()&&r.Ta.length>0}function n_(r){ro(r).start()}async function HR(r){ro(r).ra()}async function WR(r){const e=ro(r);for(const t of r.Ta)e.ea(t.mutations)}async function qR(r,e,t){const n=r.Ta.shift(),o=Pg.from(n,e,t);await t_(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await zh(r)}async function GR(r,e){e&&ro(r).X_&&await(async function(n,o){if((function(u){return TA(u)&&u!==ne.ABORTED})(o.code)){const l=n.Ta.shift();ro(n).B_(),await t_(n,(()=>n.remoteSyncer.rejectFailedWrite(l.batchId,o))),await zh(n)}})(r,e),r_(r)&&n_(r)}async function fb(r,e){const t=Be(r);t.asyncQueue.verifyOperationInProgress(),Ne(Yo,"RemoteStore received new credentials");const n=sa(t);t.Ea.add(3),await ru(t),n&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Bh(t)}async function KR(r,e){const t=Be(r);e?(t.Ea.delete(2),await Bh(t)):e||(t.Ea.add(2),await ru(t),t.Ra.set("Unknown"))}function vl(r){return r.ma||(r.ma=(function(t,n,o){const l=Be(t);return l.sa(),new RR(n,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Xo:VR.bind(null,r),t_:$R.bind(null,r),r_:FR.bind(null,r),H_:UR.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),zg(r)?Bg(r):r.Ra.set("Unknown")):(await r.ma.stop(),e_(r))}))),r.ma}function ro(r){return r.fa||(r.fa=(function(t,n,o){const l=Be(t);return l.sa(),new PR(n,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:HR.bind(null,r),r_:GR.bind(null,r),ta:WR.bind(null,r),na:qR.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await zh(r)):(await r.fa.stop(),r.Ta.length>0&&(Ne(Yo,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,t,n,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=o,this.removalCallback=l,this.deferred=new ti,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,o,l){const u=Date.now()+n,h=new Hg(e,t,u,o,l);return h.start(n),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wg(r,e){if(ii("AsyncQueue",`${e}: ${r}`),gl(r))return new be(ne.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{static emptySet(e){return new Xa(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Re.comparator(t.key,n.key):(t,n)=>Re.comparator(t.key,n.key),this.keyedMap=yc(),this.sortedSet=new jt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=n.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Xa;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(){this.ga=new jt(Re.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ve(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,n)=>{e.push(n)})),e}}class cl{constructor(e,t,n,o,l,u,h,p,m){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=o,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,t,n,o,l){const u=[];return t.forEach((h=>{u.push({type:0,doc:h})})),new cl(e,t,Xa.emptySet(t),u,n,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==n[o].type||!t[o].doc.isEqual(n[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class QR{constructor(){this.queries=mb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,n){const o=Be(t),l=o.queries;o.queries=mb(),l.forEach(((u,h)=>{for(const p of h.Sa)p.onError(n)}))})(this,new be(ne.ABORTED,"Firestore shutting down"))}}function mb(){return new na((r=>N1(r)),Oh)}async function qg(r,e){const t=Be(r);let n=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(n=2):(l=new YR,n=e.Da()?0:1);try{switch(n){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const h=Wg(u,`Initialization of query '${Ha(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Kg(t)}async function Gg(r,e){const t=Be(r),n=e.query;let o=3;const l=t.queries.get(n);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function XR(r,e){const t=Be(r);let n=!1;for(const o of e){const l=o.query,u=t.queries.get(l);if(u){for(const h of u.Sa)h.Fa(o)&&(n=!0);u.wa=o}}n&&Kg(t)}function JR(r,e,t){const n=Be(r),o=n.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);n.queries.delete(e)}function Kg(r){r.Ca.forEach((e=>{e.next()}))}var $m,gb;(gb=$m||($m={})).Ma="default",gb.Cache="cache";class Yg{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const o of e.docChanges)o.type!==3&&n.push(o);e=new cl(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const n=t!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=cl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$m.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e){this.key=e}}class i_{constructor(e){this.key=e}}class ZR{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Xe(),this.mutatedKeys=Xe(),this.eu=E1(e),this.tu=new Xa(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new pb,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,u=o,h=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,x)=>{const w=o.get(v),k=Lh(this.query,x)?x:null,P=!!w&&this.mutatedKeys.has(w.key),j=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let T=!1;w&&k?w.data.isEqual(k.data)?P!==j&&(n.track({type:3,doc:k}),T=!0):this.su(w,k)||(n.track({type:2,doc:k}),T=!0,(p&&this.eu(k,p)>0||m&&this.eu(k,m)<0)&&(h=!0)):!w&&k?(n.track({type:0,doc:k}),T=!0):w&&!k&&(n.track({type:1,doc:w}),T=!0,(p||m)&&(h=!0)),T&&(k?(u=u.add(k),l=j?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),n.track({type:1,doc:v})}return{tu:u,iu:n,Cs:h,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,x)=>(function(k,P){const j=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve(20277,{Rt:T})}};return j(k)-j(P)})(v.type,x.type)||this.eu(v.doc,x.doc))),this.ou(n),o=o??!1;const h=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,m=p!==this.Za;return this.Za=p,u.length!==0||m?{snapshot:new cl(this.query,e.tu,l,u,e.mutatedKeys,p===0,m,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new pb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Xe(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const t=[];return e.forEach((n=>{this.Xa.has(n)||t.push(new i_(n))})),this.Xa.forEach((n=>{e.has(n)||t.push(new s_(n))})),t}cu(e){this.Ya=e.Qs,this.Xa=Xe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return cl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Qg="SyncEngine";class eP{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class tP{constructor(e){this.key=e,this.hu=!1}}class rP{constructor(e,t,n,o,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new na((h=>N1(h)),Oh),this.Iu=new Map,this.Eu=new Set,this.du=new jt(Re.comparator),this.Au=new Map,this.Ru=new Og,this.Vu={},this.mu=new Map,this.fu=ll.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function nP(r,e,t=!0){const n=d_(r);let o;const l=n.Tu.get(e);return l?(n.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await o_(n,e,t,!0),o}async function sP(r,e){const t=d_(r);await o_(t,e,!0,!1)}async function o_(r,e,t,n){const o=await ER(r.localStore,Es(e)),l=o.targetId,u=r.sharedClientState.addLocalQueryTarget(l,t);let h;return n&&(h=await iP(r,e,l,u==="current",o.resumeToken)),r.isPrimaryClient&&t&&J1(r.remoteStore,o),h}async function iP(r,e,t,n,o){r.pu=(x,w,k)=>(async function(j,T,M,B){let F=T.view.ru(M);F.Cs&&(F=await lb(j.localStore,T.query,!1).then((({documents:A})=>T.view.ru(A,F))));const $=B&&B.targetChanges.get(T.targetId),z=B&&B.targetMismatches.get(T.targetId)!=null,J=T.view.applyChanges(F,j.isPrimaryClient,$,z);return vb(j,T.targetId,J.au),J.snapshot})(r,x,w,k);const l=await lb(r.localStore,e,!0),u=new ZR(e,l.Qs),h=u.ru(l.documents),p=tu.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",o),m=u.applyChanges(h,r.isPrimaryClient,p);vb(r,t,m.au);const v=new eP(e,t,u);return r.Tu.set(e,v),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),m.snapshot}async function oP(r,e,t){const n=Be(r),o=n.Tu.get(e),l=n.Iu.get(o.targetId);if(l.length>1)return n.Iu.set(o.targetId,l.filter((u=>!Oh(u,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||await Lm(n.localStore,o.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(o.targetId),t&&Fg(n.remoteStore,o.targetId),Fm(n,o.targetId)})).catch(ml)):(Fm(n,o.targetId),await Lm(n.localStore,o.targetId,!0))}async function aP(r,e){const t=Be(r),n=t.Tu.get(e),o=t.Iu.get(n.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),Fg(t.remoteStore,n.targetId))}async function lP(r,e,t){const n=mP(r);try{const o=await(function(u,h){const p=Be(u),m=yt.now(),v=h.reduce(((k,P)=>k.add(P.key)),Xe());let x,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let P=oi(),j=Xe();return p.Ns.getEntries(k,v).next((T=>{P=T,P.forEach(((M,B)=>{B.isValidDocument()||(j=j.add(M))}))})).next((()=>p.localDocuments.getOverlayedDocuments(k,P))).next((T=>{x=T;const M=[];for(const B of h){const F=NA(B,x.get(B.key).overlayedDocument);F!=null&&M.push(new lo(B.key,F,m1(F.value.mapValue),jn.exists(!0)))}return p.mutationQueue.addMutationBatch(k,m,M,h)})).next((T=>{w=T;const M=T.applyToLocalDocumentSet(x,j);return p.documentOverlayCache.saveOverlays(k,T.batchId,M)}))})).then((()=>({batchId:w.batchId,changes:S1(x)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(o.batchId),(function(u,h,p){let m=u.Vu[u.currentUser.toKey()];m||(m=new jt(Qe)),m=m.insert(h,p),u.Vu[u.currentUser.toKey()]=m})(n,o.batchId,t),await nu(n,o.changes),await zh(n.remoteStore)}catch(o){const l=Wg(o,"Failed to persist write");t.reject(l)}}async function a_(r,e){const t=Be(r);try{const n=await wR(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const u=t.Au.get(l);u&&(it(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?it(u.hu,14607):o.removedDocuments.size>0&&(it(u.hu,42227),u.hu=!1))})),await nu(t,n,e)}catch(n){await ml(n)}}function xb(r,e,t){const n=Be(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const o=[];n.Tu.forEach(((l,u)=>{const h=u.view.va(e);h.snapshot&&o.push(h.snapshot)})),(function(u,h){const p=Be(u);p.onlineState=h;let m=!1;p.queries.forEach(((v,x)=>{for(const w of x.Sa)w.va(h)&&(m=!0)})),m&&Kg(p)})(n.eventManager,e),o.length&&n.Pu.H_(o),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function cP(r,e,t){const n=Be(r);n.sharedClientState.updateQueryState(e,"rejected",t);const o=n.Au.get(e),l=o&&o.key;if(l){let u=new jt(Re.comparator);u=u.insert(l,Er.newNoDocument(l,Fe.min()));const h=Xe().add(l),p=new Fh(Fe.min(),new Map,new jt(Qe),u,h);await a_(n,p),n.du=n.du.remove(l),n.Au.delete(e),Xg(n)}else await Lm(n.localStore,e,!1).then((()=>Fm(n,e,t))).catch(ml)}async function uP(r,e){const t=Be(r),n=e.batch.batchId;try{const o=await bR(t.localStore,e);c_(t,n,null),l_(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await nu(t,o)}catch(o){await ml(o)}}async function dP(r,e,t){const n=Be(r);try{const o=await(function(u,h){const p=Be(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let v;return p.mutationQueue.lookupMutationBatch(m,h).next((x=>(it(x!==null,37113),v=x.keys(),p.mutationQueue.removeMutationBatch(m,x)))).next((()=>p.mutationQueue.performConsistencyCheck(m))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(m,v,h))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v))).next((()=>p.localDocuments.getDocuments(m,v)))}))})(n.localStore,e);c_(n,e,t),l_(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await nu(n,o)}catch(o){await ml(o)}}function l_(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function c_(r,e,t){const n=Be(r);let o=n.Vu[n.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),n.Vu[n.currentUser.toKey()]=o}}function Fm(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Iu.get(e))r.Tu.delete(n),t&&r.Pu.yu(n,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((n=>{r.Ru.containsKey(n)||u_(r,n)}))}function u_(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(Fg(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),Xg(r))}function vb(r,e,t){for(const n of t)n instanceof s_?(r.Ru.addReference(n.key,e),hP(r,n)):n instanceof i_?(Ne(Qg,"Document no longer in limbo: "+n.key),r.Ru.removeReference(n.key,e),r.Ru.containsKey(n.key)||u_(r,n.key)):Ve(19791,{wu:n})}function hP(r,e){const t=e.key,n=t.path.canonicalString();r.du.get(t)||r.Eu.has(n)||(Ne(Qg,"New document in limbo: "+t),r.Eu.add(n),Xg(r))}function Xg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new Re(ft.fromString(e)),n=r.fu.next();r.Au.set(n,new tP(t)),r.du=r.du.insert(t,n),J1(r.remoteStore,new Hi(Es(Mh(t.path)),n,"TargetPurposeLimboResolution",Rh.ce))}}async function nu(r,e,t){const n=Be(r),o=[],l=[],u=[];n.Tu.isEmpty()||(n.Tu.forEach(((h,p)=>{u.push(n.pu(p,e,t).then((m=>{if((m||t)&&n.isPrimaryClient){const v=m?!m.fromCache:t?.targetChanges.get(p.targetId)?.current;n.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(m){o.push(m);const v=Vg.As(p.targetId,m);l.push(v)}})))})),await Promise.all(u),n.Pu.H_(o),await(async function(p,m){const v=Be(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>se.forEach(m,(w=>se.forEach(w.Es,(k=>v.persistence.referenceDelegate.addReference(x,w.targetId,k))).next((()=>se.forEach(w.ds,(k=>v.persistence.referenceDelegate.removeReference(x,w.targetId,k)))))))))}catch(x){if(!gl(x))throw x;Ne($g,"Failed to update sequence numbers: "+x)}for(const x of m){const w=x.targetId;if(!x.fromCache){const k=v.Ms.get(w),P=k.snapshotVersion,j=k.withLastLimboFreeSnapshotVersion(P);v.Ms=v.Ms.insert(w,j)}}})(n.localStore,l))}async function fP(r,e){const t=Be(r);if(!t.currentUser.isEqual(e)){Ne(Qg,"User change. New user:",e.toKey());const n=await K1(t.localStore,e);t.currentUser=e,(function(l,u){l.mu.forEach((h=>{h.forEach((p=>{p.reject(new be(ne.CANCELLED,u))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await nu(t,n.Ls)}}function pP(r,e){const t=Be(r),n=t.Au.get(e);if(n&&n.hu)return Xe().add(n.key);{let o=Xe();const l=t.Iu.get(e);if(!l)return o;for(const u of l){const h=t.Tu.get(u);o=o.unionWith(h.view.nu)}return o}}function d_(r){const e=Be(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=a_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cP.bind(null,e),e.Pu.H_=XR.bind(null,e.eventManager),e.Pu.yu=JR.bind(null,e.eventManager),e}function mP(r){const e=Be(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dP.bind(null,e),e}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Uh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return yR(this.persistence,new gR,e.initialUser,this.serializer)}Cu(e){return new G1(Lg.mi,this.serializer)}Du(e){return new SR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class gP extends fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){it(this.persistence.referenceDelegate instanceof dh,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new tR(n,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Br.withCacheSize(this.cacheSizeBytes):Br.DEFAULT;return new G1((n=>dh.mi(n,t)),this.serializer)}}class Um{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>xb(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=fP.bind(null,this.syncEngine),await KR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new QR})()}createDatastore(e){const t=Uh(e.databaseInfo.databaseId),n=(function(l){return new AR(l)})(e.databaseInfo);return(function(l,u,h,p){return new MR(l,u,h,p)})(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return(function(n,o,l,u,h){return new LR(n,o,l,u,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>xb(this.syncEngine,t,0)),(function(){return db.v()?new db:new kR})())}createSyncEngine(e,t){return(function(o,l,u,h,p,m,v){const x=new rP(o,l,u,h,p,m);return v&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const n=Be(t);Ne(Yo,"RemoteStore shutting down."),n.Ea.add(5),await ru(n),n.Aa.shutdown(),n.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Um.provider={build:()=>new Um};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ii("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no="FirestoreClient";class xP{constructor(e,t,n,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=o,this.user=Nr.UNAUTHENTICATED,this.clientId=Eg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(n,(async u=>{Ne(no,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(n,(u=>(Ne(no,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ti;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Wg(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Zp(r,e){r.asyncQueue.verifyOperationInProgress(),Ne(no,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener((async o=>{n.isEqual(o)||(await K1(e.localStore,o),n=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function yb(r,e){r.asyncQueue.verifyOperationInProgress();const t=await vP(r);Ne(no,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((n=>fb(e.remoteStore,n))),r.setAppCheckTokenChangeListener(((n,o)=>fb(e.remoteStore,o))),r._onlineComponents=e}async function vP(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ne(no,"Using user provided OfflineComponentProvider");try{await Zp(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;nl("Error using user provided cache. Falling back to memory cache: "+t),await Zp(r,new fh)}}else Ne(no,"Using default OfflineComponentProvider"),await Zp(r,new gP(void 0));return r._offlineComponents}async function h_(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ne(no,"Using user provided OnlineComponentProvider"),await yb(r,r._uninitializedComponentsProvider._online)):(Ne(no,"Using default OnlineComponentProvider"),await yb(r,new Um))),r._onlineComponents}function yP(r){return h_(r).then((e=>e.syncEngine))}async function ph(r){const e=await h_(r),t=e.eventManager;return t.onListen=nP.bind(null,e.syncEngine),t.onUnlisten=oP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=sP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=aP.bind(null,e.syncEngine),t}function bP(r,e,t={}){const n=new ti;return r.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,p,m){const v=new Jg({next:w=>{v.Nu(),u.enqueueAndForget((()=>Gg(l,x)));const k=w.docs.has(h);!k&&w.fromCache?m.reject(new be(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&w.fromCache&&p&&p.source==="server"?m.reject(new be(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(w)},error:w=>m.reject(w)}),x=new Yg(Mh(h.path),v,{includeMetadataChanges:!0,qa:!0});return qg(l,x)})(await ph(r),r.asyncQueue,e,t,n))),n.promise}function wP(r,e,t={}){const n=new ti;return r.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,p,m){const v=new Jg({next:w=>{v.Nu(),u.enqueueAndForget((()=>Gg(l,x))),w.fromCache&&p.source==="server"?m.reject(new be(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(w)},error:w=>m.reject(w)}),x=new Yg(h,v,{includeMetadataChanges:!0,qa:!0});return qg(l,x)})(await ph(r),r.asyncQueue,e,t,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="firestore.googleapis.com",wb=!0;class _b{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new be(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=p_,this.ssl=wb}else this.host=e.host,this.ssl=e.ssl??wb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=q1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ZA)throw new be(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}V5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=f_(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new be(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new be(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new be(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,o){return n.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hh{constructor(e,t,n,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _b({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _b(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new T5;switch(n.type){case"firstParty":return new R5(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new be(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const n=bb.get(t);n&&(Ne("ComponentProvider","Removing Datastore"),bb.delete(t),n.terminate())})(this),Promise.resolve()}}function _P(r,e,t,n={}){r=Wr(r,Hh);const o=ea(e),l=r._getSettings(),u={...l,emulatorOptions:r._getEmulatorOptions()},h=`${e}:${t}`;o&&(ug(`https://${h}`),dg("Firestore",!0)),l.host!==p_&&l.host!==h&&nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:h,ssl:o,emulatorOptions:n};if(!Qi(p,u)&&(r._setSettings(p),n.mockUserToken)){let m,v;if(typeof n.mockUserToken=="string")m=n.mockUserToken,v=Nr.MOCK_USER;else{m=u2(n.mockUserToken,r._app?.options.projectId);const x=n.mockUserToken.sub||n.mockUserToken.user_id;if(!x)throw new be(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Nr(x)}r._authCredentials=new C5(new n1(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new co(this.firestore,e,this._query)}}class At{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new At(this.firestore,e,this._key)}toJSON(){return{type:At._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Zc(t,At._jsonSchema))return new At(e,n||null,new Re(ft.fromString(t.referencePath)))}}At._jsonSchemaVersion="firestore/documentReference/1.0",At._jsonSchema={type:Ht("string",At._jsonSchemaVersion),referencePath:Ht("string")};class Ki extends co{constructor(e,t,n){super(e,t,Mh(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new Re(e))}withConverter(e){return new Ki(this.firestore,e,this._path)}}function yl(r,e,...t){if(r=Jt(r),s1("collection","path",e),r instanceof Hh){const n=ft.fromString(e,...t);return My(n),new Ki(r,null,n)}{if(!(r instanceof At||r instanceof Ki))throw new be(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(ft.fromString(e,...t));return My(n),new Ki(r.firestore,null,n)}}function fr(r,e,...t){if(r=Jt(r),arguments.length===1&&(e=Eg.newId()),s1("doc","path",e),r instanceof Hh){const n=ft.fromString(e,...t);return Dy(n),new At(r,null,new Re(n))}{if(!(r instanceof At||r instanceof Ki))throw new be(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(ft.fromString(e,...t));return Dy(n),new At(r.firestore,r instanceof Ki?r.converter:null,new Re(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="AsyncQueue";class Eb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Q1(this,"async_queue_retry"),this._c=()=>{const n=Jp();n&&Ne(Nb,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const t=Jp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Jp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ti;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!gl(e))throw e;Ne(Nb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,ii("INTERNAL UNHANDLED ERROR: ",jb(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Hg.createAndSchedule(this,e,t,n,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&Ve(47125,{Pc:jb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,n)=>t.targetTimeMs-n.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function jb(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(r){return(function(t,n){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of n)if(l in o&&typeof o[l]=="function")return!0;return!1})(r,["next","error","complete"])}class ai extends Hh{constructor(e,t,n,o){super(e,t,n,o),this.type="firestore",this._queue=new Eb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Eb(e),this._firestoreClient=void 0,await e}}}function NP(r,e){const t=typeof r=="object"?r:pg(),n=typeof r=="string"?r:ah,o=kh(t,"firestore").getImmediate({identifier:n});if(!o._initialized){const l=a2("firestore");l&&_P(o,...l)}return o}function Wh(r){if(r._terminated)throw new be(ne.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||EP(r),r._firestoreClient}function EP(r){const e=r._freezeSettings(),t=(function(o,l,u,h){return new Y5(o,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,f_(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new xP(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _n(pr.fromBase64String(e))}catch(t){throw new be(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new _n(pr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:_n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Zc(e,_n._jsonSchema))return _n.fromBase64String(e.bytes)}}_n._jsonSchemaVersion="firestore/bytes/1.0",_n._jsonSchema={type:Ht("string",_n._jsonSchemaVersion),bytes:Ht("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new be(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new be(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new be(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ss._jsonSchemaVersion}}static fromJSON(e){if(Zc(e,Ss._jsonSchema))return new Ss(e.latitude,e.longitude)}}Ss._jsonSchemaVersion="firestore/geoPoint/1.0",Ss._jsonSchema={type:Ht("string",Ss._jsonSchemaVersion),latitude:Ht("number"),longitude:Ht("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,o){if(n.length!==o.length)return!1;for(let l=0;l<n.length;++l)if(n[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ks._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Zc(e,ks._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ks(e.vectorValues);throw new be(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ks._jsonSchemaVersion="firestore/vectorValue/1.0",ks._jsonSchema={type:Ht("string",ks._jsonSchemaVersion),vectorValues:Ht("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP=/^__.*__$/;class SP{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new lo(e,this.data,this.fieldMask,t,this.fieldTransforms):new eu(e,this.data,t,this.fieldTransforms)}}class m_{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new lo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function g_(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve(40011,{Ac:r})}}class Gh{constructor(e,t,n,o,l,u){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Gh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return mh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(g_(this.Ac)&&jP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class kP{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Uh(e)}Cc(e,t,n,o=!1){return new Gh({Ac:e,methodName:t,Dc:n,path:hr.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kh(r){const e=r._freezeSettings(),t=Uh(r._databaseId);return new kP(r._databaseId,!!e.ignoreUndefinedProperties,t)}function x_(r,e,t,n,o,l={}){const u=r.Cc(l.merge||l.mergeFields?2:0,e,t,o);rx("Data must be an object, but it was:",u,n);const h=v_(n,u);let p,m;if(l.merge)p=new on(u.fieldMask),m=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const x of l.mergeFields){const w=Bm(e,x,t);if(!u.contains(w))throw new be(ne.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);b_(v,w)||v.push(w)}p=new on(v),m=u.fieldTransforms.filter((x=>p.covers(x.field)))}else p=null,m=u.fieldTransforms;return new SP(new zr(h),p,m)}class Yh extends bl{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yh}}function TP(r,e,t){return new Gh({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Zg extends bl{_toFieldTransform(e){return new Ag(e.path,new Lc)}isEqual(e){return e instanceof Zg}}class ex extends bl{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=TP(this,e,!0),n=this.vc.map((l=>wl(l,t))),o=new al(n);return new Ag(e.path,o)}isEqual(e){return e instanceof ex&&Qi(this.vc,e.vc)}}class tx extends bl{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new $c(e.serializer,C1(e.serializer,this.Fc));return new Ag(e.path,t)}isEqual(e){return e instanceof tx&&this.Fc===e.Fc}}function CP(r,e,t,n){const o=r.Cc(1,e,t);rx("Data must be an object, but it was:",o,n);const l=[],u=zr.empty();ao(n,((p,m)=>{const v=nx(e,p,t);m=Jt(m);const x=o.yc(v);if(m instanceof Yh)l.push(v);else{const w=wl(m,x);w!=null&&(l.push(v),u.set(v,w))}}));const h=new on(l);return new m_(u,h,o.fieldTransforms)}function IP(r,e,t,n,o,l){const u=r.Cc(1,e,t),h=[Bm(e,n,t)],p=[o];if(l.length%2!=0)throw new be(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)h.push(Bm(e,l[w])),p.push(l[w+1]);const m=[],v=zr.empty();for(let w=h.length-1;w>=0;--w)if(!b_(m,h[w])){const k=h[w];let P=p[w];P=Jt(P);const j=u.yc(k);if(P instanceof Yh)m.push(k);else{const T=wl(P,j);T!=null&&(m.push(k),v.set(k,T))}}const x=new on(m);return new m_(v,x,u.fieldTransforms)}function AP(r,e,t,n=!1){return wl(t,r.Cc(n?4:3,e))}function wl(r,e){if(y_(r=Jt(r)))return rx("Unsupported field value:",e,r),v_(r,e);if(r instanceof bl)return(function(n,o){if(!g_(o.Ac))throw o.Sc(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${n._methodName}() is not currently supported inside arrays`);const l=n._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,o){const l=[];let u=0;for(const h of n){let p=wl(h,o.wc(u));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),u++}return{arrayValue:{values:l}}})(r,e)}return(function(n,o){if((n=Jt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return C1(o.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const l=yt.fromDate(n);return{timestampValue:uh(o.serializer,l)}}if(n instanceof yt){const l=new yt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:uh(o.serializer,l)}}if(n instanceof Ss)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof _n)return{bytesValue:$1(o.serializer,n._byteString)};if(n instanceof At){const l=o.databaseId,u=n.firestore._databaseId;if(!u.isEqual(l))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Mg(n.firestore._databaseId||o.databaseId,n._key.path)}}if(n instanceof ks)return(function(u,h){return{mapValue:{fields:{[f1]:{stringValue:p1},[lh]:{arrayValue:{values:u.toArray().map((m=>{if(typeof m!="number")throw h.Sc("VectorValues must only contain numeric values.");return Ig(h.serializer,m)}))}}}}}})(n,o);throw o.Sc(`Unsupported field value: ${Ah(n)}`)})(r,e)}function v_(r,e){const t={};return a1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ao(r,((n,o)=>{const l=wl(o,e.mc(n));l!=null&&(t[n]=l)})),{mapValue:{fields:t}}}function y_(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof yt||r instanceof Ss||r instanceof _n||r instanceof At||r instanceof bl||r instanceof ks)}function rx(r,e,t){if(!y_(t)||!i1(t)){const n=Ah(t);throw n==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+n)}}function Bm(r,e,t){if((e=Jt(e))instanceof qh)return e._internalPath;if(typeof e=="string")return nx(r,e);throw mh("Field path arguments must be of type string or ",r,!1,void 0,t)}const RP=new RegExp("[~\\*/\\[\\]]");function nx(r,e,t){if(e.search(RP)>=0)throw mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new qh(...e.split("."))._internalPath}catch{throw mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function mh(r,e,t,n,o){const l=n&&!n.isEmpty(),u=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(l||u)&&(p+=" (found",l&&(p+=` in field ${n}`),u&&(p+=` in document ${o}`),p+=")"),new be(ne.INVALID_ARGUMENT,h+r+p)}function b_(r,e){return r.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e,t,n,o,l){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Qh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class PP extends w_{data(){return super.data()}}function Qh(r,e){return typeof e=="string"?nx(r,e):e instanceof qh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new be(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sx{}class N_ extends sx{}function ix(r,e,...t){let n=[];e instanceof sx&&n.push(e),n=n.concat(t),(function(l){const u=l.filter((p=>p instanceof ox)).length,h=l.filter((p=>p instanceof Xh)).length;if(u>1||u>0&&h>0)throw new be(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const o of n)r=o._apply(r);return r}class Xh extends N_{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Xh(e,t,n)}_apply(e){const t=this._parse(e);return j_(e._query,t),new co(e.firestore,e.converter,Am(e._query,t))}_parse(e){const t=Kh(e.firestore);return(function(l,u,h,p,m,v,x){let w;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new be(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Tb(x,v);const P=[];for(const j of x)P.push(kb(p,l,j));w={arrayValue:{values:P}}}else w=kb(p,l,x)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Tb(x,v),w=AP(h,u,x,v==="in"||v==="not-in");return zt.create(m,v,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function E_(r,e,t){const n=e,o=Qh("where",r);return Xh._create(o,n,t)}class ox extends sx{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ox(e,t)}_parse(e){const t=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return t.length===1?t[0]:Kn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,l){let u=o;const h=l.getFlattenedFilters();for(const p of h)j_(u,p),u=Am(u,p)})(e._query,t),new co(e.firestore,e.converter,Am(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ax extends N_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ax(e,t)}_apply(e){const t=(function(o,l,u){if(o.startAt!==null)throw new be(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new be(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Oc(l,u)})(e._query,this._field,this._direction);return new co(e.firestore,e.converter,(function(o,l){const u=o.explicitOrderBy.concat([l]);return new xl(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function DP(r,e="asc"){const t=e,n=Qh("orderBy",r);return ax._create(n,t)}function kb(r,e,t){if(typeof(t=Jt(t))=="string"){if(t==="")throw new be(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_1(e)&&t.indexOf("/")!==-1)throw new be(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(ft.fromString(t));if(!Re.isDocumentKey(n))throw new be(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return zy(r,new Re(n))}if(t instanceof At)return zy(r,t._key);throw new be(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ah(t)}.`)}function Tb(r,e){if(!Array.isArray(r)||r.length===0)throw new be(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function j_(r,e){const t=(function(o,l){for(const u of o)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new be(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class MP{convertValue(e,t="none"){switch(to(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(eo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return ao(e,((o,l)=>{n[o]=this.convertValue(l,t)})),n}convertVectorValue(e){const t=e.fields?.[lh].arrayValue?.values?.map((n=>Mt(n.doubleValue)));return new ks(t)}convertGeoPoint(e){return new Ss(Mt(e.latitude),Mt(e.longitude))}convertArray(e,t){return(e.values||[]).map((n=>this.convertValue(n,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Dh(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Pc(e));default:return null}}convertTimestamp(e){const t=Zi(e);return new yt(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ft.fromString(e);it(W1(n),9688,{name:e});const o=new Dc(n.get(1),n.get(3)),l=new Re(n.popFirst(5));return o.isEqual(t)||ii(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(r,e,t){let n;return n=r?r.toFirestore(e):e,n}class wc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bo extends w_{constructor(e,t,n,o,l,u){super(e,t,n,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Wd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Qh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Bo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Bo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bo._jsonSchema={type:Ht("string",Bo._jsonSchemaVersion),bundleSource:Ht("string","DocumentSnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class Wd extends Bo{data(e={}){return super.data(e)}}class zo{constructor(e,t,n,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new wc(o.hasPendingWrites,o.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Wd(this._firestore,this._userDataWriter,n.key,n,new wc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new be(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((h=>{const p=new Wd(o._firestore,o._userDataWriter,h.doc.key,h.doc,new wc(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const p=new Wd(o._firestore,o._userDataWriter,h.doc.key,h.doc,new wc(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),v=u.indexOf(h.doc.key)),{type:OP(h.type),doc:p,oldIndex:m,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=zo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Eg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),n.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function OP(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(r){r=Wr(r,At);const e=Wr(r.firestore,ai);return bP(Wh(e),r._key).then((t=>C_(e,r,t)))}zo._jsonSchemaVersion="firestore/querySnapshot/1.0",zo._jsonSchema={type:Ht("string",zo._jsonSchemaVersion),bundleSource:Ht("string","QuerySnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class lx extends MP{constructor(e){super(),this.firestore=e}convertBytes(e){return new _n(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,t)}}function cx(r){r=Wr(r,co);const e=Wr(r.firestore,ai),t=Wh(e),n=new lx(e);return __(r._query),wP(t,r._query).then((o=>new zo(e,n,r,o)))}function LP(r,e,t){r=Wr(r,At);const n=Wr(r.firestore,ai),o=S_(r.converter,e);return Jh(n,[x_(Kh(n),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,jn.none())])}function Yi(r,e,t,...n){r=Wr(r,At);const o=Wr(r.firestore,ai),l=Kh(o);let u;return u=typeof(e=Jt(e))=="string"||e instanceof qh?IP(l,"updateDoc",r._key,e,t,n):CP(l,"updateDoc",r._key,e),Jh(o,[u.toMutation(r._key,jn.exists(!0))])}function Cb(r){return Jh(Wr(r.firestore,ai),[new Rg(r._key,jn.none())])}function k_(r,e){const t=Wr(r.firestore,ai),n=fr(r),o=S_(r.converter,e);return Jh(t,[x_(Kh(r.firestore),"addDoc",n._key,o,r.converter!==null,{}).toMutation(n._key,jn.exists(!1))]).then((()=>n))}function T_(r,...e){r=Jt(r);let t={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||Sb(e[n])||(t=e[n++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Sb(e[n])){const p=e[n];e[n]=p.next?.bind(p),e[n+1]=p.error?.bind(p),e[n+2]=p.complete?.bind(p)}let l,u,h;if(r instanceof At)u=Wr(r.firestore,ai),h=Mh(r._key.path),l={next:p=>{e[n]&&e[n](C_(u,r,p))},error:e[n+1],complete:e[n+2]};else{const p=Wr(r,co);u=Wr(p.firestore,ai),h=p._query;const m=new lx(u);l={next:v=>{e[n]&&e[n](new zo(u,m,p,v))},error:e[n+1],complete:e[n+2]},__(r._query)}return(function(m,v,x,w){const k=new Jg(w),P=new Yg(v,k,x);return m.asyncQueue.enqueueAndForget((async()=>qg(await ph(m),P))),()=>{k.Nu(),m.asyncQueue.enqueueAndForget((async()=>Gg(await ph(m),P)))}})(Wh(u),h,o,l)}function Jh(r,e){return(function(n,o){const l=new ti;return n.asyncQueue.enqueueAndForget((async()=>lP(await yP(n),o,l))),l.promise})(Wh(r),e)}function C_(r,e,t){const n=t.docs.get(e._key),o=new lx(r);return new Bo(r,o,e._key,n,new wc(t.hasPendingWrites,t.fromCache),e.converter)}function I_(){return new Zg("serverTimestamp")}function VP(...r){return new ex("arrayUnion",r)}function $P(r){return new tx("increment",r)}(function(e,t=!0){(function(o){pl=o})(ta),Wo(new Xi("firestore",((n,{instanceIdentifier:o,options:l})=>{const u=n.getProvider("app").getImmediate(),h=new ai(new I5(n.getProvider("auth-internal")),new P5(u,n.getProvider("app-check-internal")),(function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new be(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dc(m.options.projectId,v)})(u,o),u);return l={useFetchStreams:t,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),ws(Iy,Ay,e),ws(Iy,Ay,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="firebasestorage.googleapis.com",FP="storageBucket",UP=120*1e3,BP=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Rs{constructor(e,t,n=0){super(em(e),`Firebase Storage: ${t} (${em(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ps.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return em(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Is;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Is||(Is={}));function em(r){return"storage/"+r}function zP(){const r="An unknown error occurred, please check the error payload for server response.";return new Ps(Is.UNKNOWN,r)}function HP(){return new Ps(Is.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function WP(){return new Ps(Is.CANCELED,"User canceled the upload/download.")}function qP(r){return new Ps(Is.INVALID_URL,"Invalid URL '"+r+"'.")}function GP(r){return new Ps(Is.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function Ib(r){return new Ps(Is.INVALID_ARGUMENT,r)}function R_(){return new Ps(Is.APP_DELETED,"The Firebase app was deleted.")}function KP(r){return new Ps(Is.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Bn.makeFromUrl(e,t)}catch{return new Bn(e,"")}if(n.path==="")return n;throw GP(e)}static makeFromUrl(e,t){let n=null;const o="([A-Za-z0-9.\\-_]+)";function l($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+o+u,"i"),p={bucket:1,path:3};function m($){$.path_=decodeURIComponent($.path)}const v="v[A-Za-z0-9_]+",x=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",k=new RegExp(`^https?://${x}/${v}/b/${o}/o${w}`,"i"),P={bucket:1,path:3},j=t===A_?"(?:storage.googleapis.com|storage.cloud.google.com)":t,T="([^?#]*)",M=new RegExp(`^https?://${j}/${o}/${T}`,"i"),F=[{regex:h,indices:p,postModify:l},{regex:k,indices:P,postModify:m},{regex:M,indices:{bucket:1,path:2},postModify:m}];for(let $=0;$<F.length;$++){const z=F[$],J=z.regex.exec(e);if(J){const A=J[z.indices.bucket];let E=J[z.indices.path];E||(E=""),n=new Bn(A,E),z.postModify(n);break}}if(n==null)throw qP(e);return n}}class YP{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(r,e,t){let n=1,o=null,l=null,u=!1,h=0;function p(){return h===2}let m=!1;function v(...T){m||(m=!0,e.apply(null,T))}function x(T){o=setTimeout(()=>{o=null,r(k,p())},T)}function w(){l&&clearTimeout(l)}function k(T,...M){if(m){w();return}if(T){w(),v.call(null,T,...M);return}if(p()||u){w(),v.call(null,T,...M);return}n<64&&(n*=2);let F;h===1?(h=2,F=0):F=(n+Math.random())*1e3,x(F)}let P=!1;function j(T){P||(P=!0,w(),!m&&(o!==null?(T||(h=2),clearTimeout(o),x(0)):T||(h=1)))}return x(0),l=setTimeout(()=>{u=!0,j(!0)},t),j}function XP(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(r){return r!==void 0}function Ab(r,e,t,n){if(n<e)throw Ib(`Invalid value for '${r}'. Expected ${e} or greater.`);if(n>t)throw Ib(`Invalid value for '${r}'. Expected ${t} or less.`)}function ZP(r){const e=encodeURIComponent;let t="?";for(const n in r)if(r.hasOwnProperty(n)){const o=e(n)+"="+e(r[n]);t=t+o+"&"}return t=t.slice(0,-1),t}var gh;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(gh||(gh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(r,e){const t=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,l=e.indexOf(r)!==-1;return t||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t3{constructor(e,t,n,o,l,u,h,p,m,v,x,w=!0,k=!1){this.url_=e,this.method_=t,this.headers_=n,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=p,this.timeout_=m,this.progressCallback_=v,this.connectionFactory_=x,this.retry=w,this.isUsingEmulator=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,j)=>{this.resolve_=P,this.reject_=j,this.start_()})}start_(){const e=(n,o)=>{if(o){n(!1,new Ed(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=h=>{const p=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,m)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const h=l.getErrorCode()===gh.NO_ERROR,p=l.getStatus();if(!h||e3(p,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===gh.ABORT;n(!1,new Ed(!1,null,v));return}const m=this.successCodes_.indexOf(p)!==-1;n(!0,new Ed(m,l))})},t=(n,o)=>{const l=this.resolve_,u=this.reject_,h=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(h,h.getResponse());JP(p)?l(p):l()}catch(p){u(p)}else if(h!==null){const p=zP();p.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,p)):u(p)}else if(o.canceled){const p=this.appDelete_?R_():WP();u(p)}else{const p=HP();u(p)}};this.canceled_?t(!1,new Ed(!1,null,!0)):this.backoffId_=QP(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&XP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ed{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function r3(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function n3(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function s3(r,e){e&&(r["X-Firebase-GMPID"]=e)}function i3(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function o3(r,e,t,n,o,l,u=!0,h=!1){const p=ZP(r.urlParams),m=r.url+p,v=Object.assign({},r.headers);return s3(v,e),r3(v,t),n3(v,l),i3(v,n),new t3(m,r.method,v,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,u,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function l3(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,t){this._service=e,t instanceof Bn?this._location=t:this._location=Bn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new xh(e,t)}get root(){const e=new Bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return l3(this._location.path)}get storage(){return this._service}get parent(){const e=a3(this._location.path);if(e===null)return null;const t=new Bn(this._location.bucket,e);return new xh(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw KP(e)}}function Rb(r,e){const t=e?.[FP];return t==null?null:Bn.makeFromBucketSpec(t,r)}function c3(r,e,t,n={}){r.host=`${e}:${t}`;const o=ea(e);o&&(ug(`https://${r.host}/b`),dg("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:l}=n;l&&(r._overrideAuthToken=typeof l=="string"?l:u2(l,r.app.options.projectId))}class u3{constructor(e,t,n,o,l,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=o,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=A_,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=UP,this._maxUploadRetryTime=BP,this._requests=new Set,o!=null?this._bucket=Bn.makeFromBucketSpec(o,this._host):this._bucket=Rb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Bn.makeFromBucketSpec(this._url,e):this._bucket=Rb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ab("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ab("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new xh(this,e)}_makeRequest(e,t,n,o,l=!0){if(this._deleted)return new YP(R_());{const u=o3(e,this._appId,n,o,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[n,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,o).getPromise()}}const Pb="@firebase/storage",Db="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="storage";function d3(r=pg(),e){r=Jt(r);const n=kh(r,P_).getImmediate({identifier:e}),o=a2("storage");return o&&h3(n,...o),n}function h3(r,e,t,n={}){c3(r,e,t,n)}function f3(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),n=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new u3(t,n,o,e,ta)}function p3(){Wo(new Xi(P_,f3,"PUBLIC").setMultipleInstances(!0)),ws(Pb,Db,""),ws(Pb,Db,"esm2020")}p3();const m3={apiKey:"AIzaSyAt9qNTIn6j9ECSjXopdeH8onjyt5oNjlE",authDomain:"snag-4baa7.firebaseapp.com",projectId:"snag-4baa7",storageBucket:"snag-4baa7.firebasestorage.app",messagingSenderId:"424600284606",appId:"1:424600284606:web:3b4f1ba8b4e8bd94c91def"},ux=f2(m3),Nn=S5(ux),It=NP(ux);d3(ux);const D_=N.createContext(null);function g3({children:r}){const[e,t]=N.useState(0),[n,o]=N.useState(!0);N.useEffect(()=>{const u=Nn.onAuthStateChanged(h=>{if(h){console.log(" Logged in user:",h.uid);const p=fr(It,"users",h.uid),m=T_(p,v=>{if(v.exists()){const x=v.data();t(x.credits||0)}o(!1)});return()=>m()}else t(40),o(!1)});return()=>u()},[]);const l=async u=>{const h=Nn.currentUser;if(!h)return console.warn(" No user signed in");const p=fr(It,"users",h.uid);await Yi(p,{credits:u}),t(u)};return i.jsx(D_.Provider,{value:{credits:e,setCredits:l,loading:n},children:r})}function dx(){return N.useContext(D_)}const x3="/Snag/assets/Snag-Dzdb2dIV.png",v3={BookOpen:hm,Armchair:Md,Package:bs,Beaker:bw,Music:FS,Shirt:fm,Laptop:jw,Sparkles:ik,UtensilsCrossed:Rw,PartyPopper:HS,Briefcase:Kj,Paintbrush:kw,Camera:ww},y3=["Textbooks","Furniture","Apparel","Dorm","Lab/Tech","Electronics","Kitchen","Seasonal"],b3=[{id:"halloween",label:"Halloween",color:"from-orange-500 to-orange-600"},{id:"finals",label:"Finals",color:"from-blue-500 to-blue-600"},{id:"movein",label:"Move-Out",color:"from-green-500 to-green-600"},{id:"graduation",label:"Graduation",color:"from-purple-500 to-purple-600"}];function Mb({navigateTo:r,notificationCount:e=0}){const[t,n]=N.useState([]),[o,l]=N.useState(!0),[u,h]=N.useState(""),{darkMode:p}=St(),[m,v]=N.useState("credits"),[x,w]=N.useState(""),[k,P]=N.useState([]),[j,T]=N.useState([]),[M,B]=N.useState(()=>localStorage.getItem("viewMode")||"list"),[F,$]=N.useState(!1),z=D=>{k.includes(D)?P(k.filter(R=>R!==D)):P([...k,D])},J=D=>{j.includes(D)?T(j.filter(R=>R!==D)):T([...j,D])},A=D=>{B(D),localStorage.setItem("viewMode",D)};if(N.useEffect(()=>{async function D(){try{console.log("Fetching listings...");const R=await cx(yl(It,"listings"));console.log("Snapshot:",R);const ge=R.docs.map(le=>({id:le.id,...le.data()}));console.log("Fetched data:",ge),n(ge)}catch(R){console.error(" Firestore error:",R),h("Failed to load listings.")}finally{l(!1)}}D()},[]),o)return i.jsx("div",{children:"Loading listings..."});if(u)return i.jsx("div",{children:u});const E=t.filter(D=>!(m==="trade"&&!D.isBarter||x&&!D.title.toLowerCase().includes(x.toLowerCase())||k.length>0&&!D.tags.some(R=>k.includes(R)))),C="no listing found",{credits:O,setCredits:L}=dx();return i.jsxs("div",{className:`min-h-screen pb-8 ${p?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"}`,children:[i.jsx("div",{className:`sticky top-0 z-20 backdrop-blur-xl ${p?"bg-black/70 border-white/10":"bg-white/10 border-white/30"} border-b shadow-sm`,children:i.jsxs("div",{className:"max-w-md mx-auto px-4 py-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"flex items-center gap-3",children:i.jsx("div",{className:"flex items-center gap-3",children:i.jsx("img",{src:x3,className:"w-10 h-10 object-contain",alt:"Snag logo"})})}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("button",{onClick:()=>$(!0),className:`backdrop-blur-xl ${p?"bg-white/10 border-white/20":"bg-white/60 border-white/40"} rounded-full px-3 py-1.5 border shadow-sm flex items-center gap-2 hover:opacity-80 transition-opacity`,children:[i.jsx(Kt,{className:"w-4 h-4 text-yellow-500"}),i.jsx("span",{className:`font-medium ${p?"text-white":"text-[#222]"}`,children:O})]}),i.jsxs("button",{onClick:()=>r("notifications"),className:`relative p-2 rounded-full ${p?"hover:bg-white/10":"hover:bg-white/50"} transition-colors`,children:[i.jsx(tl,{className:`w-6 h-6 ${p?"text-white":"text-[#222]"}`}),e>0&&i.jsx("div",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-red-500 rounded-full"})]})]})]}),i.jsxs("div",{className:"relative mb-3",children:[i.jsx(Zo,{className:`absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 ${p?"text-gray-400":"text-[#888]"}`}),i.jsx("input",{type:"text",placeholder:"Search items or descriptions",value:x,onChange:D=>w(D.target.value),className:`w-full pl-12 pr-4 py-3 rounded-full backdrop-blur-xl ${p?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"bg-white/80 border-white/60 text-[#222] placeholder:text-[#888]"} border shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-400/50`})]}),i.jsx("div",{className:"mb-3",children:i.jsx(vk,{value:m,onChange:v})}),i.jsx("div",{className:"flex items-center gap-2 overflow-x-auto pb-2 mb-3 no-scrollbar",children:b3.map(D=>i.jsx("button",{onClick:()=>J(D.id),className:`px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap transition-all ${j.includes(D.id)?"bg-gradient-to-r "+D.color+" text-white shadow-md":p?"bg-white/10 text-gray-300 border border-white/20":"bg-white/60 text-[#555] border border-white/60"}`,children:D.label},D.id))}),i.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[i.jsx("div",{className:"flex-1 overflow-x-auto no-scrollbar",children:i.jsx("div",{className:"flex items-center gap-2",children:y3.map(D=>i.jsx("button",{onClick:()=>z(D),className:`px-3 py-1.5 rounded-full border transition-all text-xs font-medium whitespace-nowrap ${k.includes(D)?"bg-gradient-to-r from-purple-500 to-purple-600 text-white border-0 shadow-md":p?"bg-white/10 text-gray-300 border-white/20 hover:bg-white/15":"backdrop-blur-xl bg-white/60 text-[#555] border-white/60 hover:bg-white/80"}`,children:D},D))})}),i.jsxs("div",{className:`flex items-center gap-1 ${p?"bg-white/10 border-white/20":"bg-white/60 border-white/60"} border rounded-full p-0.5 flex-shrink-0`,children:[i.jsx("button",{onClick:()=>A("list"),className:`p-1.5 rounded-full transition-colors ${M==="list"?"bg-purple-600 text-white":p?"text-gray-300":"text-[#555]"}`,children:i.jsx(ig,{className:"w-3.5 h-3.5"})}),i.jsx("button",{onClick:()=>A("grid"),className:`p-1.5 rounded-full transition-colors ${M==="grid"?"bg-purple-600 text-white":p?"text-gray-300":"text-[#555]"}`,children:i.jsx(sg,{className:"w-3.5 h-3.5"})})]})]})]})}),i.jsx("div",{className:"max-w-md mx-auto px-4 mt-4",children:E.length!==0?M==="list"?i.jsx("div",{className:"space-y-3",children:E.map(D=>i.jsx(w3,{item:D,navigateTo:r,darkMode:p},D.id))}):i.jsx("div",{className:"grid grid-cols-2 gap-3",children:E.map(D=>i.jsx(_3,{item:D,navigateTo:r,darkMode:p},D.id))}):i.jsx("div",{children:C})}),F&&i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:()=>$(!1),children:[i.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),i.jsxs("div",{className:`relative w-full max-w-sm ${p?"bg-gray-900 border-white/20":"bg-white"} rounded-3xl p-6 border shadow-2xl`,onClick:D=>D.stopPropagation(),children:[i.jsx("div",{className:"flex justify-end mb-2",children:i.jsx("button",{onClick:()=>$(!1),className:`p-1 rounded-full ${p?"hover:bg-white/10":"hover:bg-gray-100"} transition-colors`,children:i.jsx(Sn,{className:`w-5 h-5 ${p?"text-gray-400":"text-gray-600"}`})})}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-yellow-400 to-yellow-600 flex items-center justify-center",children:i.jsx(Kt,{className:"w-8 h-8 text-white"})})}),i.jsx("h3",{className:`text-center font-semibold text-xl mb-3 ${p?"text-white":"text-[#222]"}`,children:"What Are Credits?"}),i.jsx("p",{className:`text-center mb-6 ${p?"text-gray-300":"text-[#555]"}`,children:"Credits are Snag's currency system. You earn credits by posting items, completing trades, or helping others. Use them to purchase items from other students!"}),i.jsx("div",{className:"flex justify-center",children:i.jsx("button",{onClick:()=>$(!1),className:"px-8 py-3 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-lg transition-transform active:scale-95",children:"Got It"})})]})]})]})}function w3({item:r,navigateTo:e,darkMode:t}){if(!r.status)return null;const n=typeof r.icon=="string"?r.icon:void 0,o=v3[n||"Package"]||bs;return console.log("Badge:",Hr),console.log("Avatar:",Wn),console.log("AvatarFallback:",qn),console.log("Coins icon:",Kt),console.log("ArrowLeftRight icon:",Et),i.jsxs("button",{onClick:()=>e("item-detail",r),className:`w-full backdrop-blur-2xl ${t?"bg-white/10 border-white/20 hover:bg-white/15":"bg-white/70 border-white/60 hover:shadow-[0_8px_24px_rgba(139,92,246,0.15)]"} rounded-2xl border shadow-[0_4px_16px_rgba(139,92,246,0.08)] overflow-hidden transition-all active:scale-[0.98]`,children:[i.jsxs("div",{className:"relative h-40",children:[i.jsx("img",{src:r.images[0],alt:r.title,className:"w-full h-full object-cover"}),r.isBarter&&i.jsx("div",{className:"absolute top-2 left-2",children:i.jsxs(Hr,{className:"backdrop-blur-xl bg-gradient-to-r from-purple-500 to-purple-600 text-white border-0 shadow-lg font-medium flex items-center gap-1.5 py-1",children:[i.jsx(Et,{className:"w-3.5 h-3.5"}),i.jsx("span",{className:"text-xs",children:"Trade"})]})}),!r.isBarter&&i.jsx("div",{className:"absolute top-2 right-2",children:i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-black/60":"bg-white/90"} rounded-full px-2.5 py-1 border border-white/60 shadow-md flex items-center gap-1`,children:[i.jsx(Kt,{className:"w-3.5 h-3.5 text-yellow-500"}),i.jsx("span",{className:`text-sm font-medium ${t?"text-white":"text-[#222]"}`,children:r.credits})]})})]}),i.jsxs("div",{className:"p-3 text-left",children:[i.jsx("h3",{className:`font-semibold text-sm mb-1 line-clamp-2 ${t?"text-white":"text-[#222]"}`,children:r.title}),i.jsx("div",{className:"flex items-center gap-1.5 mb-2",children:r.tags.slice(0,2).map(l=>i.jsxs("div",{className:"backdrop-blur-xl bg-purple-100/60 rounded-full px-2 py-0.5 border border-purple-200/60 flex items-center gap-1",children:[i.jsx(o,{className:"w-3 h-3 text-purple-600"}),i.jsx("span",{className:"text-purple-700 text-[10px] font-medium",children:l})]},l))}),i.jsxs("div",{onClick:l=>{l.stopPropagation(),e("user-profile",r.seller)},className:"flex items-center gap-1.5 mb-1.5 hover:opacity-80 transition-opacity cursor-pointer",children:[i.jsx(Wn,{className:"w-5 h-5",children:i.jsx(qn,{className:"bg-gradient-to-br from-purple-400 to-purple-500 text-white text-[10px] font-medium",children:r.seller.name.charAt(0)})}),i.jsx("span",{className:`text-xs ${t?"text-gray-300":"text-[#555]"}`,children:r.seller.name}),r.seller.verified&&i.jsx("div",{className:"w-3.5 h-3.5 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center",children:i.jsx("span",{className:"text-white text-[8px]",children:""})}),i.jsxs("span",{className:`text-xs ${t?"text-gray-500":"text-[#999]"}`,children:[" ",r.seller.rating,"   ",r.seller.trades," trades"]})]}),i.jsxs("p",{className:`text-xs ${t?"text-gray-500":"text-[#999]"}`,children:[r.meetingSpot,"  ",r.meetingTime]})]})]})}function _3({item:r,navigateTo:e,darkMode:t}){return r.status?i.jsxs("button",{onClick:()=>e("item-detail",r),className:`backdrop-blur-2xl ${t?"bg-white/10 border-white/20 hover:bg-white/15":"bg-white/70 border-white/60 hover:shadow-[0_8px_24px_rgba(139,92,246,0.15)]"} rounded-2xl border shadow-[0_4px_16px_rgba(139,92,246,0.08)] overflow-hidden transition-all active:scale-[0.98]`,children:[i.jsxs("div",{className:"relative aspect-square",children:[i.jsx("img",{src:r.images[0],alt:r.title,className:"w-full h-full object-cover"}),r.isBarter&&i.jsx("div",{className:"absolute top-2 left-2",children:i.jsxs(Hr,{className:"backdrop-blur-xl bg-gradient-to-r from-purple-500 to-purple-600 text-white border-0 shadow-md font-medium flex items-center gap-1 py-0.5 px-2",children:[i.jsx(Et,{className:"w-3 h-3"}),i.jsx("span",{className:"text-[10px]",children:"Trade"})]})}),!r.isBarter&&i.jsx("div",{className:"absolute top-2 right-2",children:i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-black/60":"bg-white/90"} rounded-full px-2 py-0.5 border border-white/60 shadow-md flex items-center gap-0.5`,children:[i.jsx(Kt,{className:"w-3 h-3 text-yellow-500"}),i.jsx("span",{className:`text-xs font-medium ${t?"text-white":"text-[#222]"}`,children:r.credits})]})})]}),i.jsxs("div",{className:"p-2.5",children:[i.jsx("h3",{className:`font-semibold text-xs mb-1 line-clamp-2 ${t?"text-white":"text-[#222]"}`,children:r.title}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsxs("span",{className:`text-[10px] ${t?"text-gray-400":"text-[#999]"}`,children:[r.seller.rating," "]}),i.jsxs("span",{className:`text-[10px] ${t?"text-gray-400":"text-[#999]"}`,children:[" ",r.seller.trades]})]})]})]}):null}const N3=["Textbooks","Furniture","Apparel","Dorm","Lab/Tech","Electronics","Kitchen","Seasonal"],E3=[{id:"halloween",label:"Halloween",color:"from-orange-500 to-orange-600"},{id:"finals",label:"Finals",color:"from-blue-500 to-blue-600"},{id:"movein",label:"Move-Out",color:"from-green-500 to-green-600"},{id:"graduation",label:"Graduation",color:"from-purple-500 to-purple-600"}],j3=[{id:1,title:"Vintage Denim Jacket",description:"Size M, excellent condition",credits:0,images:["https://images.unsplash.com/photo-1551028719-00167b16eac5?w=400"],tags:["Apparel","Vintage"],seller:{name:"Emma L.",verified:!0,trustScore:4.8,trades:24},location:"Main Library",postedTime:"2h ago",isBarter:!0,eventTag:"halloween"},{id:2,title:"Graphing Calculator",description:"TI-84 Plus, like new",credits:0,images:["https://images.unsplash.com/photo-1611532736597-de2d4265fba3?w=400"],tags:["Electronics","School"],seller:{name:"Alex P.",verified:!0,trustScore:4.9,trades:31},location:"Student Union",postedTime:"5h ago",isBarter:!0,eventTag:"finals"},{id:3,title:"Mini Fridge",description:"Perfect for dorm, works great",credits:0,images:["https://images.unsplash.com/photo-1584568694244-14fbdf83bd30?w=400"],tags:["Furniture","Dorm"],seller:{name:"Sarah K.",verified:!0,trustScore:5,trades:18},location:"Campus Center",postedTime:"1d ago",isBarter:!0,eventTag:"movein"},{id:4,title:"Textbook Bundle",description:"Engineering 101-103 set",credits:0,images:["https://images.unsplash.com/photo-1456513080510-7bf3a84b82f8?w=400"],tags:["Textbooks","School"],seller:{name:"Jordan T.",verified:!0,trustScore:4.7,trades:15},location:"Library Entrance",postedTime:"3h ago",isBarter:!0,eventTag:"graduation"}];function S3({navigateTo:r}){const{darkMode:e}=St(),[t,n]=N.useState([]),[o,l]=N.useState([]),[u,h]=N.useState("list"),p=x=>{t.includes(x)?n(t.filter(w=>w!==x)):n([...t,x])},m=x=>{o.includes(x)?l(o.filter(w=>w!==x)):l([...o,x])},v=j3.filter(x=>!(t.length>0&&!t.includes(x.eventTag)||o.length>0&&!x.tags.some(w=>o.includes(w))));return i.jsxs("div",{className:`min-h-screen pb-8 ${e?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"}`,children:[i.jsx("div",{className:`sticky top-0 z-20 backdrop-blur-2xl ${e?"bg-black/70 border-white/10":"bg-white/70 border-white/40"} border-b`,children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsx("h1",{className:`font-semibold text-xl ${e?"text-purple-400":"text-[#9333ea]"}`,children:"Trade"})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 pt-4 pb-3 space-y-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Zo,{className:`absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 ${e?"text-gray-400":"text-[#999]"}`}),i.jsx("input",{type:"text",placeholder:"Search trade items...",className:`w-full backdrop-blur-xl ${e?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"bg-white/60 border-white/60 text-[#222] placeholder:text-[#999]"} border rounded-full pl-12 pr-4 py-3 focus:outline-none focus:ring-2 focus:ring-purple-500`})]}),i.jsx("div",{className:"flex items-center gap-2 overflow-x-auto pb-1 no-scrollbar",children:E3.map(x=>i.jsx("button",{onClick:()=>p(x.id),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all ${t.includes(x.id)?"bg-gradient-to-r "+x.color+" text-white shadow-md":e?"bg-white/10 text-gray-300 border border-white/20":"bg-white/60 text-[#555] border border-white/60"}`,children:x.label},x.id))}),i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx("div",{className:"flex-1 overflow-x-auto no-scrollbar",children:i.jsx("div",{className:"flex items-center gap-2",children:N3.map(x=>i.jsx("button",{onClick:()=>m(x),className:`px-3 py-1.5 rounded-full border transition-all text-sm font-medium whitespace-nowrap ${o.includes(x)?"bg-gradient-to-r from-purple-500 to-purple-600 text-white border-0 shadow-md":e?"bg-white/10 text-gray-300 border-white/20 hover:bg-white/15":"bg-white/60 text-[#555] border-white/60 hover:bg-white/80"}`,children:x},x))})}),i.jsxs("div",{className:`flex items-center gap-1 ${e?"bg-white/10 border-white/20":"bg-white/60 border-white/60"} border rounded-full p-1 flex-shrink-0`,children:[i.jsx("button",{onClick:()=>h("list"),className:`p-2 rounded-full transition-colors ${u==="list"?"bg-purple-600 text-white":e?"text-gray-300":"text-[#555]"}`,children:i.jsx(ig,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>h("grid"),className:`p-2 rounded-full transition-colors ${u==="grid"?"bg-purple-600 text-white":e?"text-gray-300":"text-[#555]"}`,children:i.jsx(sg,{className:"w-4 h-4"})})]})]})]}),i.jsx("div",{className:"max-w-md mx-auto px-4 pb-4",children:u==="list"?i.jsx("div",{className:"space-y-3",children:v.map(x=>i.jsx(k3,{item:x,navigateTo:r,darkMode:e},x.id))}):i.jsx("div",{className:"grid grid-cols-2 gap-3",children:v.map(x=>i.jsx(T3,{item:x,navigateTo:r,darkMode:e},x.id))})})]})}function k3({item:r,navigateTo:e,darkMode:t}){return i.jsxs("button",{onClick:()=>e("item-detail",r),className:`w-full backdrop-blur-2xl ${t?"bg-white/10 border-white/20 hover:bg-white/15":"bg-white/70 border-white/60 hover:shadow-[0_8px_24px_rgba(139,92,246,0.15)]"} rounded-2xl border shadow-[0_4px_16px_rgba(139,92,246,0.08)] overflow-hidden transition-all active:scale-[0.98]`,children:[i.jsxs("div",{className:"relative h-40",children:[i.jsx("img",{src:r.images[0],alt:r.title,className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute top-2 left-2",children:i.jsxs(Hr,{className:"backdrop-blur-xl bg-gradient-to-r from-purple-500 to-purple-600 text-white border-0 shadow-lg font-medium flex items-center gap-1.5 py-1",children:[i.jsx(Et,{className:"w-3.5 h-3.5"}),i.jsx("span",{className:"text-xs",children:"Trade"})]})})]}),i.jsxs("div",{className:"p-3 text-left",children:[i.jsx("h3",{className:`font-semibold text-sm mb-1 line-clamp-1 ${t?"text-white":"text-[#222]"}`,children:r.title}),i.jsxs("button",{onClick:n=>{n.stopPropagation(),e("user-profile",r.seller)},className:"flex items-center gap-1.5 mb-2 hover:opacity-80 transition-opacity",children:[i.jsx(Wn,{className:"w-5 h-5",children:i.jsx(qn,{className:"bg-gradient-to-br from-purple-400 to-purple-500 text-white text-[10px] font-medium",children:r.seller.name.charAt(0)})}),i.jsx("span",{className:`text-xs ${t?"text-gray-300":"text-[#555]"}`,children:r.seller.name}),r.seller.verified&&i.jsx("div",{className:"w-3.5 h-3.5 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center",children:i.jsx("span",{className:"text-white text-[8px]",children:""})}),i.jsxs("span",{className:`text-xs ${t?"text-gray-500":"text-[#999]"}`,children:[" ",r.seller.trustScore,"   ",r.seller.trades," trades"]})]}),i.jsxs("p",{className:`text-xs ${t?"text-gray-500":"text-[#999]"}`,children:[r.location,"  ",r.postedTime]})]})]})}function T3({item:r,navigateTo:e,darkMode:t}){return i.jsxs("button",{onClick:()=>e("item-detail",r),className:`backdrop-blur-2xl ${t?"bg-white/10 border-white/20 hover:bg-white/15":"bg-white/70 border-white/60 hover:shadow-[0_8px_24px_rgba(139,92,246,0.15)]"} rounded-2xl border shadow-[0_4px_16px_rgba(139,92,246,0.08)] overflow-hidden transition-all active:scale-[0.98]`,children:[i.jsxs("div",{className:"relative aspect-square",children:[i.jsx("img",{src:r.images[0],alt:r.title,className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute top-2 left-2",children:i.jsxs(Hr,{className:"backdrop-blur-xl bg-gradient-to-r from-purple-500 to-purple-600 text-white border-0 shadow-md font-medium flex items-center gap-1 py-0.5 px-2",children:[i.jsx(Et,{className:"w-3 h-3"}),i.jsx("span",{className:"text-[10px]",children:"Trade"})]})})]}),i.jsxs("div",{className:"p-2.5",children:[i.jsx("h3",{className:`font-semibold text-xs mb-1 line-clamp-2 ${t?"text-white":"text-[#222]"}`,children:r.title}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsxs("span",{className:`text-[10px] ${t?"text-gray-400":"text-[#999]"}`,children:[r.seller.trustScore," "]}),i.jsxs("span",{className:`text-[10px] ${t?"text-gray-400":"text-[#999]"}`,children:[" ",r.seller.trades]})]})]})]})}function Ct({className:r,type:e,...t}){return i.jsx("input",{type:e,"data-slot":"input",className:Qt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...t})}function Fc({className:r,...e}){return i.jsx("textarea",{"data-slot":"textarea",className:Qt("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),...e})}function Ob(r,[e,t]){return Math.min(t,Math.max(e,r))}function st(r,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(r?.(o),t===!1||!o.defaultPrevented)return e?.(o)}}function _l(r,e=[]){let t=[];function n(l,u){const h=N.createContext(u),p=t.length;t=[...t,u];const m=x=>{const{scope:w,children:k,...P}=x,j=w?.[r]?.[p]||h,T=N.useMemo(()=>P,Object.values(P));return i.jsx(j.Provider,{value:T,children:k})};m.displayName=l+"Provider";function v(x,w){const k=w?.[r]?.[p]||h,P=N.useContext(k);if(P)return P;if(u!==void 0)return u;throw new Error(`\`${x}\` must be used within \`${l}\``)}return[m,v]}const o=()=>{const l=t.map(u=>N.createContext(u));return function(h){const p=h?.[r]||l;return N.useMemo(()=>({[`__scope${r}`]:{...h,[r]:p}}),[h,p])}};return o.scopeName=r,[n,C3(o,...e)]}function C3(...r){const e=r[0];if(r.length===1)return e;const t=()=>{const n=r.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const u=n.reduce((h,{useScope:p,scopeName:m})=>{const x=p(l)[`__scope${m}`];return{...h,...x}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}function Lb(r){const e=I3(r),t=N.forwardRef((n,o)=>{const{children:l,...u}=n,h=N.Children.toArray(l),p=h.find(R3);if(p){const m=p.props.children,v=h.map(x=>x===p?N.Children.count(m)>1?N.Children.only(null):N.isValidElement(m)?m.props.children:null:x);return i.jsx(e,{...u,ref:o,children:N.isValidElement(m)?N.cloneElement(m,void 0,v):null})}return i.jsx(e,{...u,ref:o,children:l})});return t.displayName=`${r}.Slot`,t}function I3(r){const e=N.forwardRef((t,n)=>{const{children:o,...l}=t;if(N.isValidElement(o)){const u=D3(o),h=P3(l,o.props);return o.type!==N.Fragment&&(h.ref=n?Wc(n,u):u),N.cloneElement(o,h)}return N.Children.count(o)>1?N.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var A3=Symbol("radix.slottable");function R3(r){return N.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===A3}function P3(r,e){const t={...e};for(const n in e){const o=r[n],l=e[n];/^on[A-Z]/.test(n)?o&&l?t[n]=(...h)=>{const p=l(...h);return o(...h),p}:o&&(t[n]=o):n==="style"?t[n]={...o,...l}:n==="className"&&(t[n]=[o,l].filter(Boolean).join(" "))}return{...r,...t}}function D3(r){let e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}function M_(r){const e=r+"CollectionProvider",[t,n]=_l(e),[o,l]=t(e,{collectionRef:{current:null},itemMap:new Map}),u=j=>{const{scope:T,children:M}=j,B=me.useRef(null),F=me.useRef(new Map).current;return i.jsx(o,{scope:T,itemMap:F,collectionRef:B,children:M})};u.displayName=e;const h=r+"CollectionSlot",p=Lb(h),m=me.forwardRef((j,T)=>{const{scope:M,children:B}=j,F=l(h,M),$=Ot(T,F.collectionRef);return i.jsx(p,{ref:$,children:B})});m.displayName=h;const v=r+"CollectionItemSlot",x="data-radix-collection-item",w=Lb(v),k=me.forwardRef((j,T)=>{const{scope:M,children:B,...F}=j,$=me.useRef(null),z=Ot(T,$),J=l(v,M);return me.useEffect(()=>(J.itemMap.set($,{ref:$,...F}),()=>void J.itemMap.delete($))),i.jsx(w,{[x]:"",ref:z,children:B})});k.displayName=v;function P(j){const T=l(r+"CollectionConsumer",j);return me.useCallback(()=>{const B=T.collectionRef.current;if(!B)return[];const F=Array.from(B.querySelectorAll(`[${x}]`));return Array.from(T.itemMap.values()).sort((J,A)=>F.indexOf(J.ref.current)-F.indexOf(A.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:u,Slot:m,ItemSlot:k},P,n]}var M3=N.createContext(void 0);function hx(r){const e=N.useContext(M3);return r||e||"ltr"}function O3(r){const e=L3(r),t=N.forwardRef((n,o)=>{const{children:l,...u}=n,h=N.Children.toArray(l),p=h.find($3);if(p){const m=p.props.children,v=h.map(x=>x===p?N.Children.count(m)>1?N.Children.only(null):N.isValidElement(m)?m.props.children:null:x);return i.jsx(e,{...u,ref:o,children:N.isValidElement(m)?N.cloneElement(m,void 0,v):null})}return i.jsx(e,{...u,ref:o,children:l})});return t.displayName=`${r}.Slot`,t}function L3(r){const e=N.forwardRef((t,n)=>{const{children:o,...l}=t;if(N.isValidElement(o)){const u=U3(o),h=F3(l,o.props);return o.type!==N.Fragment&&(h.ref=n?Wc(n,u):u),N.cloneElement(o,h)}return N.Children.count(o)>1?N.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var V3=Symbol("radix.slottable");function $3(r){return N.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===V3}function F3(r,e){const t={...e};for(const n in e){const o=r[n],l=e[n];/^on[A-Z]/.test(n)?o&&l?t[n]=(...h)=>{const p=l(...h);return o(...h),p}:o&&(t[n]=o):n==="style"?t[n]={...o,...l}:n==="className"&&(t[n]=[o,l].filter(Boolean).join(" "))}return{...r,...t}}function U3(r){let e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}var B3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],at=B3.reduce((r,e)=>{const t=O3(`Primitive.${e}`),n=N.forwardRef((o,l)=>{const{asChild:u,...h}=o,p=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(p,{...h,ref:l})});return n.displayName=`Primitive.${e}`,{...r,[e]:n}},{});function z3(r,e){r&&qc.flushSync(()=>r.dispatchEvent(e))}function H3(r,e=globalThis?.document){const t=ri(r);N.useEffect(()=>{const n=o=>{o.key==="Escape"&&t(o)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[t,e])}var W3="DismissableLayer",zm="dismissableLayer.update",q3="dismissableLayer.pointerDownOutside",G3="dismissableLayer.focusOutside",Vb,O_=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),L_=N.forwardRef((r,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:u,onDismiss:h,...p}=r,m=N.useContext(O_),[v,x]=N.useState(null),w=v?.ownerDocument??globalThis?.document,[,k]=N.useState({}),P=Ot(e,A=>x(A)),j=Array.from(m.layers),[T]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),M=j.indexOf(T),B=v?j.indexOf(v):-1,F=m.layersWithOutsidePointerEventsDisabled.size>0,$=B>=M,z=Q3(A=>{const E=A.target,C=[...m.branches].some(O=>O.contains(E));!$||C||(o?.(A),u?.(A),A.defaultPrevented||h?.())},w),J=X3(A=>{const E=A.target;[...m.branches].some(O=>O.contains(E))||(l?.(A),u?.(A),A.defaultPrevented||h?.())},w);return H3(A=>{B===m.layers.size-1&&(n?.(A),!A.defaultPrevented&&h&&(A.preventDefault(),h()))},w),N.useEffect(()=>{if(v)return t&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(Vb=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(v)),m.layers.add(v),$b(),()=>{t&&m.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=Vb)}},[v,w,t,m]),N.useEffect(()=>()=>{v&&(m.layers.delete(v),m.layersWithOutsidePointerEventsDisabled.delete(v),$b())},[v,m]),N.useEffect(()=>{const A=()=>k({});return document.addEventListener(zm,A),()=>document.removeEventListener(zm,A)},[]),i.jsx(at.div,{...p,ref:P,style:{pointerEvents:F?$?"auto":"none":void 0,...r.style},onFocusCapture:st(r.onFocusCapture,J.onFocusCapture),onBlurCapture:st(r.onBlurCapture,J.onBlurCapture),onPointerDownCapture:st(r.onPointerDownCapture,z.onPointerDownCapture)})});L_.displayName=W3;var K3="DismissableLayerBranch",Y3=N.forwardRef((r,e)=>{const t=N.useContext(O_),n=N.useRef(null),o=Ot(e,n);return N.useEffect(()=>{const l=n.current;if(l)return t.branches.add(l),()=>{t.branches.delete(l)}},[t.branches]),i.jsx(at.div,{...r,ref:o})});Y3.displayName=K3;function Q3(r,e=globalThis?.document){const t=ri(r),n=N.useRef(!1),o=N.useRef(()=>{});return N.useEffect(()=>{const l=h=>{if(h.target&&!n.current){let p=function(){V_(q3,t,m,{discrete:!0})};const m={originalEvent:h};h.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=p,e.addEventListener("click",o.current,{once:!0})):p()}else e.removeEventListener("click",o.current);n.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",l),e.removeEventListener("click",o.current)}},[e,t]),{onPointerDownCapture:()=>n.current=!0}}function X3(r,e=globalThis?.document){const t=ri(r),n=N.useRef(!1);return N.useEffect(()=>{const o=l=>{l.target&&!n.current&&V_(G3,t,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,t]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function $b(){const r=new CustomEvent(zm);document.dispatchEvent(r)}function V_(r,e,t,{discrete:n}){const o=t.originalEvent.target,l=new CustomEvent(r,{bubbles:!1,cancelable:!0,detail:t});e&&o.addEventListener(r,e,{once:!0}),n?z3(o,l):o.dispatchEvent(l)}var tm=0;function J3(){N.useEffect(()=>{const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",r[0]??Fb()),document.body.insertAdjacentElement("beforeend",r[1]??Fb()),tm++,()=>{tm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),tm--}},[])}function Fb(){const r=document.createElement("span");return r.setAttribute("data-radix-focus-guard",""),r.tabIndex=0,r.style.outline="none",r.style.opacity="0",r.style.position="fixed",r.style.pointerEvents="none",r}var rm="focusScope.autoFocusOnMount",nm="focusScope.autoFocusOnUnmount",Ub={bubbles:!1,cancelable:!0},Z3="FocusScope",$_=N.forwardRef((r,e)=>{const{loop:t=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:l,...u}=r,[h,p]=N.useState(null),m=ri(o),v=ri(l),x=N.useRef(null),w=Ot(e,j=>p(j)),k=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(n){let j=function(F){if(k.paused||!h)return;const $=F.target;h.contains($)?x.current=$:$i(x.current,{select:!0})},T=function(F){if(k.paused||!h)return;const $=F.relatedTarget;$!==null&&(h.contains($)||$i(x.current,{select:!0}))},M=function(F){if(document.activeElement===document.body)for(const z of F)z.removedNodes.length>0&&$i(h)};document.addEventListener("focusin",j),document.addEventListener("focusout",T);const B=new MutationObserver(M);return h&&B.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",T),B.disconnect()}}},[n,h,k.paused]),N.useEffect(()=>{if(h){zb.add(k);const j=document.activeElement;if(!h.contains(j)){const M=new CustomEvent(rm,Ub);h.addEventListener(rm,m),h.dispatchEvent(M),M.defaultPrevented||(e6(i6(F_(h)),{select:!0}),document.activeElement===j&&$i(h))}return()=>{h.removeEventListener(rm,m),setTimeout(()=>{const M=new CustomEvent(nm,Ub);h.addEventListener(nm,v),h.dispatchEvent(M),M.defaultPrevented||$i(j??document.body,{select:!0}),h.removeEventListener(nm,v),zb.remove(k)},0)}}},[h,m,v,k]);const P=N.useCallback(j=>{if(!t&&!n||k.paused)return;const T=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,M=document.activeElement;if(T&&M){const B=j.currentTarget,[F,$]=t6(B);F&&$?!j.shiftKey&&M===$?(j.preventDefault(),t&&$i(F,{select:!0})):j.shiftKey&&M===F&&(j.preventDefault(),t&&$i($,{select:!0})):M===B&&j.preventDefault()}},[t,n,k.paused]);return i.jsx(at.div,{tabIndex:-1,...u,ref:w,onKeyDown:P})});$_.displayName=Z3;function e6(r,{select:e=!1}={}){const t=document.activeElement;for(const n of r)if($i(n,{select:e}),document.activeElement!==t)return}function t6(r){const e=F_(r),t=Bb(e,r),n=Bb(e.reverse(),r);return[t,n]}function F_(r){const e=[],t=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Bb(r,e){for(const t of r)if(!r6(t,{upTo:e}))return t}function r6(r,{upTo:e}){if(getComputedStyle(r).visibility==="hidden")return!0;for(;r;){if(e!==void 0&&r===e)return!1;if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}function n6(r){return r instanceof HTMLInputElement&&"select"in r}function $i(r,{select:e=!1}={}){if(r&&r.focus){const t=document.activeElement;r.focus({preventScroll:!0}),r!==t&&n6(r)&&e&&r.select()}}var zb=s6();function s6(){let r=[];return{add(e){const t=r[0];e!==t&&t?.pause(),r=Hb(r,e),r.unshift(e)},remove(e){r=Hb(r,e),r[0]?.resume()}}}function Hb(r,e){const t=[...r],n=t.indexOf(e);return n!==-1&&t.splice(n,1),t}function i6(r){return r.filter(e=>e.tagName!=="A")}var o6=tg[" useId ".trim().toString()]||(()=>{}),a6=0;function iu(r){const[e,t]=N.useState(o6());return Xt(()=>{t(n=>n??String(a6++))},[r]),r||(e?`radix-${e}`:"")}const l6=["top","right","bottom","left"],so=Math.min,nn=Math.max,vh=Math.round,jd=Math.floor,Ts=r=>({x:r,y:r}),c6={left:"right",right:"left",bottom:"top",top:"bottom"},u6={start:"end",end:"start"};function Hm(r,e,t){return nn(r,so(e,t))}function li(r,e){return typeof r=="function"?r(e):r}function ci(r){return r.split("-")[0]}function Nl(r){return r.split("-")[1]}function fx(r){return r==="x"?"y":"x"}function px(r){return r==="y"?"height":"width"}const d6=new Set(["top","bottom"]);function ys(r){return d6.has(ci(r))?"y":"x"}function mx(r){return fx(ys(r))}function h6(r,e,t){t===void 0&&(t=!1);const n=Nl(r),o=mx(r),l=px(o);let u=o==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(u=yh(u)),[u,yh(u)]}function f6(r){const e=yh(r);return[Wm(r),e,Wm(e)]}function Wm(r){return r.replace(/start|end/g,e=>u6[e])}const Wb=["left","right"],qb=["right","left"],p6=["top","bottom"],m6=["bottom","top"];function g6(r,e,t){switch(r){case"top":case"bottom":return t?e?qb:Wb:e?Wb:qb;case"left":case"right":return e?p6:m6;default:return[]}}function x6(r,e,t,n){const o=Nl(r);let l=g6(ci(r),t==="start",n);return o&&(l=l.map(u=>u+"-"+o),e&&(l=l.concat(l.map(Wm)))),l}function yh(r){return r.replace(/left|right|bottom|top/g,e=>c6[e])}function v6(r){return{top:0,right:0,bottom:0,left:0,...r}}function U_(r){return typeof r!="number"?v6(r):{top:r,right:r,bottom:r,left:r}}function bh(r){const{x:e,y:t,width:n,height:o}=r;return{width:n,height:o,top:t,left:e,right:e+n,bottom:t+o,x:e,y:t}}function Gb(r,e,t){let{reference:n,floating:o}=r;const l=ys(e),u=mx(e),h=px(u),p=ci(e),m=l==="y",v=n.x+n.width/2-o.width/2,x=n.y+n.height/2-o.height/2,w=n[h]/2-o[h]/2;let k;switch(p){case"top":k={x:v,y:n.y-o.height};break;case"bottom":k={x:v,y:n.y+n.height};break;case"right":k={x:n.x+n.width,y:x};break;case"left":k={x:n.x-o.width,y:x};break;default:k={x:n.x,y:n.y}}switch(Nl(e)){case"start":k[u]-=w*(t&&m?-1:1);break;case"end":k[u]+=w*(t&&m?-1:1);break}return k}const y6=async(r,e,t)=>{const{placement:n="bottom",strategy:o="absolute",middleware:l=[],platform:u}=t,h=l.filter(Boolean),p=await(u.isRTL==null?void 0:u.isRTL(e));let m=await u.getElementRects({reference:r,floating:e,strategy:o}),{x:v,y:x}=Gb(m,n,p),w=n,k={},P=0;for(let j=0;j<h.length;j++){const{name:T,fn:M}=h[j],{x:B,y:F,data:$,reset:z}=await M({x:v,y:x,initialPlacement:n,placement:w,strategy:o,middlewareData:k,rects:m,platform:u,elements:{reference:r,floating:e}});v=B??v,x=F??x,k={...k,[T]:{...k[T],...$}},z&&P<=50&&(P++,typeof z=="object"&&(z.placement&&(w=z.placement),z.rects&&(m=z.rects===!0?await u.getElementRects({reference:r,floating:e,strategy:o}):z.rects),{x:v,y:x}=Gb(m,w,p)),j=-1)}return{x:v,y:x,placement:w,strategy:o,middlewareData:k}};async function Uc(r,e){var t;e===void 0&&(e={});const{x:n,y:o,platform:l,rects:u,elements:h,strategy:p}=r,{boundary:m="clippingAncestors",rootBoundary:v="viewport",elementContext:x="floating",altBoundary:w=!1,padding:k=0}=li(e,r),P=U_(k),T=h[w?x==="floating"?"reference":"floating":x],M=bh(await l.getClippingRect({element:(t=await(l.isElement==null?void 0:l.isElement(T)))==null||t?T:T.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(h.floating)),boundary:m,rootBoundary:v,strategy:p})),B=x==="floating"?{x:n,y:o,width:u.floating.width,height:u.floating.height}:u.reference,F=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h.floating)),$=await(l.isElement==null?void 0:l.isElement(F))?await(l.getScale==null?void 0:l.getScale(F))||{x:1,y:1}:{x:1,y:1},z=bh(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:B,offsetParent:F,strategy:p}):B);return{top:(M.top-z.top+P.top)/$.y,bottom:(z.bottom-M.bottom+P.bottom)/$.y,left:(M.left-z.left+P.left)/$.x,right:(z.right-M.right+P.right)/$.x}}const b6=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:n,placement:o,rects:l,platform:u,elements:h,middlewareData:p}=e,{element:m,padding:v=0}=li(r,e)||{};if(m==null)return{};const x=U_(v),w={x:t,y:n},k=mx(o),P=px(k),j=await u.getDimensions(m),T=k==="y",M=T?"top":"left",B=T?"bottom":"right",F=T?"clientHeight":"clientWidth",$=l.reference[P]+l.reference[k]-w[k]-l.floating[P],z=w[k]-l.reference[k],J=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m));let A=J?J[F]:0;(!A||!await(u.isElement==null?void 0:u.isElement(J)))&&(A=h.floating[F]||l.floating[P]);const E=$/2-z/2,C=A/2-j[P]/2-1,O=so(x[M],C),L=so(x[B],C),D=O,R=A-j[P]-L,ge=A/2-j[P]/2+E,le=Hm(D,ge,R),Z=!p.arrow&&Nl(o)!=null&&ge!==le&&l.reference[P]/2-(ge<D?O:L)-j[P]/2<0,re=Z?ge<D?ge-D:ge-R:0;return{[k]:w[k]+re,data:{[k]:le,centerOffset:ge-le-re,...Z&&{alignmentOffset:re}},reset:Z}}}),w6=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,n;const{placement:o,middlewareData:l,rects:u,initialPlacement:h,platform:p,elements:m}=e,{mainAxis:v=!0,crossAxis:x=!0,fallbackPlacements:w,fallbackStrategy:k="bestFit",fallbackAxisSideDirection:P="none",flipAlignment:j=!0,...T}=li(r,e);if((t=l.arrow)!=null&&t.alignmentOffset)return{};const M=ci(o),B=ys(h),F=ci(h)===h,$=await(p.isRTL==null?void 0:p.isRTL(m.floating)),z=w||(F||!j?[yh(h)]:f6(h)),J=P!=="none";!w&&J&&z.push(...x6(h,j,P,$));const A=[h,...z],E=await Uc(e,T),C=[];let O=((n=l.flip)==null?void 0:n.overflows)||[];if(v&&C.push(E[M]),x){const ge=h6(o,u,$);C.push(E[ge[0]],E[ge[1]])}if(O=[...O,{placement:o,overflows:C}],!C.every(ge=>ge<=0)){var L,D;const ge=(((L=l.flip)==null?void 0:L.index)||0)+1,le=A[ge];if(le&&(!(x==="alignment"?B!==ys(le):!1)||O.every(q=>ys(q.placement)===B?q.overflows[0]>0:!0)))return{data:{index:ge,overflows:O},reset:{placement:le}};let Z=(D=O.filter(re=>re.overflows[0]<=0).sort((re,q)=>re.overflows[1]-q.overflows[1])[0])==null?void 0:D.placement;if(!Z)switch(k){case"bestFit":{var R;const re=(R=O.filter(q=>{if(J){const de=ys(q.placement);return de===B||de==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(de=>de>0).reduce((de,ae)=>de+ae,0)]).sort((q,de)=>q[1]-de[1])[0])==null?void 0:R[0];re&&(Z=re);break}case"initialPlacement":Z=h;break}if(o!==Z)return{reset:{placement:Z}}}return{}}}};function Kb(r,e){return{top:r.top-e.height,right:r.right-e.width,bottom:r.bottom-e.height,left:r.left-e.width}}function Yb(r){return l6.some(e=>r[e]>=0)}const _6=function(r){return r===void 0&&(r={}),{name:"hide",options:r,async fn(e){const{rects:t}=e,{strategy:n="referenceHidden",...o}=li(r,e);switch(n){case"referenceHidden":{const l=await Uc(e,{...o,elementContext:"reference"}),u=Kb(l,t.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:Yb(u)}}}case"escaped":{const l=await Uc(e,{...o,altBoundary:!0}),u=Kb(l,t.floating);return{data:{escapedOffsets:u,escaped:Yb(u)}}}default:return{}}}}},B_=new Set(["left","top"]);async function N6(r,e){const{placement:t,platform:n,elements:o}=r,l=await(n.isRTL==null?void 0:n.isRTL(o.floating)),u=ci(t),h=Nl(t),p=ys(t)==="y",m=B_.has(u)?-1:1,v=l&&p?-1:1,x=li(e,r);let{mainAxis:w,crossAxis:k,alignmentAxis:P}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return h&&typeof P=="number"&&(k=h==="end"?P*-1:P),p?{x:k*v,y:w*m}:{x:w*m,y:k*v}}const E6=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,n;const{x:o,y:l,placement:u,middlewareData:h}=e,p=await N6(e,r);return u===((t=h.offset)==null?void 0:t.placement)&&(n=h.arrow)!=null&&n.alignmentOffset?{}:{x:o+p.x,y:l+p.y,data:{...p,placement:u}}}}},j6=function(r){return r===void 0&&(r={}),{name:"shift",options:r,async fn(e){const{x:t,y:n,placement:o}=e,{mainAxis:l=!0,crossAxis:u=!1,limiter:h={fn:T=>{let{x:M,y:B}=T;return{x:M,y:B}}},...p}=li(r,e),m={x:t,y:n},v=await Uc(e,p),x=ys(ci(o)),w=fx(x);let k=m[w],P=m[x];if(l){const T=w==="y"?"top":"left",M=w==="y"?"bottom":"right",B=k+v[T],F=k-v[M];k=Hm(B,k,F)}if(u){const T=x==="y"?"top":"left",M=x==="y"?"bottom":"right",B=P+v[T],F=P-v[M];P=Hm(B,P,F)}const j=h.fn({...e,[w]:k,[x]:P});return{...j,data:{x:j.x-t,y:j.y-n,enabled:{[w]:l,[x]:u}}}}}},S6=function(r){return r===void 0&&(r={}),{options:r,fn(e){const{x:t,y:n,placement:o,rects:l,middlewareData:u}=e,{offset:h=0,mainAxis:p=!0,crossAxis:m=!0}=li(r,e),v={x:t,y:n},x=ys(o),w=fx(x);let k=v[w],P=v[x];const j=li(h,e),T=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(p){const F=w==="y"?"height":"width",$=l.reference[w]-l.floating[F]+T.mainAxis,z=l.reference[w]+l.reference[F]-T.mainAxis;k<$?k=$:k>z&&(k=z)}if(m){var M,B;const F=w==="y"?"width":"height",$=B_.has(ci(o)),z=l.reference[x]-l.floating[F]+($&&((M=u.offset)==null?void 0:M[x])||0)+($?0:T.crossAxis),J=l.reference[x]+l.reference[F]+($?0:((B=u.offset)==null?void 0:B[x])||0)-($?T.crossAxis:0);P<z?P=z:P>J&&(P=J)}return{[w]:k,[x]:P}}}},k6=function(r){return r===void 0&&(r={}),{name:"size",options:r,async fn(e){var t,n;const{placement:o,rects:l,platform:u,elements:h}=e,{apply:p=()=>{},...m}=li(r,e),v=await Uc(e,m),x=ci(o),w=Nl(o),k=ys(o)==="y",{width:P,height:j}=l.floating;let T,M;x==="top"||x==="bottom"?(T=x,M=w===(await(u.isRTL==null?void 0:u.isRTL(h.floating))?"start":"end")?"left":"right"):(M=x,T=w==="end"?"top":"bottom");const B=j-v.top-v.bottom,F=P-v.left-v.right,$=so(j-v[T],B),z=so(P-v[M],F),J=!e.middlewareData.shift;let A=$,E=z;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(E=F),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(A=B),J&&!w){const O=nn(v.left,0),L=nn(v.right,0),D=nn(v.top,0),R=nn(v.bottom,0);k?E=P-2*(O!==0||L!==0?O+L:nn(v.left,v.right)):A=j-2*(D!==0||R!==0?D+R:nn(v.top,v.bottom))}await p({...e,availableWidth:E,availableHeight:A});const C=await u.getDimensions(h.floating);return P!==C.width||j!==C.height?{reset:{rects:!0}}:{}}}};function Zh(){return typeof window<"u"}function El(r){return z_(r)?(r.nodeName||"").toLowerCase():"#document"}function ln(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function Ds(r){var e;return(e=(z_(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function z_(r){return Zh()?r instanceof Node||r instanceof ln(r).Node:!1}function Yn(r){return Zh()?r instanceof Element||r instanceof ln(r).Element:!1}function As(r){return Zh()?r instanceof HTMLElement||r instanceof ln(r).HTMLElement:!1}function Qb(r){return!Zh()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof ln(r).ShadowRoot}const T6=new Set(["inline","contents"]);function ou(r){const{overflow:e,overflowX:t,overflowY:n,display:o}=Qn(r);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!T6.has(o)}const C6=new Set(["table","td","th"]);function I6(r){return C6.has(El(r))}const A6=[":popover-open",":modal"];function ef(r){return A6.some(e=>{try{return r.matches(e)}catch{return!1}})}const R6=["transform","translate","scale","rotate","perspective"],P6=["transform","translate","scale","rotate","perspective","filter"],D6=["paint","layout","strict","content"];function gx(r){const e=xx(),t=Yn(r)?Qn(r):r;return R6.some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||P6.some(n=>(t.willChange||"").includes(n))||D6.some(n=>(t.contain||"").includes(n))}function M6(r){let e=io(r);for(;As(e)&&!ul(e);){if(gx(e))return e;if(ef(e))return null;e=io(e)}return null}function xx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const O6=new Set(["html","body","#document"]);function ul(r){return O6.has(El(r))}function Qn(r){return ln(r).getComputedStyle(r)}function tf(r){return Yn(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function io(r){if(El(r)==="html")return r;const e=r.assignedSlot||r.parentNode||Qb(r)&&r.host||Ds(r);return Qb(e)?e.host:e}function H_(r){const e=io(r);return ul(e)?r.ownerDocument?r.ownerDocument.body:r.body:As(e)&&ou(e)?e:H_(e)}function Bc(r,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const o=H_(r),l=o===((n=r.ownerDocument)==null?void 0:n.body),u=ln(o);if(l){const h=qm(u);return e.concat(u,u.visualViewport||[],ou(o)?o:[],h&&t?Bc(h):[])}return e.concat(o,Bc(o,[],t))}function qm(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}function W_(r){const e=Qn(r);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const o=As(r),l=o?r.offsetWidth:t,u=o?r.offsetHeight:n,h=vh(t)!==l||vh(n)!==u;return h&&(t=l,n=u),{width:t,height:n,$:h}}function vx(r){return Yn(r)?r:r.contextElement}function Ja(r){const e=vx(r);if(!As(e))return Ts(1);const t=e.getBoundingClientRect(),{width:n,height:o,$:l}=W_(e);let u=(l?vh(t.width):t.width)/n,h=(l?vh(t.height):t.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!h||!Number.isFinite(h))&&(h=1),{x:u,y:h}}const L6=Ts(0);function q_(r){const e=ln(r);return!xx()||!e.visualViewport?L6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function V6(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==ln(r)?!1:e}function Qo(r,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const o=r.getBoundingClientRect(),l=vx(r);let u=Ts(1);e&&(n?Yn(n)&&(u=Ja(n)):u=Ja(r));const h=V6(l,t,n)?q_(l):Ts(0);let p=(o.left+h.x)/u.x,m=(o.top+h.y)/u.y,v=o.width/u.x,x=o.height/u.y;if(l){const w=ln(l),k=n&&Yn(n)?ln(n):n;let P=w,j=qm(P);for(;j&&n&&k!==P;){const T=Ja(j),M=j.getBoundingClientRect(),B=Qn(j),F=M.left+(j.clientLeft+parseFloat(B.paddingLeft))*T.x,$=M.top+(j.clientTop+parseFloat(B.paddingTop))*T.y;p*=T.x,m*=T.y,v*=T.x,x*=T.y,p+=F,m+=$,P=ln(j),j=qm(P)}}return bh({width:v,height:x,x:p,y:m})}function rf(r,e){const t=tf(r).scrollLeft;return e?e.left+t:Qo(Ds(r)).left+t}function G_(r,e){const t=r.getBoundingClientRect(),n=t.left+e.scrollLeft-rf(r,t),o=t.top+e.scrollTop;return{x:n,y:o}}function $6(r){let{elements:e,rect:t,offsetParent:n,strategy:o}=r;const l=o==="fixed",u=Ds(n),h=e?ef(e.floating):!1;if(n===u||h&&l)return t;let p={scrollLeft:0,scrollTop:0},m=Ts(1);const v=Ts(0),x=As(n);if((x||!x&&!l)&&((El(n)!=="body"||ou(u))&&(p=tf(n)),As(n))){const k=Qo(n);m=Ja(n),v.x=k.x+n.clientLeft,v.y=k.y+n.clientTop}const w=u&&!x&&!l?G_(u,p):Ts(0);return{width:t.width*m.x,height:t.height*m.y,x:t.x*m.x-p.scrollLeft*m.x+v.x+w.x,y:t.y*m.y-p.scrollTop*m.y+v.y+w.y}}function F6(r){return Array.from(r.getClientRects())}function U6(r){const e=Ds(r),t=tf(r),n=r.ownerDocument.body,o=nn(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),l=nn(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let u=-t.scrollLeft+rf(r);const h=-t.scrollTop;return Qn(n).direction==="rtl"&&(u+=nn(e.clientWidth,n.clientWidth)-o),{width:o,height:l,x:u,y:h}}const Xb=25;function B6(r,e){const t=ln(r),n=Ds(r),o=t.visualViewport;let l=n.clientWidth,u=n.clientHeight,h=0,p=0;if(o){l=o.width,u=o.height;const v=xx();(!v||v&&e==="fixed")&&(h=o.offsetLeft,p=o.offsetTop)}const m=rf(n);if(m<=0){const v=n.ownerDocument,x=v.body,w=getComputedStyle(x),k=v.compatMode==="CSS1Compat"&&parseFloat(w.marginLeft)+parseFloat(w.marginRight)||0,P=Math.abs(n.clientWidth-x.clientWidth-k);P<=Xb&&(l-=P)}else m<=Xb&&(l+=m);return{width:l,height:u,x:h,y:p}}const z6=new Set(["absolute","fixed"]);function H6(r,e){const t=Qo(r,!0,e==="fixed"),n=t.top+r.clientTop,o=t.left+r.clientLeft,l=As(r)?Ja(r):Ts(1),u=r.clientWidth*l.x,h=r.clientHeight*l.y,p=o*l.x,m=n*l.y;return{width:u,height:h,x:p,y:m}}function Jb(r,e,t){let n;if(e==="viewport")n=B6(r,t);else if(e==="document")n=U6(Ds(r));else if(Yn(e))n=H6(e,t);else{const o=q_(r);n={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return bh(n)}function K_(r,e){const t=io(r);return t===e||!Yn(t)||ul(t)?!1:Qn(t).position==="fixed"||K_(t,e)}function W6(r,e){const t=e.get(r);if(t)return t;let n=Bc(r,[],!1).filter(h=>Yn(h)&&El(h)!=="body"),o=null;const l=Qn(r).position==="fixed";let u=l?io(r):r;for(;Yn(u)&&!ul(u);){const h=Qn(u),p=gx(u);!p&&h.position==="fixed"&&(o=null),(l?!p&&!o:!p&&h.position==="static"&&!!o&&z6.has(o.position)||ou(u)&&!p&&K_(r,u))?n=n.filter(v=>v!==u):o=h,u=io(u)}return e.set(r,n),n}function q6(r){let{element:e,boundary:t,rootBoundary:n,strategy:o}=r;const u=[...t==="clippingAncestors"?ef(e)?[]:W6(e,this._c):[].concat(t),n],h=u[0],p=u.reduce((m,v)=>{const x=Jb(e,v,o);return m.top=nn(x.top,m.top),m.right=so(x.right,m.right),m.bottom=so(x.bottom,m.bottom),m.left=nn(x.left,m.left),m},Jb(e,h,o));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function G6(r){const{width:e,height:t}=W_(r);return{width:e,height:t}}function K6(r,e,t){const n=As(e),o=Ds(e),l=t==="fixed",u=Qo(r,!0,l,e);let h={scrollLeft:0,scrollTop:0};const p=Ts(0);function m(){p.x=rf(o)}if(n||!n&&!l)if((El(e)!=="body"||ou(o))&&(h=tf(e)),n){const k=Qo(e,!0,l,e);p.x=k.x+e.clientLeft,p.y=k.y+e.clientTop}else o&&m();l&&!n&&o&&m();const v=o&&!n&&!l?G_(o,h):Ts(0),x=u.left+h.scrollLeft-p.x-v.x,w=u.top+h.scrollTop-p.y-v.y;return{x,y:w,width:u.width,height:u.height}}function sm(r){return Qn(r).position==="static"}function Zb(r,e){if(!As(r)||Qn(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return Ds(r)===t&&(t=t.ownerDocument.body),t}function Y_(r,e){const t=ln(r);if(ef(r))return t;if(!As(r)){let o=io(r);for(;o&&!ul(o);){if(Yn(o)&&!sm(o))return o;o=io(o)}return t}let n=Zb(r,e);for(;n&&I6(n)&&sm(n);)n=Zb(n,e);return n&&ul(n)&&sm(n)&&!gx(n)?t:n||M6(r)||t}const Y6=async function(r){const e=this.getOffsetParent||Y_,t=this.getDimensions,n=await t(r.floating);return{reference:K6(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Q6(r){return Qn(r).direction==="rtl"}const X6={convertOffsetParentRelativeRectToViewportRelativeRect:$6,getDocumentElement:Ds,getClippingRect:q6,getOffsetParent:Y_,getElementRects:Y6,getClientRects:F6,getDimensions:G6,getScale:Ja,isElement:Yn,isRTL:Q6};function Q_(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function J6(r,e){let t=null,n;const o=Ds(r);function l(){var h;clearTimeout(n),(h=t)==null||h.disconnect(),t=null}function u(h,p){h===void 0&&(h=!1),p===void 0&&(p=1),l();const m=r.getBoundingClientRect(),{left:v,top:x,width:w,height:k}=m;if(h||e(),!w||!k)return;const P=jd(x),j=jd(o.clientWidth-(v+w)),T=jd(o.clientHeight-(x+k)),M=jd(v),F={rootMargin:-P+"px "+-j+"px "+-T+"px "+-M+"px",threshold:nn(0,so(1,p))||1};let $=!0;function z(J){const A=J[0].intersectionRatio;if(A!==p){if(!$)return u();A?u(!1,A):n=setTimeout(()=>{u(!1,1e-7)},1e3)}A===1&&!Q_(m,r.getBoundingClientRect())&&u(),$=!1}try{t=new IntersectionObserver(z,{...F,root:o.ownerDocument})}catch{t=new IntersectionObserver(z,F)}t.observe(r)}return u(!0),l}function Z6(r,e,t,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:p=!1}=n,m=vx(r),v=o||l?[...m?Bc(m):[],...Bc(e)]:[];v.forEach(M=>{o&&M.addEventListener("scroll",t,{passive:!0}),l&&M.addEventListener("resize",t)});const x=m&&h?J6(m,t):null;let w=-1,k=null;u&&(k=new ResizeObserver(M=>{let[B]=M;B&&B.target===m&&k&&(k.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var F;(F=k)==null||F.observe(e)})),t()}),m&&!p&&k.observe(m),k.observe(e));let P,j=p?Qo(r):null;p&&T();function T(){const M=Qo(r);j&&!Q_(j,M)&&t(),j=M,P=requestAnimationFrame(T)}return t(),()=>{var M;v.forEach(B=>{o&&B.removeEventListener("scroll",t),l&&B.removeEventListener("resize",t)}),x?.(),(M=k)==null||M.disconnect(),k=null,p&&cancelAnimationFrame(P)}}const eD=E6,tD=j6,rD=w6,nD=k6,sD=_6,ew=b6,iD=S6,oD=(r,e,t)=>{const n=new Map,o={platform:X6,...t},l={...o.platform,_c:n};return y6(r,e,{...o,platform:l})};var aD=typeof document<"u",lD=function(){},qd=aD?N.useLayoutEffect:lD;function wh(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,n,o;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!wh(r[n],e[n]))return!1;return!0}if(o=Object.keys(r),t=o.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,o[n]))return!1;for(n=t;n--!==0;){const l=o[n];if(!(l==="_owner"&&r.$$typeof)&&!wh(r[l],e[l]))return!1}return!0}return r!==r&&e!==e}function X_(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function tw(r,e){const t=X_(r);return Math.round(e*t)/t}function im(r){const e=N.useRef(r);return qd(()=>{e.current=r}),e}function cD(r){r===void 0&&(r={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:o,elements:{reference:l,floating:u}={},transform:h=!0,whileElementsMounted:p,open:m}=r,[v,x]=N.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[w,k]=N.useState(n);wh(w,n)||k(n);const[P,j]=N.useState(null),[T,M]=N.useState(null),B=N.useCallback(q=>{q!==J.current&&(J.current=q,j(q))},[]),F=N.useCallback(q=>{q!==A.current&&(A.current=q,M(q))},[]),$=l||P,z=u||T,J=N.useRef(null),A=N.useRef(null),E=N.useRef(v),C=p!=null,O=im(p),L=im(o),D=im(m),R=N.useCallback(()=>{if(!J.current||!A.current)return;const q={placement:e,strategy:t,middleware:w};L.current&&(q.platform=L.current),oD(J.current,A.current,q).then(de=>{const ae={...de,isPositioned:D.current!==!1};ge.current&&!wh(E.current,ae)&&(E.current=ae,qc.flushSync(()=>{x(ae)}))})},[w,e,t,L,D]);qd(()=>{m===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,x(q=>({...q,isPositioned:!1})))},[m]);const ge=N.useRef(!1);qd(()=>(ge.current=!0,()=>{ge.current=!1}),[]),qd(()=>{if($&&(J.current=$),z&&(A.current=z),$&&z){if(O.current)return O.current($,z,R);R()}},[$,z,R,O,C]);const le=N.useMemo(()=>({reference:J,floating:A,setReference:B,setFloating:F}),[B,F]),Z=N.useMemo(()=>({reference:$,floating:z}),[$,z]),re=N.useMemo(()=>{const q={position:t,left:0,top:0};if(!Z.floating)return q;const de=tw(Z.floating,v.x),ae=tw(Z.floating,v.y);return h?{...q,transform:"translate("+de+"px, "+ae+"px)",...X_(Z.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:de,top:ae}},[t,h,Z.floating,v.x,v.y]);return N.useMemo(()=>({...v,update:R,refs:le,elements:Z,floatingStyles:re}),[v,R,le,Z,re])}const uD=r=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:r,fn(t){const{element:n,padding:o}=typeof r=="function"?r(t):r;return n&&e(n)?n.current!=null?ew({element:n.current,padding:o}).fn(t):{}:n?ew({element:n,padding:o}).fn(t):{}}}},dD=(r,e)=>({...eD(r),options:[r,e]}),hD=(r,e)=>({...tD(r),options:[r,e]}),fD=(r,e)=>({...iD(r),options:[r,e]}),pD=(r,e)=>({...rD(r),options:[r,e]}),mD=(r,e)=>({...nD(r),options:[r,e]}),gD=(r,e)=>({...sD(r),options:[r,e]}),xD=(r,e)=>({...uD(r),options:[r,e]});var vD="Arrow",J_=N.forwardRef((r,e)=>{const{children:t,width:n=10,height:o=5,...l}=r;return i.jsx(at.svg,{...l,ref:e,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:r.asChild?t:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});J_.displayName=vD;var yD=J_;function Z_(r){const[e,t]=N.useState(void 0);return Xt(()=>{if(r){t({width:r.offsetWidth,height:r.offsetHeight});const n=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let u,h;if("borderBoxSize"in l){const p=l.borderBoxSize,m=Array.isArray(p)?p[0]:p;u=m.inlineSize,h=m.blockSize}else u=r.offsetWidth,h=r.offsetHeight;t({width:u,height:h})});return n.observe(r,{box:"border-box"}),()=>n.unobserve(r)}else t(void 0)},[r]),e}var yx="Popper",[eN,tN]=_l(yx),[bD,rN]=eN(yx),nN=r=>{const{__scopePopper:e,children:t}=r,[n,o]=N.useState(null);return i.jsx(bD,{scope:e,anchor:n,onAnchorChange:o,children:t})};nN.displayName=yx;var sN="PopperAnchor",iN=N.forwardRef((r,e)=>{const{__scopePopper:t,virtualRef:n,...o}=r,l=rN(sN,t),u=N.useRef(null),h=Ot(e,u),p=N.useRef(null);return N.useEffect(()=>{const m=p.current;p.current=n?.current||u.current,m!==p.current&&l.onAnchorChange(p.current)}),n?null:i.jsx(at.div,{...o,ref:h})});iN.displayName=sN;var bx="PopperContent",[wD,_D]=eN(bx),oN=N.forwardRef((r,e)=>{const{__scopePopper:t,side:n="bottom",sideOffset:o=0,align:l="center",alignOffset:u=0,arrowPadding:h=0,avoidCollisions:p=!0,collisionBoundary:m=[],collisionPadding:v=0,sticky:x="partial",hideWhenDetached:w=!1,updatePositionStrategy:k="optimized",onPlaced:P,...j}=r,T=rN(bx,t),[M,B]=N.useState(null),F=Ot(e,oe=>B(oe)),[$,z]=N.useState(null),J=Z_($),A=J?.width??0,E=J?.height??0,C=n+(l!=="center"?"-"+l:""),O=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},L=Array.isArray(m)?m:[m],D=L.length>0,R={padding:O,boundary:L.filter(ED),altBoundary:D},{refs:ge,floatingStyles:le,placement:Z,isPositioned:re,middlewareData:q}=cD({strategy:"fixed",placement:C,whileElementsMounted:(...oe)=>Z6(...oe,{animationFrame:k==="always"}),elements:{reference:T.anchor},middleware:[dD({mainAxis:o+E,alignmentAxis:u}),p&&hD({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?fD():void 0,...R}),p&&pD({...R}),mD({...R,apply:({elements:oe,rects:fe,availableWidth:Ae,availableHeight:Pe})=>{const{width:ze,height:He}=fe.reference,pt=oe.floating.style;pt.setProperty("--radix-popper-available-width",`${Ae}px`),pt.setProperty("--radix-popper-available-height",`${Pe}px`),pt.setProperty("--radix-popper-anchor-width",`${ze}px`),pt.setProperty("--radix-popper-anchor-height",`${He}px`)}}),$&&xD({element:$,padding:h}),jD({arrowWidth:A,arrowHeight:E}),w&&gD({strategy:"referenceHidden",...R})]}),[de,ae]=cN(Z),H=ri(P);Xt(()=>{re&&H?.()},[re,H]);const te=q.arrow?.x,ee=q.arrow?.y,ie=q.arrow?.centerOffset!==0,[xe,_e]=N.useState();return Xt(()=>{M&&_e(window.getComputedStyle(M).zIndex)},[M]),i.jsx("div",{ref:ge.setFloating,"data-radix-popper-content-wrapper":"",style:{...le,transform:re?le.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:xe,"--radix-popper-transform-origin":[q.transformOrigin?.x,q.transformOrigin?.y].join(" "),...q.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:r.dir,children:i.jsx(wD,{scope:t,placedSide:de,onArrowChange:z,arrowX:te,arrowY:ee,shouldHideArrow:ie,children:i.jsx(at.div,{"data-side":de,"data-align":ae,...j,ref:F,style:{...j.style,animation:re?void 0:"none"}})})})});oN.displayName=bx;var aN="PopperArrow",ND={top:"bottom",right:"left",bottom:"top",left:"right"},lN=N.forwardRef(function(e,t){const{__scopePopper:n,...o}=e,l=_D(aN,n),u=ND[l.placedSide];return i.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:i.jsx(yD,{...o,ref:t,style:{...o.style,display:"block"}})})});lN.displayName=aN;function ED(r){return r!==null}var jD=r=>({name:"transformOrigin",options:r,fn(e){const{placement:t,rects:n,middlewareData:o}=e,u=o.arrow?.centerOffset!==0,h=u?0:r.arrowWidth,p=u?0:r.arrowHeight,[m,v]=cN(t),x={start:"0%",center:"50%",end:"100%"}[v],w=(o.arrow?.x??0)+h/2,k=(o.arrow?.y??0)+p/2;let P="",j="";return m==="bottom"?(P=u?x:`${w}px`,j=`${-p}px`):m==="top"?(P=u?x:`${w}px`,j=`${n.floating.height+p}px`):m==="right"?(P=`${-p}px`,j=u?x:`${k}px`):m==="left"&&(P=`${n.floating.width+p}px`,j=u?x:`${k}px`),{data:{x:P,y:j}}}});function cN(r){const[e,t="center"]=r.split("-");return[e,t]}var SD=nN,kD=iN,TD=oN,CD=lN,ID="Portal",uN=N.forwardRef((r,e)=>{const{container:t,...n}=r,[o,l]=N.useState(!1);Xt(()=>l(!0),[]);const u=t||o&&globalThis?.document?.body;return u?Qw.createPortal(i.jsx(at.div,{...n,ref:e}),u):null});uN.displayName=ID;function AD(r){const e=RD(r),t=N.forwardRef((n,o)=>{const{children:l,...u}=n,h=N.Children.toArray(l),p=h.find(DD);if(p){const m=p.props.children,v=h.map(x=>x===p?N.Children.count(m)>1?N.Children.only(null):N.isValidElement(m)?m.props.children:null:x);return i.jsx(e,{...u,ref:o,children:N.isValidElement(m)?N.cloneElement(m,void 0,v):null})}return i.jsx(e,{...u,ref:o,children:l})});return t.displayName=`${r}.Slot`,t}function RD(r){const e=N.forwardRef((t,n)=>{const{children:o,...l}=t;if(N.isValidElement(o)){const u=OD(o),h=MD(l,o.props);return o.type!==N.Fragment&&(h.ref=n?Wc(n,u):u),N.cloneElement(o,h)}return N.Children.count(o)>1?N.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var PD=Symbol("radix.slottable");function DD(r){return N.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===PD}function MD(r,e){const t={...e};for(const n in e){const o=r[n],l=e[n];/^on[A-Z]/.test(n)?o&&l?t[n]=(...h)=>{const p=l(...h);return o(...h),p}:o&&(t[n]=o):n==="style"?t[n]={...o,...l}:n==="className"&&(t[n]=[o,l].filter(Boolean).join(" "))}return{...r,...t}}function OD(r){let e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}var LD=tg[" useInsertionEffect ".trim().toString()]||Xt;function zc({prop:r,defaultProp:e,onChange:t=()=>{},caller:n}){const[o,l,u]=VD({defaultProp:e,onChange:t}),h=r!==void 0,p=h?r:o;{const v=N.useRef(r!==void 0);N.useEffect(()=>{const x=v.current;x!==h&&console.warn(`${n} is changing from ${x?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=h},[h,n])}const m=N.useCallback(v=>{if(h){const x=$D(v)?v(r):v;x!==r&&u.current?.(x)}else l(v)},[h,r,l,u]);return[p,m]}function VD({defaultProp:r,onChange:e}){const[t,n]=N.useState(r),o=N.useRef(t),l=N.useRef(e);return LD(()=>{l.current=e},[e]),N.useEffect(()=>{o.current!==t&&(l.current?.(t),o.current=t)},[t,o]),[t,n,l]}function $D(r){return typeof r=="function"}function dN(r){const e=N.useRef({value:r,previous:r});return N.useMemo(()=>(e.current.value!==r&&(e.current.previous=e.current.value,e.current.value=r),e.current.previous),[r])}var hN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),FD="VisuallyHidden",UD=N.forwardRef((r,e)=>i.jsx(at.span,{...r,ref:e,style:{...hN,...r.style}}));UD.displayName=FD;var BD=function(r){if(typeof document>"u")return null;var e=Array.isArray(r)?r[0]:r;return e.ownerDocument.body},Fa=new WeakMap,Sd=new WeakMap,kd={},om=0,fN=function(r){return r&&(r.host||fN(r.parentNode))},zD=function(r,e){return e.map(function(t){if(r.contains(t))return t;var n=fN(t);return n&&r.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",r,". Doing nothing"),null)}).filter(function(t){return!!t})},HD=function(r,e,t,n){var o=zD(e,Array.isArray(r)?r:[r]);kd[t]||(kd[t]=new WeakMap);var l=kd[t],u=[],h=new Set,p=new Set(o),m=function(x){!x||h.has(x)||(h.add(x),m(x.parentNode))};o.forEach(m);var v=function(x){!x||p.has(x)||Array.prototype.forEach.call(x.children,function(w){if(h.has(w))v(w);else try{var k=w.getAttribute(n),P=k!==null&&k!=="false",j=(Fa.get(w)||0)+1,T=(l.get(w)||0)+1;Fa.set(w,j),l.set(w,T),u.push(w),j===1&&P&&Sd.set(w,!0),T===1&&w.setAttribute(t,"true"),P||w.setAttribute(n,"true")}catch(M){console.error("aria-hidden: cannot operate on ",w,M)}})};return v(e),h.clear(),om++,function(){u.forEach(function(x){var w=Fa.get(x)-1,k=l.get(x)-1;Fa.set(x,w),l.set(x,k),w||(Sd.has(x)||x.removeAttribute(n),Sd.delete(x)),k||x.removeAttribute(t)}),om--,om||(Fa=new WeakMap,Fa=new WeakMap,Sd=new WeakMap,kd={})}},WD=function(r,e,t){t===void 0&&(t="data-aria-hidden");var n=Array.from(Array.isArray(r)?r:[r]),o=BD(r);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live], script"))),HD(n,o,t,"aria-hidden")):function(){return null}},vs=function(){return vs=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},vs.apply(this,arguments)};function pN(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(r);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(r,n[o])&&(t[n[o]]=r[n[o]]);return t}function qD(r,e,t){if(t||arguments.length===2)for(var n=0,o=e.length,l;n<o;n++)(l||!(n in e))&&(l||(l=Array.prototype.slice.call(e,0,n)),l[n]=e[n]);return r.concat(l||Array.prototype.slice.call(e))}var Gd="right-scroll-bar-position",Kd="width-before-scroll-bar",GD="with-scroll-bars-hidden",KD="--removed-body-scroll-bar-size";function am(r,e){return typeof r=="function"?r(e):r&&(r.current=e),r}function YD(r,e){var t=N.useState(function(){return{value:r,callback:e,facade:{get current(){return t.value},set current(n){var o=t.value;o!==n&&(t.value=n,t.callback(n,o))}}}})[0];return t.callback=e,t.facade}var QD=typeof window<"u"?N.useLayoutEffect:N.useEffect,rw=new WeakMap;function XD(r,e){var t=YD(null,function(n){return r.forEach(function(o){return am(o,n)})});return QD(function(){var n=rw.get(t);if(n){var o=new Set(n),l=new Set(r),u=t.current;o.forEach(function(h){l.has(h)||am(h,null)}),l.forEach(function(h){o.has(h)||am(h,u)})}rw.set(t,r)},[r]),t}function JD(r){return r}function ZD(r,e){e===void 0&&(e=JD);var t=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:r},useMedium:function(l){var u=e(l,n);return t.push(u),function(){t=t.filter(function(h){return h!==u})}},assignSyncMedium:function(l){for(n=!0;t.length;){var u=t;t=[],u.forEach(l)}t={push:function(h){return l(h)},filter:function(){return t}}},assignMedium:function(l){n=!0;var u=[];if(t.length){var h=t;t=[],h.forEach(l),u=t}var p=function(){var v=u;u=[],v.forEach(l)},m=function(){return Promise.resolve().then(p)};m(),t={push:function(v){u.push(v),m()},filter:function(v){return u=u.filter(v),t}}}};return o}function eM(r){r===void 0&&(r={});var e=ZD(null);return e.options=vs({async:!0,ssr:!1},r),e}var mN=function(r){var e=r.sideCar,t=pN(r,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return N.createElement(n,vs({},t))};mN.isSideCarExport=!0;function tM(r,e){return r.useMedium(e),mN}var gN=eM(),lm=function(){},nf=N.forwardRef(function(r,e){var t=N.useRef(null),n=N.useState({onScrollCapture:lm,onWheelCapture:lm,onTouchMoveCapture:lm}),o=n[0],l=n[1],u=r.forwardProps,h=r.children,p=r.className,m=r.removeScrollBar,v=r.enabled,x=r.shards,w=r.sideCar,k=r.noRelative,P=r.noIsolation,j=r.inert,T=r.allowPinchZoom,M=r.as,B=M===void 0?"div":M,F=r.gapMode,$=pN(r,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),z=w,J=XD([t,e]),A=vs(vs({},$),o);return N.createElement(N.Fragment,null,v&&N.createElement(z,{sideCar:gN,removeScrollBar:m,shards:x,noRelative:k,noIsolation:P,inert:j,setCallbacks:l,allowPinchZoom:!!T,lockRef:t,gapMode:F}),u?N.cloneElement(N.Children.only(h),vs(vs({},A),{ref:J})):N.createElement(B,vs({},A,{className:p,ref:J}),h))});nf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};nf.classNames={fullWidth:Kd,zeroRight:Gd};var rM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function nM(){if(!document)return null;var r=document.createElement("style");r.type="text/css";var e=rM();return e&&r.setAttribute("nonce",e),r}function sM(r,e){r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}function iM(r){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(r)}var oM=function(){var r=0,e=null;return{add:function(t){r==0&&(e=nM())&&(sM(e,t),iM(e)),r++},remove:function(){r--,!r&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},aM=function(){var r=oM();return function(e,t){N.useEffect(function(){return r.add(e),function(){r.remove()}},[e&&t])}},xN=function(){var r=aM(),e=function(t){var n=t.styles,o=t.dynamic;return r(n,o),null};return e},lM={left:0,top:0,right:0,gap:0},cm=function(r){return parseInt(r||"",10)||0},cM=function(r){var e=window.getComputedStyle(document.body),t=e[r==="padding"?"paddingLeft":"marginLeft"],n=e[r==="padding"?"paddingTop":"marginTop"],o=e[r==="padding"?"paddingRight":"marginRight"];return[cm(t),cm(n),cm(o)]},uM=function(r){if(r===void 0&&(r="margin"),typeof window>"u")return lM;var e=cM(r),t=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-t+e[2]-e[0])}},dM=xN(),Za="data-scroll-locked",hM=function(r,e,t,n){var o=r.left,l=r.top,u=r.right,h=r.gap;return t===void 0&&(t="margin"),`
  .`.concat(GD,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(h,"px ").concat(n,`;
  }
  body[`).concat(Za,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(n,`;
    `),t==="padding"&&"padding-right: ".concat(h,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Gd,` {
    right: `).concat(h,"px ").concat(n,`;
  }
  
  .`).concat(Kd,` {
    margin-right: `).concat(h,"px ").concat(n,`;
  }
  
  .`).concat(Gd," .").concat(Gd,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Kd," .").concat(Kd,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Za,`] {
    `).concat(KD,": ").concat(h,`px;
  }
`)},nw=function(){var r=parseInt(document.body.getAttribute(Za)||"0",10);return isFinite(r)?r:0},fM=function(){N.useEffect(function(){return document.body.setAttribute(Za,(nw()+1).toString()),function(){var r=nw()-1;r<=0?document.body.removeAttribute(Za):document.body.setAttribute(Za,r.toString())}},[])},pM=function(r){var e=r.noRelative,t=r.noImportant,n=r.gapMode,o=n===void 0?"margin":n;fM();var l=N.useMemo(function(){return uM(o)},[o]);return N.createElement(dM,{styles:hM(l,!e,o,t?"":"!important")})},Gm=!1;if(typeof window<"u")try{var Td=Object.defineProperty({},"passive",{get:function(){return Gm=!0,!0}});window.addEventListener("test",Td,Td),window.removeEventListener("test",Td,Td)}catch{Gm=!1}var Ua=Gm?{passive:!1}:!1,mM=function(r){return r.tagName==="TEXTAREA"},vN=function(r,e){if(!(r instanceof Element))return!1;var t=window.getComputedStyle(r);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!mM(r)&&t[e]==="visible")},gM=function(r){return vN(r,"overflowY")},xM=function(r){return vN(r,"overflowX")},sw=function(r,e){var t=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=yN(r,n);if(o){var l=bN(r,n),u=l[1],h=l[2];if(u>h)return!0}n=n.parentNode}while(n&&n!==t.body);return!1},vM=function(r){var e=r.scrollTop,t=r.scrollHeight,n=r.clientHeight;return[e,t,n]},yM=function(r){var e=r.scrollLeft,t=r.scrollWidth,n=r.clientWidth;return[e,t,n]},yN=function(r,e){return r==="v"?gM(e):xM(e)},bN=function(r,e){return r==="v"?vM(e):yM(e)},bM=function(r,e){return r==="h"&&e==="rtl"?-1:1},wM=function(r,e,t,n,o){var l=bM(r,window.getComputedStyle(e).direction),u=l*n,h=t.target,p=e.contains(h),m=!1,v=u>0,x=0,w=0;do{if(!h)break;var k=bN(r,h),P=k[0],j=k[1],T=k[2],M=j-T-l*P;(P||M)&&yN(r,h)&&(x+=M,w+=P);var B=h.parentNode;h=B&&B.nodeType===Node.DOCUMENT_FRAGMENT_NODE?B.host:B}while(!p&&h!==document.body||p&&(e.contains(h)||e===h));return(v&&Math.abs(x)<1||!v&&Math.abs(w)<1)&&(m=!0),m},Cd=function(r){return"changedTouches"in r?[r.changedTouches[0].clientX,r.changedTouches[0].clientY]:[0,0]},iw=function(r){return[r.deltaX,r.deltaY]},ow=function(r){return r&&"current"in r?r.current:r},_M=function(r,e){return r[0]===e[0]&&r[1]===e[1]},NM=function(r){return`
  .block-interactivity-`.concat(r,` {pointer-events: none;}
  .allow-interactivity-`).concat(r,` {pointer-events: all;}
`)},EM=0,Ba=[];function jM(r){var e=N.useRef([]),t=N.useRef([0,0]),n=N.useRef(),o=N.useState(EM++)[0],l=N.useState(xN)[0],u=N.useRef(r);N.useEffect(function(){u.current=r},[r]),N.useEffect(function(){if(r.inert){document.body.classList.add("block-interactivity-".concat(o));var j=qD([r.lockRef.current],(r.shards||[]).map(ow),!0).filter(Boolean);return j.forEach(function(T){return T.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),j.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(o))})}}},[r.inert,r.lockRef.current,r.shards]);var h=N.useCallback(function(j,T){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!u.current.allowPinchZoom;var M=Cd(j),B=t.current,F="deltaX"in j?j.deltaX:B[0]-M[0],$="deltaY"in j?j.deltaY:B[1]-M[1],z,J=j.target,A=Math.abs(F)>Math.abs($)?"h":"v";if("touches"in j&&A==="h"&&J.type==="range")return!1;var E=sw(A,J);if(!E)return!0;if(E?z=A:(z=A==="v"?"h":"v",E=sw(A,J)),!E)return!1;if(!n.current&&"changedTouches"in j&&(F||$)&&(n.current=z),!z)return!0;var C=n.current||z;return wM(C,T,j,C==="h"?F:$)},[]),p=N.useCallback(function(j){var T=j;if(!(!Ba.length||Ba[Ba.length-1]!==l)){var M="deltaY"in T?iw(T):Cd(T),B=e.current.filter(function(z){return z.name===T.type&&(z.target===T.target||T.target===z.shadowParent)&&_M(z.delta,M)})[0];if(B&&B.should){T.cancelable&&T.preventDefault();return}if(!B){var F=(u.current.shards||[]).map(ow).filter(Boolean).filter(function(z){return z.contains(T.target)}),$=F.length>0?h(T,F[0]):!u.current.noIsolation;$&&T.cancelable&&T.preventDefault()}}},[]),m=N.useCallback(function(j,T,M,B){var F={name:j,delta:T,target:M,should:B,shadowParent:SM(M)};e.current.push(F),setTimeout(function(){e.current=e.current.filter(function($){return $!==F})},1)},[]),v=N.useCallback(function(j){t.current=Cd(j),n.current=void 0},[]),x=N.useCallback(function(j){m(j.type,iw(j),j.target,h(j,r.lockRef.current))},[]),w=N.useCallback(function(j){m(j.type,Cd(j),j.target,h(j,r.lockRef.current))},[]);N.useEffect(function(){return Ba.push(l),r.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:w}),document.addEventListener("wheel",p,Ua),document.addEventListener("touchmove",p,Ua),document.addEventListener("touchstart",v,Ua),function(){Ba=Ba.filter(function(j){return j!==l}),document.removeEventListener("wheel",p,Ua),document.removeEventListener("touchmove",p,Ua),document.removeEventListener("touchstart",v,Ua)}},[]);var k=r.removeScrollBar,P=r.inert;return N.createElement(N.Fragment,null,P?N.createElement(l,{styles:NM(o)}):null,k?N.createElement(pM,{noRelative:r.noRelative,gapMode:r.gapMode}):null)}function SM(r){for(var e=null;r!==null;)r instanceof ShadowRoot&&(e=r.host,r=r.host),r=r.parentNode;return e}const kM=tM(gN,jM);var wN=N.forwardRef(function(r,e){return N.createElement(nf,vs({},r,{ref:e,sideCar:kM}))});wN.classNames=nf.classNames;var TM=[" ","Enter","ArrowUp","ArrowDown"],CM=[" ","Enter"],Xo="Select",[sf,of,IM]=M_(Xo),[jl]=_l(Xo,[IM,tN]),af=tN(),[AM,uo]=jl(Xo),[RM,PM]=jl(Xo),_N=r=>{const{__scopeSelect:e,children:t,open:n,defaultOpen:o,onOpenChange:l,value:u,defaultValue:h,onValueChange:p,dir:m,name:v,autoComplete:x,disabled:w,required:k,form:P}=r,j=af(e),[T,M]=N.useState(null),[B,F]=N.useState(null),[$,z]=N.useState(!1),J=hx(m),[A,E]=zc({prop:n,defaultProp:o??!1,onChange:l,caller:Xo}),[C,O]=zc({prop:u,defaultProp:h,onChange:p,caller:Xo}),L=N.useRef(null),D=T?P||!!T.closest("form"):!0,[R,ge]=N.useState(new Set),le=Array.from(R).map(Z=>Z.props.value).join(";");return i.jsx(SD,{...j,children:i.jsxs(AM,{required:k,scope:e,trigger:T,onTriggerChange:M,valueNode:B,onValueNodeChange:F,valueNodeHasChildren:$,onValueNodeHasChildrenChange:z,contentId:iu(),value:C,onValueChange:O,open:A,onOpenChange:E,dir:J,triggerPointerDownPosRef:L,disabled:w,children:[i.jsx(sf.Provider,{scope:e,children:i.jsx(RM,{scope:r.__scopeSelect,onNativeOptionAdd:N.useCallback(Z=>{ge(re=>new Set(re).add(Z))},[]),onNativeOptionRemove:N.useCallback(Z=>{ge(re=>{const q=new Set(re);return q.delete(Z),q})},[]),children:t})}),D?i.jsxs(HN,{"aria-hidden":!0,required:k,tabIndex:-1,name:v,autoComplete:x,value:C,onChange:Z=>O(Z.target.value),disabled:w,form:P,children:[C===void 0?i.jsx("option",{value:""}):null,Array.from(R)]},le):null]})})};_N.displayName=Xo;var NN="SelectTrigger",EN=N.forwardRef((r,e)=>{const{__scopeSelect:t,disabled:n=!1,...o}=r,l=af(t),u=uo(NN,t),h=u.disabled||n,p=Ot(e,u.onTriggerChange),m=of(t),v=N.useRef("touch"),[x,w,k]=qN(j=>{const T=m().filter(F=>!F.disabled),M=T.find(F=>F.value===u.value),B=GN(T,j,M);B!==void 0&&u.onValueChange(B.value)}),P=j=>{h||(u.onOpenChange(!0),k()),j&&(u.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)})};return i.jsx(kD,{asChild:!0,...l,children:i.jsx(at.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":WN(u.value)?"":void 0,...o,ref:p,onClick:st(o.onClick,j=>{j.currentTarget.focus(),v.current!=="mouse"&&P(j)}),onPointerDown:st(o.onPointerDown,j=>{v.current=j.pointerType;const T=j.target;T.hasPointerCapture(j.pointerId)&&T.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&j.pointerType==="mouse"&&(P(j),j.preventDefault())}),onKeyDown:st(o.onKeyDown,j=>{const T=x.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&w(j.key),!(T&&j.key===" ")&&TM.includes(j.key)&&(P(),j.preventDefault())})})})});EN.displayName=NN;var jN="SelectValue",SN=N.forwardRef((r,e)=>{const{__scopeSelect:t,className:n,style:o,children:l,placeholder:u="",...h}=r,p=uo(jN,t),{onValueNodeHasChildrenChange:m}=p,v=l!==void 0,x=Ot(e,p.onValueNodeChange);return Xt(()=>{m(v)},[m,v]),i.jsx(at.span,{...h,ref:x,style:{pointerEvents:"none"},children:WN(p.value)?i.jsx(i.Fragment,{children:u}):l})});SN.displayName=jN;var DM="SelectIcon",kN=N.forwardRef((r,e)=>{const{__scopeSelect:t,children:n,...o}=r;return i.jsx(at.span,{"aria-hidden":!0,...o,ref:e,children:n||""})});kN.displayName=DM;var MM="SelectPortal",TN=r=>i.jsx(uN,{asChild:!0,...r});TN.displayName=MM;var Jo="SelectContent",CN=N.forwardRef((r,e)=>{const t=uo(Jo,r.__scopeSelect),[n,o]=N.useState();if(Xt(()=>{o(new DocumentFragment)},[]),!t.open){const l=n;return l?qc.createPortal(i.jsx(IN,{scope:r.__scopeSelect,children:i.jsx(sf.Slot,{scope:r.__scopeSelect,children:i.jsx("div",{children:r.children})})}),l):null}return i.jsx(AN,{...r,ref:e})});CN.displayName=Jo;var Fn=10,[IN,ho]=jl(Jo),OM="SelectContentImpl",LM=AD("SelectContent.RemoveScroll"),AN=N.forwardRef((r,e)=>{const{__scopeSelect:t,position:n="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:l,onPointerDownOutside:u,side:h,sideOffset:p,align:m,alignOffset:v,arrowPadding:x,collisionBoundary:w,collisionPadding:k,sticky:P,hideWhenDetached:j,avoidCollisions:T,...M}=r,B=uo(Jo,t),[F,$]=N.useState(null),[z,J]=N.useState(null),A=Ot(e,oe=>$(oe)),[E,C]=N.useState(null),[O,L]=N.useState(null),D=of(t),[R,ge]=N.useState(!1),le=N.useRef(!1);N.useEffect(()=>{if(F)return WD(F)},[F]),J3();const Z=N.useCallback(oe=>{const[fe,...Ae]=D().map(He=>He.ref.current),[Pe]=Ae.slice(-1),ze=document.activeElement;for(const He of oe)if(He===ze||(He?.scrollIntoView({block:"nearest"}),He===fe&&z&&(z.scrollTop=0),He===Pe&&z&&(z.scrollTop=z.scrollHeight),He?.focus(),document.activeElement!==ze))return},[D,z]),re=N.useCallback(()=>Z([E,F]),[Z,E,F]);N.useEffect(()=>{R&&re()},[R,re]);const{onOpenChange:q,triggerPointerDownPosRef:de}=B;N.useEffect(()=>{if(F){let oe={x:0,y:0};const fe=Pe=>{oe={x:Math.abs(Math.round(Pe.pageX)-(de.current?.x??0)),y:Math.abs(Math.round(Pe.pageY)-(de.current?.y??0))}},Ae=Pe=>{oe.x<=10&&oe.y<=10?Pe.preventDefault():F.contains(Pe.target)||q(!1),document.removeEventListener("pointermove",fe),de.current=null};return de.current!==null&&(document.addEventListener("pointermove",fe),document.addEventListener("pointerup",Ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",fe),document.removeEventListener("pointerup",Ae,{capture:!0})}}},[F,q,de]),N.useEffect(()=>{const oe=()=>q(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[q]);const[ae,H]=qN(oe=>{const fe=D().filter(ze=>!ze.disabled),Ae=fe.find(ze=>ze.ref.current===document.activeElement),Pe=GN(fe,oe,Ae);Pe&&setTimeout(()=>Pe.ref.current.focus())}),te=N.useCallback((oe,fe,Ae)=>{const Pe=!le.current&&!Ae;(B.value!==void 0&&B.value===fe||Pe)&&(C(oe),Pe&&(le.current=!0))},[B.value]),ee=N.useCallback(()=>F?.focus(),[F]),ie=N.useCallback((oe,fe,Ae)=>{const Pe=!le.current&&!Ae;(B.value!==void 0&&B.value===fe||Pe)&&L(oe)},[B.value]),xe=n==="popper"?Km:RN,_e=xe===Km?{side:h,sideOffset:p,align:m,alignOffset:v,arrowPadding:x,collisionBoundary:w,collisionPadding:k,sticky:P,hideWhenDetached:j,avoidCollisions:T}:{};return i.jsx(IN,{scope:t,content:F,viewport:z,onViewportChange:J,itemRefCallback:te,selectedItem:E,onItemLeave:ee,itemTextRefCallback:ie,focusSelectedItem:re,selectedItemText:O,position:n,isPositioned:R,searchRef:ae,children:i.jsx(wN,{as:LM,allowPinchZoom:!0,children:i.jsx($_,{asChild:!0,trapped:B.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:st(o,oe=>{B.trigger?.focus({preventScroll:!0}),oe.preventDefault()}),children:i.jsx(L_,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>B.onOpenChange(!1),children:i.jsx(xe,{role:"listbox",id:B.contentId,"data-state":B.open?"open":"closed",dir:B.dir,onContextMenu:oe=>oe.preventDefault(),...M,..._e,onPlaced:()=>ge(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...M.style},onKeyDown:st(M.onKeyDown,oe=>{const fe=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!fe&&oe.key.length===1&&H(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let Pe=D().filter(ze=>!ze.disabled).map(ze=>ze.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(Pe=Pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const ze=oe.target,He=Pe.indexOf(ze);Pe=Pe.slice(He+1)}setTimeout(()=>Z(Pe)),oe.preventDefault()}})})})})})})});AN.displayName=OM;var VM="SelectItemAlignedPosition",RN=N.forwardRef((r,e)=>{const{__scopeSelect:t,onPlaced:n,...o}=r,l=uo(Jo,t),u=ho(Jo,t),[h,p]=N.useState(null),[m,v]=N.useState(null),x=Ot(e,A=>v(A)),w=of(t),k=N.useRef(!1),P=N.useRef(!0),{viewport:j,selectedItem:T,selectedItemText:M,focusSelectedItem:B}=u,F=N.useCallback(()=>{if(l.trigger&&l.valueNode&&h&&m&&j&&T&&M){const A=l.trigger.getBoundingClientRect(),E=m.getBoundingClientRect(),C=l.valueNode.getBoundingClientRect(),O=M.getBoundingClientRect();if(l.dir!=="rtl"){const ze=O.left-E.left,He=C.left-ze,pt=A.left-He,Lt=A.width+pt,cn=Math.max(Lt,E.width),Sr=window.innerWidth-Fn,ye=Ob(He,[Fn,Math.max(Fn,Sr-cn)]);h.style.minWidth=Lt+"px",h.style.left=ye+"px"}else{const ze=E.right-O.right,He=window.innerWidth-C.right-ze,pt=window.innerWidth-A.right-He,Lt=A.width+pt,cn=Math.max(Lt,E.width),Sr=window.innerWidth-Fn,ye=Ob(He,[Fn,Math.max(Fn,Sr-cn)]);h.style.minWidth=Lt+"px",h.style.right=ye+"px"}const L=w(),D=window.innerHeight-Fn*2,R=j.scrollHeight,ge=window.getComputedStyle(m),le=parseInt(ge.borderTopWidth,10),Z=parseInt(ge.paddingTop,10),re=parseInt(ge.borderBottomWidth,10),q=parseInt(ge.paddingBottom,10),de=le+Z+R+q+re,ae=Math.min(T.offsetHeight*5,de),H=window.getComputedStyle(j),te=parseInt(H.paddingTop,10),ee=parseInt(H.paddingBottom,10),ie=A.top+A.height/2-Fn,xe=D-ie,_e=T.offsetHeight/2,oe=T.offsetTop+_e,fe=le+Z+oe,Ae=de-fe;if(fe<=ie){const ze=L.length>0&&T===L[L.length-1].ref.current;h.style.bottom="0px";const He=m.clientHeight-j.offsetTop-j.offsetHeight,pt=Math.max(xe,_e+(ze?ee:0)+He+re),Lt=fe+pt;h.style.height=Lt+"px"}else{const ze=L.length>0&&T===L[0].ref.current;h.style.top="0px";const pt=Math.max(ie,le+j.offsetTop+(ze?te:0)+_e)+Ae;h.style.height=pt+"px",j.scrollTop=fe-ie+j.offsetTop}h.style.margin=`${Fn}px 0`,h.style.minHeight=ae+"px",h.style.maxHeight=D+"px",n?.(),requestAnimationFrame(()=>k.current=!0)}},[w,l.trigger,l.valueNode,h,m,j,T,M,l.dir,n]);Xt(()=>F(),[F]);const[$,z]=N.useState();Xt(()=>{m&&z(window.getComputedStyle(m).zIndex)},[m]);const J=N.useCallback(A=>{A&&P.current===!0&&(F(),B?.(),P.current=!1)},[F,B]);return i.jsx(FM,{scope:t,contentWrapper:h,shouldExpandOnScrollRef:k,onScrollButtonChange:J,children:i.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:$},children:i.jsx(at.div,{...o,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});RN.displayName=VM;var $M="SelectPopperPosition",Km=N.forwardRef((r,e)=>{const{__scopeSelect:t,align:n="start",collisionPadding:o=Fn,...l}=r,u=af(t);return i.jsx(TD,{...u,...l,ref:e,align:n,collisionPadding:o,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Km.displayName=$M;var[FM,wx]=jl(Jo,{}),Ym="SelectViewport",PN=N.forwardRef((r,e)=>{const{__scopeSelect:t,nonce:n,...o}=r,l=ho(Ym,t),u=wx(Ym,t),h=Ot(e,l.onViewportChange),p=N.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(sf.Slot,{scope:t,children:i.jsx(at.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:h,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:st(o.onScroll,m=>{const v=m.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:w}=u;if(w?.current&&x){const k=Math.abs(p.current-v.scrollTop);if(k>0){const P=window.innerHeight-Fn*2,j=parseFloat(x.style.minHeight),T=parseFloat(x.style.height),M=Math.max(j,T);if(M<P){const B=M+k,F=Math.min(P,B),$=B-F;x.style.height=F+"px",x.style.bottom==="0px"&&(v.scrollTop=$>0?$:0,x.style.justifyContent="flex-end")}}}p.current=v.scrollTop})})})]})});PN.displayName=Ym;var DN="SelectGroup",[UM,BM]=jl(DN),zM=N.forwardRef((r,e)=>{const{__scopeSelect:t,...n}=r,o=iu();return i.jsx(UM,{scope:t,id:o,children:i.jsx(at.div,{role:"group","aria-labelledby":o,...n,ref:e})})});zM.displayName=DN;var MN="SelectLabel",HM=N.forwardRef((r,e)=>{const{__scopeSelect:t,...n}=r,o=BM(MN,t);return i.jsx(at.div,{id:o.id,...n,ref:e})});HM.displayName=MN;var _h="SelectItem",[WM,ON]=jl(_h),LN=N.forwardRef((r,e)=>{const{__scopeSelect:t,value:n,disabled:o=!1,textValue:l,...u}=r,h=uo(_h,t),p=ho(_h,t),m=h.value===n,[v,x]=N.useState(l??""),[w,k]=N.useState(!1),P=Ot(e,B=>p.itemRefCallback?.(B,n,o)),j=iu(),T=N.useRef("touch"),M=()=>{o||(h.onValueChange(n),h.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(WM,{scope:t,value:n,disabled:o,textId:j,isSelected:m,onItemTextChange:N.useCallback(B=>{x(F=>F||(B?.textContent??"").trim())},[]),children:i.jsx(sf.ItemSlot,{scope:t,value:n,disabled:o,textValue:v,children:i.jsx(at.div,{role:"option","aria-labelledby":j,"data-highlighted":w?"":void 0,"aria-selected":m&&w,"data-state":m?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...u,ref:P,onFocus:st(u.onFocus,()=>k(!0)),onBlur:st(u.onBlur,()=>k(!1)),onClick:st(u.onClick,()=>{T.current!=="mouse"&&M()}),onPointerUp:st(u.onPointerUp,()=>{T.current==="mouse"&&M()}),onPointerDown:st(u.onPointerDown,B=>{T.current=B.pointerType}),onPointerMove:st(u.onPointerMove,B=>{T.current=B.pointerType,o?p.onItemLeave?.():T.current==="mouse"&&B.currentTarget.focus({preventScroll:!0})}),onPointerLeave:st(u.onPointerLeave,B=>{B.currentTarget===document.activeElement&&p.onItemLeave?.()}),onKeyDown:st(u.onKeyDown,B=>{p.searchRef?.current!==""&&B.key===" "||(CM.includes(B.key)&&M(),B.key===" "&&B.preventDefault())})})})})});LN.displayName=_h;var _c="SelectItemText",VN=N.forwardRef((r,e)=>{const{__scopeSelect:t,className:n,style:o,...l}=r,u=uo(_c,t),h=ho(_c,t),p=ON(_c,t),m=PM(_c,t),[v,x]=N.useState(null),w=Ot(e,M=>x(M),p.onItemTextChange,M=>h.itemTextRefCallback?.(M,p.value,p.disabled)),k=v?.textContent,P=N.useMemo(()=>i.jsx("option",{value:p.value,disabled:p.disabled,children:k},p.value),[p.disabled,p.value,k]),{onNativeOptionAdd:j,onNativeOptionRemove:T}=m;return Xt(()=>(j(P),()=>T(P)),[j,T,P]),i.jsxs(i.Fragment,{children:[i.jsx(at.span,{id:p.textId,...l,ref:w}),p.isSelected&&u.valueNode&&!u.valueNodeHasChildren?qc.createPortal(l.children,u.valueNode):null]})});VN.displayName=_c;var $N="SelectItemIndicator",FN=N.forwardRef((r,e)=>{const{__scopeSelect:t,...n}=r;return ON($N,t).isSelected?i.jsx(at.span,{"aria-hidden":!0,...n,ref:e}):null});FN.displayName=$N;var Qm="SelectScrollUpButton",UN=N.forwardRef((r,e)=>{const t=ho(Qm,r.__scopeSelect),n=wx(Qm,r.__scopeSelect),[o,l]=N.useState(!1),u=Ot(e,n.onScrollButtonChange);return Xt(()=>{if(t.viewport&&t.isPositioned){let h=function(){const m=p.scrollTop>0;l(m)};const p=t.viewport;return h(),p.addEventListener("scroll",h),()=>p.removeEventListener("scroll",h)}},[t.viewport,t.isPositioned]),o?i.jsx(zN,{...r,ref:u,onAutoScroll:()=>{const{viewport:h,selectedItem:p}=t;h&&p&&(h.scrollTop=h.scrollTop-p.offsetHeight)}}):null});UN.displayName=Qm;var Xm="SelectScrollDownButton",BN=N.forwardRef((r,e)=>{const t=ho(Xm,r.__scopeSelect),n=wx(Xm,r.__scopeSelect),[o,l]=N.useState(!1),u=Ot(e,n.onScrollButtonChange);return Xt(()=>{if(t.viewport&&t.isPositioned){let h=function(){const m=p.scrollHeight-p.clientHeight,v=Math.ceil(p.scrollTop)<m;l(v)};const p=t.viewport;return h(),p.addEventListener("scroll",h),()=>p.removeEventListener("scroll",h)}},[t.viewport,t.isPositioned]),o?i.jsx(zN,{...r,ref:u,onAutoScroll:()=>{const{viewport:h,selectedItem:p}=t;h&&p&&(h.scrollTop=h.scrollTop+p.offsetHeight)}}):null});BN.displayName=Xm;var zN=N.forwardRef((r,e)=>{const{__scopeSelect:t,onAutoScroll:n,...o}=r,l=ho("SelectScrollButton",t),u=N.useRef(null),h=of(t),p=N.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return N.useEffect(()=>()=>p(),[p]),Xt(()=>{h().find(v=>v.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[h]),i.jsx(at.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:st(o.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(n,50))}),onPointerMove:st(o.onPointerMove,()=>{l.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(n,50))}),onPointerLeave:st(o.onPointerLeave,()=>{p()})})}),qM="SelectSeparator",GM=N.forwardRef((r,e)=>{const{__scopeSelect:t,...n}=r;return i.jsx(at.div,{"aria-hidden":!0,...n,ref:e})});GM.displayName=qM;var Jm="SelectArrow",KM=N.forwardRef((r,e)=>{const{__scopeSelect:t,...n}=r,o=af(t),l=uo(Jm,t),u=ho(Jm,t);return l.open&&u.position==="popper"?i.jsx(CD,{...o,...n,ref:e}):null});KM.displayName=Jm;var YM="SelectBubbleInput",HN=N.forwardRef(({__scopeSelect:r,value:e,...t},n)=>{const o=N.useRef(null),l=Ot(n,o),u=dN(e);return N.useEffect(()=>{const h=o.current;if(!h)return;const p=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(p,"value").set;if(u!==e&&v){const x=new Event("change",{bubbles:!0});v.call(h,e),h.dispatchEvent(x)}},[u,e]),i.jsx(at.select,{...t,style:{...hN,...t.style},ref:l,defaultValue:e})});HN.displayName=YM;function WN(r){return r===""||r===void 0}function qN(r){const e=ri(r),t=N.useRef(""),n=N.useRef(0),o=N.useCallback(u=>{const h=t.current+u;e(h),(function p(m){t.current=m,window.clearTimeout(n.current),m!==""&&(n.current=window.setTimeout(()=>p(""),1e3))})(h)},[e]),l=N.useCallback(()=>{t.current="",window.clearTimeout(n.current)},[]);return N.useEffect(()=>()=>window.clearTimeout(n.current),[]),[t,o,l]}function GN(r,e,t){const o=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,l=t?r.indexOf(t):-1;let u=QM(r,Math.max(l,0));o.length===1&&(u=u.filter(m=>m!==t));const p=u.find(m=>m.textValue.toLowerCase().startsWith(o.toLowerCase()));return p!==t?p:void 0}function QM(r,e){return r.map((t,n)=>r[(e+n)%r.length])}var XM=_N,JM=EN,ZM=SN,e9=kN,t9=TN,r9=CN,n9=PN,s9=LN,i9=VN,o9=FN,a9=UN,l9=BN;function KN({...r}){return i.jsx(XM,{"data-slot":"select",...r})}function YN({...r}){return i.jsx(ZM,{"data-slot":"select-value",...r})}function QN({className:r,size:e="default",children:t,...n}){return i.jsxs(JM,{"data-slot":"select-trigger","data-size":e,className:Qt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...n,children:[t,i.jsx(e9,{asChild:!0,children:i.jsx(rg,{className:"size-4 opacity-50"})})]})}function XN({className:r,children:e,position:t="popper",...n}){return i.jsx(t9,{children:i.jsxs(r9,{"data-slot":"select-content",className:Qt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:t,...n,children:[i.jsx(c9,{}),i.jsx(n9,{className:Qt("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),i.jsx(u9,{})]})})}function Nc({className:r,children:e,...t}){return i.jsxs(s9,{"data-slot":"select-item",className:Qt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",r),...t,children:[i.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:i.jsx(o9,{children:i.jsx(_w,{className:"size-4"})})}),i.jsx(i9,{children:e})]})}function c9({className:r,...e}){return i.jsx(a9,{"data-slot":"select-scroll-up-button",className:Qt("flex cursor-default items-center justify-center py-1",r),...e,children:i.jsx(Nw,{className:"size-4"})})}function u9({className:r,...e}){return i.jsx(l9,{"data-slot":"select-scroll-down-button",className:Qt("flex cursor-default items-center justify-center py-1",r),...e,children:i.jsx(rg,{className:"size-4"})})}var d9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],h9=d9.reduce((r,e)=>{const t=og(`Primitive.${e}`),n=N.forwardRef((o,l)=>{const{asChild:u,...h}=o,p=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(p,{...h,ref:l})});return n.displayName=`Primitive.${e}`,{...r,[e]:n}},{}),f9="Label",JN=N.forwardRef((r,e)=>i.jsx(h9.label,{...r,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(r.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));JN.displayName=f9;var p9=JN;function Ar({className:r,...e}){return i.jsx(p9,{"data-slot":"label",className:Qt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...e})}function m9(r){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}const g9=r=>{switch(r){case"success":return y9;case"info":return w9;case"warning":return b9;case"error":return _9;default:return null}},x9=Array(12).fill(0),v9=({visible:r,className:e})=>me.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":r},me.createElement("div",{className:"sonner-spinner"},x9.map((t,n)=>me.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),y9=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),b9=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),w9=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),_9=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},me.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),N9=me.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},me.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),me.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),E9=()=>{const[r,e]=me.useState(document.hidden);return me.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),r};let Zm=1;class j9{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:n,...o}=e,l=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Zm++,u=this.toasts.find(p=>p.id===l),h=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),u?this.toasts=this.toasts.map(p=>p.id===l?(this.publish({...p,...e,id:l,title:n}),{...p,...e,id:l,dismissible:h,title:n}):p):this.addToast({title:n,...o,dismissible:h,id:l}),l},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const o=Promise.resolve(e instanceof Function?e():e);let l=n!==void 0,u;const h=o.then(async m=>{if(u=["resolve",m],me.isValidElement(m))l=!1,this.create({id:n,type:"default",message:m});else if(k9(m)&&!m.ok){l=!1;const x=typeof t.error=="function"?await t.error(`HTTP error! status: ${m.status}`):t.error,w=typeof t.description=="function"?await t.description(`HTTP error! status: ${m.status}`):t.description,P=typeof x=="object"&&!me.isValidElement(x)?x:{message:x};this.create({id:n,type:"error",description:w,...P})}else if(m instanceof Error){l=!1;const x=typeof t.error=="function"?await t.error(m):t.error,w=typeof t.description=="function"?await t.description(m):t.description,P=typeof x=="object"&&!me.isValidElement(x)?x:{message:x};this.create({id:n,type:"error",description:w,...P})}else if(t.success!==void 0){l=!1;const x=typeof t.success=="function"?await t.success(m):t.success,w=typeof t.description=="function"?await t.description(m):t.description,P=typeof x=="object"&&!me.isValidElement(x)?x:{message:x};this.create({id:n,type:"success",description:w,...P})}}).catch(async m=>{if(u=["reject",m],t.error!==void 0){l=!1;const v=typeof t.error=="function"?await t.error(m):t.error,x=typeof t.description=="function"?await t.description(m):t.description,k=typeof v=="object"&&!me.isValidElement(v)?v:{message:v};this.create({id:n,type:"error",description:x,...k})}}).finally(()=>{l&&(this.dismiss(n),n=void 0),t.finally==null||t.finally.call(t)}),p=()=>new Promise((m,v)=>h.then(()=>u[0]==="reject"?v(u[1]):m(u[1])).catch(v));return typeof n!="string"&&typeof n!="number"?{unwrap:p}:Object.assign(n,{unwrap:p})},this.custom=(e,t)=>{const n=t?.id||Zm++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Ur=new j9,S9=(r,e)=>{const t=e?.id||Zm++;return Ur.addToast({title:r,...e,id:t}),t},k9=r=>r&&typeof r=="object"&&"ok"in r&&typeof r.ok=="boolean"&&"status"in r&&typeof r.status=="number",T9=S9,C9=()=>Ur.toasts,I9=()=>Ur.getActiveToasts(),nt=Object.assign(T9,{success:Ur.success,info:Ur.info,warning:Ur.warning,error:Ur.error,custom:Ur.custom,message:Ur.message,promise:Ur.promise,dismiss:Ur.dismiss,loading:Ur.loading},{getHistory:C9,getToasts:I9});m9("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Id(r){return r.label!==void 0}const A9=3,R9="24px",P9="16px",aw=4e3,D9=356,M9=14,O9=45,L9=200;function gs(...r){return r.filter(Boolean).join(" ")}function V9(r){const[e,t]=r.split("-"),n=[];return e&&n.push(e),t&&n.push(t),n}const $9=r=>{var e,t,n,o,l,u,h,p,m;const{invert:v,toast:x,unstyled:w,interacting:k,setHeights:P,visibleToasts:j,heights:T,index:M,toasts:B,expanded:F,removeToast:$,defaultRichColors:z,closeButton:J,style:A,cancelButtonStyle:E,actionButtonStyle:C,className:O="",descriptionClassName:L="",duration:D,position:R,gap:ge,expandByDefault:le,classNames:Z,icons:re,closeButtonAriaLabel:q="Close toast"}=r,[de,ae]=me.useState(null),[H,te]=me.useState(null),[ee,ie]=me.useState(!1),[xe,_e]=me.useState(!1),[oe,fe]=me.useState(!1),[Ae,Pe]=me.useState(!1),[ze,He]=me.useState(!1),[pt,Lt]=me.useState(0),[cn,Sr]=me.useState(0),ye=me.useRef(x.duration||D||aw),Ke=me.useRef(null),We=me.useRef(null),lt=M===0,Zt=M+1<=j,ct=x.type,mr=x.dismissible!==!1,or=x.className||"",qr=x.descriptionClassName||"",Jn=me.useMemo(()=>T.findIndex(Oe=>Oe.toastId===x.id)||0,[T,x.id]),di=me.useMemo(()=>{var Oe;return(Oe=x.closeButton)!=null?Oe:J},[x.closeButton,J]),kn=me.useMemo(()=>x.duration||D||aw,[x.duration,D]),hi=me.useRef(0),Pr=me.useRef(0),Tn=me.useRef(0),Cn=me.useRef(null),[Zn,fi]=R.split("-"),pi=me.useMemo(()=>T.reduce((Oe,ut,Rt)=>Rt>=Jn?Oe:Oe+ut.height,0),[T,Jn]),Dr=E9(),mi=x.invert||v,un=ct==="loading";Pr.current=me.useMemo(()=>Jn*ge+pi,[Jn,pi]),me.useEffect(()=>{ye.current=kn},[kn]),me.useEffect(()=>{ie(!0)},[]),me.useEffect(()=>{const Oe=We.current;if(Oe){const ut=Oe.getBoundingClientRect().height;return Sr(ut),P(Rt=>[{toastId:x.id,height:ut,position:x.position},...Rt]),()=>P(Rt=>Rt.filter(er=>er.toastId!==x.id))}},[P,x.id]),me.useLayoutEffect(()=>{if(!ee)return;const Oe=We.current,ut=Oe.style.height;Oe.style.height="auto";const Rt=Oe.getBoundingClientRect().height;Oe.style.height=ut,Sr(Rt),P(er=>er.find(kt=>kt.toastId===x.id)?er.map(kt=>kt.toastId===x.id?{...kt,height:Rt}:kt):[{toastId:x.id,height:Rt,position:x.position},...er])},[ee,x.title,x.description,P,x.id,x.jsx,x.action,x.cancel]);const kr=me.useCallback(()=>{_e(!0),Lt(Pr.current),P(Oe=>Oe.filter(ut=>ut.toastId!==x.id)),setTimeout(()=>{$(x)},L9)},[x,$,P,Pr]);me.useEffect(()=>{if(x.promise&&ct==="loading"||x.duration===1/0||x.type==="loading")return;let Oe;return F||k||Dr?(()=>{if(Tn.current<hi.current){const er=new Date().getTime()-hi.current;ye.current=ye.current-er}Tn.current=new Date().getTime()})():(()=>{ye.current!==1/0&&(hi.current=new Date().getTime(),Oe=setTimeout(()=>{x.onAutoClose==null||x.onAutoClose.call(x,x),kr()},ye.current))})(),()=>clearTimeout(Oe)},[F,k,x,ct,Dr,kr]),me.useEffect(()=>{x.delete&&(kr(),x.onDismiss==null||x.onDismiss.call(x,x))},[kr,x.delete]);function In(){var Oe;if(re?.loading){var ut;return me.createElement("div",{className:gs(Z?.loader,x==null||(ut=x.classNames)==null?void 0:ut.loader,"sonner-loader"),"data-visible":ct==="loading"},re.loading)}return me.createElement(v9,{className:gs(Z?.loader,x==null||(Oe=x.classNames)==null?void 0:Oe.loader),visible:ct==="loading"})}const An=x.icon||re?.[ct]||g9(ct);var mt,gi;return me.createElement("li",{tabIndex:0,ref:We,className:gs(O,or,Z?.toast,x==null||(e=x.classNames)==null?void 0:e.toast,Z?.default,Z?.[ct],x==null||(t=x.classNames)==null?void 0:t[ct]),"data-sonner-toast":"","data-rich-colors":(mt=x.richColors)!=null?mt:z,"data-styled":!(x.jsx||x.unstyled||w),"data-mounted":ee,"data-promise":!!x.promise,"data-swiped":ze,"data-removed":xe,"data-visible":Zt,"data-y-position":Zn,"data-x-position":fi,"data-index":M,"data-front":lt,"data-swiping":oe,"data-dismissible":mr,"data-type":ct,"data-invert":mi,"data-swipe-out":Ae,"data-swipe-direction":H,"data-expanded":!!(F||le&&ee),"data-testid":x.testId,style:{"--index":M,"--toasts-before":M,"--z-index":B.length-M,"--offset":`${xe?pt:Pr.current}px`,"--initial-height":le?"auto":`${cn}px`,...A,...x.style},onDragEnd:()=>{fe(!1),ae(null),Cn.current=null},onPointerDown:Oe=>{Oe.button!==2&&(un||!mr||(Ke.current=new Date,Lt(Pr.current),Oe.target.setPointerCapture(Oe.pointerId),Oe.target.tagName!=="BUTTON"&&(fe(!0),Cn.current={x:Oe.clientX,y:Oe.clientY})))},onPointerUp:()=>{var Oe,ut,Rt;if(Ae||!mr)return;Cn.current=null;const er=Number(((Oe=We.current)==null?void 0:Oe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Tr=Number(((ut=We.current)==null?void 0:ut.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),kt=new Date().getTime()-((Rt=Ke.current)==null?void 0:Rt.getTime()),Vt=de==="x"?er:Tr,Gr=Math.abs(Vt)/kt;if(Math.abs(Vt)>=O9||Gr>.11){Lt(Pr.current),x.onDismiss==null||x.onDismiss.call(x,x),te(de==="x"?er>0?"right":"left":Tr>0?"down":"up"),kr(),Pe(!0);return}else{var $t,gr;($t=We.current)==null||$t.style.setProperty("--swipe-amount-x","0px"),(gr=We.current)==null||gr.style.setProperty("--swipe-amount-y","0px")}He(!1),fe(!1),ae(null)},onPointerMove:Oe=>{var ut,Rt,er;if(!Cn.current||!mr||((ut=window.getSelection())==null?void 0:ut.toString().length)>0)return;const kt=Oe.clientY-Cn.current.y,Vt=Oe.clientX-Cn.current.x;var Gr;const $t=(Gr=r.swipeDirections)!=null?Gr:V9(R);!de&&(Math.abs(Vt)>1||Math.abs(kt)>1)&&ae(Math.abs(Vt)>Math.abs(kt)?"x":"y");let gr={x:0,y:0};const dn=tr=>1/(1.5+Math.abs(tr)/20);if(de==="y"){if($t.includes("top")||$t.includes("bottom"))if($t.includes("top")&&kt<0||$t.includes("bottom")&&kt>0)gr.y=kt;else{const tr=kt*dn(kt);gr.y=Math.abs(tr)<Math.abs(kt)?tr:kt}}else if(de==="x"&&($t.includes("left")||$t.includes("right")))if($t.includes("left")&&Vt<0||$t.includes("right")&&Vt>0)gr.x=Vt;else{const tr=Vt*dn(Vt);gr.x=Math.abs(tr)<Math.abs(Vt)?tr:Vt}(Math.abs(gr.x)>0||Math.abs(gr.y)>0)&&He(!0),(Rt=We.current)==null||Rt.style.setProperty("--swipe-amount-x",`${gr.x}px`),(er=We.current)==null||er.style.setProperty("--swipe-amount-y",`${gr.y}px`)}},di&&!x.jsx&&ct!=="loading"?me.createElement("button",{"aria-label":q,"data-disabled":un,"data-close-button":!0,onClick:un||!mr?()=>{}:()=>{kr(),x.onDismiss==null||x.onDismiss.call(x,x)},className:gs(Z?.closeButton,x==null||(n=x.classNames)==null?void 0:n.closeButton)},(gi=re?.close)!=null?gi:N9):null,(ct||x.icon||x.promise)&&x.icon!==null&&(re?.[ct]!==null||x.icon)?me.createElement("div",{"data-icon":"",className:gs(Z?.icon,x==null||(o=x.classNames)==null?void 0:o.icon)},x.promise||x.type==="loading"&&!x.icon?x.icon||In():null,x.type!=="loading"?An:null):null,me.createElement("div",{"data-content":"",className:gs(Z?.content,x==null||(l=x.classNames)==null?void 0:l.content)},me.createElement("div",{"data-title":"",className:gs(Z?.title,x==null||(u=x.classNames)==null?void 0:u.title)},x.jsx?x.jsx:typeof x.title=="function"?x.title():x.title),x.description?me.createElement("div",{"data-description":"",className:gs(L,qr,Z?.description,x==null||(h=x.classNames)==null?void 0:h.description)},typeof x.description=="function"?x.description():x.description):null),me.isValidElement(x.cancel)?x.cancel:x.cancel&&Id(x.cancel)?me.createElement("button",{"data-button":!0,"data-cancel":!0,style:x.cancelButtonStyle||E,onClick:Oe=>{Id(x.cancel)&&mr&&(x.cancel.onClick==null||x.cancel.onClick.call(x.cancel,Oe),kr())},className:gs(Z?.cancelButton,x==null||(p=x.classNames)==null?void 0:p.cancelButton)},x.cancel.label):null,me.isValidElement(x.action)?x.action:x.action&&Id(x.action)?me.createElement("button",{"data-button":!0,"data-action":!0,style:x.actionButtonStyle||C,onClick:Oe=>{Id(x.action)&&(x.action.onClick==null||x.action.onClick.call(x.action,Oe),!Oe.defaultPrevented&&kr())},className:gs(Z?.actionButton,x==null||(m=x.classNames)==null?void 0:m.actionButton)},x.action.label):null)};function lw(){if(typeof window>"u"||typeof document>"u")return"ltr";const r=document.documentElement.getAttribute("dir");return r==="auto"||!r?window.getComputedStyle(document.documentElement).direction:r}function F9(r,e){const t={};return[r,e].forEach((n,o)=>{const l=o===1,u=l?"--mobile-offset":"--offset",h=l?P9:R9;function p(m){["top","right","bottom","left"].forEach(v=>{t[`${u}-${v}`]=typeof m=="number"?`${m}px`:m})}typeof n=="number"||typeof n=="string"?p(n):typeof n=="object"?["top","right","bottom","left"].forEach(m=>{n[m]===void 0?t[`${u}-${m}`]=h:t[`${u}-${m}`]=typeof n[m]=="number"?`${n[m]}px`:n[m]}):p(h)}),t}const U9=me.forwardRef(function(e,t){const{id:n,invert:o,position:l="bottom-right",hotkey:u=["altKey","KeyT"],expand:h,closeButton:p,className:m,offset:v,mobileOffset:x,theme:w="light",richColors:k,duration:P,style:j,visibleToasts:T=A9,toastOptions:M,dir:B=lw(),gap:F=M9,icons:$,containerAriaLabel:z="Notifications"}=e,[J,A]=me.useState([]),E=me.useMemo(()=>n?J.filter(ee=>ee.toasterId===n):J.filter(ee=>!ee.toasterId),[J,n]),C=me.useMemo(()=>Array.from(new Set([l].concat(E.filter(ee=>ee.position).map(ee=>ee.position)))),[E,l]),[O,L]=me.useState([]),[D,R]=me.useState(!1),[ge,le]=me.useState(!1),[Z,re]=me.useState(w!=="system"?w:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=me.useRef(null),de=u.join("+").replace(/Key/g,"").replace(/Digit/g,""),ae=me.useRef(null),H=me.useRef(!1),te=me.useCallback(ee=>{A(ie=>{var xe;return(xe=ie.find(_e=>_e.id===ee.id))!=null&&xe.delete||Ur.dismiss(ee.id),ie.filter(({id:_e})=>_e!==ee.id)})},[]);return me.useEffect(()=>Ur.subscribe(ee=>{if(ee.dismiss){requestAnimationFrame(()=>{A(ie=>ie.map(xe=>xe.id===ee.id?{...xe,delete:!0}:xe))});return}setTimeout(()=>{Qw.flushSync(()=>{A(ie=>{const xe=ie.findIndex(_e=>_e.id===ee.id);return xe!==-1?[...ie.slice(0,xe),{...ie[xe],...ee},...ie.slice(xe+1)]:[ee,...ie]})})})}),[J]),me.useEffect(()=>{if(w!=="system"){re(w);return}if(w==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?re("dark"):re("light")),typeof window>"u")return;const ee=window.matchMedia("(prefers-color-scheme: dark)");try{ee.addEventListener("change",({matches:ie})=>{re(ie?"dark":"light")})}catch{ee.addListener(({matches:xe})=>{try{re(xe?"dark":"light")}catch(_e){console.error(_e)}})}},[w]),me.useEffect(()=>{J.length<=1&&R(!1)},[J]),me.useEffect(()=>{const ee=ie=>{var xe;if(u.every(fe=>ie[fe]||ie.code===fe)){var oe;R(!0),(oe=q.current)==null||oe.focus()}ie.code==="Escape"&&(document.activeElement===q.current||(xe=q.current)!=null&&xe.contains(document.activeElement))&&R(!1)};return document.addEventListener("keydown",ee),()=>document.removeEventListener("keydown",ee)},[u]),me.useEffect(()=>{if(q.current)return()=>{ae.current&&(ae.current.focus({preventScroll:!0}),ae.current=null,H.current=!1)}},[q.current]),me.createElement("section",{ref:t,"aria-label":`${z} ${de}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((ee,ie)=>{var xe;const[_e,oe]=ee.split("-");return E.length?me.createElement("ol",{key:ee,dir:B==="auto"?lw():B,tabIndex:-1,ref:q,className:m,"data-sonner-toaster":!0,"data-sonner-theme":Z,"data-y-position":_e,"data-x-position":oe,style:{"--front-toast-height":`${((xe=O[0])==null?void 0:xe.height)||0}px`,"--width":`${D9}px`,"--gap":`${F}px`,...j,...F9(v,x)},onBlur:fe=>{H.current&&!fe.currentTarget.contains(fe.relatedTarget)&&(H.current=!1,ae.current&&(ae.current.focus({preventScroll:!0}),ae.current=null))},onFocus:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||H.current||(H.current=!0,ae.current=fe.relatedTarget)},onMouseEnter:()=>R(!0),onMouseMove:()=>R(!0),onMouseLeave:()=>{ge||R(!1)},onDragEnd:()=>R(!1),onPointerDown:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||le(!0)},onPointerUp:()=>le(!1)},E.filter(fe=>!fe.position&&ie===0||fe.position===ee).map((fe,Ae)=>{var Pe,ze;return me.createElement($9,{key:fe.id,icons:$,index:Ae,toast:fe,defaultRichColors:k,duration:(Pe=M?.duration)!=null?Pe:P,className:M?.className,descriptionClassName:M?.descriptionClassName,invert:o,visibleToasts:T,closeButton:(ze=M?.closeButton)!=null?ze:p,interacting:ge,position:ee,style:M?.style,unstyled:M?.unstyled,classNames:M?.classNames,cancelButtonStyle:M?.cancelButtonStyle,actionButtonStyle:M?.actionButtonStyle,closeButtonAriaLabel:M?.closeButtonAriaLabel,removeToast:te,toasts:E.filter(He=>He.position==fe.position),heights:O.filter(He=>He.position==fe.position),setHeights:L,expandByDefault:h,gap:F,expanded:D,swipeDirections:e.swipeDirections})})):null}))});async function el({userId:r,title:e,message:t,type:n,relatedItemId:o,metadata:l={}}){if(!r)throw new Error(" sendNotification: userId is required");const u=yl(It,"users",r,"notifications");await k_(u,{title:e,message:t,type:n,relatedItemId:o||null,metadata:l||{},createdAt:I_(),unread:!0}),console.log(` Notification sent to ${r}`)}const B9=["Textbook","Furniture","Apparel","Electronics","Sports","Dorm","Vintage","Audio"],cw=[{id:1,name:"Main Library Lobby",hours:"24/7",verified:!0},{id:2,name:"Student Union Entrance",hours:"6am - 11pm",verified:!0},{id:3,name:"Campus Coffee Shop",hours:"7am - 9pm",verified:!0},{id:4,name:"Recreation Center Lobby",hours:"5am - 11pm",verified:!0},{id:5,name:"Dining Hall Commons",hours:"7am - 10pm",verified:!0}];function z9({navigateTo:r,onPublish:e,prefilledCircle:t,customTags:n=[],onAddCustomTag:o}){const{darkMode:l}=St(),[u,h]=N.useState([]),[p,m]=N.useState(""),[v,x]=N.useState(""),[w,k]=N.useState(""),[P,j]=N.useState([]),[T,M]=N.useState(""),[B,F]=N.useState(15),[$,z]=N.useState(null),[J,A]=N.useState(null),[E,C]=N.useState(""),[O,L]=N.useState(""),[D,R]=N.useState(""),[ge,le]=N.useState(""),[Z,re]=N.useState(t||null),[q,de]=N.useState(""),[ae,H]=N.useState(""),[te,ee]=N.useState(""),[ie,xe]=N.useState(""),[_e,oe]=N.useState(!1),fe=[...B9,...n],Ae=[{id:"lunch",label:"12:00 PM  2:00 PM"},{id:"afternoon",label:"3:00 PM  5:00 PM"},{id:"evening",label:"5:00 PM  7:00 PM"}],Pe=()=>{const ye={id:Date.now(),url:`https://images.unsplash.com/photo-${15e11+Math.floor(Math.random()*1e8)}?w=400&h=400&fit=crop`};h([...u,ye])},ze=ye=>{h(u.filter(Ke=>Ke.id!==ye))},He=ye=>{P.includes(ye)?j(P.filter(Ke=>Ke!==ye)):j([...P,ye])},pt=ye=>{A(ye),C(""),L(""),R(""),le("")},Lt=ye=>{ye&&A(null);let Ke=ye.replace(/[^\d:APMapm\s]/g,"");Ke.length===2&&!Ke.includes(":")&&(Ke+=":"),C(Ke),Ke&&!/^(0?[1-9]|1[0-2]):[0-5][0-9]\s?(AM|PM|am|pm)$/.test(Ke)?R("Format: HH:MM AM/PM (e.g., 2:30 PM)"):R("")},cn=ye=>{ye&&A(null);let Ke=ye.replace(/[^\d/]/g,"");(Ke.length===2&&!Ke.includes("/")||Ke.length===5&&Ke.split("/").length===2)&&(Ke+="/");const We=Ke.split("/");if(We[2]&&We[2].length>4){le("Year must be 4 digits");return}if(L(Ke),Ke&&/^(0?[1-9]|1[0-2])\/(0?[1-9]|[12][0-9]|3[01])\/\d{4}$/.test(Ke)){const[Zt,ct,mr]=Ke.split("/").map(Number),or=new Date(mr,Zt-1,ct),qr=new Date;qr.setHours(0,0,0,0),or<qr?le("Cannot select past dates"):le("")}else Ke.length>=8?le("Format: MM/DD/YYYY (e.g., 12/25/2024)"):le("")},Sr=async()=>{if(oe(!0),u.length===0){nt.error("Please add at least one photo");return}if(!p||p.length<3){de("Title must be at least 3 characters");return}if(!v||v.length<10){H("Description must be at least 10 characters");return}if(!w){nt.error("Please select item condition");return}if(!$){xe("Please select a meeting spot");return}if(!J&&(!E||!O)){nt.error("Please select a time or enter custom time/date");return}if(D||ge){nt.error("Please fix time/date errors");return}try{const ye=Nn.currentUser;if(!ye){nt.error("You must be logged in to create a listing.");return}const Ke=fr(It,"users",ye.uid),We=await su(Ke);let lt={trustScore:0,trades:0};if(We.exists()){const or=We.data();lt={trustScore:or.trustScore??0,trades:or.trades??0}}const Zt={title:p,description:v,condition:w,tags:P,credits:B,images:u.map(or=>or.url),meetingSpot:cw.find(or=>or.id===$)?.name,meetingTime:J?Ae.find(or=>or.id===J)?.label:`${E}, ${O}`,seller:{id:ye.uid,name:ye.displayName||ye.email||"Anonymous",rating:lt.trustScore,trades:lt.trades},createdAt:I_(),isBarter:!1,status:!0,time:"Just now"},ct=await k_(yl(It,"listings"),Zt);await Yi(ct,{id:ct.id});const mr=fr(It,"users",ye.uid);await Yi(mr,{myListings:VP(ct.id)}),console.log(" Created listing with ID:",ct.id),await el({userId:ye.uid,title:"Your listing is live!",message:`You posted "${p}" successfully.`,type:"listing"}),e({...Zt,id:ct.id}),nt.success(" Listing published successfully!"),r("home")}catch(ye){console.error(" Error publishing listing:",ye),nt.error("Failed to publish listing.")}};return i.jsxs("div",{className:`min-h-screen ${l?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"}`,children:[i.jsx("div",{className:`sticky top-0 z-20 backdrop-blur-xl ${l?"bg-black/70 border-white/10":"bg-white/10 border-white/30"} border-b`,children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>r("home"),className:`p-2 rounded-full ${l?"hover:bg-white/10":"hover:bg-white/50"} transition-colors`,children:i.jsx(bt,{className:`w-6 h-6 ${l?"text-white":"text-[#222]"}`})}),i.jsx("h2",{className:`font-semibold text-xl ${l?"text-purple-400":"text-[#9333ea]"}`,children:"Create Listing"})]}),i.jsx("button",{onClick:Sr,className:"px-4 py-2 rounded-full bg-gradient-to-r from-purple-500 to-purple-600 text-white font-medium hover:shadow-lg transition-all",children:"Publish"})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6 pb-32",children:[i.jsxs("div",{className:`backdrop-blur-xl ${l?"bg-white/10 border-white/20":"bg-white/60 border-white/60"} rounded-3xl border p-4`,children:[i.jsxs("h3",{className:`font-semibold mb-3 flex items-center gap-2 ${l?"text-white":"text-[#222]"}`,children:[i.jsx(vS,{className:"w-5 h-5 text-purple-600"}),"Photos"]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[u.map(ye=>i.jsxs("div",{className:"relative aspect-square",children:[i.jsx("img",{src:ye.url,alt:"Product",className:"w-full h-full object-cover rounded-xl"}),i.jsx("button",{onClick:()=>ze(ye.id),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 rounded-full flex items-center justify-center shadow-lg",children:i.jsx(Sn,{className:"w-4 h-4 text-white"})})]},ye.id)),u.length<6&&i.jsxs("button",{onClick:Pe,className:"aspect-square border-2 border-dashed border-purple-300 rounded-xl flex flex-col items-center justify-center gap-1 hover:border-purple-500 hover:bg-purple-50/50 transition-colors",children:[i.jsx(Zs,{className:"w-6 h-6 text-purple-600"}),i.jsx("span",{className:"text-xs text-purple-600",children:"Random"})]})]}),u.length<6&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ct,{type:"text",placeholder:"Enter image URL (e.g. https://...)",id:"imageUrlInput",className:"flex-1"}),i.jsx("button",{onClick:()=>{const ye=document.getElementById("imageUrlInput"),Ke=ye.value.trim();if(!Ke){nt.error("Please enter a valid image URL");return}h(We=>[...We,{id:Date.now(),url:Ke}]),ye.value="",nt.success(" Image added from URL")},className:"px-3 py-2 rounded-xl bg-purple-600 text-white hover:bg-purple-700 transition-colors",children:"Add"})]})]}),i.jsxs("div",{className:`backdrop-blur-xl ${l?"bg-white/10 border-white/20":"bg-white/60 border-white/60"} rounded-3xl border p-4 space-y-4`,children:[i.jsx("h3",{className:`font-semibold mb-1 ${l?"text-white":"text-[#222]"}`,children:"Item Details"}),i.jsxs("div",{children:[i.jsx(Ar,{children:"Title"}),i.jsx(Ct,{value:p,onChange:ye=>m(ye.target.value),placeholder:"e.g., Calculus Textbook",className:"mt-1"}),_e&&q&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:q})]}),i.jsxs("div",{children:[i.jsx(Ar,{children:"Description"}),i.jsx(Fc,{value:v,onChange:ye=>x(ye.target.value),placeholder:"Describe your item...",rows:3,className:"mt-1"}),_e&&ae&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:ae})]}),i.jsxs("div",{children:[i.jsx(Ar,{children:"Condition"}),i.jsxs(KN,{value:w,onValueChange:k,children:[i.jsx(QN,{className:"mt-1",children:i.jsx(YN,{placeholder:"Select condition"})}),i.jsxs(XN,{children:[i.jsx(Nc,{value:"new",children:"New"}),i.jsx(Nc,{value:"like-new",children:"Like New"}),i.jsx(Nc,{value:"good",children:"Good"}),i.jsx(Nc,{value:"fair",children:"Fair"})]})]})]}),i.jsxs("div",{children:[i.jsx(Ar,{children:"Tags"}),i.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[fe.map(ye=>i.jsx("button",{onClick:()=>He(ye),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${P.includes(ye)?"bg-purple-600 text-white":"bg-white/80 text-[#555] border border-white/60"}`,children:ye},ye)),o&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ct,{value:T,onChange:ye=>M(ye.target.value),placeholder:"Add new tag",className:"w-24"}),i.jsx("button",{onClick:()=>{T&&!fe.includes(T)&&(o(T),M(""))},className:"px-3 py-1.5 rounded-full text-sm font-medium bg-purple-600 text-white",children:"Add"})]})]}),_e&&te&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:te})]}),i.jsxs("div",{children:[i.jsx(Ar,{children:"Auto-Suggested Credits"}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx(Ct,{type:"number",value:B,onChange:ye=>F(Number(ye.target.value)),className:"w-24"}),i.jsx("span",{className:"text-sm text-[#666]",children:"credits"})]})]})]}),Z&&i.jsxs("div",{className:`backdrop-blur-xl ${l?"bg-white/10 border-white/20":"bg-white/60 border-white/60"} rounded-3xl border p-4`,children:[i.jsx("h3",{className:`font-semibold mb-2 ${l?"text-white":"text-[#222]"}`,children:"Post to Circle"}),i.jsx("div",{className:`${l?"bg-purple-500/20 border-purple-500/40":"bg-purple-100/60 border-purple-200/60"} rounded-2xl border p-3`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:`font-semibold ${l?"text-white":"text-[#222]"}`,children:Z.name}),i.jsx("p",{className:`text-xs ${l?"text-gray-400":"text-[#555]"}`,children:Z.description})]}),i.jsx("button",{onClick:()=>re(null),className:"text-red-500 hover:text-red-600 transition-colors",children:i.jsx(Sn,{className:"w-5 h-5"})})]})})]}),i.jsxs("div",{className:`backdrop-blur-xl ${l?"bg-white/10 border-white/20":"bg-white/60 border-white/60"} rounded-3xl border p-4`,children:[i.jsxs("h3",{className:`font-semibold mb-2 flex items-center gap-2 ${l?"text-white":"text-[#222]"}`,children:[i.jsx(an,{className:"w-5 h-5 text-purple-600"}),"Meeting Spot"]}),i.jsxs("div",{className:"backdrop-blur-xl bg-purple-50/50 border border-purple-200/50 rounded-xl p-3 mb-3 flex items-start gap-2",children:[i.jsx(Hn,{className:"w-4 h-4 text-purple-600 flex-shrink-0 mt-0.5"}),i.jsx("p",{className:"text-purple-700 text-xs",children:"Meet in campus-verified locations for your safety"})]}),i.jsx("div",{className:"space-y-2",children:cw.map(ye=>i.jsxs("button",{onClick:()=>z(ye.id),className:`w-full p-3 rounded-xl border transition-colors text-left ${$===ye.id?"bg-purple-100/50 border-purple-300":"bg-white/80 border-white/60 hover:bg-white"}`,children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"text-sm font-medium text-[#222]",children:ye.name}),ye.verified&&i.jsx("span",{className:"text-[10px] bg-green-500/20 text-green-700 px-2 py-0.5 rounded-full font-medium",children:"Snag Verified Zone"})]}),i.jsx("span",{className:"text-xs text-[#666]",children:ye.hours})]},ye.id))}),_e&&ie&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:ie})]}),i.jsxs("div",{className:`backdrop-blur-xl ${l?"bg-white/10 border-white/20":"bg-white/60 border-white/60"} rounded-3xl border p-4`,children:[i.jsxs("h3",{className:`font-semibold mb-3 flex items-center gap-2 ${l?"text-white":"text-[#222]"}`,children:[i.jsx(Hc,{className:"w-5 h-5 text-purple-600"}),"Preferred Meeting Time"]}),i.jsxs("div",{className:"mb-4",children:[i.jsx(Ar,{className:"text-xs text-[#666]",children:"Recommended Slots"}),i.jsx("div",{className:"space-y-2 mt-2",children:Ae.map(ye=>i.jsx("button",{onClick:()=>pt(ye.id),className:`w-full p-3 rounded-xl border transition-colors text-left ${J===ye.id?"bg-purple-100/50 border-purple-300":"bg-white/80 border-white/60 hover:bg-white"}`,children:i.jsx("span",{className:"text-sm font-medium text-[#222]",children:ye.label})},ye.id))})]}),i.jsxs("div",{className:"flex items-center gap-3 my-4",children:[i.jsx("div",{className:"flex-1 h-px bg-white/60"}),i.jsx("span",{className:"text-xs text-[#666] font-medium",children:"OR"}),i.jsx("div",{className:"flex-1 h-px bg-white/60"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsxs(Ar,{className:"text-xs text-[#666]",children:["Proposed Time ",J&&"(Disabled - slot selected)"]}),i.jsx(Ct,{value:E,onChange:ye=>Lt(ye.target.value),placeholder:"HH:MM AM/PM (e.g., 2:30 PM)",disabled:!!J,className:`mt-1 ${J?"opacity-50 cursor-not-allowed":""}`}),D&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:D})]}),i.jsxs("div",{children:[i.jsxs(Ar,{className:"text-xs text-[#666]",children:["Proposed Date ",J&&"(Disabled - slot selected)"]}),i.jsx(Ct,{value:O,onChange:ye=>cn(ye.target.value),placeholder:"MM/DD/YYYY (e.g., 12/25/2024)",disabled:!!J,className:`mt-1 ${J?"opacity-50 cursor-not-allowed":""}`}),ge&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:ge})]})]})]}),i.jsxs("div",{className:`backdrop-blur-xl ${l?"bg-white/10 border-white/20":"bg-white/60 border-white/60"} rounded-3xl border p-4`,children:[i.jsxs("h3",{className:`font-semibold mb-3 flex items-center gap-2 ${l?"text-white":"text-[#222]"}`,children:[i.jsx(Ho,{className:"w-5 h-5 text-purple-600"}),"Preview"]}),i.jsxs("div",{className:`${l?"bg-white/10 border-white/20":"bg-white/80 border-white/60"} rounded-2xl border overflow-hidden`,children:[u.length>0&&i.jsx("img",{src:u[0].url,alt:"Preview",className:"w-full h-40 object-cover"}),i.jsxs("div",{className:"p-3",children:[i.jsx("h4",{className:`font-semibold mb-1 ${l?"text-white":"text-[#222]"}`,children:p||"Your Title"}),i.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${l?"text-gray-300":"text-[#555]"}`,children:v||"Your description..."}),i.jsxs("div",{className:`flex items-center gap-2 text-xs ${l?"text-gray-400":"text-[#666]"}`,children:[i.jsxs("span",{children:[B," credits"]}),i.jsx("span",{children:""}),i.jsx("span",{children:w||"Condition"})]})]})]})]})]})]})}var um="rovingFocusGroup.onEntryFocus",H9={bubbles:!1,cancelable:!0},au="RovingFocusGroup",[eg,ZN,W9]=M_(au),[q9,eE]=_l(au,[W9]),[G9,K9]=q9(au),tE=N.forwardRef((r,e)=>i.jsx(eg.Provider,{scope:r.__scopeRovingFocusGroup,children:i.jsx(eg.Slot,{scope:r.__scopeRovingFocusGroup,children:i.jsx(Y9,{...r,ref:e})})}));tE.displayName=au;var Y9=N.forwardRef((r,e)=>{const{__scopeRovingFocusGroup:t,orientation:n,loop:o=!1,dir:l,currentTabStopId:u,defaultCurrentTabStopId:h,onCurrentTabStopIdChange:p,onEntryFocus:m,preventScrollOnEntryFocus:v=!1,...x}=r,w=N.useRef(null),k=Ot(e,w),P=hx(l),[j,T]=zc({prop:u,defaultProp:h??null,onChange:p,caller:au}),[M,B]=N.useState(!1),F=ri(m),$=ZN(t),z=N.useRef(!1),[J,A]=N.useState(0);return N.useEffect(()=>{const E=w.current;if(E)return E.addEventListener(um,F),()=>E.removeEventListener(um,F)},[F]),i.jsx(G9,{scope:t,orientation:n,dir:P,loop:o,currentTabStopId:j,onItemFocus:N.useCallback(E=>T(E),[T]),onItemShiftTab:N.useCallback(()=>B(!0),[]),onFocusableItemAdd:N.useCallback(()=>A(E=>E+1),[]),onFocusableItemRemove:N.useCallback(()=>A(E=>E-1),[]),children:i.jsx(at.div,{tabIndex:M||J===0?-1:0,"data-orientation":n,...x,ref:k,style:{outline:"none",...r.style},onMouseDown:st(r.onMouseDown,()=>{z.current=!0}),onFocus:st(r.onFocus,E=>{const C=!z.current;if(E.target===E.currentTarget&&C&&!M){const O=new CustomEvent(um,H9);if(E.currentTarget.dispatchEvent(O),!O.defaultPrevented){const L=$().filter(Z=>Z.focusable),D=L.find(Z=>Z.active),R=L.find(Z=>Z.id===j),le=[D,R,...L].filter(Boolean).map(Z=>Z.ref.current);sE(le,v)}}z.current=!1}),onBlur:st(r.onBlur,()=>B(!1))})})}),rE="RovingFocusGroupItem",nE=N.forwardRef((r,e)=>{const{__scopeRovingFocusGroup:t,focusable:n=!0,active:o=!1,tabStopId:l,children:u,...h}=r,p=iu(),m=l||p,v=K9(rE,t),x=v.currentTabStopId===m,w=ZN(t),{onFocusableItemAdd:k,onFocusableItemRemove:P,currentTabStopId:j}=v;return N.useEffect(()=>{if(n)return k(),()=>P()},[n,k,P]),i.jsx(eg.ItemSlot,{scope:t,id:m,focusable:n,active:o,children:i.jsx(at.span,{tabIndex:x?0:-1,"data-orientation":v.orientation,...h,ref:e,onMouseDown:st(r.onMouseDown,T=>{n?v.onItemFocus(m):T.preventDefault()}),onFocus:st(r.onFocus,()=>v.onItemFocus(m)),onKeyDown:st(r.onKeyDown,T=>{if(T.key==="Tab"&&T.shiftKey){v.onItemShiftTab();return}if(T.target!==T.currentTarget)return;const M=J9(T,v.orientation,v.dir);if(M!==void 0){if(T.metaKey||T.ctrlKey||T.altKey||T.shiftKey)return;T.preventDefault();let F=w().filter($=>$.focusable).map($=>$.ref.current);if(M==="last")F.reverse();else if(M==="prev"||M==="next"){M==="prev"&&F.reverse();const $=F.indexOf(T.currentTarget);F=v.loop?Z9(F,$+1):F.slice($+1)}setTimeout(()=>sE(F))}}),children:typeof u=="function"?u({isCurrentTabStop:x,hasTabStop:j!=null}):u})})});nE.displayName=rE;var Q9={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function X9(r,e){return e!=="rtl"?r:r==="ArrowLeft"?"ArrowRight":r==="ArrowRight"?"ArrowLeft":r}function J9(r,e,t){const n=X9(r.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Q9[n]}function sE(r,e=!1){const t=document.activeElement;for(const n of r)if(n===t||(n.focus({preventScroll:e}),document.activeElement!==t))return}function Z9(r,e){return r.map((t,n)=>r[(e+n)%r.length])}var eO=tE,tO=nE;function rO(r,e){return N.useReducer((t,n)=>e[t][n]??t,r)}var iE=r=>{const{present:e,children:t}=r,n=nO(e),o=typeof t=="function"?t({present:n.isPresent}):N.Children.only(t),l=Ot(n.ref,sO(o));return typeof t=="function"||n.isPresent?N.cloneElement(o,{ref:l}):null};iE.displayName="Presence";function nO(r){const[e,t]=N.useState(),n=N.useRef(null),o=N.useRef(r),l=N.useRef("none"),u=r?"mounted":"unmounted",[h,p]=rO(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const m=Ad(n.current);l.current=h==="mounted"?m:"none"},[h]),Xt(()=>{const m=n.current,v=o.current;if(v!==r){const w=l.current,k=Ad(m);r?p("MOUNT"):k==="none"||m?.display==="none"?p("UNMOUNT"):p(v&&w!==k?"ANIMATION_OUT":"UNMOUNT"),o.current=r}},[r,p]),Xt(()=>{if(e){let m;const v=e.ownerDocument.defaultView??window,x=k=>{const j=Ad(n.current).includes(CSS.escape(k.animationName));if(k.target===e&&j&&(p("ANIMATION_END"),!o.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",m=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},w=k=>{k.target===e&&(l.current=Ad(n.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",x),e.addEventListener("animationend",x),()=>{v.clearTimeout(m),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",x),e.removeEventListener("animationend",x)}}else p("ANIMATION_END")},[e,p]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:N.useCallback(m=>{n.current=m?getComputedStyle(m):null,t(m)},[])}}function Ad(r){return r?.animationName||"none"}function sO(r){let e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}var lf="Tabs",[iO]=_l(lf,[eE]),oE=eE(),[oO,_x]=iO(lf),aE=N.forwardRef((r,e)=>{const{__scopeTabs:t,value:n,onValueChange:o,defaultValue:l,orientation:u="horizontal",dir:h,activationMode:p="automatic",...m}=r,v=hx(h),[x,w]=zc({prop:n,onChange:o,defaultProp:l??"",caller:lf});return i.jsx(oO,{scope:t,baseId:iu(),value:x,onValueChange:w,orientation:u,dir:v,activationMode:p,children:i.jsx(at.div,{dir:v,"data-orientation":u,...m,ref:e})})});aE.displayName=lf;var lE="TabsList",cE=N.forwardRef((r,e)=>{const{__scopeTabs:t,loop:n=!0,...o}=r,l=_x(lE,t),u=oE(t);return i.jsx(eO,{asChild:!0,...u,orientation:l.orientation,dir:l.dir,loop:n,children:i.jsx(at.div,{role:"tablist","aria-orientation":l.orientation,...o,ref:e})})});cE.displayName=lE;var uE="TabsTrigger",dE=N.forwardRef((r,e)=>{const{__scopeTabs:t,value:n,disabled:o=!1,...l}=r,u=_x(uE,t),h=oE(t),p=pE(u.baseId,n),m=mE(u.baseId,n),v=n===u.value;return i.jsx(tO,{asChild:!0,...h,focusable:!o,active:v,children:i.jsx(at.button,{type:"button",role:"tab","aria-selected":v,"aria-controls":m,"data-state":v?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:p,...l,ref:e,onMouseDown:st(r.onMouseDown,x=>{!o&&x.button===0&&x.ctrlKey===!1?u.onValueChange(n):x.preventDefault()}),onKeyDown:st(r.onKeyDown,x=>{[" ","Enter"].includes(x.key)&&u.onValueChange(n)}),onFocus:st(r.onFocus,()=>{const x=u.activationMode!=="manual";!v&&!o&&x&&u.onValueChange(n)})})})});dE.displayName=uE;var hE="TabsContent",fE=N.forwardRef((r,e)=>{const{__scopeTabs:t,value:n,forceMount:o,children:l,...u}=r,h=_x(hE,t),p=pE(h.baseId,n),m=mE(h.baseId,n),v=n===h.value,x=N.useRef(v);return N.useEffect(()=>{const w=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(w)},[]),i.jsx(iE,{present:o||v,children:({present:w})=>i.jsx(at.div,{"data-state":v?"active":"inactive","data-orientation":h.orientation,role:"tabpanel","aria-labelledby":p,hidden:!w,id:m,tabIndex:0,...u,ref:e,style:{...r.style,animationDuration:x.current?"0s":void 0},children:w&&l})})});fE.displayName=hE;function pE(r,e){return`${r}-trigger-${e}`}function mE(r,e){return`${r}-content-${e}`}var aO=aE,lO=cE,cO=dE,uO=fE;function dO({className:r,...e}){return i.jsx(aO,{"data-slot":"tabs",className:Qt("flex flex-col gap-2",r),...e})}function hO({className:r,...e}){return i.jsx(lO,{"data-slot":"tabs-list",className:Qt("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",r),...e})}function uw({className:r,...e}){return i.jsx(cO,{"data-slot":"tabs-trigger",className:Qt("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...e})}function dw({className:r,...e}){return i.jsx(uO,{"data-slot":"tabs-content",className:Qt("flex-1 outline-none",r),...e})}function fO({isOpen:r,onClose:e}){return r?i.jsxs("div",{className:"fixed inset-0 z-50 animate-in fade-in duration-200",children:[i.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:e}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 max-w-md mx-auto animate-in slide-in-from-bottom duration-300",children:i.jsxs("div",{className:"backdrop-blur-2xl bg-white/90 rounded-t-3xl border-t border-x border-white/60 shadow-[0_-8px_32px_rgba(0,0,0,0.12)] p-6 pb-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-[#222] font-semibold",children:"Trust Score"}),i.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(Sn,{className:"w-5 h-5 text-[#555]"})})]}),i.jsx("div",{className:"flex justify-center mb-6",children:i.jsxs("div",{className:"relative",children:[i.jsxs("svg",{className:"w-32 h-32 -rotate-90",children:[i.jsx("circle",{cx:"64",cy:"64",r:"56",fill:"none",stroke:"currentColor",strokeWidth:"8",className:"text-purple-200/60"}),i.jsx("circle",{cx:"64",cy:"64",r:"56",fill:"none",stroke:"url(#gradient)",strokeWidth:"8",strokeLinecap:"round",strokeDasharray:`${2*Math.PI*56*.98} ${2*Math.PI*56*.02}`,className:"transition-all duration-1000"}),i.jsx("defs",{children:i.jsxs("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#a855f7"}),i.jsx("stop",{offset:"100%",stopColor:"#9333ea"})]})})]}),i.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[i.jsx("span",{className:"text-[#222] font-semibold text-3xl",children:"98%"}),i.jsx("span",{className:"text-[#555] text-sm font-medium",children:"Trust Score"})]})]})}),i.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[i.jsxs("div",{className:"backdrop-blur-xl bg-purple-50/60 rounded-2xl p-3 border border-purple-200/40 text-center",children:[i.jsx("div",{className:"text-[#222] font-semibold mb-1",children:"12"}),i.jsx("div",{className:"text-[#555] text-xs font-medium",children:"Trades"})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-purple-50/60 rounded-2xl p-3 border border-purple-200/40 text-center",children:[i.jsx("div",{className:"text-[#222] font-semibold mb-1",children:"12"}),i.jsx("div",{className:"text-[#555] text-xs font-medium",children:"Completed"})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-purple-50/60 rounded-2xl p-3 border border-purple-200/40 text-center",children:[i.jsx("div",{className:"text-[#222] font-semibold mb-1",children:"0"}),i.jsx("div",{className:"text-[#555] text-xs font-medium",children:"Disputed"})]})]}),i.jsxs("div",{className:"space-y-3 mb-6",children:[i.jsx("h3",{className:"text-[#222] font-semibold text-sm",children:"Recent Completions"}),[{title:"Desk Chair",type:"Sold",date:"5 days ago"},{title:"Winter Jacket",type:"Bartered",date:"1 week ago"},{title:"Calculus Textbook",type:"Sold",date:"2 weeks ago"}].map((t,n)=>i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-green-100 to-green-200 flex items-center justify-center flex-shrink-0",children:i.jsx(En,{className:"w-4 h-4 text-green-600"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-[#222] font-medium text-sm",children:t.title}),i.jsxs("p",{className:"text-[#555] text-xs font-light",children:[t.type,"  ",t.date]})]})]},n))]}),i.jsx("div",{className:"backdrop-blur-xl bg-gradient-to-br from-purple-500/10 to-purple-600/10 rounded-2xl p-4 border border-purple-300/40",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Iw,{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium mb-1 text-sm",children:"How to improve trust"}),i.jsxs("ul",{className:"text-[#555] text-sm font-light space-y-1",children:[i.jsx("li",{children:" Complete trades on time"}),i.jsx("li",{children:" Respond to messages quickly"}),i.jsx("li",{children:" Accurate item descriptions"})]})]})]})})]})})]}):null}function pO({isOpen:r,onClose:e,badgeType:t}){if(!r||!t)return null;const o={verified:{title:".edu Verified",icon:pS,color:"from-blue-500 to-blue-600",description:"This user has verified their .edu email address with their campus.",benefits:["Confirmed campus student status","Access to campus-only marketplace","Enhanced trust and credibility"]},trades:{title:"Successful Trades",icon:Hn,color:"from-purple-500 to-purple-600",description:"Awarded for completing multiple successful trades on Snag.",benefits:["Completed 10+ verified transactions","Zero disputes or cancellations","High trust score (95%+)"]}}[t],l=o.icon;return i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 animate-in fade-in duration-200",children:[i.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:e}),i.jsxs("div",{className:"relative max-w-sm w-full backdrop-blur-2xl bg-white/90 rounded-3xl p-6 border border-white/60 shadow-[0_8px_32px_rgba(0,0,0,0.12)] animate-in zoom-in duration-300",children:[i.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(Sn,{className:"w-5 h-5 text-[#555]"})}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:`w-16 h-16 rounded-full bg-gradient-to-br ${o.color} flex items-center justify-center shadow-lg`,children:i.jsx(l,{className:"w-8 h-8 text-white"})})}),i.jsx("h2",{className:"text-[#222] font-semibold text-center mb-2",children:o.title}),i.jsx("p",{className:"text-[#555] text-center mb-6 text-sm",children:o.description}),i.jsxs("div",{className:"backdrop-blur-xl bg-purple-50/60 rounded-2xl p-4 border border-purple-200/40",children:[i.jsx("p",{className:"text-[#222] font-medium mb-3 text-sm",children:"What this means:"}),i.jsx("ul",{className:"space-y-2",children:o.benefits.map((u,h)=>i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-purple-500 flex-shrink-0 mt-1.5"}),i.jsx("span",{className:"text-[#555] text-sm font-light",children:u})]},h))})]}),i.jsx("button",{onClick:e,className:"w-full mt-6 py-3 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98]",children:"Got it"})]})]})}const mO=[{id:1,type:"earned",amount:15,item:"Calculus Textbook",date:"2 days ago"},{id:2,type:"spent",amount:25,item:"Desk Chair",date:"5 days ago"},{id:3,type:"earned",amount:20,item:"Winter Jacket",date:"1 week ago"},{id:4,type:"earned",amount:12,item:"Desk Lamp",date:"2 weeks ago"}];function gO({navigateTo:r,myListings:e=[]}){const{darkMode:t}=St(),[n,o]=N.useState(null),[l,u]=N.useState(!0),[h,p]=N.useState(""),[m,v]=N.useState([]),[x,w]=N.useState(!0),[k,P]=N.useState(!1),[j,T]=N.useState(!1),[M,B]=N.useState(null),F=$=>{B($),T(!0)};return N.useEffect(()=>{async function $(){w(!0);try{const z=Nn.currentUser;if(!z){p("No user logged in"),w(!1);return}const J=fr(It,"users",z.uid),A=await su(J);if(A.exists()){const E=A.data();o({id:z.uid,...E});const C=E.myListings||[];if(C.length>0){const L=[];for(let D=0;D<C.length;D+=10){const R=C.slice(D,D+10),ge=ix(yl(It,"listings"),E_("id","in",R));(await cx(ge)).forEach(Z=>L.push({id:Z.id,...Z.data()}))}v(L)}else v([])}else console.warn("No profile found for this user in Firestore")}catch(z){console.error("Error fetching user profile:",z),p("Failed to load profile")}finally{u(!1),w(!1)}}$()},[]),console.log("User: ",n),i.jsxs("div",{className:`min-h-screen pb-8 ${t?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"}`,children:[i.jsx("div",{className:`sticky top-0 z-20 backdrop-blur-xl ${t?"bg-black/70 border-white/10":"bg-white/10 border-white/30"} border-b`,children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsx("h2",{className:`font-semibold text-xl ${t?"text-purple-400":"text-[#9333ea]"}`,children:"Profile"})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6",children:[i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-white/10 border-white/20":"bg-white/10 border-white/30"} rounded-3xl p-6 border shadow-[0_8px_24px_rgba(139,92,246,0.12)] mb-6`,children:[i.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[i.jsx(Wn,{className:"w-20 h-20",children:i.jsx(qn,{className:"bg-gradient-to-br from-purple-400 to-purple-600 text-white text-2xl font-semibold",children:n?.name.charAt(0)})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("h2",{className:`font-semibold ${t?"text-white":"text-[#222]"}`,children:n?.name}),i.jsx("div",{className:"w-5 h-5 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs",children:""})})]}),i.jsx("p",{className:`mb-3 ${t?"text-gray-400":"text-[#555]"}`,children:n?.email}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[n?.email?.toLowerCase().endsWith(".edu")&&i.jsx("button",{onClick:()=>F("verified"),className:"backdrop-blur-xl bg-blue-100/60 text-blue-700 border border-blue-200/60 font-medium rounded-full px-3 py-1.5 text-sm transition-all hover:bg-blue-200/60 active:scale-95",children:" .edu Verified"}),n?.trades>=10&&i.jsx("button",{onClick:()=>F("trades"),className:"backdrop-blur-xl bg-purple-100/60 text-purple-700 border border-purple-200/60 font-medium rounded-full px-3 py-1.5 text-sm transition-all hover:bg-purple-200/60 active:scale-95",children:" 10+ Trades"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:`text-center p-3 backdrop-blur-xl ${t?"bg-white/5 border-white/10":"bg-purple-50/60 border-purple-200/40"} rounded-2xl border`,children:[i.jsx("div",{className:`font-semibold mb-1 ${t?"text-white":"text-[#222]"}`,children:n?.credits}),i.jsx("div",{className:`text-xs font-medium ${t?"text-gray-400":"text-[#555]"}`,children:"Credits"})]}),i.jsxs("div",{className:`text-center p-3 backdrop-blur-xl ${t?"bg-white/5 border-white/10":"bg-purple-50/60 border-purple-200/40"} rounded-2xl border`,children:[i.jsx("div",{className:`font-semibold mb-1 ${t?"text-white":"text-[#222]"}`,children:n?.trades}),i.jsx("div",{className:`text-xs font-medium ${t?"text-gray-400":"text-[#555]"}`,children:"Trades"})]}),i.jsxs("button",{onClick:()=>P(!0),className:`text-center p-3 backdrop-blur-xl ${t?"bg-white/5 border-white/10 hover:bg-white/10":"bg-purple-50/60 border-purple-200/40 hover:bg-purple-100/60"} rounded-2xl border transition-all active:scale-95`,children:[i.jsx("div",{className:`font-semibold mb-1 ${t?"text-white":"text-[#222]"}`,children:"98%"}),i.jsx("div",{className:`text-xs font-medium ${t?"text-gray-400":"text-[#555]"}`,children:"Trust"})]})]})]}),i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-white/10 border-white/20":"bg-white/10 border-white/30"} rounded-3xl p-6 border shadow-[0_8px_24px_rgba(139,92,246,0.12)] mb-6`,children:[i.jsx("h3",{className:`font-semibold mb-3 ${t?"text-white":"text-[#222]"}`,children:"Your Interests"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:["Electronics","Clothing","Textbooks"].map($=>i.jsx("span",{className:`${t?"bg-purple-600/20 text-purple-300 border-purple-500/30":"bg-purple-100 text-purple-700 border-purple-300"} px-3 py-1 rounded-full border text-sm`,children:$},$))})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[i.jsxs("button",{className:`backdrop-blur-2xl ${t?"bg-white/10 border-white/20 hover:bg-white/15":"bg-white/70 border-white/60 hover:shadow-[0_8px_24px_rgba(139,92,246,0.12)]"} rounded-2xl p-4 border shadow-sm transition-all active:scale-[0.98] text-center`,children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center mx-auto mb-2",children:i.jsx(Kt,{className:"w-5 h-5 text-purple-600"})}),i.jsx("p",{className:`font-medium ${t?"text-white":"text-[#222]"}`,children:"Credit Wallet"})]}),i.jsxs("button",{onClick:()=>P(!0),className:`backdrop-blur-2xl ${t?"bg-white/10 border-white/20 hover:bg-white/15":"bg-white/70 border-white/60 hover:shadow-[0_8px_24px_rgba(139,92,246,0.12)]"} rounded-2xl p-4 border shadow-sm transition-all active:scale-[0.98] text-center`,children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center mx-auto mb-2",children:i.jsx(Hn,{className:"w-5 h-5 text-purple-600"})}),i.jsx("p",{className:`font-medium ${t?"text-white":"text-[#222]"}`,children:"Trust & Badges"})]})]}),i.jsxs(dO,{defaultValue:"listings",className:"w-full",children:[i.jsxs(hO,{className:`w-full backdrop-blur-2xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} border rounded-2xl p-1 mb-4`,children:[i.jsx(uw,{value:"listings",className:"flex-1 rounded-xl data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-500 data-[state=active]:to-purple-600 data-[state=active]:text-white font-medium",children:"My Listings"}),i.jsx(uw,{value:"wallet",className:"flex-1 rounded-xl data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-500 data-[state=active]:to-purple-600 data-[state=active]:text-white font-medium",children:"Credit History"})]}),i.jsx(dw,{value:"listings",className:"space-y-3",children:x?i.jsx("div",{className:"text-center py-8 text-gray-400",children:"Loading listings..."}):m.length>0?i.jsxs(i.Fragment,{children:[m.filter($=>$.status===!0).slice(0,3).map($=>i.jsxs("button",{onClick:()=>r("full-listing-view",$),className:`w-full backdrop-blur-2xl ${t?"bg-white/10 border-white/20 hover:bg-white/15":"bg-white/70 border-white/60 hover:shadow-[0_8px_24px_rgba(139,92,246,0.15)]"} rounded-2xl p-4 border shadow-sm transition-all active:scale-[0.98] text-left`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:`font-medium ${t?"text-white":"text-[#222]"}`,children:$.title}),i.jsx(Hr,{className:"bg-green-100 text-green-700 border-green-200 font-medium",children:"Active"})]}),i.jsxs("div",{className:`flex items-center gap-4 text-sm ${t?"text-gray-400":"text-[#555]"}`,children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Kt,{className:"w-4 h-4"}),$.credits," Cr"]}),i.jsxs("span",{children:[" ",$.views||0," views"]})]})]},$.id)),m.filter($=>$.status===!0).length>3&&i.jsxs("button",{onClick:()=>r("my-listings"),className:`w-full py-3 rounded-2xl ${t?"bg-white/10 text-purple-400 border-purple-400/60":"backdrop-blur-xl bg-white/80 text-purple-600 border-purple-200/60"} font-medium border shadow-sm transition-transform active:scale-[0.98] flex items-center justify-center gap-2`,children:[i.jsx("span",{children:"View All Listings"}),i.jsx(ng,{className:"w-5 h-5"})]})]}):i.jsxs("div",{className:`backdrop-blur-2xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-12 border shadow-[0_8px_24px_rgba(139,92,246,0.12)] text-center`,children:[i.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center mx-auto mb-4",children:i.jsx(bs,{className:"w-10 h-10 text-purple-500"})}),i.jsx("h3",{className:`font-semibold mb-2 ${t?"text-white":"text-[#222]"}`,children:"No active listings"}),i.jsx("p",{className:`mb-4 ${t?"text-gray-400":"text-[#555]"}`,children:"Start selling items to see them here"}),i.jsx("div",{className:"flex justify-center",children:i.jsx("button",{onClick:()=>r("create"),className:"px-6 py-3 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98]",children:"Create Listing"})})]})}),i.jsxs(dw,{value:"wallet",className:"space-y-3",children:[i.jsxs("div",{className:"backdrop-blur-2xl bg-gradient-to-br from-purple-500 to-purple-600 rounded-3xl p-6 mb-4 text-white shadow-[0_8px_24px_rgba(139,92,246,0.3)]",children:[i.jsx("p",{className:"text-white/90 mb-2 font-light",children:"Current Balance"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Kt,{className:"w-8 h-8"}),i.jsx("span",{className:"text-4xl font-semibold",children:"42"}),i.jsx("span",{className:"text-2xl font-medium",children:"Credits"})]})]}),mO.map($=>i.jsx("div",{className:`backdrop-blur-2xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-2xl p-4 border shadow-sm`,children:i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${$.type==="earned"?"bg-gradient-to-br from-green-100 to-green-200":"bg-gradient-to-br from-red-100 to-red-200"}`,children:$.type==="earned"?i.jsx("span",{className:"text-green-600 font-semibold",children:"+"}):i.jsx("span",{className:"text-red-600 font-semibold",children:"-"})}),i.jsxs("div",{children:[i.jsx("p",{className:`font-medium ${t?"text-white":"text-[#222]"}`,children:$.item}),i.jsx("p",{className:`text-sm font-light ${t?"text-gray-400":"text-[#555]"}`,children:$.date})]})]}),i.jsxs("div",{className:`text-lg font-semibold ${$.type==="earned"?"text-green-600":"text-red-600"}`,children:[$.type==="earned"?"+":"-",$.amount]})]})},$.id))]})]}),i.jsx("div",{className:"mt-6 flex justify-center",children:i.jsx("button",{onClick:()=>r("edit-profile"),className:"w-full py-4 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] flex items-center justify-center gap-2",children:"Edit Profile"})})]}),i.jsx(fO,{isOpen:k,onClose:()=>P(!1)}),i.jsx(pO,{isOpen:j,onClose:()=>{T(!1),B(null)},badgeType:M})]})}var cf="Switch",[xO]=_l(cf),[vO,yO]=xO(cf),gE=N.forwardRef((r,e)=>{const{__scopeSwitch:t,name:n,checked:o,defaultChecked:l,required:u,disabled:h,value:p="on",onCheckedChange:m,form:v,...x}=r,[w,k]=N.useState(null),P=Ot(e,F=>k(F)),j=N.useRef(!1),T=w?v||!!w.closest("form"):!0,[M,B]=zc({prop:o,defaultProp:l??!1,onChange:m,caller:cf});return i.jsxs(vO,{scope:t,checked:M,disabled:h,children:[i.jsx(at.button,{type:"button",role:"switch","aria-checked":M,"aria-required":u,"data-state":bE(M),"data-disabled":h?"":void 0,disabled:h,value:p,...x,ref:P,onClick:st(r.onClick,F=>{B($=>!$),T&&(j.current=F.isPropagationStopped(),j.current||F.stopPropagation())})}),T&&i.jsx(yE,{control:w,bubbles:!j.current,name:n,value:p,checked:M,required:u,disabled:h,form:v,style:{transform:"translateX(-100%)"}})]})});gE.displayName=cf;var xE="SwitchThumb",vE=N.forwardRef((r,e)=>{const{__scopeSwitch:t,...n}=r,o=yO(xE,t);return i.jsx(at.span,{"data-state":bE(o.checked),"data-disabled":o.disabled?"":void 0,...n,ref:e})});vE.displayName=xE;var bO="SwitchBubbleInput",yE=N.forwardRef(({__scopeSwitch:r,control:e,checked:t,bubbles:n=!0,...o},l)=>{const u=N.useRef(null),h=Ot(u,l),p=dN(t),m=Z_(e);return N.useEffect(()=>{const v=u.current;if(!v)return;const x=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(x,"checked").set;if(p!==t&&k){const P=new Event("click",{bubbles:n});k.call(v,t),v.dispatchEvent(P)}},[p,t,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...o,tabIndex:-1,ref:h,style:{...o.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});yE.displayName=bO;function bE(r){return r?"checked":"unchecked"}var wO=gE,_O=vE;function Nh({className:r,...e}){return i.jsx(wO,{"data-slot":"switch",className:Qt("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",r),...e,children:i.jsx(_O,{"data-slot":"switch-thumb",className:Qt("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function NO({navigateTo:r}){const[e,t]=N.useState(!0),[n,o]=N.useState(!1),{darkMode:l,toggleDarkMode:u}=St(),h=[{title:"Notifications",items:[{id:"push-notifications",label:"Push Notifications",icon:tl,hasToggle:!0,toggleValue:e,onToggle:t},{id:"email-notifications",label:"Email Notifications",icon:tl,hasToggle:!0,toggleValue:n,onToggle:o}]},{title:"Privacy & Safety",items:[{id:"privacy-settings",label:"Privacy Settings",icon:Hn,action:()=>r("privacy-settings")},{id:"blocked-users",label:"Blocked Users",icon:pm,action:()=>r("blocked-users")},{id:"safety-tips",label:"Safety Tips",icon:Hn,action:()=>r("safety-tips")}]},{title:"Account Settings",items:[{id:"edit-profile",label:"Edit Profile",icon:pm,action:()=>r("edit-profile")},{id:"change-password",label:"Change Password",icon:Hn,action:()=>r("change-password")}]},{title:"App Preferences",items:[{id:"appearance",label:"Dark Mode",icon:VS,hasToggle:!0,toggleValue:l,onToggle:u},{id:"language",label:"Language",icon:Ew,action:()=>r("language-settings")}]},{title:"Help & Feedback",items:[{id:"help-center",label:"Help Center",icon:aS,action:()=>r("help-center")},{id:"send-feedback",label:"Send Feedback",icon:Sw,action:()=>r("send-feedback")}]},{title:"Developer",items:[{id:"style-guide",label:"Design System / Style Guide",icon:kw,action:()=>r("style-guide")}]}];return i.jsxs("div",{className:`min-h-screen ${l?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"} pb-24`,children:[i.jsx("div",{className:`sticky top-0 z-20 backdrop-blur-xl ${l?"bg-black/70 border-white/10":"bg-white/10 border-white/30"} border-b`,children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>r("home"),className:`p-2 rounded-full ${l?"hover:bg-white/10":"hover:bg-white/50"} transition-colors`,children:i.jsx(bt,{className:`w-6 h-6 ${l?"text-white":"text-[#222]"}`})}),i.jsx("h2",{className:`${l?"text-white":"text-[#9333ea]"} font-semibold text-xl`,children:"Settings"})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[h.map(p=>i.jsxs("div",{children:[i.jsx("h3",{className:`${l?"text-gray-400":"text-[#555]"} font-medium text-sm px-2 mb-3`,children:p.title}),i.jsx("div",{className:`backdrop-blur-xl ${l?"bg-white/10 border-white/20":"bg-white/10 border-white/30"} rounded-3xl border shadow-[0_8px_24px_rgba(139,92,246,0.12)] overflow-hidden`,children:p.items.map((m,v)=>i.jsx(EO,{item:m,isLast:v===p.items.length-1,onClick:()=>{m.action?m.action():console.log("Settings item clicked:",m.id)}},m.id))})]},p.title)),i.jsxs("div",{className:"text-center pt-4",children:[i.jsx("p",{className:`${l?"text-gray-500":"text-[#999]"} text-sm`,children:"Snag v1.0.0"}),i.jsx("p",{className:`${l?"text-gray-500":"text-[#999]"} text-xs mt-1`,children:"Made with  for students"})]})]})]})}function EO({item:r,isLast:e,onClick:t}){const n=r.icon,{darkMode:o}=St();return i.jsxs("div",{className:`w-full px-4 py-4 flex items-center gap-3 ${e?"":`border-b ${o?"border-white/10":"border-purple-100/40"}`}`,children:[i.jsx("div",{className:`w-10 h-10 rounded-full ${o?"bg-gradient-to-br from-purple-600/20 to-purple-700/20":"bg-gradient-to-br from-purple-100 to-purple-200"} flex items-center justify-center flex-shrink-0`,children:i.jsx(n,{className:`w-5 h-5 ${o?"text-purple-400":"text-purple-600"}`})}),i.jsx("span",{className:`${o?"text-white":"text-[#222]"} font-medium flex-1`,children:r.label}),r.hasToggle&&r.onToggle?i.jsx(Nh,{checked:r.toggleValue||!1,onCheckedChange:r.onToggle}):i.jsx("button",{onClick:t,className:`${o?"hover:bg-white/10":"hover:bg-white/50"} transition-colors active:scale-[0.98] p-2 rounded-full`,children:i.jsx(ng,{className:`w-5 h-5 ${o?"text-gray-500":"text-[#999]"}`})})]})}function jO({navigateTo:r}){const{darkMode:e}=St(),[t,n]=N.useState([]);N.useEffect(()=>{const u=Nn.currentUser;if(!u)return;const h=ix(yl(It,"users",u.uid,"notifications"),DP("createdAt","desc")),p=T_(h,m=>{const v=m.docs.map(x=>({id:x.id,...x.data(),time:"Just now"}));n(v)});return()=>p()},[]);const o=async u=>{try{const h=fr(It,"listings",u.relatedItemId);await Yi(h,{status:!1,meetingSpot:u.metadata?.proposedSpot,meetingTime:u.metadata?.proposedTime,pendingConfirmation:!1}),await el({userId:u.metadata?.buyerId,title:" Meeting Accepted!",message:`${Nn.currentUser?.displayName||"The seller"} accepted your meeting proposal for "${u.title}".
 Location: ${u.metadata?.proposedSpot}
 Time: ${u.metadata?.proposedTime}`,type:"trade"});const p=fr(It,"users",Nn.currentUser?.uid||"","notifications",u.id);await Cb(p),nt.success("Meeting proposal accepted!")}catch(h){console.error(" Accept meeting error:",h),nt.error("Failed to accept meeting proposal.")}},l=async u=>{try{const h=fr(It,"listings",u.relatedItemId);await Yi(h,{status:!0,pendingConfirmation:!1}),await el({userId:u.metadata?.buyerId,title:" Meeting Denied",message:`${Nn.currentUser?.displayName||"The seller"} declined your meeting proposal for "${u.title}". The listing has been reopened.`,type:"trade"});const p=fr(It,"users",Nn.currentUser?.uid||"","notifications",u.id);await Cb(p),nt.warning("Meeting proposal denied and listing reopened.")}catch(h){console.error(" Deny meeting error:",h),nt.error("Failed to deny meeting proposal.")}};return i.jsxs("div",{className:`min-h-screen pb-8 ${e?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"}`,children:[i.jsx("div",{className:`sticky top-0 z-20 backdrop-blur-xl ${e?"bg-black/70 border-white/10":"bg-white/10 border-white/30"} border-b`,children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>r("home"),className:`p-2 rounded-full ${e?"hover:bg-white/10":"hover:bg-white/50"} transition-colors`,children:i.jsx(bt,{className:`w-6 h-6 ${e?"text-white":"text-[#222]"}`})}),i.jsx("h2",{className:`font-semibold text-xl ${e?"text-purple-400":"text-[#9333ea]"}`,children:"Notifications"})]})})}),t.length>0?i.jsx("div",{className:"max-w-md mx-auto px-4 py-4 space-y-6",children:i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:`font-semibold px-2 ${e?"text-white":"text-[#222]"}`,children:"Today"}),t.map(u=>i.jsx(SO,{notification:u,darkMode:e,onClick:()=>console.log("Clicked:",u),onAccept:o,onDeny:l},u.id))]})}):i.jsx("div",{className:"max-w-md mx-auto px-4 py-16 text-center",children:i.jsxs("div",{className:`backdrop-blur-2xl ${e?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-12 border shadow-[0_8px_24px_rgba(139,92,246,0.12)]`,children:[i.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center mx-auto mb-4",children:i.jsx(Jj,{className:"w-10 h-10 text-purple-500"})}),i.jsx("h3",{className:`font-semibold mb-2 ${e?"text-white":"text-[#222]"}`,children:"All caught up!"}),i.jsx("p",{className:e?"text-gray-300":"text-[#555]",children:"You have no new notifications"})]})})]})}function SO({notification:r,onClick:e,onAccept:t,onDeny:n,darkMode:o}){const l={meeting:an,listing:bs,trade:nk,meeting_request:an,default:En},u={meeting:"from-green-500 to-green-600",listing:"from-indigo-500 to-indigo-600",trade:"from-purple-500 to-purple-600",meeting_request:"from-yellow-400 to-yellow-500",default:"from-blue-500 to-blue-600"},h=l[r.type]||l.default,p=u[r.type]||u.default;return console.log("Render notification:",r.id,r.type),i.jsx("div",{onClick:e,className:`w-full backdrop-blur-xl rounded-2xl p-4 border shadow-sm transition-all hover:shadow-[0_8px_24px_rgba(139,92,246,0.15)] text-left ${r.unread?o?"bg-white/15 border-white/30":"bg-white/20 border-white/40":o?"bg-white/5 border-white/10":"bg-white/10 border-white/30"}`,children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:`w-10 h-10 rounded-full bg-gradient-to-br ${p} flex items-center justify-center flex-shrink-0`,children:i.jsx(h,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("h3",{className:`font-medium flex items-center gap-2 ${o?"text-white":"text-[#222]"}`,children:[r.title,r.unread&&i.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 flex-shrink-0"})]}),i.jsx("p",{className:`mb-2 text-sm ${o?"text-gray-300":"text-[#555]"}`,children:r.message}),r.type?.trim().toLowerCase()==="meeting_request"&&i.jsxs("div",{className:"mt-3 p-4 bg-yellow-50 border border-yellow-200 rounded-2xl shadow-sm",children:[i.jsx("p",{className:"text-xs text-yellow-800 font-medium mb-2 flex items-center gap-1",children:" Meeting Proposal:"}),i.jsxs("div",{className:"flex flex-col gap-1 text-sm text-gray-800",children:[i.jsxs("p",{className:"flex items-center gap-2",children:[i.jsx(an,{className:"w-4 h-4 text-yellow-600"}),i.jsx("span",{children:r.metadata?.proposedSpot})]}),i.jsxs("p",{className:"flex items-center gap-2",children:[i.jsx(Hc,{className:"w-4 h-4 text-yellow-600"}),i.jsx("span",{children:r.metadata?.proposedTime})]})]}),i.jsxs("div",{className:"flex gap-2 mt-3",children:[i.jsx("button",{type:"button",onClick:m=>{m.stopPropagation(),console.log(" Accept clicked:",r.id),t?.(r)},className:"px-4 py-1.5 rounded-full bg-green-500 text-black text-xs font-semibold hover:bg-green-600 active:scale-[0.98] transition-all shadow-sm focus:outline-none focus:ring-2 focus:ring-green-300",children:"Accept"}),i.jsx("button",{type:"button",onClick:m=>{m.stopPropagation(),console.log(" Deny clicked:",r.id),n?.(r)},className:"px-4 py-1.5 rounded-full bg-red-500 text-white text-xs font-semibold hover:bg-red-600 active:scale-[0.98] transition-all shadow-sm focus:outline-none focus:ring-2 focus:ring-red-300",children:"Deny"})]})]})]})]})})}const kO="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function Xn(r){const[e,t]=N.useState(!1),n=()=>{t(!0)},{src:o,alt:l,style:u,className:h,...p}=r;return e?i.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${h??""}`,style:u,children:i.jsx("div",{className:"flex items-center justify-center w-full h-full",children:i.jsx("img",{src:kO,alt:"Error loading image",...p,"data-original-url":o})})}):i.jsx("img",{src:o,alt:l,className:h,style:u,...p,onError:n})}function wE({images:r,alt:e,aspectRatio:t="aspect-[4/3]",showDots:n=!0,showArrows:o=!0}){const[l,u]=N.useState(0),h=()=>{u(m=>m===0?r.length-1:m-1)},p=()=>{u(m=>m===r.length-1?0:m+1)};return r.length===0?i.jsx("div",{className:`${t} bg-purple-100/50 flex items-center justify-center`,children:i.jsx("span",{className:"text-purple-400 text-sm font-medium",children:"No images"})}):r.length===1?i.jsx("div",{className:`${t} relative bg-purple-100/50`,children:i.jsx(Xn,{src:r[0],alt:e,className:"w-full h-full object-cover"})}):i.jsxs("div",{className:`${t} relative bg-purple-100/50 group`,children:[i.jsx(Xn,{src:r[l],alt:`${e} - Image ${l+1}`,className:"w-full h-full object-cover"}),o&&r.length>1&&i.jsxs(i.Fragment,{children:[i.jsx("div",{onClick:m=>{m.stopPropagation(),h()},className:"absolute left-2 top-1/2 -translate-y-1/2 w-8 h-8 rounded-full backdrop-blur-xl bg-white/80 flex items-center justify-center shadow-md opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:i.jsx(rS,{className:"w-5 h-5 text-[#222]"})}),i.jsx("div",{onClick:m=>{m.stopPropagation(),p()},className:"absolute right-2 top-1/2 -translate-y-1/2 w-8 h-8 rounded-full backdrop-blur-xl bg-white/80 flex items-center justify-center shadow-md opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:i.jsx(ng,{className:"w-5 h-5 text-[#222]"})})]}),n&&r.length>1&&i.jsx("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 flex items-center gap-1.5 backdrop-blur-xl bg-black/20 rounded-full px-2 py-1",children:r.map((m,v)=>i.jsx("div",{onClick:x=>{x.stopPropagation(),u(v)},className:`transition-all cursor-pointer ${v===l?"w-6 h-1.5 bg-white rounded-full":"w-1.5 h-1.5 bg-white/50 rounded-full hover:bg-white/80"}`},v))}),i.jsx("div",{className:"absolute top-3 right-3 backdrop-blur-xl bg-black/30 rounded-full px-2.5 py-1",children:i.jsxs("span",{className:"text-white text-xs font-medium",children:[l+1,"/",r.length]})})]})}function TO({item:r,navigateTo:e}){const{darkMode:t}=St(),[n,o]=N.useState(r),[l,u]=N.useState(!1);N.useEffect(()=>{if(!r?.id)return;async function p(){u(!0);try{const m=fr(It,"listings",r.id),v=await su(m);v.exists()&&o({id:v.id,...v.data()})}catch(m){console.error("Failed to fetch item:",m)}finally{u(!1)}}p()},[r]);const h=r.icon;return console.log("item: ",r),i.jsxs("div",{className:`min-h-screen ${t?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"}`,children:[i.jsx("div",{className:`sticky top-0 z-20 backdrop-blur-2xl ${t?"bg-black/70 border-white/10":"bg-white/70 border-white/40"} border-b`,children:i.jsxs("div",{className:"max-w-md mx-auto px-4 py-4 flex items-center gap-4",children:[i.jsx("button",{onClick:()=>e("home"),className:`p-2 rounded-full ${t?"hover:bg-white/10":"hover:bg-white/50"} transition-colors`,children:i.jsx(bt,{className:`w-6 h-6 ${t?"text-white":"text-[#222]"}`})}),i.jsx("h2",{className:`font-semibold text-xl ${t?"text-purple-400":"text-[#9333ea]"}`,children:"Item Details"})]})}),i.jsxs("div",{className:"max-w-md mx-auto pb-32",children:[i.jsxs("div",{className:"relative",children:[i.jsx(wE,{images:r.images||[r.image],alt:r.title,aspectRatio:"aspect-square"}),r.isBarter?i.jsx("div",{className:"absolute top-4 left-4 z-10",children:i.jsxs(Hr,{className:"backdrop-blur-xl bg-gradient-to-r from-purple-500 to-purple-600 text-white border-0 shadow-lg font-medium flex items-center gap-1.5",children:[i.jsx(Et,{className:"w-4 h-4"}),i.jsx("span",{children:"Trade Only"})]})}):i.jsx("div",{className:"absolute top-4 right-4 z-10",children:i.jsx("div",{className:`backdrop-blur-xl ${t?"bg-black/60 border-white/20":"bg-white/90 border-white/60"} rounded-2xl px-4 py-2.5 border shadow-lg`,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Kt,{className:"w-5 h-5 text-yellow-500"}),i.jsxs("span",{className:`font-semibold ${t?"text-white":"text-[#222]"}`,children:[r.credits," Credits"]})]})})})]}),i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsxs("div",{className:`backdrop-blur-2xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-6 border shadow-[0_8px_24px_rgba(139,92,246,0.12)]`,children:[i.jsx("h1",{className:`font-semibold mb-2 ${t?"text-white":"text-[#222]"}`,children:r.title}),i.jsx("p",{className:`mb-4 ${t?"text-gray-300":"text-[#555]"}`,children:r.description}),n.tags&&n.tags.length>0&&i.jsx("div",{className:"flex items-center gap-2 mb-6",children:n.tags.map(p=>i.jsxs("div",{className:"backdrop-blur-xl bg-purple-100/60 rounded-full px-3 py-1.5 border border-purple-200/60 flex items-center gap-1.5",children:[h&&i.jsx(h,{className:"w-4 h-4 text-purple-600"}),i.jsx("span",{className:"text-purple-700 text-sm font-medium",children:p})]},p))}),i.jsx("div",{className:`flex items-center justify-between pt-4 border-t ${t?"border-white/10":"border-purple-200/40"}`,children:i.jsxs("button",{onClick:()=>e("user-profile",r.seller),className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[i.jsx(Wn,{className:"w-10 h-10",children:i.jsx(qn,{className:"bg-gradient-to-br from-purple-400 to-purple-500 text-white font-medium",children:r.seller.name.charAt(0)||"?"})}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:`font-medium ${t?"text-white":"text-[#222]"}`,children:r.seller.name}),r.seller.verified&&i.jsx("div",{className:"w-5 h-5 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs",children:""})})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Cw,{className:"w-3.5 h-3.5 text-yellow-500 fill-yellow-500"}),i.jsx("span",{className:`text-xs font-medium ${t?"text-gray-300":"text-[#555]"}`,children:r.seller.rating})]}),i.jsx("span",{className:`text-xs ${t?"text-gray-500":"text-[#999]"}`,children:""}),i.jsxs("span",{className:`text-xs ${t?"text-gray-300":"text-[#555]"}`,children:[r.seller.trades," trades"]})]})]})]})})]}),i.jsxs("div",{className:`backdrop-blur-2xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-6 border shadow-[0_8px_24px_rgba(139,92,246,0.12)] space-y-4`,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center",children:i.jsx(an,{className:"w-5 h-5 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:`text-sm font-light ${t?"text-gray-400":"text-[#888]"}`,children:"Pickup Location"}),i.jsx("p",{className:`font-medium ${t?"text-white":"text-[#222]"}`,children:r.meetingSpot})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center",children:i.jsx(jh,{className:"w-5 h-5 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:`text-sm font-light ${t?"text-gray-400":"text-[#888]"}`,children:"Posted"}),i.jsx("p",{className:`font-medium ${t?"text-white":"text-[#222]"}`,children:r.time})]})]})]})]})]}),i.jsx("div",{className:`fixed bottom-0 left-0 right-0 backdrop-blur-2xl ${t?"bg-black/70 border-white/10":"bg-white/70 border-white/40"} border-t p-4`,children:i.jsx("div",{className:"max-w-md mx-auto flex justify-center",children:r.isBarter?i.jsxs("button",{onClick:()=>e("trade-offer",r),className:"w-full py-4 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] flex items-center justify-center gap-2",children:[i.jsx(Et,{className:"w-5 h-5",strokeWidth:2.5}),i.jsx("span",{children:"Offer to Trade"})]}):i.jsxs("button",{onClick:()=>e("meeting",r),className:"w-full py-4 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] flex items-center justify-center gap-2",children:[i.jsx(Kt,{className:"w-5 h-5",strokeWidth:2.5}),i.jsxs("span",{children:["Snag Now  ",r.credits," Credits"]})]})})})]})}const Rd=[{id:1,name:"Main Library Lobby",distance:"0.2 mi",hours:"24/7",verified:!0},{id:2,name:"Student Union Entrance",distance:"0.3 mi",hours:"6am - 11pm",verified:!0},{id:3,name:"Campus Coffee Shop",distance:"0.4 mi",hours:"7am - 9pm",verified:!0},{id:4,name:"Recreation Center Lobby",distance:"0.5 mi",hours:"5am - 11pm",verified:!0},{id:5,name:"Dining Hall Commons",distance:"0.6 mi",hours:"7am - 10pm",verified:!0}];function CO({item:r,navigateTo:e,onSelectSpot:t}){const[n,o]=N.useState(null),[l,u]=N.useState(null),[h,p]=N.useState(""),[m,v]=N.useState(""),[x,w]=N.useState(""),[k,P]=N.useState(""),j=[{id:"lunch",label:"12:00 PM  2:00 PM"},{id:"afternoon",label:"3:00 PM  5:00 PM"},{id:"evening",label:"5:00 PM  7:00 PM"}],T=()=>{const E=Rd.find(D=>D.id===n)?.name,C=l?j.find(D=>D.id===l)?.label:`${h}, ${m}`,O=r.meetingSpot&&E&&r.meetingSpot!==E,L=r.meetingTime&&C&&r.meetingTime!==C;return O||L};if(!r)return null;const M=E=>{const C=Rd.find(O=>O.id===E);o(E),t&&C&&t(C.name)},B=E=>{u(E),p(""),v(""),w(""),P("")},F=E=>{E&&u(null);let C=E.replace(/[^\d:APMapm\s]/g,"");C.length===2&&!C.includes(":")&&(C+=":"),p(C),C&&!/^(0?[1-9]|1[0-2]):[0-5][0-9]\s?(AM|PM|am|pm)$/.test(C)?w("Format: HH:MM AM/PM (e.g., 2:30 PM)"):w("")},$=E=>{E&&u(null);let C=E.replace(/[^\d/]/g,"");(C.length===2&&!C.includes("/")||C.length===5&&C.split("/").length===2)&&(C+="/");const O=C.split("/");if(O[2]&&O[2].length>4){P("Year must be 4 digits");return}if(v(C),C&&/^(0?[1-9]|1[0-2])\/(0?[1-9]|[12][0-9]|3[01])\/\d{4}$/.test(C)){const[D,R,ge]=C.split("/").map(Number),le=new Date(ge,D-1,R),Z=new Date;Z.setHours(0,0,0,0),le<Z?P("Cannot select past dates"):P("")}else C.length>=8?P("Format: MM/DD/YYYY (e.g., 12/25/2024)"):P("")},z=async()=>{if(!n){nt.error("Please select a meeting spot");return}if(!l&&(!h||!m)){nt.error("Please select a time or enter custom time/date");return}if(x||k){nt.error("Please fix time/date errors");return}try{console.log("Starting meeting confirmation...");const E=Nn.currentUser;if(!E){nt.error("You must be logged in to confirm a meeting.");return}const C=Rd.find(le=>le.id===n)?.name,O=l?j.find(le=>le.id===l)?.label:`${h}, ${m}`,L=r.meetingSpot&&C&&r.meetingSpot!==C,D=r.meetingTime&&O&&r.meetingTime!==O;if(L||D){console.log(" Meeting mismatch detected  sending approval request");const le=fr(It,"listings",r.id);await Yi(le,{pendingConfirmation:!0,proposedSpot:C,proposedTime:O}),await el({userId:r.seller.id,title:" Meeting confirmation needed",message:`${E.displayName||"A buyer"} proposed a different ${L&&D?"meeting spot and time":L?"meeting spot":"meeting time"} for "${r.title}".`,type:"meeting_request",relatedItemId:r.id,metadata:{proposedSpot:C,proposedTime:O,buyerId:E.uid,buyerName:E.displayName||E.email||"Anonymous"}}),nt.warning("Meeting proposal sent to seller for approval!"),e("home");return}if(A(J-r.credits),console.log(" Updated credits locally"),console.log("Item before updating:",r),console.log("Listing path:",`listings/${r.id}`),!r?.id)throw new Error("Missing listing ID");const ge=fr(It,"listings",r.id);if(await Yi(ge,{status:!1}),console.log(" Updated listing status in Firestore"),r?.seller?.id){const le=fr(It,"users",r.seller.id);await Yi(le,{trades:$P(1)}),console.log(` Incremented trade count for seller ${r.seller.id}`)}else console.warn(" No seller.id found; skipping trade increment");await el({userId:r.seller.id,title:"Your item has been snagged up!",message:`${E.displayName||"A buyer"} picked up your item "${r.title}".`,type:"listing",relatedItemId:r.id}),await el({userId:E.uid,title:"You snagged an item!",message:`You successfully snagged "${r.title}" from ${r.seller?.displayName||"another user"}.`,type:"trade"}),console.log(" Sent notifications"),nt.success("Meeting confirmed!"),e("confirmation",r)}catch(E){console.error(" Meeting confirmation failed:",E),nt.error(`Failed to schedule meeting: ${E.message||E}`)}},{credits:J,setCredits:A}=dx();return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100",children:[i.jsx("div",{className:"sticky top-0 z-20 backdrop-blur-2xl bg-white/70 border-b border-white/40",children:i.jsxs("div",{className:"max-w-md mx-auto px-4 py-4 flex items-center gap-4",children:[i.jsx("button",{onClick:()=>e("item-detail",r),className:"p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(bt,{className:"w-6 h-6 text-[#222]"})}),i.jsx("h2",{className:"text-[#9333ea] font-semibold text-xl",children:"Schedule Meeting"})]})}),i.jsxs("div",{className:"max-w-md mx-auto p-4 pb-32 space-y-6",children:[i.jsxs("div",{className:"backdrop-blur-xl bg-purple-50/50 border border-purple-200/50 rounded-2xl p-4 flex items-start gap-3",children:[i.jsx(Hn,{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-purple-900 font-medium mb-1",children:"Meet in campus-verified locations"}),i.jsx("p",{className:"text-purple-700 text-sm",children:"For your safety, only verified campus locations are available for meetups."})]})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/60 rounded-3xl border border-white/60 p-4",children:[i.jsxs("h3",{className:"text-[#222] font-semibold mb-3 flex items-center gap-2",children:[i.jsx(an,{className:"w-5 h-5 text-purple-600"}),"Meeting Location"]}),i.jsx("div",{className:"space-y-2",children:Rd.map(E=>i.jsxs("button",{onClick:()=>M(E.id),className:`w-full p-3 rounded-xl border transition-all text-left ${n===E.id?"bg-purple-100/50 border-purple-300 shadow-md":"bg-white/80 border-white/60 hover:bg-white"}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(an,{className:"w-4 h-4 text-purple-600"}),i.jsx("span",{className:"text-sm font-medium text-[#222]",children:E.name})]}),E.verified&&i.jsx("span",{className:"text-[10px] bg-green-500/20 text-green-700 px-2 py-0.5 rounded-full font-medium",children:"Snag Verified Zone"})]}),i.jsxs("div",{className:"flex items-center gap-2 ml-6",children:[i.jsx("span",{className:"text-xs text-[#666]",children:E.distance}),i.jsx("span",{className:"text-xs text-[#999]",children:""}),i.jsx("span",{className:"text-xs text-[#666]",children:E.hours})]})]},E.id))})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/60 rounded-3xl border border-white/60 p-4",children:[i.jsxs("h3",{className:"text-[#222] font-semibold mb-3 flex items-center gap-2",children:[i.jsx(Hc,{className:"w-5 h-5 text-purple-600"}),"Meeting Time"]}),i.jsxs("div",{className:"mb-4",children:[i.jsx(Ar,{className:"text-xs text-[#666]",children:"Recommended Time Slots"}),i.jsx("div",{className:"space-y-2 mt-2",children:j.map(E=>i.jsx("button",{onClick:()=>B(E.id),className:`w-full p-3 rounded-xl border transition-all text-left ${l===E.id?"bg-purple-100/50 border-purple-300 shadow-md":"bg-white/80 border-white/60 hover:bg-white"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium text-[#222]",children:E.label}),l===E.id&&i.jsx(En,{className:"w-4 h-4 text-purple-600"})]})},E.id))})]}),i.jsxs("div",{className:"flex items-center gap-3 my-4",children:[i.jsx("div",{className:"flex-1 h-px bg-white/60"}),i.jsx("span",{className:"text-xs text-[#666] font-medium",children:"OR"}),i.jsx("div",{className:"flex-1 h-px bg-white/60"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsxs(Ar,{className:"text-xs text-[#666]",children:["Custom Time ",l&&"(Disabled - slot selected)"]}),i.jsx(Ct,{value:h,onChange:E=>F(E.target.value),placeholder:"HH:MM AM/PM (e.g., 2:30 PM)",disabled:!!l,className:`mt-1 ${l?"opacity-50 cursor-not-allowed":""}`}),x&&i.jsxs("p",{className:"text-xs text-red-600 mt-1 flex items-center gap-1",children:[i.jsx("span",{children:""}),x]})]}),i.jsxs("div",{children:[i.jsxs(Ar,{className:"text-xs text-[#666]",children:["Custom Date ",l&&"(Disabled - slot selected)"]}),i.jsx(Ct,{value:m,onChange:E=>$(E.target.value),placeholder:"MM/DD/YYYY (e.g., 12/25/2024)",disabled:!!l,className:`mt-1 ${l?"opacity-50 cursor-not-allowed":""}`}),k&&i.jsxs("p",{className:"text-xs text-red-600 mt-1 flex items-center gap-1",children:[i.jsx("span",{children:""}),k]}),!k&&m&&i.jsx("p",{className:"text-xs text-green-600 mt-1",children:" Date valid"})]})]}),(l||h&&m&&!x&&!k)&&i.jsx(i.Fragment,{children:T()?i.jsxs("div",{className:"mt-4 p-3 bg-yellow-100 border border-yellow-400 rounded-xl shadow-sm",children:[i.jsx("p",{className:"text-xs font-semibold text-yellow-800 mb-1 flex items-center gap-1",children:" Availability Mismatch"}),i.jsx("p",{className:"text-xs text-yellow-700",children:"You selected a different time or meeting spot than what the seller listed."})]}):i.jsxs("div",{className:"mt-4 p-3 bg-green-50/50 border border-green-200/50 rounded-xl",children:[i.jsx("p",{className:"text-xs text-green-700 font-medium mb-1",children:" Availability Match"}),i.jsx("p",{className:"text-xs text-green-600",children:"This time and location match the sellers original listing."})]})})]}),i.jsx("button",{onClick:z,disabled:!n||!l&&(!h||!m)||!!x||!!k,className:"w-full py-4 rounded-full bg-gradient-to-r from-purple-500 to-purple-600 text-white font-medium hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:shadow-none",children:"Confirm Meeting"})]})]})}function IO({item:r,navigateTo:e}){const[t,n]=N.useState([]),[o,l]=N.useState("");if(!r)return null;const u=()=>{const p={id:Date.now(),url:"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400&h=400&fit=crop"};n([...t,p])},h=p=>{n(t.filter(m=>m.id!==p))};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100",children:[i.jsx("div",{className:"sticky top-0 z-20 backdrop-blur-2xl bg-white/70 border-b border-white/40",children:i.jsxs("div",{className:"max-w-md mx-auto px-4 py-4 flex items-center gap-4",children:[i.jsx("button",{onClick:()=>e("item-detail",r),className:"p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(bt,{className:"w-6 h-6 text-[#222]"})}),i.jsx("h2",{className:"text-[#9333ea] font-semibold text-xl",children:"Barter Offer"})]})}),i.jsxs("div",{className:"max-w-md mx-auto p-4 space-y-4 pb-32",children:[i.jsxs("div",{className:"backdrop-blur-2xl bg-white/70 rounded-3xl p-6 border border-white/60 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:[i.jsx("p",{className:"text-[#555] mb-3 text-sm font-medium",children:"They're offering"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-20 h-20 rounded-2xl overflow-hidden bg-purple-100/50 flex-shrink-0",children:i.jsx(Xn,{src:r.image||r.images?.[0],alt:r.title,className:"w-full h-full object-cover"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-[#222] font-semibold mb-1",children:r.title}),i.jsx("p",{className:"text-[#555] text-sm",children:r.description})]})]})]}),i.jsxs("div",{className:"backdrop-blur-2xl bg-white/70 rounded-3xl p-6 border border-white/60 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:[i.jsx("h3",{className:"text-[#222] font-semibold mb-4",children:"What are you offering?"}),i.jsxs("div",{className:"mb-4",children:[i.jsx("p",{className:"text-[#555] mb-3 text-sm font-medium",children:"Add Photos"}),i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.map(p=>i.jsxs("div",{className:"relative aspect-square group",children:[i.jsx("div",{className:"w-full h-full backdrop-blur-2xl bg-white/70 rounded-2xl border border-white/60 overflow-hidden",children:i.jsx(Xn,{src:p.url,alt:"Offer item",className:"w-full h-full object-cover"})}),i.jsx("button",{onClick:()=>h(p.id),className:"absolute -top-2 -right-2 w-6 h-6 rounded-full bg-red-500 text-white flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity shadow-lg",children:i.jsx(Sn,{className:"w-4 h-4"})})]},p.id)),t.length<6&&i.jsxs("button",{onClick:u,className:"aspect-square backdrop-blur-2xl bg-white/70 rounded-2xl border-2 border-dashed border-purple-300 hover:border-purple-500 hover:bg-white/80 transition-all flex flex-col items-center justify-center gap-2",children:[i.jsx(Zs,{className:"w-6 h-6 text-purple-500"}),i.jsx("span",{className:"text-xs text-purple-600 font-medium",children:"Add photo"})]})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#555] mb-3 text-sm font-medium",children:"Description"}),i.jsx(Fc,{value:o,onChange:p=>l(p.target.value),placeholder:"Describe what you're offering in exchange...",className:"min-h-32 backdrop-blur-xl bg-white/80 border-purple-200/60 rounded-2xl resize-none focus-visible:ring-purple-400/50 text-[#222]"})]})]}),i.jsxs("div",{className:"backdrop-blur-2xl bg-gradient-to-br from-purple-500/10 to-purple-600/10 rounded-3xl p-6 border border-purple-300/40",children:[i.jsx("p",{className:"text-[#222] font-medium mb-3",children:" Quick Tip"}),i.jsx("p",{className:"text-[#555] text-sm font-light",children:"Be specific about condition, brand, and why this is a fair trade. Photos help build trust!"})]}),i.jsxs("div",{className:"backdrop-blur-2xl bg-white/70 rounded-3xl p-6 border border-white/60 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:[i.jsx("h3",{className:"text-[#222] font-semibold mb-4",children:"Offer Status"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center flex-shrink-0",children:i.jsx("span",{className:"text-white text-xs font-semibold",children:"1"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Submit Offer"}),i.jsx("p",{className:"text-[#555] text-sm font-light",children:"You send your proposal"})]})]}),i.jsxs("div",{className:"flex items-center gap-3 opacity-50",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-200 flex items-center justify-center flex-shrink-0",children:i.jsx("span",{className:"text-purple-600 text-xs font-semibold",children:"2"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Seller Reviews"}),i.jsx("p",{className:"text-[#555] text-sm font-light",children:"They accept or counter"})]})]}),i.jsxs("div",{className:"flex items-center gap-3 opacity-50",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-200 flex items-center justify-center flex-shrink-0",children:i.jsx("span",{className:"text-purple-600 text-xs font-semibold",children:"3"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Meet & Exchange"}),i.jsx("p",{className:"text-[#555] text-sm font-light",children:"Complete the trade"})]})]})]})]})]}),i.jsx("div",{className:"fixed bottom-0 left-0 right-0 backdrop-blur-2xl bg-white/70 border-t border-white/40 p-4",children:i.jsxs("div",{className:"max-w-md mx-auto space-y-3",children:[i.jsxs("button",{onClick:()=>e("home"),className:"w-full py-4 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] flex items-center justify-center gap-2",children:[i.jsx(Et,{className:"w-5 h-5",strokeWidth:2.5}),i.jsx("span",{children:"Send Barter Offer"})]}),i.jsx("button",{onClick:()=>e("item-detail",r),className:"w-full py-4 rounded-2xl backdrop-blur-xl bg-white/80 text-[#222] font-medium border border-purple-200/60 shadow-sm transition-transform active:scale-[0.98] flex items-center justify-center",children:i.jsx("span",{children:"Cancel"})})]})})]})}function AO({item:r,counterOffer:e,navigateTo:t,onConfirm:n}){return r?i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100",children:[i.jsx("div",{className:"sticky top-0 z-20 backdrop-blur-2xl bg-white/70 border-b border-white/40",children:i.jsxs("div",{className:"max-w-md mx-auto px-4 py-4 flex items-center gap-4",children:[i.jsx("button",{onClick:()=>t("home"),className:"p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(bt,{className:"w-6 h-6 text-[#222]"})}),i.jsx("h2",{className:"text-[#9333ea] font-semibold text-xl",children:"Counter Offer Received"})]})}),i.jsxs("div",{className:"max-w-md mx-auto p-4 pb-32 space-y-4",children:[i.jsxs("div",{className:"backdrop-blur-xl bg-gradient-to-br from-purple-500/10 to-purple-600/10 rounded-2xl p-4 border border-purple-300/40 text-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center mx-auto mb-3",children:i.jsx(Et,{className:"w-6 h-6 text-white"})}),i.jsx("p",{className:"text-[#222] font-medium mb-1",children:"New Counter Offer!"}),i.jsx("p",{className:"text-[#555] text-sm",children:"The seller has responded with a different item"})]}),i.jsxs("div",{className:"backdrop-blur-2xl bg-white/70 rounded-3xl p-6 border border-white/60 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:[i.jsx("p",{className:"text-[#555] mb-3 text-sm font-medium",children:"You wanted"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-20 h-20 rounded-2xl overflow-hidden bg-purple-100/50 flex-shrink-0",children:i.jsx(Xn,{src:r.image||r.images?.[0],alt:r.title,className:"w-full h-full object-cover"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-[#222] font-semibold mb-1",children:r.title}),i.jsx("p",{className:"text-[#555] text-sm",children:r.description})]})]})]}),i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center",children:i.jsx(Et,{className:"w-5 h-5 text-white"})})}),i.jsxs("div",{className:"backdrop-blur-2xl bg-gradient-to-br from-purple-500/10 to-purple-600/10 rounded-3xl p-6 border border-purple-400/60 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:[i.jsx("p",{className:"text-[#555] mb-3 text-sm font-medium",children:"They're offering instead"}),i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("div",{className:"w-20 h-20 rounded-2xl overflow-hidden bg-white/50 flex-shrink-0",children:i.jsx(Xn,{src:e.image,alt:e.title,className:"w-full h-full object-cover"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-[#222] font-semibold mb-1",children:e.title}),i.jsx("p",{className:"text-[#555] text-sm",children:e.description})]})]}),e.credits!==void 0&&e.credits>0&&i.jsxs("div",{className:"backdrop-blur-xl bg-white/60 rounded-2xl p-3 border border-purple-200/60",children:[i.jsx("p",{className:"text-[#555] text-sm mb-1",children:i.jsx("span",{className:"font-medium",children:"Additional Credits:"})}),i.jsxs("p",{className:"text-purple-600 font-semibold",children:["+",e.credits," Credits"]})]})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-gradient-to-br from-blue-500/10 to-cyan-600/10 rounded-2xl p-4 border border-blue-300/40",children:[i.jsx("p",{className:"text-[#222] font-medium mb-1",children:" What happens next?"}),i.jsx("p",{className:"text-[#555] text-sm",children:"If you accept, you'll coordinate a meeting spot to complete the exchange. If you decline, the seller will be notified."})]})]}),i.jsx("div",{className:"fixed bottom-0 left-0 right-0 backdrop-blur-2xl bg-white/70 border-t border-white/40 p-4",children:i.jsxs("div",{className:"max-w-md mx-auto space-y-3",children:[i.jsxs("button",{onClick:n,className:"w-full py-4 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] flex items-center justify-center gap-2",children:[i.jsx(En,{className:"w-5 h-5"}),i.jsx("span",{children:"Accept Counter Offer"})]}),i.jsx("button",{onClick:()=>t("home"),className:"w-full py-4 rounded-2xl backdrop-blur-xl bg-white/80 text-[#222] font-medium border border-purple-200/60 shadow-sm transition-transform active:scale-[0.98]",children:"Decline"})]})})]}):null}function RO({item:r,meetingSpot:e,navigateTo:t}){return console.log("item:",r),i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100 flex items-center justify-center p-4",children:i.jsxs("div",{className:"max-w-md w-full space-y-6 animate-in fade-in duration-500",children:[i.jsx("div",{className:"sticky top-0 z-20 backdrop-blur-2xl bg-white/70 border-b border-white/40",children:i.jsxs("div",{className:"max-w-md mx-auto px-4 py-4 flex items-center gap-4",children:[i.jsx("button",{onClick:()=>t("home"),className:"p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(bt,{className:"w-6 h-6 text-[#222]"})}),i.jsx("h2",{className:"text-[#9333ea] font-semibold text-xl",children:"Confirmation"})]})}),i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-green-500 to-green-600 flex items-center justify-center shadow-[0_8px_32px_rgba(34,197,94,0.3)] animate-in zoom-in duration-300",children:i.jsx(En,{className:"w-12 h-12 text-white",strokeWidth:2.5})})}),i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-[#222] font-semibold mb-2",children:"Snag Confirmed!"}),i.jsx("p",{className:"text-[#555]",children:"Your meeting has been scheduled"})]}),i.jsxs("div",{className:"backdrop-blur-2xl bg-white/70 rounded-3xl p-6 border border-white/60 shadow-[0_8px_24px_rgba(139,92,246,0.12)] space-y-4",children:[i.jsxs("div",{className:"flex gap-4 pb-4 border-b border-purple-200/40",children:[i.jsx("div",{className:"w-20 h-20 rounded-2xl overflow-hidden bg-purple-100/50 flex-shrink-0",children:r?.image&&i.jsx(Xn,{src:r.images?.[0],alt:r.title,className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-[#222] font-semibold mb-1",children:r?.title}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(Kt,{className:"w-4 h-4 text-yellow-500"}),i.jsxs("span",{className:"text-[#555] text-sm font-medium",children:[r?.credits," Credits"]})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center flex-shrink-0",children:i.jsx(an,{className:"w-5 h-5 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#888] text-sm font-light",children:"Meeting Location"}),i.jsx("p",{className:"text-[#222] font-medium",children:r.meetingSpot})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center flex-shrink-0",children:i.jsx(jh,{className:"w-5 h-5 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#888] text-sm font-light",children:"Scheduled For"}),i.jsx("p",{className:"text-[#222] font-medium",children:r.meetingTime})]})]})]})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-gradient-to-br from-green-500/10 to-emerald-600/10 rounded-2xl p-4 border border-green-300/40",children:[i.jsx("p",{className:"text-green-900 mb-1 font-medium",children:" What's next?"}),i.jsx("p",{className:"text-green-700 text-sm font-light",children:"You'll receive a notification 30 minutes before your meeting. The seller has been notified."})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("button",{onClick:()=>t("home"),className:"w-full py-4 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98]",children:"Back to Home"}),i.jsx("button",{onClick:()=>t("notifications"),className:"w-full py-4 rounded-2xl backdrop-blur-xl bg-white/60 text-[#222] font-medium border border-purple-200/60 shadow-sm transition-transform active:scale-[0.98]",children:"View Notifications"})]})]})})}function PO({isOpen:r,onClose:e,icon:t,title:n,message:o,autoDismiss:l=!0,dismissDelay:u=2500}){return N.useEffect(()=>{if(r&&l){const h=setTimeout(()=>{e()},u);return()=>clearTimeout(h)}},[r,l,u,e]),r?i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/30 backdrop-blur-sm",children:i.jsxs("div",{className:"backdrop-blur-2xl bg-white/90 rounded-3xl p-8 border border-white/60 shadow-[0_24px_48px_rgba(139,92,246,0.3)] max-w-sm w-full text-center animate-in fade-in zoom-in duration-300",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center mx-auto mb-4",children:t||i.jsx(En,{className:"w-8 h-8 text-white",strokeWidth:2.5})}),i.jsx("h3",{className:"text-[#222] font-semibold text-xl mb-2",children:n}),i.jsx("p",{className:"text-[#555]",children:o})]})}):null}function DO({isOpen:r,onClose:e,listing:t,onViewListing:n}){return!r||!t?null:i.jsx("div",{className:"fixed inset-0 z-50 flex items-end justify-center bg-black/30 backdrop-blur-sm",children:i.jsxs("div",{className:"w-full max-w-md backdrop-blur-2xl bg-white/95 rounded-t-3xl border border-white/60 shadow-[0_-8px_32px_rgba(139,92,246,0.2)] max-h-[70vh] overflow-hidden animate-in slide-in-from-bottom duration-300",children:[i.jsxs("div",{className:"sticky top-0 z-10 backdrop-blur-xl bg-white/80 border-b border-purple-100/40 px-6 py-4 flex items-center justify-between",children:[i.jsx("h3",{className:"text-[#222] font-semibold",children:"Listing Posted"}),i.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-purple-100/50 transition-colors",children:i.jsx(Sn,{className:"w-5 h-5 text-[#555]"})})]}),i.jsxs("div",{className:"p-6 space-y-4 overflow-y-auto max-h-[calc(70vh-120px)]",children:[i.jsxs("div",{className:"backdrop-blur-xl bg-gradient-to-br from-green-500/10 to-emerald-600/10 rounded-2xl p-4 border border-green-300/40 text-center",children:[i.jsx("p",{className:"text-green-900 font-medium mb-1",children:" Successfully Posted!"}),i.jsx("p",{className:"text-green-700 text-sm",children:"Your listing is now live and visible to all students"})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/70 rounded-2xl border border-white/60 overflow-hidden",children:[i.jsx("div",{className:"aspect-[4/3] bg-purple-100/50 overflow-hidden",children:i.jsx(Xn,{src:t.image,alt:t.title,className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsx("h4",{className:"text-[#222] font-semibold",children:t.title}),i.jsx("div",{className:"backdrop-blur-xl bg-white/90 rounded-full px-3 py-1 border border-white/60 flex items-center gap-1 flex-shrink-0 ml-2",children:i.jsxs("span",{className:"text-[#222] font-medium text-sm",children:[t.credits," Cr"]})})]}),i.jsx("p",{className:"text-[#555] text-sm mb-3",children:t.description}),t.tags&&t.tags.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:t.tags.map(o=>i.jsx("div",{className:"backdrop-blur-xl bg-purple-100/60 rounded-full px-3 py-1 border border-purple-200/60",children:i.jsx("span",{className:"text-purple-700 text-xs font-medium",children:o})},o))}),t.meetingSpot&&i.jsxs("div",{className:"pt-3 border-t border-purple-200/40",children:[i.jsxs("p",{className:"text-[#555] text-sm mb-1",children:[i.jsx("span",{className:"font-medium",children:"Meeting:"})," ",t.meetingSpot]}),t.meetingTime&&i.jsxs("p",{className:"text-[#555] text-sm",children:[i.jsx("span",{className:"font-medium",children:"Suggested time:"})," ",t.meetingTime]})]})]})]})]}),i.jsx("div",{className:"sticky bottom-0 backdrop-blur-xl bg-white/80 border-t border-purple-100/40 p-6",children:i.jsx("button",{onClick:n,className:"w-full py-4 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] flex items-center justify-center",children:i.jsx("span",{children:"View Full Listing"})})})]})})}function MO({listing:r,navigateTo:e,currentUser:t}){if(!r)return null;const n=r.sellerId===t?.id;return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100 pb-32",children:[i.jsx("div",{className:"sticky top-0 z-20 backdrop-blur-2xl bg-white/70 border-b border-white/40",children:i.jsxs("div",{className:"max-w-md mx-auto px-4 py-4 flex items-center gap-4",children:[i.jsx("button",{onClick:()=>e("profile"),className:"p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(bt,{className:"w-6 h-6 text-[#222]"})}),i.jsx("h2",{className:"text-[#9333ea] font-semibold text-xl",children:"Listing Details"})]})}),i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("div",{className:"aspect-[4/3] bg-purple-100/50 overflow-hidden",children:i.jsx(wE,{images:r.images||[r.image]})}),i.jsxs("div",{className:"px-4 py-6 space-y-4",children:[i.jsxs("div",{className:"backdrop-blur-2xl bg-white/70 rounded-3xl p-6 border border-white/60 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsx("h1",{className:"text-[#222] font-semibold text-2xl flex-1",children:r.title}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/90 rounded-full px-4 py-2 border border-white/60 flex items-center gap-1 ml-3",children:[i.jsx(Kt,{className:"w-4 h-4 text-purple-600"}),i.jsxs("span",{className:"text-[#222] font-semibold",children:[r.credits||0," Cr"]})]})]}),r.tags&&r.tags.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:r.tags.map(o=>i.jsx("div",{className:"backdrop-blur-xl bg-purple-100/60 rounded-full px-3 py-1 border border-purple-200/60",children:i.jsx("span",{className:"text-purple-700 text-xs font-medium",children:o})},o))}),i.jsx("div",{className:"mb-4",children:i.jsx("p",{className:"text-[#555]",children:r.description})}),r.condition&&i.jsx("div",{className:"pt-4 border-t border-purple-200/40",children:i.jsxs("p",{className:"text-[#555] text-sm",children:[i.jsx("span",{className:"font-medium text-[#222]",children:"Condition:"})," ",r.condition]})})]}),i.jsxs("div",{className:"backdrop-blur-2xl bg-white/70 rounded-3xl p-6 border border-white/60 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:[i.jsx("p",{className:"text-[#555] text-sm mb-3",children:"Seller"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Wn,{className:"w-12 h-12 border-2 border-white",children:i.jsx(qn,{className:"bg-gradient-to-br from-purple-400 to-purple-600 text-white font-semibold",children:r.seller?.name?.[0]||"U"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"text-[#222] font-semibold",children:r.seller?.name||"Anonymous"}),r.seller?.verified&&i.jsx(Hr,{variant:"secondary",className:"backdrop-blur-xl bg-green-100/80 text-green-700 border-green-300/40",children:" Verified"})]}),i.jsx("p",{className:"text-[#555] text-sm",children:"Active seller"})]})]})]}),i.jsxs("div",{className:"backdrop-blur-2xl bg-white/70 rounded-3xl p-6 border border-white/60 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:[i.jsx("h3",{className:"text-[#222] font-semibold mb-4",children:"Meeting Details"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center",children:i.jsx(an,{className:"w-5 h-5 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#888] text-sm font-light",children:"Pickup Location"}),i.jsx("p",{className:"text-[#222] font-medium",children:r.meetingSpot||"Main Campus Library Lobby"})]})]}),r.meetingTime&&i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center",children:i.jsx(Hc,{className:"w-5 h-5 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#888] text-sm font-light",children:"Suggested Time"}),i.jsx("p",{className:"text-[#222] font-medium",children:r.meetingTime})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center",children:i.jsx(jh,{className:"w-5 h-5 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#888] text-sm font-light",children:"Posted"}),i.jsx("p",{className:"text-[#222] font-medium",children:r.postedTime||"2 days ago"})]})]})]})]}),i.jsx("div",{className:"backdrop-blur-xl bg-gradient-to-br from-purple-500/10 to-purple-600/10 rounded-2xl p-4 border border-purple-300/40",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Hn,{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium mb-1",children:" Safety Reminder"}),i.jsx("p",{className:"text-[#555] text-sm",children:"Always meet in safe, public campus spaces. Report any suspicious activity."})]})]})})]})]}),!n&&i.jsx("div",{className:"fixed bottom-0 left-0 right-0 backdrop-blur-2xl bg-white/70 border-t border-white/40 p-4",children:i.jsx("div",{className:"max-w-md mx-auto",children:r.isBarter?i.jsxs("button",{onClick:()=>e("barter-offer",r),className:"w-full py-4 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] flex items-center justify-center gap-2",children:[i.jsx(Et,{className:"w-5 h-5",strokeWidth:2.5}),i.jsx("span",{children:"Offer to Barter"})]}):i.jsxs("button",{onClick:()=>e("meeting",r),className:"w-full py-4 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] flex items-center justify-center gap-2",children:[i.jsx(Kt,{className:"w-5 h-5",strokeWidth:2.5}),i.jsxs("span",{children:["Snag Now  ",r.credits," Credits"]})]})})})]})}function OO({navigateTo:r,myListings:e=[]}){return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100 pb-8",children:[i.jsx("div",{className:"sticky top-0 z-20 backdrop-blur-2xl bg-white/70 border-b border-white/40",children:i.jsxs("div",{className:"max-w-md mx-auto px-4 py-4 flex items-center gap-4",children:[i.jsx("button",{onClick:()=>r("profile"),className:"p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(bt,{className:"w-6 h-6 text-[#222]"})}),i.jsx("h2",{className:"text-[#9333ea] font-semibold text-xl",children:"My Listings"})]})}),i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:e.length>0?i.jsx("div",{className:"grid grid-cols-2 gap-3",children:e.map(t=>i.jsxs("button",{onClick:()=>r("full-listing-view",t),className:"backdrop-blur-2xl bg-white/70 rounded-2xl border border-white/60 shadow-sm hover:shadow-[0_8px_24px_rgba(139,92,246,0.15)] transition-all active:scale-[0.98] overflow-hidden text-left",children:[i.jsx("div",{className:"aspect-square bg-purple-100/50 overflow-hidden",children:i.jsx(Xn,{src:t.images?.[0]||t.image,alt:t.title,className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"p-3",children:[i.jsx("h3",{className:"text-[#222] font-semibold text-sm mb-1 line-clamp-2",children:t.title}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"backdrop-blur-xl bg-white/90 rounded-full px-2 py-1 border border-white/60",children:i.jsxs("span",{className:"text-[#222] font-medium text-xs",children:[t.credits," Cr"]})}),i.jsx("div",{className:"backdrop-blur-xl bg-green-100/80 rounded-full px-2 py-1 border border-green-200/60",children:i.jsx("span",{className:"text-green-700 text-xs font-medium",children:"Active"})})]}),i.jsx("p",{className:"text-[#777] text-xs mt-2",children:t.postedTime||"Just now"})]})]},t.id))}):i.jsxs("div",{className:"backdrop-blur-2xl bg-white/70 rounded-3xl p-12 border border-white/60 shadow-[0_8px_24px_rgba(139,92,246,0.12)] text-center",children:[i.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center mx-auto mb-4",children:i.jsx(bs,{className:"w-10 h-10 text-purple-500"})}),i.jsx("h3",{className:"text-[#222] font-semibold mb-2",children:"No listings yet"}),i.jsx("p",{className:"text-[#555] mb-4",children:"Start selling items to see them here"}),i.jsx("button",{onClick:()=>r("create"),className:"px-6 py-3 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98]",children:"Create Listing"})]})})]})}function zn({className:r="",size:e=24}){const{darkMode:t}=St();return i.jsxs("div",{className:"relative",style:{width:e,height:e},children:[i.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"snag-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",style:{stopColor:"#9333ea",stopOpacity:1}}),i.jsx("stop",{offset:"100%",style:{stopColor:"#a855f7",stopOpacity:1}})]})}),i.jsx("path",{d:"M20 7L12 3L4 7M20 7L12 11M20 7V17L12 21M12 11L4 7M12 11V21M4 7V17L12 21",stroke:"url(#snag-gradient)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),i.jsx("path",{d:"M12 3L16 5.5V8.5L12 11L8 8.5V5.5L12 3Z",fill:"url(#snag-gradient)",fillOpacity:"0.3"})]}),i.jsx("div",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 whitespace-nowrap font-bold bg-gradient-to-r from-purple-600 to-purple-500 bg-clip-text text-transparent",style:{fontSize:e*.4},children:"snag"})]})}function LO(){return i.jsxs("div",{className:"h-screen w-full bg-gradient-to-br from-purple-500 via-purple-600 to-purple-700 flex items-center justify-center relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_30%_40%,rgba(255,255,255,0.2)_0%,transparent_50%)]"}),i.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_70%_60%,rgba(255,255,255,0.15)_0%,transparent_50%)]"}),i.jsx("div",{className:"absolute top-20 left-10 w-40 h-40 rounded-full bg-white/10 blur-3xl animate-pulse"}),i.jsx("div",{className:"absolute bottom-32 right-10 w-56 h-56 rounded-full bg-purple-300/20 blur-3xl animate-pulse delay-700"}),i.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-6",children:[i.jsx("div",{className:"backdrop-blur-2xl bg-white/20 rounded-3xl p-8 shadow-[0_8px_32px_rgba(0,0,0,0.1)] border border-white/30",children:i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex flex-col items-center gap-4 mb-4",children:[i.jsx("div",{className:"w-20 h-20 rounded-3xl bg-white/20 backdrop-blur-xl border border-white/40 shadow-lg flex items-center justify-center",children:i.jsx(zn,{className:"text-white",size:48})}),i.jsx("h1",{className:"text-white tracking-wider font-semibold",children:"Snag"})]}),i.jsxs("div",{className:"mt-2 flex items-center justify-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-bounce"}),i.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-bounce delay-150",style:{animationDelay:"150ms"}}),i.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-bounce delay-300",style:{animationDelay:"300ms"}})]})]})}),i.jsx("p",{className:"text-white/90 text-center px-8 font-light",children:"Turn Extras into Essentials."})]})]})}function VO({activeScreen:r,navigateTo:e}){const t=[{id:"home",label:"Home",icon:Uo},{id:"circles-home",label:"Circles",icon:Rr},{id:"create",label:"Create",icon:Zs,isFab:!0},{id:"profile",label:"Profile",icon:pm},{id:"settings",label:"Settings",icon:ZS}];return i.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-30 pb-safe",children:i.jsx("div",{className:"max-w-md mx-auto backdrop-blur-xl bg-white/10 border-t border-white/30 shadow-[0_-8px_24px_rgba(139,92,246,0.08)]",children:i.jsx("div",{className:"flex items-center justify-between px-2 h-20",children:t.map((n,o)=>{const l=n.icon,u=r===n.id;return n.isFab?i.jsxs("div",{className:"flex flex-col items-center justify-end h-full pb-3 px-1",children:[i.jsx("button",{onClick:()=>e("create"),className:"w-14 h-14 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 shadow-[0_8px_24px_rgba(139,92,246,0.4)] flex items-center justify-center hover:scale-105 active:scale-95 transition-transform -mt-7",children:i.jsx(l,{className:"w-6 h-6 text-white",strokeWidth:2.5})}),i.jsx("span",{className:"text-xs font-medium text-purple-600 mt-1",children:n.label})]},n.id):i.jsxs("button",{onClick:()=>e(n.id),className:"flex flex-col items-center justify-end h-full pb-3 min-w-[56px] flex-1",children:[i.jsx(l,{className:"w-6 h-6",strokeWidth:u?2.5:2,style:{color:u?"#9333ea":"#6b7280"}}),i.jsx("span",{className:"text-xs font-medium mt-2",style:{color:u?"#9333ea":"#6b7280"},children:n.label})]},n.id)})})})})}function $O({navigateTo:r}){return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100 pb-24",children:[i.jsx("div",{className:"sticky top-0 z-20 backdrop-blur-xl bg-white/10 border-b border-white/30",children:i.jsxs("div",{className:"max-w-md mx-auto px-4 py-4",children:[i.jsx("h1",{className:"text-[#9333ea] font-semibold",children:"Design System"}),i.jsx("p",{className:"text-[#555] mt-1",children:"Snag Liquid Glass UI"})]})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-8",children:[i.jsxs("section",{children:[i.jsx("h2",{className:"text-[#9333ea] mb-4 font-semibold",children:"Logo"}),i.jsx("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl p-6 border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center shadow-md",children:i.jsx(zn,{className:"text-white",size:32})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-semibold",children:"Box Logo"}),i.jsx("p",{className:"text-[#555] text-sm",children:"Primary app icon"})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white/20 backdrop-blur-xl border border-white/40 flex items-center justify-center",children:i.jsx(zn,{className:"text-purple-600",size:24})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-semibold",children:"Glass Variant"}),i.jsx("p",{className:"text-[#555] text-sm",children:"For light backgrounds"})]})]}),i.jsxs("div",{className:"flex items-center gap-4 bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl p-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white/20 backdrop-blur-xl border border-white/40 flex items-center justify-center",children:i.jsx(zn,{className:"text-white",size:24})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-white font-semibold",children:"On Purple"}),i.jsx("p",{className:"text-white/80 text-sm",children:"Splash & headers"})]})]})]})})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-[#9333ea] mb-4 font-semibold",children:"Typography  Manrope"}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl p-6 border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] space-y-5",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-[#9333ea] font-semibold",children:"Page Title / H1"}),i.jsx("p",{className:"text-[#555] text-sm mt-1",children:"Manrope Semibold 2024px, Purple 600 (#9333ea)"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block",children:"font-semibold text-[#9333ea]"})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-[#222] font-semibold",children:"Heading 2"}),i.jsx("p",{className:"text-[#555] text-sm mt-1",children:"Manrope Semibold 1820px"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block",children:"font-semibold text-[#222]"})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-[#222] font-semibold",children:"Heading 3"}),i.jsx("p",{className:"text-[#555] text-sm mt-1",children:"Manrope Semibold 1618px"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block",children:"font-semibold text-[#222]"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Body Medium"}),i.jsx("p",{className:"text-[#555] text-sm mt-1",children:"Manrope Medium 1416px"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block",children:"font-medium text-[#222]"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#555]",children:"Body Regular"}),i.jsx("p",{className:"text-[#555] text-sm mt-1",children:"Manrope Regular 1416px, for descriptions"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block",children:"text-[#555]"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#555] text-sm font-medium",children:"Caption / Label"}),i.jsx("p",{className:"text-[#555] text-sm mt-1",children:"Manrope Medium 1214px"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block",children:"text-sm font-medium"})]}),i.jsxs("div",{children:[i.jsx("button",{className:"bg-gradient-to-r from-purple-500 to-purple-600 text-white px-6 py-3 rounded-2xl font-semibold",children:"Button Text"}),i.jsx("p",{className:"text-[#555] text-sm mt-2",children:"Manrope Semibold/Bold 16px, centered"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block",children:"font-semibold"})]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-[#9333ea] mb-4 font-semibold",children:"Colors"}),i.jsx("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl p-6 border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-semibold mb-3",children:"Primary Purple"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-500 shadow-md"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Purple 500"}),i.jsx("code",{className:"text-xs text-[#555]",children:"#a855f7"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-600 shadow-md"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Purple 600"}),i.jsx("code",{className:"text-xs text-[#555]",children:"#9333ea"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-purple-500 to-purple-600 shadow-md"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Purple Gradient"}),i.jsx("code",{className:"text-xs text-[#555]",children:"from-purple-500 to-purple-600"})]})]})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-semibold mb-3",children:"Lavender Accents"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-50 border border-purple-200/40"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Purple 50"}),i.jsx("code",{className:"text-xs text-[#555]",children:"#faf5ff"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-100 border border-purple-200/40"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Purple 100"}),i.jsx("code",{className:"text-xs text-[#555]",children:"#f3e8ff"})]})]})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-semibold mb-3",children:"Text Colors"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#222] shadow-md"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Primary Text"}),i.jsx("code",{className:"text-xs text-[#555]",children:"#222222"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#555] shadow-md"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Secondary Text"}),i.jsx("code",{className:"text-xs text-[#555]",children:"#555555"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#888] shadow-md"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Muted Text"}),i.jsx("code",{className:"text-xs text-[#555]",children:"#888888"})]})]})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-semibold mb-3",children:"Glass Overlay Colors"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl backdrop-blur-xl bg-white/10 border border-white/30"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Glass 10%"}),i.jsx("code",{className:"text-xs text-[#555]",children:"bg-white/10 border-white/30"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl backdrop-blur-xl bg-white/20 border border-white/40"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Glass 20%"}),i.jsx("code",{className:"text-xs text-[#555]",children:"bg-white/20 border-white/40"})]})]})]})]})]})})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-[#9333ea] mb-4 font-semibold",children:"Buttons"}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl p-6 border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] space-y-4",children:[i.jsxs("div",{children:[i.jsx("button",{className:"w-full py-4 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] font-semibold",children:"Primary Button (Snag Now)"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block",children:"bg-gradient-to-r from-purple-500 to-purple-600"})]}),i.jsxs("div",{children:[i.jsx("button",{className:"w-full py-4 rounded-2xl backdrop-blur-xl bg-white/20 text-purple-700 border border-white/30 shadow-sm transition-transform active:scale-[0.98] font-semibold",children:"Secondary Button (Barter/Offer)"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block",children:"backdrop-blur-xl bg-white/20"})]}),i.jsxs("div",{children:[i.jsx("button",{className:"w-full py-4 rounded-2xl backdrop-blur-xl bg-white/10 text-[#555] border border-white/20 shadow-sm transition-transform active:scale-[0.98] font-medium",children:"Ghost Button (Cancel)"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block",children:"backdrop-blur-xl bg-white/10"})]}),i.jsxs("div",{className:"flex items-center justify-center gap-3",children:[i.jsx("button",{className:"p-3 rounded-full backdrop-blur-xl bg-white/20 border border-white/30 shadow-sm hover:bg-white/30 transition-colors",children:i.jsx(Uo,{className:"w-6 h-6 text-purple-600"})}),i.jsx("button",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 shadow-[0_8px_24px_rgba(139,92,246,0.4)] flex items-center justify-center transition-transform active:scale-95",children:i.jsx("span",{className:"text-white text-2xl",children:"+"})})]}),i.jsx("p",{className:"text-[#555] text-sm text-center",children:"Icon buttons & FAB"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-[#9333ea] mb-4 font-semibold",children:"Inputs & Fields"}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl p-6 border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Zo,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[#888]"}),i.jsx("input",{type:"text",placeholder:"Search items or descriptions",className:"w-full pl-12 pr-4 py-3 rounded-full backdrop-blur-xl bg-white/20 border border-white/30 shadow-sm placeholder:text-[#888] text-[#222] focus:outline-none focus:ring-2 focus:ring-purple-400/50"})]}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded inline-block",children:"rounded-full backdrop-blur-xl bg-white/20"}),i.jsx("input",{type:"text",placeholder:"Regular text input",className:"w-full px-4 py-3 rounded-2xl backdrop-blur-xl bg-white/20 border border-white/30 shadow-sm placeholder:text-[#888] text-[#222] focus:outline-none focus:ring-2 focus:ring-purple-400/50"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded inline-block",children:"rounded-2xl backdrop-blur-xl bg-white/20"}),i.jsx("textarea",{placeholder:"Description textarea",className:"w-full px-4 py-3 rounded-2xl backdrop-blur-xl bg-white/20 border border-white/30 shadow-sm placeholder:text-[#888] text-[#222] focus:outline-none focus:ring-2 focus:ring-purple-400/50 resize-none",rows:3})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-[#9333ea] mb-4 font-semibold",children:"Tags & Badges"}),i.jsx("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl p-6 border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium mb-2",children:"Category Tags"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("div",{className:"backdrop-blur-xl bg-purple-100/60 rounded-full px-3 py-1.5 border border-purple-200/60 flex items-center gap-1.5",children:[i.jsx(hm,{className:"w-4 h-4 text-purple-600"}),i.jsx("span",{className:"text-purple-700 text-sm font-medium",children:"Textbooks"})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-purple-100/60 rounded-full px-3 py-1.5 border border-purple-200/60 flex items-center gap-1.5",children:[i.jsx(Md,{className:"w-4 h-4 text-purple-600"}),i.jsx("span",{className:"text-purple-700 text-sm font-medium",children:"Furniture"})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-purple-100/60 rounded-full px-3 py-1.5 border border-purple-200/60 flex items-center gap-1.5",children:[i.jsx(fm,{className:"w-4 h-4 text-purple-600"}),i.jsx("span",{className:"text-purple-700 text-sm font-medium",children:"Apparel"})]})]}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block",children:"bg-purple-100/60 border-purple-200/60"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium mb-2",children:"Filter Chips (Active)"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-full px-3 py-1.5 shadow-lg font-medium text-sm",children:"Dorm"}),i.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-full px-3 py-1.5 shadow-lg font-medium text-sm",children:"Electronics"})]}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block",children:"bg-gradient-to-r from-purple-500 to-purple-600"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium mb-2",children:"Filter Chips (Inactive)"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("div",{className:"backdrop-blur-xl bg-white/20 text-[#555] rounded-full px-3 py-1.5 border border-white/30 font-medium text-sm",children:"Kitchen"}),i.jsx("div",{className:"backdrop-blur-xl bg-white/20 text-[#555] rounded-full px-3 py-1.5 border border-white/30 font-medium text-sm",children:"Seasonal"})]}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block",children:"backdrop-blur-xl bg-white/20"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium mb-2",children:"Status Badges"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs(Hr,{className:"backdrop-blur-xl bg-gradient-to-r from-purple-500 to-purple-600 text-white border-0 shadow-lg font-medium flex items-center gap-1.5",children:[i.jsx(Et,{className:"w-4 h-4"}),i.jsx("span",{children:"Barter"})]}),i.jsx(Hr,{className:"backdrop-blur-xl bg-blue-100/60 text-blue-700 border border-blue-200/60 font-medium",children:" .edu Verified"}),i.jsx(Hr,{className:"backdrop-blur-xl bg-green-100/60 text-green-700 border border-green-200/60 font-medium",children:"Active"})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium mb-2",children:"Credit Chips"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("div",{className:"backdrop-blur-xl bg-white/20 rounded-full px-3 py-1.5 border border-white/30 shadow-md flex items-center gap-1.5",children:[i.jsx(Kt,{className:"w-4 h-4 text-yellow-500"}),i.jsx("span",{className:"text-[#222] font-medium",children:"42"})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/20 rounded-full px-3 py-1.5 border border-white/30 shadow-md flex items-center gap-1.5",children:[i.jsx(Kt,{className:"w-4 h-4 text-yellow-500"}),i.jsx("span",{className:"text-[#222] font-medium",children:"15"})]})]})]})]})})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-[#9333ea] mb-4 font-semibold",children:"Cards"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] overflow-hidden",children:[i.jsxs("div",{className:"aspect-[4/3] bg-gradient-to-br from-purple-100 to-lavender-100 flex items-center justify-center relative",children:[i.jsx("span",{className:"text-purple-400 font-medium",children:"Image Placeholder"}),i.jsx("div",{className:"absolute top-3 right-3",children:i.jsxs("div",{className:"backdrop-blur-xl bg-white/20 rounded-full px-3 py-1.5 border border-white/30 shadow-md flex items-center gap-1.5",children:[i.jsx(Kt,{className:"w-4 h-4 text-yellow-500"}),i.jsx("span",{className:"text-[#222] font-medium",children:"15"})]})})]}),i.jsxs("div",{className:"p-4",children:[i.jsx("h3",{className:"text-[#222] font-semibold mb-1",children:"Marketplace Card"}),i.jsx("p",{className:"text-[#555] mb-3 text-sm",children:"Short description goes here"}),i.jsx("div",{className:"flex items-center gap-2 mb-3",children:i.jsxs("div",{className:"backdrop-blur-xl bg-purple-100/60 rounded-full px-3 py-1.5 border border-purple-200/60 flex items-center gap-1.5",children:[i.jsx(Md,{className:"w-3.5 h-3.5 text-purple-600"}),i.jsx("span",{className:"text-purple-700 text-xs font-medium",children:"Furniture"})]})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Wn,{className:"w-6 h-6",children:i.jsx(qn,{className:"bg-gradient-to-br from-purple-400 to-purple-500 text-white text-xs font-medium",children:"JD"})}),i.jsx("span",{className:"text-[#555] text-sm",children:"Seller Name"})]})]})]}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded inline-block",children:"backdrop-blur-xl bg-white/10 rounded-3xl"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-[#9333ea] mb-4 font-semibold",children:"Glass Effects"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl p-6 border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:[i.jsx("p",{className:"text-[#222] font-semibold mb-1",children:"Ultra Glass Panel (10%)"}),i.jsx("p",{className:"text-[#555] text-sm mb-2",children:"Main cards, feed items"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded",children:"backdrop-blur-xl bg-white/10 border-white/30"})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/20 rounded-3xl p-6 border border-white/40 shadow-sm",children:[i.jsx("p",{className:"text-[#222] font-semibold mb-1",children:"Medium Glass Panel (20%)"}),i.jsx("p",{className:"text-[#555] text-sm mb-2",children:"Inputs, secondary cards"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded",children:"backdrop-blur-xl bg-white/20 border-white/40"})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-gradient-to-r from-purple-100/60 to-lavender-100/60 rounded-3xl p-6 border border-purple-200/60",children:[i.jsx("p",{className:"text-[#222] font-semibold mb-1",children:"Gradient Glass Panel"}),i.jsx("p",{className:"text-[#555] text-sm mb-2",children:"Special highlights, mode toggles"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded",children:"from-purple-100/60 to-lavender-100/60"})]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-[#9333ea] mb-4 font-semibold",children:"Border Radius"}),i.jsx("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl p-6 border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-16 h-16 rounded-2xl backdrop-blur-xl bg-purple-500/20 border border-white/30"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"16px / rounded-2xl"}),i.jsx("p",{className:"text-[#555] text-sm",children:"Small cards, icons"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-16 h-16 rounded-3xl backdrop-blur-xl bg-purple-500/20 border border-white/30"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"24px / rounded-3xl"}),i.jsx("p",{className:"text-[#555] text-sm",children:"Main cards, modals"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-16 h-16 rounded-full backdrop-blur-xl bg-purple-500/20 border border-white/30"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Full / rounded-full"}),i.jsx("p",{className:"text-[#555] text-sm",children:"Pills, chips, FAB, avatars"})]})]})]})})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-[#9333ea] mb-4 font-semibold",children:"Blur Levels"}),i.jsx("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl p-6 border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:i.jsxs("div",{className:"space-y-3 relative",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-200 via-purple-300 to-lavender-200 rounded-3xl -z-10"}),i.jsx("div",{className:"backdrop-blur bg-white/20 rounded-2xl p-3 border border-white/30",children:i.jsx("p",{className:"text-[#222] font-medium",children:"backdrop-blur (4px)"})}),i.jsx("div",{className:"backdrop-blur-md bg-white/20 rounded-2xl p-3 border border-white/30",children:i.jsx("p",{className:"text-[#222] font-medium",children:"backdrop-blur-md (12px)"})}),i.jsx("div",{className:"backdrop-blur-xl bg-white/20 rounded-2xl p-3 border border-white/30",children:i.jsx("p",{className:"text-[#222] font-medium",children:"backdrop-blur-xl (1620px)  Primary"})}),i.jsx("div",{className:"backdrop-blur-2xl bg-white/20 rounded-2xl p-3 border border-white/30",children:i.jsx("p",{className:"text-[#222] font-medium",children:"backdrop-blur-2xl (24px)"})})]})})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-[#9333ea] mb-4 font-semibold",children:"Navigation"}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl p-6 border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:[i.jsx("p",{className:"text-[#222] font-medium mb-4",children:"Bottom Navigation Bar"}),i.jsx("div",{className:"backdrop-blur-xl bg-white/10 rounded-2xl border border-white/30 shadow-lg p-4",children:i.jsxs("div",{className:"flex items-center justify-around",children:[i.jsxs("div",{className:"flex flex-col items-center gap-1 text-purple-600",children:[i.jsx(Uo,{className:"w-6 h-6",strokeWidth:2.5}),i.jsx("span",{className:"text-[10px] font-medium",children:"Home"})]}),i.jsxs("div",{className:"flex flex-col items-center gap-1 text-gray-500",children:[i.jsx(tl,{className:"w-6 h-6"}),i.jsx("span",{className:"text-[10px] font-medium",children:"Events"})]}),i.jsx("div",{className:"relative -mt-4 w-14 h-14 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 shadow-[0_8px_24px_rgba(139,92,246,0.4)] flex items-center justify-center",children:i.jsx("span",{className:"text-white text-2xl font-semibold",children:"+"})}),i.jsxs("div",{className:"flex flex-col items-center gap-1 text-gray-500",children:[i.jsx(an,{className:"w-6 h-6"}),i.jsx("span",{className:"text-[10px] font-medium",children:"Profile"})]}),i.jsxs("div",{className:"flex flex-col items-center gap-1 text-gray-500",children:[i.jsx(bs,{className:"w-6 h-6"}),i.jsx("span",{className:"text-[10px] font-medium",children:"Settings"})]})]})}),i.jsx("p",{className:"text-[#555] text-sm mt-3",children:"Active state: Purple 600 (#9333ea), strokeWidth 2.5"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-[#9333ea] mb-4 font-semibold",children:"Icons"}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl p-6 border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:[i.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center",children:i.jsx(zn,{className:"text-white",size:24})}),i.jsx("span",{className:"text-[#555] text-xs text-center",children:"Box Logo"})]}),i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl backdrop-blur-xl bg-white/20 border border-white/30 flex items-center justify-center",children:i.jsx(Et,{className:"w-6 h-6 text-purple-600"})}),i.jsx("span",{className:"text-[#555] text-xs text-center",children:"Barter"})]}),i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl backdrop-blur-xl bg-white/20 border border-white/30 flex items-center justify-center",children:i.jsx(Uo,{className:"w-6 h-6 text-purple-600"})}),i.jsx("span",{className:"text-[#555] text-xs text-center",children:"Home"})]}),i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl backdrop-blur-xl bg-white/20 border border-white/30 flex items-center justify-center",children:i.jsx(tl,{className:"w-6 h-6 text-purple-600"})}),i.jsx("span",{className:"text-[#555] text-xs text-center",children:"Notifications"})]}),i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl backdrop-blur-xl bg-purple-100/60 border border-purple-200/60 flex items-center justify-center",children:i.jsx(hm,{className:"w-6 h-6 text-purple-600"})}),i.jsx("span",{className:"text-[#555] text-xs text-center",children:"Textbooks"})]}),i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl backdrop-blur-xl bg-purple-100/60 border border-purple-200/60 flex items-center justify-center",children:i.jsx(Md,{className:"w-6 h-6 text-purple-600"})}),i.jsx("span",{className:"text-[#555] text-xs text-center",children:"Furniture"})]}),i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl backdrop-blur-xl bg-purple-100/60 border border-purple-200/60 flex items-center justify-center",children:i.jsx(fm,{className:"w-6 h-6 text-purple-600"})}),i.jsx("span",{className:"text-[#555] text-xs text-center",children:"Apparel"})]}),i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl backdrop-blur-xl bg-purple-100/60 border border-purple-200/60 flex items-center justify-center",children:i.jsx(bw,{className:"w-6 h-6 text-purple-600"})}),i.jsx("span",{className:"text-[#555] text-xs text-center",children:"Lab/Tech"})]}),i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl backdrop-blur-xl bg-purple-100/60 border border-purple-200/60 flex items-center justify-center",children:i.jsx(jw,{className:"w-6 h-6 text-purple-600"})}),i.jsx("span",{className:"text-[#555] text-xs text-center",children:"Electronics"})]}),i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl backdrop-blur-xl bg-purple-100/60 border border-purple-200/60 flex items-center justify-center",children:i.jsx(Rw,{className:"w-6 h-6 text-purple-600"})}),i.jsx("span",{className:"text-[#555] text-xs text-center",children:"Kitchen"})]})]}),i.jsx("p",{className:"text-[#555] text-sm mt-4",children:"Lucide React icons, 20-24px standard size"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-[#9333ea] mb-4 font-semibold",children:"Interaction States"}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl p-6 border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] space-y-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium mb-2",children:"Focus State"}),i.jsx("input",{type:"text",placeholder:"Focus ring example",className:"w-full px-4 py-3 rounded-2xl backdrop-blur-xl bg-white/20 border border-white/30 placeholder:text-[#888] text-[#222] focus:outline-none focus:ring-2 focus:ring-purple-400/50"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block",children:"focus:ring-2 focus:ring-purple-400/50"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium mb-2",children:"Active State"}),i.jsx("button",{className:"px-6 py-3 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-lg transition-transform active:scale-[0.98] font-semibold",children:"Press Me"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block ml-3",children:"active:scale-[0.98]"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium mb-2",children:"Hover State"}),i.jsx("button",{className:"px-6 py-3 rounded-2xl backdrop-blur-xl bg-white/20 text-purple-700 border border-white/30 transition-all hover:bg-white/30 font-medium",children:"Hover Me"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block ml-3",children:"hover:bg-white/30"})]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-[#9333ea] mb-4 font-semibold",children:"Shadows"}),i.jsx("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl p-6 border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-2xl p-4 border border-white/30 shadow-sm",children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Subtle Shadow"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-1 inline-block",children:"shadow-sm"})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-2xl p-4 border border-white/30 shadow-md",children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Medium Shadow"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-1 inline-block",children:"shadow-md"})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-2xl p-4 border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Purple Tinted Shadow"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-1 inline-block",children:"shadow-[0_8px_24px_rgba(139,92,246,0.12)]"})]}),i.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 rounded-2xl p-4 shadow-[0_8px_24px_rgba(139,92,246,0.4)]",children:[i.jsx("p",{className:"text-white font-medium",children:"Purple Glow Shadow"}),i.jsx("code",{className:"text-xs text-white/80 bg-white/20 px-2 py-1 rounded mt-1 inline-block",children:"shadow-[0_8px_24px_rgba(139,92,246,0.4)]"})]})]})})]})]})]})}function FO({navigateTo:r}){const[e,t]=N.useState(!0),[n,o]=N.useState(!0),[l,u]=N.useState(!0),[h,p]=N.useState(!1);return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100 pb-24",children:[i.jsx("div",{className:"sticky top-0 z-20 backdrop-blur-xl bg-white/10 border-b border-white/30",children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>r("settings"),className:"p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(bt,{className:"w-6 h-6 text-[#222]"})}),i.jsx("h2",{className:"text-[#9333ea] font-semibold text-xl",children:"Privacy Settings"})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] p-4 space-y-4",children:[i.jsx(Pd,{icon:i.jsx(Ho,{className:"w-5 h-5 text-purple-600"}),title:"Profile Visibility",description:"Allow other students to view your profile",value:e,onChange:t}),i.jsx("div",{className:"border-t border-purple-100/40"}),i.jsx(Pd,{icon:i.jsx(an,{className:"w-5 h-5 text-purple-600"}),title:"Location Sharing",description:"Show your campus location in listings",value:n,onChange:o}),i.jsx("div",{className:"border-t border-purple-100/40"}),i.jsx(Pd,{icon:i.jsx(MS,{className:"w-5 h-5 text-purple-600"}),title:"Allow Messages",description:"Let others contact you about listings",value:l,onChange:u}),i.jsx("div",{className:"border-t border-purple-100/40"}),i.jsx(Pd,{icon:i.jsx(Rr,{className:"w-5 h-5 text-purple-600"}),title:"Active Status",description:"Show when you're online",value:h,onChange:p})]}),i.jsx("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] p-4",children:i.jsx("p",{className:"text-[#666] text-sm leading-relaxed",children:"These settings help you control who can see your information and how others can interact with you on Snag."})})]})]})}function Pd({icon:r,title:e,description:t,value:n,onChange:o}){return i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center flex-shrink-0 mt-1",children:r}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-[#222] font-medium",children:e}),i.jsx("p",{className:"text-[#666] text-sm mt-1",children:t})]}),i.jsx(Nh,{checked:n,onCheckedChange:o,className:"mt-1"})]})}function UO({navigateTo:r}){const[e,t]=N.useState([{id:"1",name:"John Doe",username:"@johndoe",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=John",blockedDate:"2 weeks ago"}]),[n,o]=N.useState(""),l=h=>{t(p=>p.filter(m=>m.id!==h))},u=e.filter(h=>h.name.toLowerCase().includes(n.toLowerCase())||h.username.toLowerCase().includes(n.toLowerCase()));return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100 pb-24",children:[i.jsx("div",{className:"sticky top-0 z-20 backdrop-blur-xl bg-white/10 border-b border-white/30",children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>r("settings"),className:"p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(bt,{className:"w-6 h-6 text-[#222]"})}),i.jsx("h2",{className:"text-[#9333ea] font-semibold text-xl",children:"Blocked Users"})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Zo,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[#999]"}),i.jsx("input",{type:"text",placeholder:"Search blocked users...",value:n,onChange:h=>o(h.target.value),className:"w-full backdrop-blur-xl bg-white/10 border border-white/30 rounded-full pl-12 pr-4 py-3 text-[#222] placeholder:text-[#999] focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),u.length>0?i.jsx("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] overflow-hidden",children:u.map((h,p)=>i.jsxs("div",{className:`p-4 flex items-center gap-3 ${p!==u.length-1?"border-b border-purple-100/40":""}`,children:[i.jsx("img",{src:h.avatar,alt:h.name,className:"w-12 h-12 rounded-full bg-purple-100"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-[#222] font-medium",children:h.name}),i.jsx("p",{className:"text-[#666] text-sm",children:h.username}),i.jsxs("p",{className:"text-[#999] text-xs mt-1",children:["Blocked ",h.blockedDate]})]}),i.jsx("button",{onClick:()=>l(h.id),className:"px-4 py-2 rounded-full bg-purple-600 text-white hover:bg-purple-700 transition-colors text-sm",children:"Unblock"})]},h.id))}):i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] p-8 text-center",children:[i.jsx(fk,{className:"w-12 h-12 text-[#999] mx-auto mb-3"}),i.jsx("h3",{className:"text-[#222] font-medium mb-2",children:"No Blocked Users"}),i.jsx("p",{className:"text-[#666] text-sm",children:n?"No users match your search":"You haven't blocked anyone yet"})]})]})]})}function BO({navigateTo:r}){const e=[{icon:i.jsx(an,{className:"w-5 h-5 text-purple-600"}),title:"Meet in Public Places",description:"Always meet in well-lit, public campus locations. Use designated meeting spots like the Student Union or Library entrance."},{icon:i.jsx(Rr,{className:"w-5 h-5 text-purple-600"}),title:"Bring a Friend",description:"Consider bringing a friend to the meetup, especially for high-value items or first-time trades."},{icon:i.jsx(Ho,{className:"w-5 h-5 text-purple-600"}),title:"Inspect Before You Buy",description:"Always inspect items carefully before completing a transaction. Check for any damage or issues."},{icon:i.jsx(Hn,{className:"w-5 h-5 text-purple-600"}),title:"Trust Your Instincts",description:"If something feels wrong or too good to be true, trust your gut. You can always cancel a meeting."},{icon:i.jsx(En,{className:"w-5 h-5 text-purple-600"}),title:"Verify Seller Identity",description:"Check the seller's trust badges and verification status. Users with verified badges have confirmed their student status."},{icon:i.jsx(Uv,{className:"w-5 h-5 text-purple-600"}),title:"Report Suspicious Activity",description:"If you encounter suspicious behavior or scams, report it immediately to help keep the community safe."}];return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100 pb-24",children:[i.jsx("div",{className:"sticky top-0 z-20 backdrop-blur-xl bg-white/10 border-b border-white/30",children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>r("settings"),className:"p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(bt,{className:"w-6 h-6 text-[#222]"})}),i.jsx("h2",{className:"text-[#9333ea] font-semibold text-xl",children:"Safety Tips"})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[i.jsxs("div",{className:"backdrop-blur-xl bg-gradient-to-br from-purple-500/10 to-purple-600/10 rounded-3xl border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] p-6",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center mb-4",children:i.jsx(Hn,{className:"w-6 h-6 text-white"})}),i.jsx("h3",{className:"text-[#222] font-semibold text-lg mb-2",children:"Stay Safe on Snag"}),i.jsx("p",{className:"text-[#666]",children:"Follow these guidelines to ensure safe and successful transactions with fellow students on campus."})]}),i.jsx("div",{className:"space-y-4",children:e.map((t,n)=>i.jsx("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center flex-shrink-0",children:t.icon}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-[#222] font-medium mb-1",children:t.title}),i.jsx("p",{className:"text-[#666] text-sm leading-relaxed",children:t.description})]})]})},n))}),i.jsx("div",{className:"backdrop-blur-xl bg-red-50/50 border border-red-200/50 rounded-3xl p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(Uv,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-red-900 font-medium mb-1",children:"Emergency Contact"}),i.jsx("p",{className:"text-red-700 text-sm",children:"If you feel unsafe or witness illegal activity, contact Campus Security immediately at (555) 123-4567"})]})]})})]})]})}const hw=["Furniture","Kitchen Supplies","Dorm Decor","Electronics","Clothing","Textbooks","Move-Out Essentials","Cleaning Supplies","Organization","International Student Essentials","Seasonal Items","Halloween","Winter Gear","Plants","Fitness","Gaming","Laundry","Lifestyle"];function zO({navigateTo:r}){const{darkMode:e}=St(),[t,n]=N.useState({name:"Ryan Mehta",username:"@ryanmehta",email:"ryan.mehta@university.edu",bio:"Computer Science major | Love vintage fashion and tech gadgets",campus:"Main Campus",graduationYear:"2025"}),[o,l]=N.useState(["Electronics","Clothing","Textbooks"]),[u,h]=N.useState(""),[p,m]=N.useState([]),[v,x]=N.useState(""),[w,k]=N.useState(""),[P,j]=N.useState(!1),T=z=>{o.includes(z)?l(o.filter(J=>J!==z)):l([...o,z])},M=()=>{const z=u.trim();z&&!p.includes(z)&&!hw.includes(z)&&(m([...p,z]),l([...o,z]),h(""))},B=z=>{m(p.filter(J=>J!==z)),l(o.filter(J=>J!==z))},F=[...hw,...p],$=()=>{if(j(!0),!t.name.trim()){x("Please enter your full name");return}if(!t.bio.trim()||t.bio.trim().length<10){k("Please add at least one sentence");return}nt.success("Profile updated successfully!"),setTimeout(()=>{r("profile")},500)};return i.jsxs("div",{className:`min-h-screen ${e?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"} pb-24`,children:[i.jsx("div",{className:`sticky top-0 z-20 backdrop-blur-xl ${e?"bg-black/70 border-white/10":"bg-white/10 border-white/30"} border-b`,children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>r("settings"),className:`p-2 rounded-full ${e?"hover:bg-white/10":"hover:bg-white/50"} transition-colors`,children:i.jsx(bt,{className:`w-6 h-6 ${e?"text-white":"text-[#222]"}`})}),i.jsx("h2",{className:`${e?"text-white":"text-[#9333ea]"} font-semibold text-xl flex-1`,children:"Edit Profile"}),i.jsxs("button",{onClick:$,className:"px-4 py-2 rounded-full bg-purple-600 text-white hover:bg-purple-700 transition-colors flex items-center gap-2",children:[i.jsx(Tw,{className:"w-4 h-4"}),"Save"]})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[i.jsx("div",{className:`backdrop-blur-xl ${e?"bg-white/10 border-white/20":"bg-white/10 border-white/30"} rounded-3xl border shadow-[0_8px_24px_rgba(139,92,246,0.12)] p-6`,children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:"https://api.dicebear.com/7.x/avataaars/svg?seed=Ryan",alt:"Profile",className:"w-24 h-24 rounded-full bg-purple-100"}),i.jsx("button",{className:"absolute bottom-0 right-0 w-8 h-8 rounded-full bg-purple-600 text-white flex items-center justify-center hover:bg-purple-700 transition-colors",children:i.jsx(ww,{className:"w-4 h-4"})})]}),i.jsx("p",{className:`${e?"text-gray-400":"text-[#666]"} text-sm mt-3`,children:"Click to change photo"})]})}),i.jsxs("div",{className:`backdrop-blur-xl ${e?"bg-white/10 border-white/20":"bg-white/10 border-white/30"} rounded-3xl border shadow-[0_8px_24px_rgba(139,92,246,0.12)] p-4 space-y-4`,children:[i.jsx(mc,{label:"Full Name",value:t.name,onChange:z=>{n({...t,name:z}),x("")},darkMode:e,error:P?v:""}),i.jsx("div",{className:`border-t ${e?"border-white/20":"border-purple-100/40"}`}),i.jsx(mc,{label:"Username",value:t.username,onChange:z=>n({...t,username:z}),darkMode:e}),i.jsx("div",{className:`border-t ${e?"border-white/20":"border-purple-100/40"}`}),i.jsx(mc,{label:"Email",value:t.email,onChange:z=>n({...t,email:z}),type:"email",darkMode:e}),i.jsx("div",{className:`border-t ${e?"border-white/20":"border-purple-100/40"}`}),i.jsx(HO,{label:"Bio",value:t.bio,onChange:z=>{n({...t,bio:z}),k("")},darkMode:e,error:P?w:""})]}),i.jsxs("div",{className:`backdrop-blur-xl ${e?"bg-white/10 border-white/20":"bg-white/10 border-white/30"} rounded-3xl border shadow-[0_8px_24px_rgba(139,92,246,0.12)] p-4 space-y-4`,children:[i.jsx(mc,{label:"Campus",value:t.campus,onChange:z=>n({...t,campus:z}),darkMode:e}),i.jsx("div",{className:`border-t ${e?"border-white/20":"border-purple-100/40"}`}),i.jsx(mc,{label:"Graduation Year",value:t.graduationYear,onChange:z=>n({...t,graduationYear:z}),darkMode:e})]}),i.jsxs("div",{className:`backdrop-blur-xl ${e?"bg-white/10 border-white/20":"bg-white/10 border-white/30"} rounded-3xl border shadow-[0_8px_24px_rgba(139,92,246,0.12)] p-4`,children:[i.jsx("label",{className:`${e?"text-gray-400":"text-[#666]"} text-sm block mb-4`,children:"Your Interests"}),i.jsxs("div",{className:"flex gap-2 mb-4",children:[i.jsx("input",{type:"text",placeholder:"Add custom tag",value:u,onChange:z=>h(z.target.value),onKeyPress:z=>{z.key==="Enter"&&(z.preventDefault(),M())},className:`flex-1 ${e?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"bg-white/50 border-purple-100/50 text-[#222]"} border rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500`}),i.jsx("button",{onClick:M,disabled:!u.trim(),className:"px-4 py-2 rounded-xl bg-purple-600 text-white hover:bg-purple-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center gap-2",children:i.jsx(Zs,{className:"w-4 h-4"})})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:F.map(z=>{const J=o.includes(z),A=p.includes(z);return i.jsxs("button",{onClick:()=>T(z),className:`relative px-3 py-1.5 rounded-full transition-all text-sm ${J?"bg-purple-600 text-white border-purple-600":e?"bg-white/5 text-white/80 border-white/10 hover:bg-white/10 hover:border-white/20":"bg-white/60 text-gray-700 border-purple-200/50 hover:bg-white/80 hover:border-purple-300"} border ${A?"pr-7":""}`,children:[z,A&&i.jsx("button",{onClick:E=>{E.stopPropagation(),B(z)},className:"absolute right-1.5 top-1/2 -translate-y-1/2",children:i.jsx(Sn,{className:"w-3 h-3"})})]},z)})})]})]})]})}function mc({label:r,value:e,onChange:t,type:n="text",darkMode:o,error:l}){return i.jsxs("div",{children:[i.jsx("label",{className:`${o?"text-gray-400":"text-[#666]"} text-sm block mb-2`,children:r}),i.jsx("input",{type:n,value:e,onChange:u=>t(u.target.value),className:`w-full ${o?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"bg-white/50 border-purple-100/50 text-[#222]"} ${l?"border-2 border-red-500":"border"} rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500`}),l&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:l})]})}function HO({label:r,value:e,onChange:t,darkMode:n,error:o}){return i.jsxs("div",{children:[i.jsx("label",{className:`${n?"text-gray-400":"text-[#666]"} text-sm block mb-2`,children:r}),i.jsx("textarea",{value:e,onChange:l=>t(l.target.value),rows:3,className:`w-full ${n?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"bg-white/50 border-purple-100/50 text-[#222]"} ${o?"border-2 border-red-500":"border"} rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none`}),o&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:o})]})}function WO({navigateTo:r}){const[e,t]=N.useState(""),[n,o]=N.useState(""),[l,u]=N.useState(""),[h,p]=N.useState(!1),[m,v]=N.useState(!1),[x,w]=N.useState(!1),k=()=>{if(!e||!n||!l){nt.error("Please fill in all fields");return}if(n!==l){nt.error("New passwords do not match");return}if(n.length<8){nt.error("Password must be at least 8 characters");return}nt.success("Password changed successfully!"),setTimeout(()=>{r("settings")},500)};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100 pb-24",children:[i.jsx("div",{className:"sticky top-0 z-20 backdrop-blur-xl bg-white/10 border-b border-white/30",children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>r("settings"),className:"p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(bt,{className:"w-6 h-6 text-[#222]"})}),i.jsx("h2",{className:"text-[#9333ea] font-semibold text-xl flex-1",children:"Change Password"}),i.jsxs("button",{onClick:k,className:"px-4 py-2 rounded-full bg-purple-600 text-white hover:bg-purple-700 transition-colors flex items-center gap-2",children:[i.jsx(Tw,{className:"w-4 h-4"}),"Save"]})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[i.jsx("div",{className:"backdrop-blur-xl bg-purple-50/50 border border-purple-200/50 rounded-3xl p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(IS,{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-purple-900 font-medium mb-1",children:"Password Requirements"}),i.jsx("p",{className:"text-purple-700 text-sm",children:"Your password must be at least 8 characters long and include a mix of letters, numbers, and symbols."})]})]})}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] p-4 space-y-4",children:[i.jsx(dm,{label:"Current Password",value:e,onChange:t,show:h,onToggleShow:()=>p(!h)}),i.jsx("div",{className:"border-t border-purple-100/40"}),i.jsx(dm,{label:"New Password",value:n,onChange:o,show:m,onToggleShow:()=>v(!m)}),i.jsx("div",{className:"border-t border-purple-100/40"}),i.jsx(dm,{label:"Confirm New Password",value:l,onChange:u,show:x,onToggleShow:()=>w(!x)})]}),i.jsx("div",{className:"text-center",children:i.jsx("button",{className:"text-purple-600 hover:text-purple-700 text-sm",children:"Forgot your current password?"})})]})]})}function dm({label:r,value:e,onChange:t,show:n,onToggleShow:o}){return i.jsxs("div",{children:[i.jsx("label",{className:"text-[#666] text-sm block mb-2",children:r}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:n?"text":"password",value:e,onChange:l=>t(l.target.value),className:"w-full bg-white/50 border border-purple-100/50 rounded-xl px-4 py-2 pr-12 text-[#222] focus:outline-none focus:ring-2 focus:ring-purple-500"}),i.jsx("button",{type:"button",onClick:o,className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#999] hover:text-[#666] transition-colors",children:n?i.jsx(Yd,{className:"w-5 h-5"}):i.jsx(Ho,{className:"w-5 h-5"})})]})]})}function qO({navigateTo:r}){const[e,t]=N.useState("en"),n=[{code:"en",name:"English",nativeName:"English",flag:""},{code:"ko",name:"Korean",nativeName:"",flag:""},{code:"es",name:"Spanish",nativeName:"Espaol",flag:""},{code:"zh",name:"Chinese",nativeName:"",flag:""},{code:"ja",name:"Japanese",nativeName:"",flag:""},{code:"fr",name:"French",nativeName:"Franais",flag:""},{code:"de",name:"German",nativeName:"Deutsch",flag:""},{code:"pt",name:"Portuguese",nativeName:"Portugus",flag:""},{code:"it",name:"Italian",nativeName:"Italiano",flag:""},{code:"ru",name:"Russian",nativeName:"",flag:""},{code:"ar",name:"Arabic",nativeName:"",flag:""},{code:"hi",name:"Hindi",nativeName:"",flag:""}],o=l=>{t(l);const u=n.find(h=>h.code===l);nt.success(`Language changed to ${u?.name}`)};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100 pb-24",children:[i.jsx("div",{className:"sticky top-0 z-20 backdrop-blur-xl bg-white/10 border-b border-white/30",children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>r("settings"),className:"p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(bt,{className:"w-6 h-6 text-[#222]"})}),i.jsx("h2",{className:"text-[#9333ea] font-semibold text-xl",children:"Language"})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[i.jsx("div",{className:"backdrop-blur-xl bg-purple-50/50 border border-purple-200/50 rounded-3xl p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(Ew,{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-purple-900 font-medium mb-1",children:"App Language"}),i.jsx("p",{className:"text-purple-700 text-sm",children:"Select your preferred language. The app will restart to apply changes."})]})]})}),i.jsx("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] overflow-hidden",children:n.map((l,u)=>i.jsxs("button",{onClick:()=>o(l.code),className:`w-full px-4 py-4 flex items-center gap-3 text-left hover:bg-white/50 transition-colors ${u!==n.length-1?"border-b border-purple-100/40":""}`,children:[i.jsx("span",{className:"text-2xl flex-shrink-0",children:l.flag}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-[#222] font-medium",children:l.name}),i.jsx("p",{className:"text-[#666] text-sm",children:l.nativeName})]}),e===l.code&&i.jsx("div",{className:"w-6 h-6 rounded-full bg-purple-600 flex items-center justify-center",children:i.jsx(_w,{className:"w-4 h-4 text-white"})})]},l.code))})]})]})}function GO({navigateTo:r}){const[e,t]=N.useState(""),[n,o]=N.useState(null),l=[{category:"Getting Started",question:"How do I create my first listing?",answer:'Tap the purple + button at the bottom of your screen, fill in the item details including photos, price, and description, then tap "Publish Listing". Your item will be visible to all students on your campus immediately.'},{category:"Getting Started",question:"What are Snag Credits and how do they work?",answer:"Snag Credits are our campus currency. You earn credits by selling items, and can spend them on purchases. 1 credit equals approximately $1. Credits help maintain fairness and trust within the community."},{category:"Barter Mode",question:"How does Barter Mode work?",answer:"Toggle Barter Mode on when creating a listing to trade items instead of using credits. Other students can offer their items in exchange, and you can accept, counter, or decline offers."},{category:"Barter Mode",question:"Can I use both credits and barter?",answer:"Each listing can be either credit-based or barter-based, but not both. However, you can have multiple listings using different payment methods."},{category:"Safety",question:"Where should I meet buyers/sellers?",answer:"Always meet in public, well-lit campus locations. We recommend designated meeting spots like the Student Union entrance, Library lobby, or Campus Center. Never meet in private locations."},{category:"Safety",question:"What are Trust Badges?",answer:"Trust Badges are earned through verified transactions, student verification, and positive community interactions. They help identify reliable sellers and buyers. Verified students have confirmed their .edu email address."},{category:"Account",question:"How do I verify my student status?",answer:"Go to Settings > Edit Profile and verify your university email address. You'll receive a verification link to confirm your student status and earn your first Trust Badge."},{category:"Account",question:"Can I block or report users?",answer:`Yes! Go to any user's profile, tap the three dots, and select "Block User" or "Report User". You can manage blocked users in Settings > Privacy & Safety > Blocked Users.`},{category:"Transactions",question:"What happens after I confirm a purchase?",answer:"After confirming, you'll schedule a meeting time and location with the seller. Credits are held in escrow and released after you confirm receiving the item in good condition."},{category:"Transactions",question:"Can I cancel a transaction?",answer:'You can cancel before meeting. Go to Notifications, find the meeting confirmation, and tap "Cancel Meeting". Credits will be returned immediately. Frequent cancellations may affect your Trust Score.'}],u=l.filter(p=>p.question.toLowerCase().includes(e.toLowerCase())||p.answer.toLowerCase().includes(e.toLowerCase())||p.category.toLowerCase().includes(e.toLowerCase())),h=[...new Set(l.map(p=>p.category))];return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100 pb-24",children:[i.jsx("div",{className:"sticky top-0 z-20 backdrop-blur-xl bg-white/10 border-b border-white/30",children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>r("settings"),className:"p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(bt,{className:"w-6 h-6 text-[#222]"})}),i.jsx("h2",{className:"text-[#9333ea] font-semibold text-xl",children:"Help Center"})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Zo,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[#999]"}),i.jsx("input",{type:"text",placeholder:"Search for help...",value:e,onChange:p=>t(p.target.value),className:"w-full backdrop-blur-xl bg-white/10 border border-white/30 rounded-full pl-12 pr-4 py-3 text-[#222] placeholder:text-[#999] focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),h.map(p=>{const m=u.filter(v=>v.category===p);return m.length===0?null:i.jsxs("div",{children:[i.jsx("h3",{className:"text-[#555] font-medium text-sm px-2 mb-3",children:p}),i.jsx("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] overflow-hidden",children:m.map((v,x)=>{const w=l.indexOf(v),k=n===w;return i.jsxs("div",{children:[i.jsxs("button",{onClick:()=>o(k?null:w),className:"w-full px-4 py-4 flex items-start gap-3 text-left hover:bg-white/50 transition-colors",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-[#222] font-medium",children:v.question}),k&&i.jsx("p",{className:"text-[#666] text-sm mt-2 leading-relaxed",children:v.answer})]}),i.jsx("div",{className:"flex-shrink-0 mt-1",children:k?i.jsx(Nw,{className:"w-5 h-5 text-[#999]"}):i.jsx(rg,{className:"w-5 h-5 text-[#999]"})})]}),x!==m.length-1&&i.jsx("div",{className:"border-b border-purple-100/40"})]},w)})})]},p)}),i.jsxs("div",{className:"backdrop-blur-xl bg-purple-50/50 border border-purple-200/50 rounded-3xl p-4 text-center",children:[i.jsx("h3",{className:"text-purple-900 font-medium mb-2",children:"Still need help?"}),i.jsx("p",{className:"text-purple-700 text-sm mb-4",children:"Can't find what you're looking for? Send us your feedback and we'll get back to you."}),i.jsx("button",{onClick:()=>r("send-feedback"),className:"w-full py-3 rounded-full bg-purple-600 text-white hover:bg-purple-700 transition-colors",children:"Contact Support"})]})]})]})}function KO({navigateTo:r}){const[e,t]=N.useState("general"),[n,o]=N.useState(""),[l,u]=N.useState(""),h=[{id:"general",label:"General Feedback",emoji:""},{id:"bug",label:"Report a Bug",emoji:""},{id:"feature",label:"Feature Request",emoji:""},{id:"safety",label:"Safety Concern",emoji:""}],p=()=>{if(!n||!l){nt.error("Please fill in all fields");return}nt.success("Feedback sent successfully! We'll get back to you soon."),setTimeout(()=>{r("settings")},500)};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100 pb-24",children:[i.jsx("div",{className:"sticky top-0 z-20 backdrop-blur-xl bg-white/10 border-b border-white/30",children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>r("settings"),className:"p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(bt,{className:"w-6 h-6 text-[#222]"})}),i.jsx("h2",{className:"text-[#9333ea] font-semibold text-xl flex-1",children:"Send Feedback"}),i.jsxs("button",{onClick:p,className:"px-4 py-2 rounded-full bg-purple-600 text-white hover:bg-purple-700 transition-colors flex items-center gap-2",children:[i.jsx(XS,{className:"w-4 h-4"}),"Send"]})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[i.jsx("div",{className:"backdrop-blur-xl bg-purple-50/50 border border-purple-200/50 rounded-3xl p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(Sw,{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-purple-900 font-medium mb-1",children:"We'd love to hear from you!"}),i.jsx("p",{className:"text-purple-700 text-sm",children:"Your feedback helps us make Snag better for everyone in the campus community."})]})]})}),i.jsxs("div",{children:[i.jsx("label",{className:"text-[#666] text-sm block mb-3 px-2",children:"Feedback Type"}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:h.map(m=>i.jsxs("button",{onClick:()=>t(m.id),className:`backdrop-blur-xl rounded-2xl border p-4 transition-all ${e===m.id?"bg-purple-100/50 border-purple-300 shadow-[0_4px_16px_rgba(139,92,246,0.2)]":"bg-white/10 border-white/30 hover:bg-white/20"}`,children:[i.jsx("div",{className:"text-2xl mb-2",children:m.emoji}),i.jsx("div",{className:"text-[#222] text-sm font-medium",children:m.label})]},m.id))})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] p-4",children:[i.jsx("label",{className:"text-[#666] text-sm block mb-2",children:"Subject"}),i.jsx("input",{type:"text",value:n,onChange:m=>o(m.target.value),placeholder:"Brief summary of your feedback",className:"w-full bg-white/50 border border-purple-100/50 rounded-xl px-4 py-2 text-[#222] placeholder:text-[#999] focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] p-4",children:[i.jsx("label",{className:"text-[#666] text-sm block mb-2",children:"Message"}),i.jsx("textarea",{value:l,onChange:m=>u(m.target.value),placeholder:"Tell us more about your feedback...",rows:8,className:"w-full bg-white/50 border border-purple-100/50 rounded-xl px-4 py-3 text-[#222] placeholder:text-[#999] focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none"}),i.jsxs("p",{className:"text-[#999] text-xs mt-2",children:[l.length,"/1000 characters"]})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] p-4",children:[i.jsx("label",{className:"text-[#666] text-sm block mb-2",children:"Your Email (Optional)"}),i.jsx("input",{type:"email",placeholder:"your.email@university.edu",className:"w-full bg-white/50 border border-purple-100/50 rounded-xl px-4 py-2 text-[#222] placeholder:text-[#999] focus:outline-none focus:ring-2 focus:ring-purple-500"}),i.jsx("p",{className:"text-[#999] text-xs mt-2",children:"We'll use this to follow up if needed"})]})]})]})}function YO({navigateTo:r,user:e}){const{darkMode:t}=St(),[n,o]=N.useState(null),[l,u]=N.useState([]),[h,p]=N.useState(!0);return N.useEffect(()=>{async function m(){try{if(!e?.id)return;const v=fr(It,"users",e.id),x=await su(v);if(x.exists()){const w={id:x.id,...x.data()};o(w);const k=w.myListings||[];if(k.length>0){const P=ix(yl(It,"listings"),E_("id","in",k.slice(0,10))),T=(await cx(P)).docs.map(M=>({id:M.id,...M.data()}));u(T)}}}catch(v){console.error("Error loading seller profile:",v)}finally{p(!1)}}m()},[e?.id]),h?i.jsx("div",{className:"p-6 text-center",children:"Loading..."}):n?(console.log(n),i.jsxs("div",{className:`min-h-screen ${t?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"}`,children:[i.jsx("div",{className:`sticky top-0 z-20 backdrop-blur-xl ${t?"bg-black/70":"bg-white/10"} border-b`,children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsx("button",{onClick:()=>r("home"),className:"p-2 rounded-full hover:bg-white/10 transition",children:i.jsx(bt,{className:"w-6 h-6"})})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[i.jsx("div",{className:`backdrop-blur-xl rounded-3xl p-6 border shadow-lg ${t?"bg-white/10":"bg-white/70"}`,children:i.jsxs("div",{className:"flex flex-col items-center text-center",children:[i.jsx(Wn,{className:"w-24 h-24 mb-4",children:i.jsx(qn,{className:"bg-purple-500 text-white text-3xl",children:n.name?.charAt(0)})}),i.jsx("h2",{className:"text-2xl font-semibold",children:n.name}),n.verified&&i.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center mt-1",children:i.jsx(En,{className:"w-4 h-4 text-white"})}),i.jsx("p",{className:"text-sm opacity-80 mt-3",children:n.bio||"Campus student selling items"}),i.jsxs("div",{className:"flex gap-6 mt-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1",children:[i.jsx(Cw,{className:"w-5 h-5 text-yellow-500",fill:"currentColor"}),i.jsx("span",{className:"text-xl font-semibold",children:n.trustScore})]}),i.jsx("p",{className:"text-xs opacity-70",children:"Trust"})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1",children:[i.jsx(Et,{className:"w-5 h-5 text-purple-500"}),i.jsx("span",{className:"text-xl font-semibold",children:n.trades})]}),i.jsx("p",{className:"text-xs opacity-70",children:"Trades"})]})]})]})}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold px-2 mb-3",children:["Active Listings (",l.length,")"]}),i.jsx("div",{className:"space-y-3",children:l.map(m=>i.jsxs("button",{onClick:()=>r("item-detail",{...m,seller:n}),className:"w-full backdrop-blur-xl border rounded-2xl p-3 flex gap-3 hover:shadow-lg",children:[i.jsx("div",{className:"w-20 h-20 rounded-xl overflow-hidden",children:i.jsx("img",{src:m.images[0],className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"text-left flex-1",children:[i.jsx("h4",{className:"font-semibold",children:m.title}),m.isTrade?i.jsxs(Hr,{className:"bg-purple-600 text-white flex gap-1 w-fit mt-1",children:[i.jsx(Et,{className:"w-3 h-3"}),"Trade"]}):i.jsxs("p",{className:"opacity-70",children:[m.credits," credits"]})]})]},m.id))})]})]})]})):i.jsx("div",{className:"p-6 text-center",children:"Seller not found."})}const fw=[{id:1,name:"Move-Out Sale 2025",description:"Graduating seniors selling everything!",activePosts:128,coverImage:"https://images.unsplash.com/photo-1580480055273-228ff5388ef8?w=400",isJoined:!0},{id:2,name:"Textbook Exchange",description:"Trade or sell textbooks for all majors",activePosts:94,coverImage:"https://images.unsplash.com/photo-1456513080510-7bf3a84b82f8?w=400",isJoined:!0},{id:3,name:"Tech & Electronics",description:"Laptops, phones, headphones, and more",activePosts:67,coverImage:"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400",isJoined:!1},{id:4,name:"Dorm Furniture",description:"Chairs, desks, shelves for dorm rooms",activePosts:52,coverImage:"https://images.unsplash.com/photo-1580480055273-228ff5388ef8?w=400",isJoined:!1},{id:5,name:"Winter Apparel",description:"Coats, boots, and cold weather gear",activePosts:41,coverImage:"https://images.unsplash.com/photo-1539533018447-63fcce2678e3?w=400",isJoined:!1},{id:6,name:"Free Stuff",description:"Items being given away for free!",activePosts:33,coverImage:"https://images.unsplash.com/photo-1532012197267-da84d127e765?w=400",isJoined:!1}];function QO({navigateTo:r,userCircles:e}){const{darkMode:t}=St(),[n,o]=N.useState(""),u=[...e,...fw].filter(x=>x.isJoined),h=fw,p=x=>{if(!n.trim())return x;const w=n.toLowerCase();return x.filter(k=>k.name.toLowerCase().includes(w)||k.description.toLowerCase().includes(w)||k.category&&k.category.toLowerCase().includes(w))},m=p(u),v=p(h);return i.jsxs("div",{className:`min-h-screen ${t?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"} pb-24`,children:[i.jsx("div",{className:`sticky top-0 z-20 backdrop-blur-xl ${t?"bg-black/70 border-white/10":"bg-white/10 border-white/30"} border-b`,children:i.jsxs("div",{className:"max-w-md mx-auto px-4 py-4",children:[i.jsx("h1",{className:`${t?"text-white":"text-[#9333ea]"} font-semibold text-xl mb-4`,children:"Circles"}),i.jsxs("div",{className:"relative",children:[i.jsx(Zo,{className:`absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 ${t?"text-gray-400":"text-[#888]"}`}),i.jsx("input",{type:"text",placeholder:"Search circles...",value:n,onChange:x=>o(x.target.value),className:`w-full pl-12 pr-4 py-3 rounded-full backdrop-blur-xl ${t?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"bg-white/80 border-white/60 text-[#222] placeholder:text-[#888]"} border shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-400/50`})]})]})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[i.jsxs("button",{onClick:()=>r("create-circle"),className:"w-full py-4 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] flex items-center justify-center gap-2 mx-auto",children:[i.jsx(Zs,{className:"w-5 h-5",strokeWidth:2.5}),i.jsx("span",{children:"Create a Circle"})]}),m.length>0&&i.jsxs("div",{children:[i.jsx("h2",{className:`${t?"text-white":"text-[#222]"} font-semibold text-lg mb-3 px-2`,children:"Your Circles"}),i.jsx("div",{className:"space-y-3",children:m.map(x=>i.jsx(pw,{circle:x,navigateTo:r,darkMode:t},x.id))})]}),i.jsxs("div",{children:[i.jsx("h2",{className:`${t?"text-white":"text-[#222]"} font-semibold text-lg mb-3 px-2`,children:"All Circles"}),v.length>0?i.jsx("div",{className:"space-y-3",children:v.map(x=>i.jsx(pw,{circle:x,navigateTo:r,darkMode:t},x.id))}):i.jsx("div",{className:`backdrop-blur-2xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-2xl border p-8 text-center`,children:i.jsx("p",{className:`${t?"text-gray-400":"text-[#888]"}`,children:"No circles match your search."})})]})]})]})}function pw({circle:r,navigateTo:e,darkMode:t}){return i.jsx("button",{onClick:()=>e("circle-feed",r),className:`w-full backdrop-blur-2xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-2xl border shadow-[0_4px_16px_rgba(139,92,246,0.08)] overflow-hidden hover:shadow-[0_8px_24px_rgba(139,92,246,0.15)] transition-all active:scale-[0.98]`,children:i.jsxs("div",{className:"flex items-center gap-3 p-3",children:[i.jsx("div",{className:"w-20 h-20 rounded-xl overflow-hidden flex-shrink-0",children:i.jsx("img",{src:r.coverImage,alt:r.name,className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"flex-1 text-left",children:[i.jsx("h3",{className:`${t?"text-white":"text-[#222]"} font-semibold text-sm mb-1`,children:r.name}),i.jsx("p",{className:`${t?"text-gray-400":"text-[#555]"} text-xs mb-2 line-clamp-1`,children:r.description}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Rr,{className:"w-3.5 h-3.5 text-purple-500"}),i.jsxs("span",{className:`${t?"text-gray-400":"text-[#999]"} text-xs`,children:[r.activePosts," active posts"]})]})]}),r.isJoined&&i.jsx("div",{className:`${t?"bg-purple-500/20":"bg-purple-100/60"} rounded-full px-3 py-1 border ${t?"border-purple-500/40":"border-purple-200/60"}`,children:i.jsx("span",{className:"text-purple-600 text-xs font-medium",children:"Following"})})]})})}const mw=[{id:1,title:"Calculus Textbook",description:"Like new condition",credits:15,images:["https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?w=400"],tags:["Textbooks"],seller:{name:"Sarah K.",verified:!0,trustScore:4.8,trades:24},isTrade:!1},{id:2,title:"Mini Fridge",description:"Perfect for dorm",credits:0,images:["https://images.unsplash.com/photo-1584568694244-14fbdf83bd30?w=400"],tags:["Dorm"],seller:{name:"Alex P.",verified:!0,trustScore:5,trades:18},isTrade:!0},{id:3,title:"Desk Chair",description:"Ergonomic, great condition",credits:25,images:["https://images.unsplash.com/photo-1580480055273-228ff5388ef8?w=400"],tags:["Furniture"],seller:{name:"Mike R.",verified:!0,trustScore:4.9,trades:31},isTrade:!1}];function XO({navigateTo:r,circle:e,customTags:t=[],onAddCustomTag:n,onRemoveCustomTag:o}){const{darkMode:l}=St(),[u,h]=N.useState(e.isJoined||!1),[p,m]=N.useState("list"),[v,x]=N.useState([]),[w,k]=N.useState(""),j=[...["Textbooks","Furniture","Electronics","Dorm","Apparel"],...t],T=$=>{v.includes($)?x(v.filter(z=>z!==$)):x([...v,$])},M=()=>{w.trim()&&n&&(n(w.trim()),k(""))},B=v.length>0?mw.filter($=>$.tags.some(z=>v.includes(z))):mw,F=e.activePosts===0;return i.jsxs("div",{className:`min-h-screen ${l?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"} pb-8`,children:[i.jsx("div",{className:`sticky top-0 z-20 backdrop-blur-xl ${l?"bg-black/70 border-white/10":"bg-white/10 border-white/30"} border-b`,children:i.jsxs("div",{className:"max-w-md mx-auto px-4 py-4",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("button",{onClick:()=>r("circles-home"),className:`p-2 rounded-full ${l?"hover:bg-white/10":"hover:bg-white/50"} transition-colors`,children:i.jsx(bt,{className:`w-6 h-6 ${l?"text-white":"text-[#222]"}`})}),i.jsx("h2",{className:`${l?"text-white":"text-[#9333ea]"} font-semibold text-xl flex-1`,children:e.name}),i.jsx("button",{onClick:()=>r("circle-about",e),className:`p-2 rounded-full ${l?"hover:bg-white/10":"hover:bg-white/50"} transition-colors`,children:i.jsx(bS,{className:`w-6 h-6 ${l?"text-white":"text-[#222]"}`})})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("p",{className:`${l?"text-gray-400":"text-[#555]"} text-sm mb-3`,children:e.description}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:`${l?"text-gray-400":"text-[#999]"} text-sm`,children:[e.activePosts," posts"]}),i.jsx("button",{onClick:()=>h(!u),className:`px-4 py-2 rounded-full font-medium text-sm transition-all ${u?`${l?"bg-white/10 border-white/20 text-white":"bg-white/60 border-white/60 text-[#555]"} border`:"bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-md"}`,children:u?"Following":"Join Circle"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2 mb-3 no-scrollbar",children:[j.map($=>i.jsx("button",{onClick:()=>T($),className:`px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap transition-all ${v.includes($)?"bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-md":`${l?"bg-white/10 border-white/20 text-gray-300":"bg-white/60 border-white/60 text-[#555]"} border`}`,children:$},$)),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",value:w,onChange:$=>k($.target.value),placeholder:"Add new tag",className:`px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap transition-all ${l?"bg-white/10 border-white/20 text-gray-300":"bg-white/60 border-white/60 text-[#555]"} border`}),i.jsx("button",{onClick:M,className:`absolute right-2 top-1.5 p-1.5 rounded-full transition-colors ${l?"text-gray-400":"text-[#555]"}`,children:i.jsx(Et,{className:"w-3.5 h-3.5"})})]})]}),i.jsx("div",{className:"flex items-center justify-end gap-1",children:i.jsxs("div",{className:`flex items-center gap-1 ${l?"bg-white/10 border-white/20":"bg-white/60 border-white/60"} border rounded-full p-0.5`,children:[i.jsx("button",{onClick:()=>m("list"),className:`p-1.5 rounded-full transition-colors ${p==="list"?"bg-purple-600 text-white":`${l?"text-gray-400":"text-[#555]"}`}`,children:i.jsx(ig,{className:"w-3.5 h-3.5"})}),i.jsx("button",{onClick:()=>m("grid"),className:`p-1.5 rounded-full transition-colors ${p==="grid"?"bg-purple-600 text-white":`${l?"text-gray-400":"text-[#555]"}`}`,children:i.jsx(sg,{className:"w-3.5 h-3.5"})})]})})]})}),i.jsx("div",{className:"max-w-md mx-auto px-4 mt-4",children:F?i.jsx("div",{className:"flex flex-col items-center justify-center py-12 space-y-4",children:i.jsxs("div",{className:`backdrop-blur-xl ${l?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-8 border shadow-[0_8px_24px_rgba(139,92,246,0.12)] text-center space-y-4`,children:[i.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center",children:i.jsx("span",{className:"text-3xl",children:""})}),i.jsx("h3",{className:`${l?"text-white":"text-[#222]"} font-semibold text-lg`,children:"No posts yet"}),i.jsx("p",{className:`${l?"text-gray-400":"text-[#555]"} text-sm`,children:"Be the first to add a post to this circle!"}),i.jsx("button",{onClick:()=>r("create",{prefilledCircle:e}),className:"w-full py-3 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] flex items-center justify-center mx-auto",children:"Post in This Circle"})]})}):p==="list"?i.jsx("div",{className:"space-y-3",children:B.map($=>i.jsx(JO,{item:$,navigateTo:r,darkMode:l,circleName:e.name},$.id))}):i.jsx("div",{className:"grid grid-cols-2 gap-3",children:B.map($=>i.jsx(ZO,{item:$,navigateTo:r,darkMode:l},$.id))})})]})}function JO({item:r,navigateTo:e,darkMode:t,circleName:n}){return i.jsxs("button",{onClick:()=>e("item-detail",{...r,circle:n}),className:`w-full backdrop-blur-2xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-2xl border shadow-[0_4px_16px_rgba(139,92,246,0.08)] overflow-hidden hover:shadow-[0_8px_24px_rgba(139,92,246,0.15)] transition-all active:scale-[0.98]`,children:[i.jsxs("div",{className:"relative h-40",children:[i.jsx("img",{src:r.images[0],alt:r.title,className:"w-full h-full object-cover"}),r.isTrade&&i.jsx("div",{className:"absolute top-2 left-2",children:i.jsxs(Hr,{className:"backdrop-blur-xl bg-gradient-to-r from-purple-500 to-purple-600 text-white border-0 shadow-lg font-medium flex items-center gap-1.5 py-1",children:[i.jsx(Et,{className:"w-3.5 h-3.5"}),i.jsx("span",{className:"text-xs",children:"Trade"})]})}),!r.isTrade&&i.jsx("div",{className:"absolute top-2 right-2",children:i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-white/20":"bg-white/90"} rounded-full px-2.5 py-1 border ${t?"border-white/30":"border-white/60"} shadow-md flex items-center gap-1`,children:[i.jsx(Kt,{className:"w-3.5 h-3.5 text-yellow-500"}),i.jsx("span",{className:`${t?"text-white":"text-[#222]"} text-sm font-medium`,children:r.credits})]})})]}),i.jsxs("div",{className:"p-3 text-left",children:[i.jsx("h3",{className:`${t?"text-white":"text-[#222]"} font-semibold text-sm mb-2 line-clamp-2`,children:r.title}),i.jsxs("button",{onClick:o=>{o.stopPropagation(),e("user-profile",r.seller)},className:"flex items-center gap-1.5 mb-2 hover:opacity-80 transition-opacity",children:[i.jsx(Wn,{className:"w-5 h-5",children:i.jsx(qn,{className:"bg-gradient-to-br from-purple-400 to-purple-500 text-white text-[10px] font-medium",children:r.seller.name.charAt(0)})}),i.jsx("span",{className:`${t?"text-gray-400":"text-[#555]"} text-xs`,children:r.seller.name}),r.seller.verified&&i.jsx("div",{className:"w-3.5 h-3.5 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center",children:i.jsx("span",{className:"text-white text-[8px]",children:""})}),i.jsxs("span",{className:`${t?"text-gray-500":"text-[#999]"} text-xs`,children:[" ",r.seller.trustScore," "]})]}),i.jsx("div",{className:`${t?"bg-purple-500/20 border-purple-500/40":"bg-purple-100/60 border-purple-200/60"} rounded-full px-2 py-0.5 border inline-flex items-center gap-1 w-fit`,children:i.jsxs("span",{className:"text-purple-600 text-[10px] font-medium",children:["Circle: ",n]})})]})]})}function ZO({item:r,navigateTo:e,darkMode:t}){return i.jsxs("button",{onClick:()=>e("item-detail",r),className:`backdrop-blur-2xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-2xl border shadow-[0_4px_16px_rgba(139,92,246,0.08)] overflow-hidden hover:shadow-[0_8px_24px_rgba(139,92,246,0.15)] transition-all active:scale-[0.98]`,children:[i.jsxs("div",{className:"relative aspect-square",children:[i.jsx("img",{src:r.images[0],alt:r.title,className:"w-full h-full object-cover"}),r.isTrade&&i.jsx("div",{className:"absolute top-2 left-2",children:i.jsxs(Hr,{className:"backdrop-blur-xl bg-gradient-to-r from-purple-500 to-purple-600 text-white border-0 shadow-md font-medium flex items-center gap-1 py-0.5 px-2",children:[i.jsx(Et,{className:"w-3 h-3"}),i.jsx("span",{className:"text-[10px]",children:"Trade"})]})}),!r.isTrade&&i.jsx("div",{className:"absolute top-2 right-2",children:i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-white/20":"bg-white/90"} rounded-full px-2 py-0.5 border ${t?"border-white/30":"border-white/60"} shadow-md flex items-center gap-0.5`,children:[i.jsx(Kt,{className:"w-3 h-3 text-yellow-500"}),i.jsx("span",{className:`${t?"text-white":"text-[#222]"} text-xs font-medium`,children:r.credits})]})})]}),i.jsxs("div",{className:"p-2.5",children:[i.jsx("h3",{className:`${t?"text-white":"text-[#222]"} font-semibold text-xs mb-1 line-clamp-2`,children:r.title}),i.jsx("div",{className:"flex items-center gap-1",children:i.jsxs("span",{className:`${t?"text-gray-400":"text-[#999]"} text-[10px]`,children:[r.seller.trustScore," "]})})]})]})}const eL=[{id:1,title:"Calculus Textbook",image:"https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?w=400",credits:15},{id:2,title:"Mini Fridge",image:"https://images.unsplash.com/photo-1584568694244-14fbdf83bd30?w=400",credits:0},{id:3,title:"Desk Chair",image:"https://images.unsplash.com/photo-1580480055273-228ff5388ef8?w=400",credits:25}];function tL({navigateTo:r,circle:e}){const{darkMode:t}=St(),[n,o]=N.useState(e.isJoined||!1),l=["Textbooks","Furniture","Electronics","Dorm"];return i.jsxs("div",{className:`min-h-screen ${t?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"}`,children:[i.jsx("div",{className:`sticky top-0 z-20 backdrop-blur-xl ${t?"bg-black/70 border-white/10":"bg-white/10 border-white/30"} border-b`,children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>r("circle-feed",e),className:`p-2 rounded-full ${t?"hover:bg-white/10":"hover:bg-white/50"} transition-colors`,children:i.jsx(bt,{className:`w-6 h-6 ${t?"text-white":"text-[#222]"}`})}),i.jsx("h2",{className:`${t?"text-white":"text-[#9333ea]"} font-semibold text-xl`,children:"About Circle"})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-6 border shadow-[0_8px_24px_rgba(139,92,246,0.12)]`,children:[i.jsx("div",{className:"w-full h-32 rounded-2xl overflow-hidden mb-4",children:i.jsx("img",{src:e.coverImage,alt:e.name,className:"w-full h-full object-cover"})}),i.jsx("h1",{className:`${t?"text-white":"text-[#222]"} font-semibold text-2xl mb-2`,children:e.name}),i.jsx("p",{className:`${t?"text-gray-400":"text-[#555]"} text-sm mb-4`,children:e.description}),i.jsxs("div",{className:"flex items-center gap-1 mb-4",children:[i.jsx(Rr,{className:"w-4 h-4 text-purple-500"}),i.jsxs("span",{className:`${t?"text-gray-400":"text-[#999]"} text-sm`,children:[e.activePosts," active posts"]})]}),i.jsx("button",{onClick:()=>o(!n),className:`w-full py-3 rounded-2xl font-semibold transition-all flex items-center justify-center mx-auto ${n?`${t?"bg-white/10 border-white/20 text-white":"bg-white/60 border-white/60 text-[#555]"} border`:"bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-md"}`,children:n?"Following":"Join Circle"})]}),i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-6 border shadow-[0_8px_24px_rgba(139,92,246,0.12)]`,children:[i.jsx("h3",{className:`${t?"text-white":"text-[#222]"} font-semibold text-lg mb-3`,children:"Description"}),i.jsxs("p",{className:`${t?"text-gray-300":"text-[#555]"} text-sm leading-relaxed`,children:["This circle is a community space for students to buy, sell, and trade items related to ",e.name.toLowerCase(),". Join to discover great deals, connect with other students, and make sustainable choices by giving items a second life!"]})]}),i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-6 border shadow-[0_8px_24px_rgba(139,92,246,0.12)]`,children:[i.jsx("h3",{className:`${t?"text-white":"text-[#222]"} font-semibold text-lg mb-3`,children:"Guidelines"}),i.jsxs("ul",{className:`${t?"text-gray-300":"text-[#555]"} text-sm space-y-2`,children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-500 font-medium",children:""}),i.jsx("span",{children:"Only post items relevant to this circle's category"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-500 font-medium",children:""}),i.jsx("span",{children:"Be honest about item condition and include clear photos"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-500 font-medium",children:""}),i.jsx("span",{children:"Meet in safe, public campus locations"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-500 font-medium",children:""}),i.jsx("span",{children:"Respect other members and communicate promptly"})]})]})]}),i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-6 border shadow-[0_8px_24px_rgba(139,92,246,0.12)]`,children:[i.jsx("h3",{className:`${t?"text-white":"text-[#222]"} font-semibold text-lg mb-3`,children:"Popular Tags"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(u=>i.jsx("div",{className:`${t?"bg-purple-500/20 border-purple-500/40":"bg-purple-100/60 border-purple-200/60"} rounded-full px-3 py-1.5 border`,children:i.jsx("span",{className:"text-purple-600 text-xs font-medium",children:u})},u))})]}),i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-6 border shadow-[0_8px_24px_rgba(139,92,246,0.12)]`,children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(Iw,{className:"w-5 h-5 text-purple-500"}),i.jsx("h3",{className:`${t?"text-white":"text-[#222]"} font-semibold text-lg`,children:"Popular Listings"})]}),i.jsx("div",{className:"grid grid-cols-3 gap-3",children:eL.map(u=>i.jsxs("button",{onClick:()=>r("item-detail",u),className:`backdrop-blur-xl ${t?"bg-white/10 border-white/20":"bg-white/60 border-white/60"} rounded-xl border overflow-hidden hover:scale-105 transition-transform active:scale-95`,children:[i.jsx("div",{className:"aspect-square",children:i.jsx("img",{src:u.image,alt:u.title,className:"w-full h-full object-cover"})}),i.jsx("div",{className:"p-2",children:i.jsx("p",{className:`${t?"text-white":"text-[#222]"} text-xs font-medium line-clamp-1`,children:u.title})})]},u.id))})]})]})]})}const rL=["Move-Out","Textbooks","Clothing","Tech","Furniture","Kitchen","Sports","Art","Other"];function nL({navigateTo:r,onCreate:e}){const{darkMode:t}=St(),[n,o]=N.useState(""),[l,u]=N.useState(""),[h,p]=N.useState(""),[m,v]=N.useState(""),[x,w]=N.useState(""),[k,P]=N.useState(""),[j,T]=N.useState(""),[M,B]=N.useState(!1),F=()=>{if(B(!0),!n.trim()){w("Please enter a circle name");return}if(!l.trim()){P("Please enter a description");return}if(!h){T("Please select a category");return}const z={id:Date.now(),name:n,description:l,category:h,coverImage:m||"https://images.unsplash.com/photo-1557683316-973673baf926?w=400",activePosts:0,isJoined:!0};nt.success("Circle created successfully!"),e(z)},$=()=>{v("https://images.unsplash.com/photo-1557683316-973673baf926?w=400"),nt.success("Image added!")};return i.jsxs("div",{className:`min-h-screen ${t?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"}`,children:[i.jsx("div",{className:`sticky top-0 z-20 backdrop-blur-xl ${t?"bg-black/70 border-white/10":"bg-white/10 border-white/30"} border-b`,children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>r("circles-home"),className:`p-2 rounded-full ${t?"hover:bg-white/10":"hover:bg-white/50"} transition-colors`,children:i.jsx(bt,{className:`w-6 h-6 ${t?"text-white":"text-[#222]"}`})}),i.jsx("h2",{className:`${t?"text-white":"text-[#9333ea]"} font-semibold text-xl`,children:"Create a Circle"})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6 pb-32",children:[i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-6 border shadow-[0_8px_24px_rgba(139,92,246,0.12)]`,children:[i.jsx(Ar,{htmlFor:"circle-name",className:`${t?"text-white":"text-[#222]"} font-semibold mb-2 block`,children:"Circle Name"}),i.jsx(Ct,{id:"circle-name",value:n,onChange:z=>o(z.target.value),placeholder:"e.g., Move-Out Sale 2025",className:`backdrop-blur-xl ${t?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"bg-white/80 border-purple-200/60 text-[#222] placeholder:text-[#888]"} rounded-2xl focus-visible:ring-purple-400/50`}),M&&x&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:x})]}),i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-6 border shadow-[0_8px_24px_rgba(139,92,246,0.12)]`,children:[i.jsx(Ar,{htmlFor:"description",className:`${t?"text-white":"text-[#222]"} font-semibold mb-2 block`,children:"Description"}),i.jsx(Fc,{id:"description",value:l,onChange:z=>u(z.target.value),placeholder:"Describe what this circle is about...",className:`min-h-32 backdrop-blur-xl ${t?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"bg-white/80 border-purple-200/60 text-[#222] placeholder:text-[#888]"} rounded-2xl resize-none focus-visible:ring-purple-400/50`}),M&&k&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:k})]}),i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-6 border shadow-[0_8px_24px_rgba(139,92,246,0.12)]`,children:[i.jsx(Ar,{className:`${t?"text-white":"text-[#222]"} font-semibold mb-2 block`,children:"Category"}),i.jsxs(KN,{value:h,onValueChange:p,children:[i.jsx(QN,{className:`backdrop-blur-xl ${t?"bg-white/10 border-white/20 text-white":"bg-white/80 border-purple-200/60 text-[#222]"} rounded-2xl focus:ring-purple-400/50`,children:i.jsx(YN,{placeholder:"Select a category"})}),i.jsx(XN,{children:rL.map(z=>i.jsx(Nc,{value:z,children:z},z))})]}),M&&j&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:j})]}),i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-6 border shadow-[0_8px_24px_rgba(139,92,246,0.12)]`,children:[i.jsx(Ar,{className:`${t?"text-white":"text-[#222]"} font-semibold mb-3 block`,children:"Cover Image (Optional)"}),m?i.jsxs("div",{className:"relative w-full h-40 rounded-2xl overflow-hidden mb-3",children:[i.jsx("img",{src:m,alt:"Cover",className:"w-full h-full object-cover"}),i.jsx("button",{onClick:()=>v(""),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2 hover:bg-red-600 transition-colors",children:""})]}):i.jsxs("button",{onClick:$,className:`w-full h-40 ${t?"bg-white/10 border-white/20":"bg-white/80 border-purple-200/60"} rounded-2xl border-2 border-dashed hover:border-purple-500 transition-all flex flex-col items-center justify-center gap-3`,children:[i.jsx(Aw,{className:"w-8 h-8 text-purple-500"}),i.jsx("span",{className:"text-purple-600 font-medium",children:"Add Cover Image"})]})]})]}),i.jsx("div",{className:`fixed bottom-0 left-0 right-0 backdrop-blur-2xl ${t?"bg-black/70 border-white/10":"bg-white/70 border-white/40"} border-t p-4`,children:i.jsx("div",{className:"max-w-md mx-auto",children:i.jsx("button",{onClick:F,className:"w-full py-4 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] flex items-center justify-center mx-auto",children:"Create Circle"})})})]})}function sL({navigateTo:r}){const{darkMode:e}=St(),[t,n]=N.useState("light"),o=t==="dark";return i.jsxs("div",{className:`min-h-screen ${e?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"} pb-24`,children:[i.jsx("div",{className:`sticky top-0 z-20 backdrop-blur-xl ${e?"bg-black/70 border-white/10":"bg-white/10 border-white/30"} border-b`,children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:`${e?"text-white":"text-[#9333ea]"} font-semibold text-xl`,children:"UI Panel"}),i.jsx("p",{className:`${e?"text-gray-400":"text-[#888]"} text-sm mt-1`,children:"Complete Design System"})]}),i.jsxs("div",{className:`flex gap-2 p-1 rounded-full ${e?"bg-white/10":"bg-white/60"}`,children:[i.jsx("button",{onClick:()=>n("light"),className:`px-4 py-2 rounded-full text-sm transition-all ${t==="light"?"bg-purple-600 text-white shadow-lg":e?"text-gray-400 hover:text-white":"text-[#888] hover:text-[#222]"}`,children:"Light"}),i.jsx("button",{onClick:()=>n("dark"),className:`px-4 py-2 rounded-full text-sm transition-all ${t==="dark"?"bg-purple-600 text-white shadow-lg":e?"text-gray-400 hover:text-white":"text-[#888] hover:text-[#222]"}`,children:"Dark"})]})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-8",children:[i.jsx(bn,{title:"Input Fields",darkMode:e,children:i.jsx(wn,{isDark:o,children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mb-2`,children:"Standard Input"}),i.jsx(Ct,{placeholder:"Enter text...",className:`backdrop-blur-xl ${o?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"bg-white/80 border-purple-200/60 text-[#222] placeholder:text-[#888]"} rounded-2xl`})]}),i.jsxs("div",{children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mb-2`,children:"Title Input"}),i.jsx(Ct,{placeholder:"Item title...",className:`backdrop-blur-xl ${o?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"bg-white/80 border-purple-200/60 text-[#222] placeholder:text-[#888]"} rounded-2xl`})]}),i.jsxs("div",{children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mb-2`,children:"Description Field"}),i.jsx(Fc,{placeholder:"Describe your item...",className:`min-h-24 backdrop-blur-xl ${o?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"bg-white/80 border-purple-200/60 text-[#222] placeholder:text-[#888]"} rounded-2xl resize-none`})]}),i.jsxs("div",{children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mb-2`,children:"Time Input (HH:MM AM/PM)"}),i.jsx(Ct,{placeholder:"e.g., 2:30 PM",className:`backdrop-blur-xl ${o?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"bg-white/80 border-purple-200/60 text-[#222] placeholder:text-[#888]"} rounded-2xl`})]}),i.jsxs("div",{children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mb-2`,children:"Date Input (MM/DD/YYYY)"}),i.jsx(Ct,{placeholder:"e.g., 12/25/2024",className:`backdrop-blur-xl ${o?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"bg-white/80 border-purple-200/60 text-[#222] placeholder:text-[#888]"} rounded-2xl`})]}),i.jsxs("div",{children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mb-2`,children:"Search Bar (No Errors)"}),i.jsxs("div",{className:"relative",children:[i.jsx(Zo,{className:`absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 ${o?"text-gray-400":"text-[#888]"}`}),i.jsx("input",{type:"text",placeholder:"Search...",className:`w-full pl-12 pr-4 py-3 rounded-full backdrop-blur-xl ${o?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"bg-white/80 border-white/60 text-[#222] placeholder:text-[#888]"} border shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-400/50`})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mb-2`,children:"Error State - Red Border"}),i.jsx(Ct,{placeholder:"Enter text...",className:`backdrop-blur-xl ${o?"bg-white/10 text-white placeholder:text-gray-400":"bg-white/80 text-[#222] placeholder:text-[#888]"} rounded-2xl border-2 border-red-500`}),i.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Please enter a valid title."})]}),i.jsxs("div",{children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mb-2`,children:"Error State - Description"}),i.jsx(Fc,{placeholder:"Describe your item...",className:`min-h-24 backdrop-blur-xl ${o?"bg-white/10 text-white placeholder:text-gray-400":"bg-white/80 text-[#222] placeholder:text-[#888]"} rounded-2xl resize-none border-2 border-red-500`}),i.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Add at least 50 words."})]})]})})}),i.jsx(bn,{title:"Buttons (Center-Aligned)",darkMode:e,children:i.jsx(wn,{isDark:o,children:i.jsxs("div",{className:"space-y-3",children:[i.jsx("button",{className:"w-full py-4 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] mx-auto flex items-center justify-center",children:"Primary Button"}),i.jsx("button",{className:`w-full py-4 rounded-2xl backdrop-blur-xl ${o?"bg-white/10 border-white/20 text-white":"bg-white/80 border-purple-200/60 text-purple-700"} border shadow-sm transition-transform active:scale-[0.98] mx-auto flex items-center justify-center`,children:"Secondary Button"}),i.jsxs("button",{className:"w-full py-3 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] mx-auto flex items-center justify-center gap-2",children:[i.jsx(bs,{className:"w-5 h-5"}),"Snag Now"]}),i.jsxs("button",{className:"w-full py-3 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] mx-auto flex items-center justify-center gap-2",children:[i.jsx(Et,{className:"w-5 h-5"}),"Offer to Trade"]}),i.jsxs("button",{className:"w-full py-3 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] mx-auto flex items-center justify-center gap-2",children:[i.jsx(Zs,{className:"w-5 h-5",strokeWidth:2.5}),"Create Circle"]}),i.jsx("button",{className:"w-full py-3 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] mx-auto flex items-center justify-center",children:"Post in This Circle"}),i.jsx("button",{className:`w-full py-3 rounded-2xl backdrop-blur-xl ${o?"bg-white/10 border-white/20 text-white":"bg-white/80 border-purple-200/60 text-purple-700"} border shadow-sm transition-transform active:scale-[0.98] mx-auto flex items-center justify-center`,children:"View Full Listing"}),i.jsx("button",{className:"w-full py-3 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] mx-auto flex items-center justify-center",children:"Got It"}),i.jsx("button",{className:"w-full py-3 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] mx-auto flex items-center justify-center",children:"Continue"}),i.jsx("button",{className:`px-6 py-2 rounded-full ${o?"text-white hover:bg-white/10":"text-[#9333ea] hover:bg-white/50"} transition-colors mx-auto flex items-center justify-center`,children:"Back"}),i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("button",{className:"px-6 py-2 rounded-full bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-lg transition-transform active:scale-95",children:"Following"}),i.jsx("button",{className:`px-6 py-2 rounded-full ${o?"bg-white/10 border-white/20 text-white":"bg-white/80 border-purple-200/60 text-purple-700"} border transition-transform active:scale-95`,children:"Join Circle"})]})]})})}),i.jsx(bn,{title:"Cards",darkMode:e,children:i.jsx(wn,{isDark:o,children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm`,children:"Listing Card"}),i.jsxs("div",{className:`backdrop-blur-2xl ${o?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-2xl border shadow-[0_4px_16px_rgba(139,92,246,0.08)] overflow-hidden`,children:[i.jsxs("div",{className:"aspect-[4/3] bg-gradient-to-br from-purple-100 to-lavender-100 flex items-center justify-center relative",children:[i.jsx("span",{className:"text-purple-400 text-sm",children:"Image"}),i.jsx("div",{className:"absolute top-3 right-3",children:i.jsxs("div",{className:`backdrop-blur-xl ${o?"bg-white/20 border-white/30":"bg-white/90 border-white/60"} rounded-full px-3 py-1.5 border shadow-md flex items-center gap-1.5`,children:[i.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gradient-to-br from-yellow-400 to-yellow-500"}),i.jsx("span",{className:`text-xs ${o?"text-white":"text-[#222]"}`,children:"15 Cr"})]})})]}),i.jsxs("div",{className:"p-3",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("button",{className:`${o?"text-white hover:text-purple-400":"text-[#222] hover:text-purple-600"} text-sm transition-colors`,children:"@username"}),i.jsx(En,{className:"w-3.5 h-3.5 text-purple-500"})]}),i.jsx("h3",{className:`${o?"text-white":"text-[#222]"} font-semibold text-sm mb-1`,children:"Vintage Desk Chair"}),i.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[i.jsx("span",{className:`px-2 py-0.5 rounded-full ${o?"bg-white/10 text-gray-300":"bg-purple-100/60 text-purple-700"} text-xs`,children:"Furniture"}),i.jsx("span",{className:`px-2 py-0.5 rounded-full ${o?"bg-white/10 text-gray-300":"bg-purple-100/60 text-purple-700"} text-xs`,children:"Dorm"})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(Hc,{className:`w-3.5 h-3.5 ${o?"text-gray-400":"text-[#999]"}`}),i.jsx("span",{className:`${o?"text-gray-400":"text-[#999]"} text-xs`,children:"12:00 PM  2:00 PM"})]})]})]}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Circle Card"}),i.jsx("div",{className:`backdrop-blur-2xl ${o?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-2xl border shadow-[0_4px_16px_rgba(139,92,246,0.08)] overflow-hidden`,children:i.jsxs("div",{className:"flex items-center gap-3 p-3",children:[i.jsx("div",{className:"w-20 h-20 rounded-xl overflow-hidden flex-shrink-0 bg-gradient-to-br from-purple-100 to-lavender-100",children:i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx("span",{className:"text-purple-400 text-xs",children:"Cover"})})}),i.jsxs("div",{className:"flex-1 text-left",children:[i.jsx("h3",{className:`${o?"text-white":"text-[#222]"} font-semibold text-sm mb-1`,children:"Move-Out Sale 2025"}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#555]"} text-xs mb-2 line-clamp-1`,children:"Graduating seniors selling everything!"}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Rr,{className:"w-3.5 h-3.5 text-purple-500"}),i.jsx("span",{className:`${o?"text-gray-400":"text-[#999]"} text-xs`,children:"128 active posts"})]})]}),i.jsx("div",{className:"px-3 py-1 rounded-full bg-gradient-to-r from-purple-500 to-purple-600 text-white text-xs",children:"Following"})]})}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Empty State Card"}),i.jsx("div",{className:`backdrop-blur-2xl ${o?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-2xl border shadow-[0_4px_16px_rgba(139,92,246,0.08)] p-8`,children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-purple-100 mx-auto mb-3 flex items-center justify-center",children:i.jsx(bs,{className:"w-8 h-8 text-purple-500"})}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm`,children:"No posts yet"})]})})]})})}),i.jsx(bn,{title:"Navigation Components",darkMode:e,children:i.jsx(wn,{isDark:o,children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mb-3`,children:"Bottom Navigation Bar"}),i.jsx("div",{className:`backdrop-blur-2xl ${o?"bg-white/10 border-white/20":"bg-white/60 border-white/40"} rounded-2xl border shadow-lg p-4`,children:i.jsxs("div",{className:"flex items-center justify-around",children:[i.jsxs("div",{className:"flex flex-col items-center gap-1 text-purple-500",children:[i.jsx(Uo,{className:"w-6 h-6 drop-shadow-[0_0_8px_rgba(139,92,246,0.6)]"}),i.jsx("span",{className:"text-[10px]",children:"Home"})]}),i.jsxs("div",{className:`flex flex-col items-center gap-1 ${o?"text-gray-400":"text-gray-500"}`,children:[i.jsx(Rr,{className:"w-6 h-6"}),i.jsx("span",{className:"text-[10px]",children:"Circles"})]}),i.jsx("div",{className:"relative -mt-4 w-14 h-14 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 shadow-[0_8px_24px_rgba(139,92,246,0.4)] flex items-center justify-center",children:i.jsx(Zs,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{className:`flex flex-col items-center gap-1 ${o?"text-gray-400":"text-gray-500"}`,children:[i.jsx(Rr,{className:"w-6 h-6"}),i.jsx("span",{className:"text-[10px]",children:"Profile"})]}),i.jsxs("div",{className:`flex flex-col items-center gap-1 ${o?"text-gray-400":"text-gray-500"}`,children:[i.jsx(an,{className:"w-6 h-6"}),i.jsx("span",{className:"text-[10px]",children:"Settings"})]})]})}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Active vs Inactive States"}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("div",{className:"flex flex-col items-center gap-1 text-purple-500",children:[i.jsx(Uo,{className:"w-6 h-6 drop-shadow-[0_0_8px_rgba(139,92,246,0.6)]"}),i.jsx("span",{className:"text-[10px]",children:"Active"})]}),i.jsxs("div",{className:`flex flex-col items-center gap-1 ${o?"text-gray-400":"text-gray-500"}`,children:[i.jsx(Uo,{className:"w-6 h-6"}),i.jsx("span",{className:"text-[10px]",children:"Inactive"})]})]})]})})}),i.jsx(bn,{title:"Tag System Components",darkMode:e,children:i.jsx(wn,{isDark:o,children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm`,children:"Default Tags"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("span",{className:`px-3 py-1.5 rounded-full ${o?"bg-white/10 border-white/20 text-gray-300":"bg-purple-100/60 border-purple-200/60 text-purple-700"} border text-sm`,children:"Textbook"}),i.jsx("span",{className:`px-3 py-1.5 rounded-full ${o?"bg-white/10 border-white/20 text-gray-300":"bg-purple-100/60 border-purple-200/60 text-purple-700"} border text-sm`,children:"Furniture"}),i.jsx("span",{className:`px-3 py-1.5 rounded-full ${o?"bg-white/10 border-white/20 text-gray-300":"bg-purple-100/60 border-purple-200/60 text-purple-700"} border text-sm`,children:"Apparel"})]}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Active/Selected Tags"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("span",{className:"px-3 py-1.5 rounded-full bg-gradient-to-r from-purple-500 to-purple-600 text-white text-sm shadow-lg",children:"Textbook"}),i.jsx("span",{className:"px-3 py-1.5 rounded-full bg-gradient-to-r from-purple-500 to-purple-600 text-white text-sm shadow-lg",children:"Furniture"})]}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Custom Tag"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:i.jsx("span",{className:`px-3 py-1.5 rounded-full ${o?"bg-purple-500/20 border-purple-400/40 text-purple-300":"bg-purple-200/60 border-purple-300/60 text-purple-700"} border text-sm`,children:"Custom Tag"})}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Add New Tag Button"}),i.jsxs("button",{className:`px-3 py-1.5 rounded-full ${o?"bg-white/10 border-white/20 text-white":"bg-white/80 border-purple-200/60 text-purple-700"} border text-sm hover:border-purple-500 transition-colors flex items-center gap-1.5`,children:[i.jsx(Zs,{className:"w-4 h-4"}),"Add Tag"]})]})})}),i.jsx(bn,{title:"Circle System Components",darkMode:e,children:i.jsx(wn,{isDark:o,children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm`,children:"Circle Header"}),i.jsxs("div",{className:`backdrop-blur-2xl ${o?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-2xl border shadow-[0_4px_16px_rgba(139,92,246,0.08)] overflow-hidden`,children:[i.jsx("div",{className:"h-32 bg-gradient-to-br from-purple-100 to-lavender-100 flex items-center justify-center",children:i.jsx("span",{className:"text-purple-400",children:"Cover Image"})}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{children:[i.jsx("h2",{className:`${o?"text-white":"text-[#222]"} font-semibold text-lg mb-1`,children:"Circle Name"}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#555]"} text-sm`,children:"Circle description goes here"})]}),i.jsx("button",{className:"px-4 py-2 rounded-full bg-gradient-to-r from-purple-500 to-purple-600 text-white text-sm shadow-lg",children:"Following"})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(Rr,{className:"w-4 h-4 text-purple-500"}),i.jsx("span",{className:`${o?"text-gray-400":"text-[#999]"} text-sm`,children:"128 active posts"})]})]})]}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Join/Following Toggle"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{className:"px-6 py-2 rounded-full bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-lg transition-transform active:scale-95",children:"Following"}),i.jsx("button",{className:`px-6 py-2 rounded-full ${o?"bg-white/10 border-white/20 text-white":"bg-white/80 border-purple-200/60 text-purple-700"} border transition-transform active:scale-95`,children:"Join Circle"})]})]})})}),i.jsx(bn,{title:"Notification System",darkMode:e,children:i.jsx(wn,{isDark:o,children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm`,children:"Notification Bell with Badge"}),i.jsxs("div",{className:"relative inline-block",children:[i.jsx(tl,{className:`w-6 h-6 ${o?"text-white":"text-[#222]"}`}),i.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 rounded-full bg-red-500 border-2 border-white"})]}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Notification Row"}),i.jsx("div",{className:`backdrop-blur-2xl ${o?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-2xl border shadow-[0_4px_16px_rgba(139,92,246,0.08)] p-4`,children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center flex-shrink-0",children:i.jsx(bs,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:`${o?"text-white":"text-[#222]"} font-semibold text-sm mb-1`,children:"New listing posted"}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#555]"} text-xs mb-1`,children:"Check out this new item in your feed"}),i.jsx("span",{className:`${o?"text-gray-500":"text-[#999]"} text-xs`,children:"2 hours ago"})]})]})}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Event Types"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsx("p",{className:`${o?"text-gray-300":"text-[#555]"}`,children:" New listing posted"}),i.jsx("p",{className:`${o?"text-gray-300":"text-[#555]"}`,children:" Offer on your trade"}),i.jsx("p",{className:`${o?"text-gray-300":"text-[#555]"}`,children:" Offer accepted / counter-offer"}),i.jsx("p",{className:`${o?"text-gray-300":"text-[#555]"}`,children:" Meeting confirmed"}),i.jsx("p",{className:`${o?"text-gray-300":"text-[#555]"}`,children:" Meeting reminder"}),i.jsx("p",{className:`${o?"text-gray-300":"text-[#555]"}`,children:" New Circle post (if following)"})]})]})})}),i.jsx(bn,{title:"Profile View Components",darkMode:e,children:i.jsx(wn,{isDark:o,children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm`,children:"Profile Header"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Wn,{className:"w-16 h-16",children:i.jsx(qn,{className:"bg-gradient-to-br from-purple-400 to-purple-500 text-white",children:"RM"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:`${o?"text-white":"text-[#222]"} font-semibold`,children:"Ryan Mehta"}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#555]"} text-sm`,children:"@ryanmehta"})]}),i.jsx(En,{className:"w-5 h-5 text-purple-500"})]}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Bio Block"}),i.jsx("div",{className:`${o?"text-gray-300":"text-[#555]"} text-sm`,children:"Computer Science major | Love vintage fashion and tech gadgets"}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Trust Score Bar"}),i.jsxs("div",{className:`backdrop-blur-2xl ${o?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-2xl border shadow-[0_4px_16px_rgba(139,92,246,0.08)] p-4`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:`${o?"text-white":"text-[#222]"} font-semibold text-sm`,children:"Trust Score"}),i.jsx("span",{className:"text-purple-500 font-semibold",children:"92%"})]}),i.jsx("div",{className:"w-full h-2 bg-purple-100 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-purple-600",style:{width:"92%"}})})]})]})})}),i.jsx(bn,{title:"Modal Components",darkMode:e,children:i.jsx(wn,{isDark:o,children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm`,children:"Confirmation Modal"}),i.jsxs("div",{className:`backdrop-blur-2xl ${o?"bg-black/90 border-white/20":"bg-white/95 border-white/60"} rounded-3xl border shadow-[0_16px_48px_rgba(0,0,0,0.3)] p-6 text-center`,children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 mx-auto mb-4 flex items-center justify-center",children:i.jsx(En,{className:"w-8 h-8 text-white"})}),i.jsx("h3",{className:`${o?"text-white":"text-[#222]"} font-semibold text-lg mb-2`,children:"Success!"}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#555]"} text-sm mb-4`,children:"Your action was completed successfully"}),i.jsx("button",{className:"w-full py-3 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98]",children:"Got It"})]}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Error Modal"}),i.jsxs("div",{className:`backdrop-blur-2xl ${o?"bg-black/90 border-white/20":"bg-white/95 border-white/60"} rounded-3xl border shadow-[0_16px_48px_rgba(0,0,0,0.3)] p-6 text-center`,children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-red-500 mx-auto mb-4 flex items-center justify-center",children:i.jsx(Sn,{className:"w-8 h-8 text-white"})}),i.jsx("h3",{className:`${o?"text-white":"text-[#222]"} font-semibold text-lg mb-2`,children:"Error"}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#555]"} text-sm mb-4`,children:"Please check your inputs and try again"}),i.jsx("button",{className:"w-full py-3 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98]",children:"OK"})]})]})})}),i.jsx(bn,{title:"Universal Elements",darkMode:e,children:i.jsx(wn,{isDark:o,children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm`,children:"Section Header"}),i.jsx("h2",{className:`${o?"text-white":"text-[#222]"} font-semibold text-lg`,children:"Section Title"}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Divider"}),i.jsx("div",{className:`border-t ${o?"border-white/20":"border-purple-100/40"}`}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Default Avatar"}),i.jsx(Wn,{className:"w-12 h-12",children:i.jsx(qn,{className:"bg-gradient-to-br from-purple-400 to-purple-500 text-white",children:"AB"})}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Back Arrow"}),i.jsx("button",{className:`p-2 rounded-full ${o?"hover:bg-white/10":"hover:bg-white/50"} transition-colors`,children:i.jsx(bt,{className:`w-6 h-6 ${o?"text-white":"text-[#222]"}`})}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Close Icon"}),i.jsx("button",{className:`p-2 rounded-full ${o?"hover:bg-white/10":"hover:bg-white/50"} transition-colors`,children:i.jsx(Sn,{className:`w-6 h-6 ${o?"text-white":"text-[#222]"}`})}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Placeholder Image"}),i.jsx("div",{className:"w-full h-40 bg-gradient-to-br from-purple-100 to-lavender-100 rounded-2xl flex items-center justify-center",children:i.jsx("span",{className:"text-purple-400",children:"Image Placeholder"})})]})})}),i.jsx(bn,{title:"Toggles & Switches",darkMode:e,children:i.jsx(wn,{isDark:o,children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm`,children:"Trade Toggle"}),i.jsxs("div",{className:`flex items-center justify-between backdrop-blur-xl ${o?"bg-white/10 border-white/20":"bg-gradient-to-r from-purple-100/60 to-lavender-100/60 border-white/60"} rounded-3xl px-4 py-3 border shadow-sm`,children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center",children:i.jsx(Et,{className:"w-4 h-4 text-white"})}),i.jsx("span",{className:`${o?"text-white":"text-[#222]"}`,children:"Trade Mode"})]}),i.jsx(Nh,{})]}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Dark Mode Toggle"}),i.jsxs("div",{className:`flex items-center justify-between backdrop-blur-xl ${o?"bg-white/10 border-white/20":"bg-white/80 border-purple-200/60"} rounded-3xl px-4 py-3 border shadow-sm`,children:[i.jsx("span",{className:`${o?"text-white":"text-[#222]"}`,children:"Dark Mode"}),i.jsx(Nh,{})]})]})})}),i.jsx(bn,{title:"Liquid Glass Effects Reference",darkMode:e,children:i.jsx(wn,{isDark:o,children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:`backdrop-blur-2xl ${o?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-4 border shadow-[0_8px_24px_rgba(139,92,246,0.12)]`,children:[i.jsx("p",{className:`${o?"text-white":"text-[#222]"} mb-1`,children:"Standard Glass Panel"}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm`,children:o?"bg-white/10, border-white/20":"bg-white/70, border-white/60"})]}),i.jsxs("div",{className:`backdrop-blur-xl ${o?"bg-white/10 border-white/20":"bg-white/80 border-white/60"} rounded-3xl p-4 border shadow-sm`,children:[i.jsx("p",{className:`${o?"text-white":"text-[#222]"} mb-1`,children:"Solid Glass Panel"}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm`,children:o?"bg-white/10, border-white/20":"bg-white/80, border-white/60"})]}),i.jsxs("div",{className:`backdrop-blur-xl ${o?"bg-purple-500/20 border-purple-400/40":"bg-gradient-to-r from-purple-100/60 to-lavender-100/60 border-purple-200/60"} rounded-3xl p-4 border shadow-sm`,children:[i.jsx("p",{className:`${o?"text-white":"text-[#222]"} mb-1`,children:"Gradient Glass Panel"}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm`,children:o?"bg-purple-500/20":"from-purple-100/60 to-lavender-100/60"})]})]})})})]})]})}function bn({title:r,children:e,darkMode:t}){return i.jsxs("section",{children:[i.jsx("h2",{className:`${t?"text-white":"text-[#9333ea]"} font-semibold text-lg mb-4`,children:r}),e]})}function wn({isDark:r,children:e}){return i.jsx("div",{className:`backdrop-blur-2xl ${r?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-6 border shadow-[0_8px_24px_rgba(139,92,246,0.12)]`,children:e})}function iL({navigateTo:r}){const{darkMode:e}=St(),[t,n]=N.useState(""),[o,l]=N.useState(""),[u,h]=N.useState(!1),[p,m]=N.useState(""),[v,x]=N.useState(""),w=F=>{const $=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return!F||!$.test(F)?(m("Please enter a valid email."),!1):(m(""),!0)},k=F=>!F||F.length<8?(x("Password must be at least 8 characters."),!1):(x(""),!0),P=F=>{const $=F.target.value;n($),p&&w($)},j=F=>{const $=F.target.value;l($),v&&k($)},{setCredits:T}=dx(),M=async()=>{const F=w(t),$=k(o);if(!(!F||!$))try{const J=(await d4(Nn,t,o)).user;console.log(" Logged in user:",J.uid);const A=await su(fr(It,"users",J.uid));if(A.exists()){const E=A.data();console.log(" User profile:",E),E.credits!==void 0&&T(E.credits)}r("home")}catch(z){console.error(" Login failed:",z.message),z.code==="auth/invalid-credential"||z.code==="auth/wrong-password"?x("Incorrect email or password."):z.code==="auth/user-not-found"?m("No account found with this email."):x("Login failed. Try again later.")}},B=()=>{r("home")};return i.jsx("div",{className:`min-h-screen ${e?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"} px-6 pt-20 pb-12`,children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("div",{className:"flex justify-center mb-12",children:i.jsx(zn,{size:80})}),i.jsxs("div",{className:"mb-6",children:[i.jsx(Ct,{type:"email",placeholder:"Enter your email",value:t,onChange:P,onBlur:()=>t&&w(t),className:`${e?"bg-white/5 border-white/10 text-white placeholder:text-white/40":"bg-white/60 border-purple-200/50"} backdrop-blur-xl ${p?"border-red-500":""}`}),p&&i.jsx("p",{className:"text-red-500 mt-2",children:p})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Ct,{type:u?"text":"password",placeholder:"Enter your password",value:o,onChange:j,onBlur:()=>o&&k(o),className:`${e?"bg-white/5 border-white/10 text-white placeholder:text-white/40":"bg-white/60 border-purple-200/50"} backdrop-blur-xl pr-12 ${v?"border-red-500":""}`}),i.jsx("button",{type:"button",onClick:()=>h(!u),className:`absolute right-3 top-1/2 -translate-y-1/2 ${e?"text-white/60 hover:text-white/80":"text-gray-600 hover:text-gray-800"} transition-colors`,children:u?i.jsx(Yd,{className:"w-5 h-5"}):i.jsx(Ho,{className:"w-5 h-5"})})]}),v&&i.jsx("p",{className:"text-red-500 mt-2",children:v})]}),i.jsx("div",{className:"text-right mb-8",children:i.jsx("button",{onClick:()=>r("forgot-password"),className:`${e?"text-purple-400 hover:text-purple-300":"text-purple-600 hover:text-purple-700"}`,children:"Forgot Password?"})}),i.jsx("div",{className:"flex justify-center mb-6",children:i.jsx("button",{onClick:M,className:"w-full bg-purple-600 hover:bg-purple-700 text-white px-8 py-3 rounded-xl transition-all shadow-lg",children:"Login"})}),i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs("span",{className:e?"text-white/60":"text-gray-600",children:["Don't have an account?"," "]}),i.jsx("button",{onClick:()=>r("signup"),className:`${e?"text-purple-400 hover:text-purple-300":"text-purple-600 hover:text-purple-700"}`,children:"Sign Up"})]}),i.jsx("div",{className:"flex justify-center",children:i.jsx("button",{onClick:B,className:`${e?"text-white/60 hover:text-white/80 border-white/20 hover:border-white/30":"text-gray-600 hover:text-gray-800 border-gray-300 hover:border-gray-400"} border px-8 py-3 rounded-xl transition-all w-full`,children:"Continue as Guest"})})]})})}function oL({navigateTo:r}){const{darkMode:e}=St(),[t,n]=N.useState(""),[o,l]=N.useState(""),[u,h]=N.useState(""),[p,m]=N.useState(""),[v,x]=N.useState(!1),[w,k]=N.useState(!1),[P,j]=N.useState(""),[T,M]=N.useState(""),[B,F]=N.useState(""),[$,z]=N.useState(""),J=le=>!le||le.trim().length===0?(j("Please enter your full name."),!1):(j(""),!0),A=le=>{const Z=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return!le||!Z.test(le)?(M("Enter a valid email."),!1):(M(""),!0)},E=le=>!le||le.length<8?(F("Password must be at least 8 characters."),!1):(F(""),!0),C=le=>!le||le!==u?(z("Passwords do not match."),!1):(z(""),!0),O=le=>{const Z=le.target.value;n(Z),P&&J(Z)},L=le=>{const Z=le.target.value;l(Z),T&&A(Z)},D=le=>{const Z=le.target.value;h(Z),B&&E(Z),p&&C(p)},R=le=>{const Z=le.target.value;m(Z),$&&C(Z)},ge=async()=>{const le=J(t),Z=A(o),re=E(u),q=C(p);if(!(!le||!Z||!re||!q))try{const ae=(await u4(Nn,o,u)).user;await f4(ae,{displayName:t}),await LP(fr(It,"users",ae.uid),{name:t,email:o,credits:40,trustScore:4.5,trades:0,createdAt:new Date}),console.log(" User created and stored:",ae.uid),r("select-interests",{uid:ae.uid,fullName:t,email:o})}catch(de){console.error(" Signup failed:",de.message),de.code==="auth/email-already-in-use"?M("That email is already registered."):de.code==="auth/weak-password"?F("Password should be at least 6 characters."):M("Failed to create account. Try again later.")}};return i.jsx("div",{className:`min-h-screen ${e?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"} px-6 pt-16 pb-12`,children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("div",{className:"flex justify-center mb-12",children:i.jsx(zn,{size:80})}),i.jsxs("div",{className:"mb-6",children:[i.jsx(Ct,{type:"text",placeholder:"Full Name",value:t,onChange:O,onBlur:()=>t&&J(t),className:`${e?"bg-white/5 border-white/10 text-white placeholder:text-white/40":"bg-white/60 border-purple-200/50"} backdrop-blur-xl ${P?"border-red-500":""}`}),P&&i.jsx("p",{className:"text-red-500 mt-2",children:P})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx(Ct,{type:"email",placeholder:"Email address",value:o,onChange:L,onBlur:()=>o&&A(o),className:`${e?"bg-white/5 border-white/10 text-white placeholder:text-white/40":"bg-white/60 border-purple-200/50"} backdrop-blur-xl ${T?"border-red-500":""}`}),T&&i.jsx("p",{className:"text-red-500 mt-2",children:T})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Ct,{type:v?"text":"password",placeholder:"Create password",value:u,onChange:D,onBlur:()=>u&&E(u),className:`${e?"bg-white/5 border-white/10 text-white placeholder:text-white/40":"bg-white/60 border-purple-200/50"} backdrop-blur-xl pr-12 ${B?"border-red-500":""}`}),i.jsx("button",{type:"button",onClick:()=>x(!v),className:`absolute right-3 top-1/2 -translate-y-1/2 ${e?"text-white/60 hover:text-white/80":"text-gray-600 hover:text-gray-800"} transition-colors`,children:v?i.jsx(Yd,{className:"w-5 h-5"}):i.jsx(Ho,{className:"w-5 h-5"})})]}),B&&i.jsx("p",{className:"text-red-500 mt-2",children:B})]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Ct,{type:w?"text":"password",placeholder:"Confirm password",value:p,onChange:R,onBlur:()=>p&&C(p),className:`${e?"bg-white/5 border-white/10 text-white placeholder:text-white/40":"bg-white/60 border-purple-200/50"} backdrop-blur-xl pr-12 ${$?"border-red-500":""}`}),i.jsx("button",{type:"button",onClick:()=>k(!w),className:`absolute right-3 top-1/2 -translate-y-1/2 ${e?"text-white/60 hover:text-white/80":"text-gray-600 hover:text-gray-800"} transition-colors`,children:w?i.jsx(Yd,{className:"w-5 h-5"}):i.jsx(Ho,{className:"w-5 h-5"})})]}),$&&i.jsx("p",{className:"text-red-500 mt-2",children:$})]}),i.jsx("div",{className:"flex justify-center mb-6",children:i.jsx("button",{onClick:ge,className:"w-full bg-purple-600 hover:bg-purple-700 text-white px-8 py-3 rounded-xl transition-all shadow-lg",children:"Next"})}),i.jsxs("div",{className:"text-center",children:[i.jsxs("span",{className:e?"text-white/60":"text-gray-600",children:["Already have an account?"," "]}),i.jsx("button",{onClick:()=>r("login"),className:`${e?"text-purple-400 hover:text-purple-300":"text-purple-600 hover:text-purple-700"}`,children:"Login"})]})]})})}const gw=["Furniture","Kitchen Supplies","Dorm Decor","Electronics","Clothing","Textbooks","Move-Out Essentials","Cleaning Supplies","Organization","International Student Essentials","Seasonal Items","Halloween","Winter Gear","Plants","Fitness","Gaming","Laundry","Lifestyle"];function aL({navigateTo:r,userData:e}){const{darkMode:t}=St(),[n,o]=N.useState([]),[l,u]=N.useState(""),[h,p]=N.useState([]),m=j=>{n.includes(j)?o(n.filter(T=>T!==j)):o([...n,j])},v=()=>{const j=l.trim();j&&!h.includes(j)&&!gw.includes(j)&&(p([...h,j]),o([...n,j]),u(""))},x=j=>{p(h.filter(T=>T!==j)),o(n.filter(T=>T!==j))},w=()=>{const j={...e,interests:n};r("review-profile",j)},k=()=>{const j={...e,interests:[]};r("review-profile",j)},P=[...gw,...h];return i.jsx("div",{className:`min-h-screen ${t?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"} px-6 pt-12 pb-24`,children:i.jsxs("div",{className:"max-w-2xl mx-auto",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:`mb-2 ${t?"text-white":"text-gray-900"}`,children:"Select Your Interests"}),i.jsx("p",{className:t?"text-white/60":"text-gray-600",children:"Choose topics that relate to your needs on campus."})]}),i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Ct,{type:"text",placeholder:"Add custom tag",value:l,onChange:j=>u(j.target.value),onKeyPress:j=>{j.key==="Enter"&&(j.preventDefault(),v())},className:`${t?"bg-white/5 border-white/10 text-white placeholder:text-white/40":"bg-white/60 border-purple-200/50"} backdrop-blur-xl flex-1`}),i.jsxs("button",{onClick:v,disabled:!l.trim(),className:`${t?"bg-purple-600 hover:bg-purple-700 disabled:bg-white/5 disabled:text-white/30":"bg-purple-600 hover:bg-purple-700 disabled:bg-gray-200 disabled:text-gray-400"} text-white px-4 py-2 rounded-xl transition-all disabled:cursor-not-allowed flex items-center gap-2`,children:[i.jsx(Zs,{className:"w-4 h-4"}),"Add"]})]})}),i.jsx("div",{className:"mb-8 max-h-[50vh] overflow-y-auto no-scrollbar",children:i.jsx("div",{className:"flex flex-wrap gap-3",children:P.map(j=>{const T=n.includes(j),M=h.includes(j);return i.jsxs("button",{onClick:()=>m(j),className:`relative px-4 py-2 rounded-full transition-all ${T?"bg-purple-600 text-white border-purple-600":t?"bg-white/5 text-white/80 border-white/10 hover:bg-white/10 hover:border-white/20":"bg-white/60 text-gray-700 border-purple-200/50 hover:bg-white/80 hover:border-purple-300"} border backdrop-blur-xl ${M?"pr-8":""}`,children:[j,M&&i.jsx("button",{onClick:B=>{B.stopPropagation(),x(j)},className:"absolute right-2 top-1/2 -translate-y-1/2",children:i.jsx(Sn,{className:"w-3 h-3"})})]},j)})})}),n.length>0&&i.jsxs("div",{className:`text-center mb-6 ${t?"text-white/60":"text-gray-600"}`,children:[n.length," ",n.length===1?"interest":"interests"," selected"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("button",{onClick:w,className:"w-full bg-purple-600 hover:bg-purple-700 text-white px-8 py-3 rounded-xl transition-all shadow-lg",children:"Continue"})}),i.jsx("div",{className:"flex justify-center",children:i.jsx("button",{onClick:k,className:`w-full ${t?"text-white/60 hover:text-white/80 border-white/20 hover:border-white/30":"text-gray-600 hover:text-gray-800 border-gray-300 hover:border-gray-400"} border px-8 py-3 rounded-xl transition-all`,children:"Skip for now"})})]})]})})}function lL({navigateTo:r,userData:e}){const{darkMode:t}=St(),{fullName:n="",email:o="",interests:l=[]}=e||{},u=()=>{r("home")};return i.jsx("div",{className:`min-h-screen ${t?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"} px-6 pt-12 pb-24`,children:i.jsxs("div",{className:"max-w-2xl mx-auto",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:`mb-2 ${t?"text-white":"text-gray-900"}`,children:"Review Profile Information"}),i.jsx("p",{className:t?"text-white/60":"text-gray-600",children:"Make sure everything looks good before finishing setup."})]}),i.jsxs("div",{className:"space-y-4 mb-8",children:[i.jsxs("div",{className:`${t?"bg-white/5 border-white/10":"bg-white/60 border-purple-200/50"} backdrop-blur-xl rounded-2xl p-6 border`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h3",{className:t?"text-white":"text-gray-900",children:"Name"}),i.jsx("button",{onClick:()=>r("signup"),className:`${t?"text-purple-400 hover:text-purple-300":"text-purple-600 hover:text-purple-700"}`,children:"Edit"})]}),i.jsx("p",{className:t?"text-white/80":"text-gray-700",children:n||"Not provided"})]}),i.jsxs("div",{className:`${t?"bg-white/5 border-white/10":"bg-white/60 border-purple-200/50"} backdrop-blur-xl rounded-2xl p-6 border`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h3",{className:t?"text-white":"text-gray-900",children:"Email"}),i.jsx("button",{onClick:()=>r("signup"),className:`${t?"text-purple-400 hover:text-purple-300":"text-purple-600 hover:text-purple-700"}`,children:"Edit"})]}),i.jsx("p",{className:t?"text-white/80":"text-gray-700",children:o||"Not provided"})]}),i.jsxs("div",{className:`${t?"bg-white/5 border-white/10":"bg-white/60 border-purple-200/50"} backdrop-blur-xl rounded-2xl p-6 border`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx("h3",{className:t?"text-white":"text-gray-900",children:"Interests"}),i.jsx("button",{onClick:()=>r("select-interests",e),className:`${t?"text-purple-400 hover:text-purple-300":"text-purple-600 hover:text-purple-700"}`,children:"Edit"})]}),l.length>0?i.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(h=>i.jsx("span",{className:`${t?"bg-purple-600/20 text-purple-300 border-purple-500/30":"bg-purple-100 text-purple-700 border-purple-300"} px-3 py-1 rounded-full border`,children:h},h))}):i.jsx("p",{className:t?"text-white/60":"text-gray-600",children:"No interests selected"})]})]}),i.jsx("div",{className:"flex justify-center",children:i.jsx("button",{onClick:u,className:"w-full bg-purple-600 hover:bg-purple-700 text-white px-8 py-3 rounded-xl transition-all shadow-lg",children:"Finish Setup"})})]})})}function cL({navigateTo:r}){const{darkMode:e}=St(),[t,n]=N.useState(""),[o,l]=N.useState(""),[u,h]=N.useState(!1),p=w=>{const k=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return!w||!k.test(w)?(l("Enter a valid email."),!1):(l(""),!0)},m=w=>{const k=w.target.value;n(k),o&&p(k)},v=()=>{p(t)&&h(!0)},x=()=>{h(!1),r("login")};return u?i.jsx("div",{className:`min-h-screen ${e?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"} px-6 flex items-center justify-center`,children:i.jsx("div",{className:`${e?"bg-white/5 border-white/10":"bg-white/80 border-purple-200/50"} backdrop-blur-xl rounded-3xl p-8 border max-w-md w-full`,children:i.jsxs("div",{className:"flex flex-col items-center text-center",children:[i.jsx("div",{className:"bg-purple-600 rounded-full p-4 mb-6",children:i.jsx(En,{className:"w-12 h-12 text-white"})}),i.jsx("h2",{className:`mb-3 ${e?"text-white":"text-gray-900"}`,children:"Check Your Email"}),i.jsxs("p",{className:`mb-8 ${e?"text-white/60":"text-gray-600"}`,children:["We've sent you a reset link to ",t]}),i.jsx("button",{onClick:x,className:"w-full bg-purple-600 hover:bg-purple-700 text-white px-8 py-3 rounded-xl transition-all shadow-lg",children:"Back to Login"})]})})}):i.jsx("div",{className:`min-h-screen ${e?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"} px-6 pt-12 pb-12`,children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsxs("button",{onClick:()=>r("login"),className:`mb-8 flex items-center gap-2 ${e?"text-white/60 hover:text-white/80":"text-gray-600 hover:text-gray-800"} transition-colors`,children:[i.jsx(bt,{className:"w-5 h-5"}),"Back to Login"]}),i.jsx("div",{className:"flex justify-center mb-12",children:i.jsx(zn,{size:80})}),i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:`mb-2 ${e?"text-white":"text-gray-900"}`,children:"Forgot Password?"}),i.jsx("p",{className:e?"text-white/60":"text-gray-600",children:"Enter your email and we'll send you a reset link."})]}),i.jsxs("div",{className:"mb-8",children:[i.jsx(Ct,{type:"email",placeholder:"Enter your email",value:t,onChange:m,onBlur:()=>t&&p(t),className:`${e?"bg-white/5 border-white/10 text-white placeholder:text-white/40":"bg-white/60 border-purple-200/50"} backdrop-blur-xl ${o?"border-red-500":""}`}),o&&i.jsx("p",{className:"text-red-500 mt-2",children:o})]}),i.jsx("div",{className:"flex justify-center",children:i.jsx("button",{onClick:v,className:"w-full bg-purple-600 hover:bg-purple-700 text-white px-8 py-3 rounded-xl transition-all shadow-lg",children:"Send Reset Link"})})]})})}function uL({navigateTo:r,userData:e}){const{darkMode:t}=St(),[n,o]=N.useState(["","","","","",""]),[l,u]=N.useState(""),[h,p]=N.useState(0),m=N.useRef([]);N.useEffect(()=>{m.current[0]?.focus()},[]),N.useEffect(()=>{if(h>0){const j=setTimeout(()=>p(h-1),1e3);return()=>clearTimeout(j)}},[h]);const v=(j,T)=>{if(T&&!/^\d$/.test(T))return;const M=[...n];M[j]=T,o(M),u(""),T&&j<5&&m.current[j+1]?.focus()},x=(j,T)=>{T.key==="Backspace"&&!n[j]&&j>0&&m.current[j-1]?.focus()},w=j=>{j.preventDefault();const T=j.clipboardData.getData("text").slice(0,6);if(/^\d+$/.test(T)){const M=T.split("").concat(Array(6-T.length).fill(""));o(M.slice(0,6)),u("");const B=Math.min(T.length,5);m.current[B]?.focus()}},k=()=>{const j=n.join("");if(j.length<6){u("Please enter the complete 6-digit code.");return}j==="123456"?u("Invalid or expired code. Please try again."):r("select-interests",e)},P=()=>{h>0||(p(60),o(["","","","","",""]),u(""),m.current[0]?.focus())};return i.jsx("div",{className:`min-h-screen ${t?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"} px-6 pt-12 pb-12`,children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsxs("button",{onClick:()=>r("signup"),className:`mb-8 flex items-center gap-2 ${t?"text-white/60 hover:text-white/80":"text-gray-600 hover:text-gray-800"} transition-colors`,children:[i.jsx(bt,{className:"w-5 h-5"}),"Back"]}),i.jsx("div",{className:"flex justify-center mb-12",children:i.jsx(zn,{size:80})}),i.jsxs("div",{className:"mb-8 text-center",children:[i.jsx("h1",{className:`mb-2 ${t?"text-white":"text-gray-900"}`,children:"Verify Your Email"}),i.jsx("p",{className:t?"text-white/60":"text-gray-600",children:"Enter the 6-digit code we emailed you."})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("div",{className:"flex gap-3 justify-center mb-4",children:n.map((j,T)=>i.jsx("input",{ref:M=>m.current[T]=M,type:"text",inputMode:"numeric",maxLength:1,value:j,onChange:M=>v(T,M.target.value),onKeyDown:M=>x(T,M),onPaste:T===0?w:void 0,className:`w-12 h-14 text-center ${t?"bg-white/5 border-white/10 text-white":"bg-white/60 border-purple-200/50 text-gray-900"} backdrop-blur-xl border rounded-xl focus:outline-none focus:ring-2 ${t?"focus:ring-purple-500":"focus:ring-purple-600"} ${l?"border-red-500":""} transition-all`},T))}),l&&i.jsx("p",{className:"text-red-500 text-center",children:l})]}),i.jsx("div",{className:"text-center mb-8",children:h>0?i.jsxs("p",{className:t?"text-white/60":"text-gray-600",children:["Resend code in ",h,"s"]}):i.jsx("button",{onClick:P,className:`${t?"text-purple-400 hover:text-purple-300":"text-purple-600 hover:text-purple-700"}`,children:"Resend code"})}),i.jsx("div",{className:"flex justify-center",children:i.jsx("button",{onClick:k,className:"w-full bg-purple-600 hover:bg-purple-700 text-white px-8 py-3 rounded-xl transition-all shadow-lg",children:"Verify"})})]})})}const dL=({...r})=>i.jsx(U9,{theme:"light",className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...r}),hL=Lw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Dd({className:r,variant:e,size:t,asChild:n=!1,...o}){const l=n?Dw:"button";return i.jsx(l,{"data-slot":"button",className:Qt(hL({variant:e,size:t,className:r})),...o})}function fL({navigateTo:r}){const[e,t]=N.useState(!1),n=l=>{const u=document.getElementById(l);u&&(u.scrollIntoView({behavior:"smooth"}),t(!1))},o=()=>{r("login")};return i.jsxs("div",{className:"landing-page",children:[i.jsxs("nav",{className:"landing-nav",children:[i.jsxs("div",{className:"landing-nav-inner",children:[i.jsx("div",{className:"landing-nav-left",children:i.jsx(zn,{size:28})}),i.jsxs("div",{className:"landing-nav-center",children:[i.jsx("button",{onClick:()=>n("about"),className:"landing-nav-link",children:"About"}),i.jsx("span",{className:"landing-nav-dot",children:""}),i.jsx("button",{onClick:()=>n("how-it-works"),className:"landing-nav-link",children:"How It Works"}),i.jsx("span",{className:"landing-nav-dot",children:""}),i.jsx("button",{onClick:()=>n("circles"),className:"landing-nav-link",children:"Circles"}),i.jsx("span",{className:"landing-nav-dot",children:""}),i.jsx("button",{onClick:()=>n("footer"),className:"landing-nav-link",children:"Contact"})]}),i.jsxs("div",{className:"landing-nav-right",children:[i.jsx(Dd,{onClick:o,className:"landing-cta-button",children:"Get Started"}),i.jsx("button",{className:"landing-nav-menu-btn",onClick:()=>t(!e),children:e?i.jsx(Sn,{size:22}):i.jsx(PS,{size:22})})]})]}),e&&i.jsxs("div",{className:"landing-nav-mobile",children:[i.jsx("button",{onClick:()=>n("about"),className:"landing-nav-mobile-link",children:"About"}),i.jsx("button",{onClick:()=>n("how-it-works"),className:"landing-nav-mobile-link",children:"How It Works"}),i.jsx("button",{onClick:()=>n("circles"),className:"landing-nav-mobile-link",children:"Circles"}),i.jsx("button",{onClick:()=>n("footer"),className:"landing-nav-mobile-link",children:"Contact"})]})]}),i.jsx("section",{className:"landing-hero",children:i.jsxs("div",{className:"landing-hero-inner",children:[i.jsxs("div",{className:"landing-hero-left",children:[i.jsx("h1",{className:"landing-hero-title",children:"Turn Extras Into Essentials."}),i.jsx("p",{className:"landing-hero-subtitle",children:"A campus-first marketplace built to help students trade smarter, declutter faster, and create a circular economy."}),i.jsxs("div",{className:"landing-hero-actions",children:[i.jsx(Dd,{onClick:o,className:"landing-hero-primary-btn",children:"Get Started"}),i.jsx("button",{onClick:()=>n("circles"),className:"landing-hero-secondary-link",children:"Explore Snag Circles"})]})]}),i.jsx("div",{className:"landing-hero-right",children:i.jsx("div",{className:"landing-hero-device-shell",children:i.jsx(Xn,{src:"https://images.unsplash.com/photo-1722834228772-01d16b9bf83b?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxzbWFydHBob25lJTIwc2NyZWVuJTIwaW50ZXJmYWNlfGVufDF8fHx8MTc2Mjk5ODgwOXww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",alt:"Snag App Interface",className:"landing-hero-device-image"})})})]})}),i.jsx("section",{id:"about",className:"landing-section landing-about",children:i.jsxs("div",{className:"landing-section-inner landing-about-inner",children:[i.jsx("div",{className:"landing-section-heading",children:i.jsx("h2",{className:"landing-heading-xl",children:"Built by Students at the University of Illinois Chicago"})}),i.jsxs("div",{className:"landing-about-grid",children:[i.jsx("div",{className:"landing-about-card",children:i.jsx("p",{children:"Snag was created by UIC students who saw how much time, money, and effort gets wasted during move-out season, semester turnovers, and campus life transitions. We're building a sustainable, student-first marketplace that redefines how items move across campus."})}),i.jsx("div",{className:"landing-about-image-card",children:i.jsx(Xn,{src:"https://images.unsplash.com/photo-1758270705518-b61b40527e76?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxzdHVkZW50JTIwdGVhbSUyMHVuaXZlcnNpdHl8ZW58MXx8fHwxNjMwMDU1NTl8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",alt:"UIC Students",className:"landing-about-image"})})]}),i.jsx("div",{className:"landing-founders-grid",children:pL.map((l,u)=>i.jsxs("div",{className:"landing-founder-card",children:[i.jsx("div",{className:"landing-founder-avatar",children:l.initials}),i.jsx("h3",{children:l.name}),i.jsx("p",{children:"Co-Creator of Snag"})]},u))})]})}),i.jsx("section",{id:"how-it-works",className:"landing-section",children:i.jsxs("div",{className:"landing-section-inner",children:[i.jsx("h2",{className:"landing-heading-xl center",children:"How Snag Works"}),i.jsxs("div",{className:"landing-how-grid",children:[i.jsxs("div",{className:"landing-how-card",children:[i.jsx("div",{className:"landing-how-icon",children:i.jsx(Aw,{size:32})}),i.jsx("h3",{children:"Post in Seconds"}),i.jsx("p",{children:"Snap a photo, add a few details, choose a pickup spot  done."})]}),i.jsxs("div",{className:"landing-how-card",children:[i.jsx("div",{className:"landing-how-icon",children:i.jsx(Hn,{size:32})}),i.jsx("h3",{children:"Safe & Verified"}),i.jsx("p",{children:"Meet at campus-approved spots, view trust scores, and stay protected."})]}),i.jsxs("div",{className:"landing-how-card",children:[i.jsx("div",{className:"landing-how-icon",children:i.jsx(Et,{size:32})}),i.jsx("h3",{children:"Smart Trading"}),i.jsx("p",{children:"Use credits or essentials to trade  no cash required."})]})]})]})}),i.jsx("section",{id:"circles",className:"landing-section landing-circles",children:i.jsxs("div",{className:"landing-section-inner",children:[i.jsxs("div",{className:"landing-section-heading center",children:[i.jsx("h2",{className:"landing-heading-xl",children:"Snag Circles  Trade in Groups That Matter"}),i.jsx("p",{className:"landing-section-subtitle",children:"Join public circles or create your own to trade within clubs, dorm floors, majors, or interest groups. Keep exchanges relevant, fast, and trusted."})]}),i.jsx("div",{className:"landing-circles-grid",children:mL.map((l,u)=>i.jsxs("div",{className:"landing-circle-card",children:[i.jsx("div",{className:`landing-circle-icon ${l.colorClass}`,children:i.jsx(l.icon,{size:22})}),i.jsx("h4",{children:l.name}),i.jsxs("p",{children:[l.members," members"]})]},u))}),i.jsx("div",{className:"landing-circles-cta",children:i.jsx(Dd,{onClick:o,className:"landing-circles-button",children:"Explore Circles"})})]})}),i.jsx("section",{className:"landing-section landing-sustain",children:i.jsx("div",{className:"landing-section-inner",children:i.jsxs("div",{className:"landing-sustain-card",children:[i.jsx("h2",{className:"landing-heading-xl center",children:"Why Snag Matters"}),i.jsx("p",{className:"landing-section-subtitle center",children:"Every item traded, reused, or repurposed reduces waste and lightens your move-out load. We aim to solve the growing problem of waste on college campuses by helping students exchange what they no longer need with those who do."}),i.jsxs("div",{className:"landing-sustain-icons",children:[i.jsxs("div",{className:"landing-sustain-icon-block",children:[i.jsx("div",{className:"landing-sustain-icon",children:i.jsx(GS,{size:32})}),i.jsx("span",{children:"Reuse"})]}),i.jsxs("div",{className:"landing-sustain-icon-block",children:[i.jsx("div",{className:"landing-sustain-icon",children:i.jsx(lk,{size:32})}),i.jsx("span",{children:"Reduce"})]}),i.jsxs("div",{className:"landing-sustain-icon-block",children:[i.jsx("div",{className:"landing-sustain-icon",children:i.jsx(jS,{size:32})}),i.jsx("span",{children:"Rethink"})]})]})]})})}),i.jsx("section",{className:"landing-section landing-final-cta",children:i.jsxs("div",{className:"landing-final-card",children:[i.jsx("h2",{children:"Join thousands of students building a circular campus economy."}),i.jsx(Dd,{onClick:o,className:"landing-final-button",children:"Get Started"})]})}),i.jsxs("footer",{id:"footer",className:"landing-footer",children:[i.jsxs("div",{className:"landing-footer-inner",children:[i.jsx("div",{className:"landing-footer-left",children:i.jsx(zn,{size:24})}),i.jsxs("div",{className:"landing-footer-links",children:[i.jsx("button",{children:"About"}),i.jsx("span",{children:""}),i.jsx("button",{children:"Contact"}),i.jsx("span",{children:""}),i.jsx("button",{children:"Terms"}),i.jsx("span",{children:""}),i.jsx("button",{children:"Privacy"})]}),i.jsxs("div",{className:"landing-footer-social",children:[i.jsx("button",{children:i.jsx(_S,{size:18})}),i.jsx("button",{children:i.jsx(kS,{size:18})})]})]}),i.jsx("div",{className:"landing-footer-bottom",children:" 2025 Snag  Made by students, for students."})]})]})}const pL=[{initials:"HB",name:"Humza Bukhari"},{initials:"JL",name:"Joshua Luce"},{initials:"JM",name:"Joonyoung Ma"},{initials:"YN",name:"Yamaan Nandolia"}],mL=[{name:"Dorm 3A",members:45,icon:Rr,colorClass:"circle-blue"},{name:"Film Club",members:28,icon:Rr,colorClass:"circle-pink"},{name:"Movers Circle",members:156,icon:Rr,colorClass:"circle-green"},{name:"UIUC Carpool",members:92,icon:Rr,colorClass:"circle-orange"},{name:"CS Majors",members:203,icon:Rr,colorClass:"circle-purple"},{name:"Study Abroad",members:67,icon:Rr,colorClass:"circle-indigo"}];function gL(){const[r,e]=N.useState("landing"),[t,n]=N.useState(null),[o,l]=N.useState(""),[u,h]=N.useState(!1),[p,m]=N.useState(null),[v,x]=N.useState([]),[w]=N.useState({id:"user_1",name:"Ryan Mehta"}),[k,P]=N.useState([]),[j,T]=N.useState([]),[M,B]=N.useState({isOpen:!1,icon:void 0,title:"",message:""}),[F,$]=N.useState({isOpen:!1,listing:null}),[z,J]=N.useState([{id:1,type:"meeting",title:"Meeting confirmed",message:"Your meeting for Desk Chair at Student Union Entrance",time:"1 hour ago",unread:!0},{id:2,type:"barter",title:"New barter offer received",message:"Emma L. wants to trade for your Vintage Denim Jacket",time:"3 hours ago",unread:!0}]),[A,E]=N.useState(2);N.useEffect(()=>{if(u){const ee=setTimeout(()=>{h(!1),e("home")},2500);return()=>clearTimeout(ee)}},[u]);const C=(ee,ie,xe,_e)=>{const oe={id:Date.now(),type:ee,title:ie,message:xe,time:"Just now",unread:!0,listingData:_e};J(fe=>[oe,...fe]),E(fe=>fe+1)},O=(ee,ie,xe)=>{B({isOpen:!0,icon:ee,title:ie,message:xe})},L=ee=>{ee.type==="listing"&&ee.listingData&&$({isOpen:!0,listing:ee.listingData})},D=ee=>{const ie={...ee,id:Date.now(),sellerId:w.id,seller:{name:w.name,verified:!0},status:"active",views:0,images:[ee.image],postedTime:"Just now",isBarter:!1};x(xe=>[ie,...xe]),m(ie),C("listing","Listing published","Your item is now visible to all campus students",ie),O(i.jsx(bs,{className:"w-8 h-8 text-white"}),"Listing Published!","Your item is now visible to all students")},R=()=>{C("barter","Barter confirmed","Your trade has been accepted! Schedule a meetup to exchange items."),O(i.jsx(Et,{className:"w-8 h-8 text-white"}),"Barter Confirmed!","Your trade has been accepted"),e("home")},ge=ee=>{P(ie=>[ee,...ie]),n(ee),e("circle-feed")},le=ee=>{const ie=ee.trim();ie&&!j.includes(ie)&&T(xe=>[...xe,ie])},Z=ee=>{T(ie=>ie.filter(xe=>xe!==ee))},re=(ee,ie)=>{ee==="confirmation"&&(C("meeting","Meeting confirmed",`Your meeting at ${o||"Main Library Lobby"} has been scheduled`),O(i.jsx(jh,{className:"w-8 h-8 text-white"}),"Meeting Confirmed!",`Your meetup is scheduled at ${o||"Main Library Lobby"}`)),ee==="notifications"&&(J(xe=>xe.map(_e=>({..._e,unread:!1}))),E(0)),e(ee),ie&&n(ie)},q=ee=>{l(ee)};if(u)return i.jsx(LO,{});const de=()=>{switch(r){case"landing":return i.jsx(fL,{navigateTo:re});case"login":return i.jsx(iL,{navigateTo:re});case"signup":return i.jsx(oL,{navigateTo:re});case"select-interests":return i.jsx(aL,{navigateTo:re,userData:t});case"review-profile":return i.jsx(lL,{navigateTo:re,userData:t});case"forgot-password":return i.jsx(cL,{navigateTo:re});case"verify-email":return i.jsx(uL,{navigateTo:re,userData:t});case"home":return i.jsx(Mb,{navigateTo:re,notificationCount:A,customTags:j,onAddCustomTag:le,onRemoveCustomTag:Z});case"trade":return i.jsx(S3,{navigateTo:re,customTags:j,onAddCustomTag:le,onRemoveCustomTag:Z});case"circles-home":return i.jsx(QO,{navigateTo:re,userCircles:k});case"circle-feed":return i.jsx(XO,{navigateTo:re,circle:t,customTags:j,onAddCustomTag:le,onRemoveCustomTag:Z});case"circle-about":return i.jsx(tL,{navigateTo:re,circle:t});case"create-circle":return i.jsx(nL,{navigateTo:re,onCreate:ge});case"user-profile":return i.jsx(YO,{navigateTo:re,user:t});case"create":return i.jsx(z9,{navigateTo:re,onPublish:D,prefilledCircle:t?.prefilledCircle,customTags:j,onAddCustomTag:le});case"profile":return i.jsx(gO,{navigateTo:re,myListings:v});case"settings":return i.jsx(NO,{navigateTo:re});case"notifications":return i.jsx(jO,{navigateTo:re,notifications:z,onNotificationClick:L});case"item-detail":return i.jsx(TO,{item:t,navigateTo:re});case"meeting":return i.jsx(CO,{item:t,navigateTo:re,onSelectSpot:q});case"barter-offer":return i.jsx(IO,{item:t,navigateTo:re});case"counter-offer":return i.jsx(AO,{item:t,counterOffer:{title:"Vintage Leather Jacket",description:"Size L, excellent condition",image:"https://images.unsplash.com/photo-1551028719-00167b16eac5?w=400",credits:5},navigateTo:re,onConfirm:R});case"confirmation":return i.jsx(RO,{item:t,meetingSpot:o,navigateTo:re});case"full-listing-view":return i.jsx(MO,{listing:t,navigateTo:re,currentUser:w});case"my-listings":return i.jsx(OO,{navigateTo:re,myListings:v});case"style-guide":return i.jsx($O,{navigateTo:re});case"privacy-settings":return i.jsx(FO,{navigateTo:re});case"blocked-users":return i.jsx(UO,{navigateTo:re});case"safety-tips":return i.jsx(BO,{navigateTo:re});case"edit-profile":return i.jsx(zO,{navigateTo:re});case"change-password":return i.jsx(WO,{navigateTo:re});case"language-settings":return i.jsx(qO,{navigateTo:re});case"help-center":return i.jsx(GO,{navigateTo:re});case"send-feedback":return i.jsx(KO,{navigateTo:re});case"component-library":return i.jsx(sL,{navigateTo:re});default:return i.jsx(Mb,{navigateTo:re,notificationCount:A})}},H=["home","circles-home","profile","settings"].includes(r),{darkMode:te}=St();return i.jsxs("div",{className:`relative w-full min-h-screen ${te?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"}`,children:[i.jsx("div",{className:H?"pb-24":"",children:de()}),H&&i.jsx(VO,{activeScreen:r,navigateTo:re}),i.jsx(PO,{isOpen:M.isOpen,onClose:()=>B({...M,isOpen:!1}),icon:M.icon,title:M.title,message:M.message}),i.jsx(DO,{isOpen:F.isOpen,onClose:()=>$({isOpen:!1,listing:null}),listing:F.listing,onViewListing:()=>{$({isOpen:!1,listing:null}),n(F.listing),e("full-listing-view")}}),i.jsx(dL,{position:"top-center"})]})}function xL(){return i.jsx(CT,{children:i.jsx(g3,{children:i.jsx(gL,{})})})}Oj.createRoot(document.getElementById("root")).render(i.jsx(xL,{}));
