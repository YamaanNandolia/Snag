function Cj(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in r)){const l=Object.getOwnPropertyDescriptor(n,o);l&&Object.defineProperty(r,o,l.get?l:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function xw(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Pp={exports:{}},mc={},Dp={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function Ij(){if(Av)return Ge;Av=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.iterator;function w(z){return z===null||typeof z!="object"?null:(z=x&&z[x]||z["@@iterator"],typeof z=="function"?z:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,E={};function T(z,te,re){this.props=z,this.context=te,this.refs=E,this.updater=re||k}T.prototype.isReactComponent={},T.prototype.setState=function(z,te){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,te,"setState")},T.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function O(){}O.prototype=T.prototype;function B(z,te,re){this.props=z,this.context=te,this.refs=E,this.updater=re||k}var $=B.prototype=new O;$.constructor=B,R($,T.prototype),$.isPureReactComponent=!0;var F=Array.isArray,W=Object.prototype.hasOwnProperty,X={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function S(z,te,re){var oe,me={},we=null,ce=null;if(te!=null)for(oe in te.ref!==void 0&&(ce=te.ref),te.key!==void 0&&(we=""+te.key),te)W.call(te,oe)&&!I.hasOwnProperty(oe)&&(me[oe]=te[oe]);var pe=arguments.length-2;if(pe===1)me.children=re;else if(1<pe){for(var Ae=Array(pe),Pe=0;Pe<pe;Pe++)Ae[Pe]=arguments[Pe+2];me.children=Ae}if(z&&z.defaultProps)for(oe in pe=z.defaultProps,pe)me[oe]===void 0&&(me[oe]=pe[oe]);return{$$typeof:r,type:z,key:we,ref:ce,props:me,_owner:X.current}}function P(z,te){return{$$typeof:r,type:z.type,key:te,ref:z.ref,props:z.props,_owner:z._owner}}function D(z){return typeof z=="object"&&z!==null&&z.$$typeof===r}function M(z){var te={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(re){return te[re]})}var L=/\/+/g;function A(z,te){return typeof z=="object"&&z!==null&&z.key!=null?M(""+z.key):te.toString(36)}function ne(z,te,re,oe,me){var we=typeof z;(we==="undefined"||we==="boolean")&&(z=null);var ce=!1;if(z===null)ce=!0;else switch(we){case"string":case"number":ce=!0;break;case"object":switch(z.$$typeof){case r:case e:ce=!0}}if(ce)return ce=z,me=me(ce),z=oe===""?"."+A(ce,0):oe,F(me)?(re="",z!=null&&(re=z.replace(L,"$&/")+"/"),ne(me,te,re,"",function(Pe){return Pe})):me!=null&&(D(me)&&(me=P(me,re+(!me.key||ce&&ce.key===me.key?"":(""+me.key).replace(L,"$&/")+"/")+z)),te.push(me)),1;if(ce=0,oe=oe===""?".":oe+":",F(z))for(var pe=0;pe<z.length;pe++){we=z[pe];var Ae=oe+A(we,pe);ce+=ne(we,te,re,Ae,me)}else if(Ae=w(z),typeof Ae=="function")for(z=Ae.call(z),pe=0;!(we=z.next()).done;)we=we.value,Ae=oe+A(we,pe++),ce+=ne(we,te,re,Ae,me);else if(we==="object")throw te=String(z),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.");return ce}function le(z,te,re){if(z==null)return z;var oe=[],me=0;return ne(z,oe,"","",function(we){return te.call(re,we,me++)}),oe}function ee(z){if(z._status===-1){var te=z._result;te=te(),te.then(function(re){(z._status===0||z._status===-1)&&(z._status=1,z._result=re)},function(re){(z._status===0||z._status===-1)&&(z._status=2,z._result=re)}),z._status===-1&&(z._status=0,z._result=te)}if(z._status===1)return z._result.default;throw z._result}var G={current:null},U={transition:null},ie={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:U,ReactCurrentOwner:X};function se(){throw Error("act(...) is not supported in production builds of React.")}return Ge.Children={map:le,forEach:function(z,te,re){le(z,function(){te.apply(this,arguments)},re)},count:function(z){var te=0;return le(z,function(){te++}),te},toArray:function(z){return le(z,function(te){return te})||[]},only:function(z){if(!D(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Ge.Component=T,Ge.Fragment=t,Ge.Profiler=o,Ge.PureComponent=B,Ge.StrictMode=n,Ge.Suspense=p,Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,Ge.act=se,Ge.cloneElement=function(z,te,re){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var oe=R({},z.props),me=z.key,we=z.ref,ce=z._owner;if(te!=null){if(te.ref!==void 0&&(we=te.ref,ce=X.current),te.key!==void 0&&(me=""+te.key),z.type&&z.type.defaultProps)var pe=z.type.defaultProps;for(Ae in te)W.call(te,Ae)&&!I.hasOwnProperty(Ae)&&(oe[Ae]=te[Ae]===void 0&&pe!==void 0?pe[Ae]:te[Ae])}var Ae=arguments.length-2;if(Ae===1)oe.children=re;else if(1<Ae){pe=Array(Ae);for(var Pe=0;Pe<Ae;Pe++)pe[Pe]=arguments[Pe+2];oe.children=pe}return{$$typeof:r,type:z.type,key:me,ref:we,props:oe,_owner:ce}},Ge.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:l,_context:z},z.Consumer=z},Ge.createElement=S,Ge.createFactory=function(z){var te=S.bind(null,z);return te.type=z,te},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(z){return{$$typeof:h,render:z}},Ge.isValidElement=D,Ge.lazy=function(z){return{$$typeof:v,_payload:{_status:-1,_result:z},_init:ee}},Ge.memo=function(z,te){return{$$typeof:m,type:z,compare:te===void 0?null:te}},Ge.startTransition=function(z){var te=U.transition;U.transition={};try{z()}finally{U.transition=te}},Ge.unstable_act=se,Ge.useCallback=function(z,te){return G.current.useCallback(z,te)},Ge.useContext=function(z){return G.current.useContext(z)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(z){return G.current.useDeferredValue(z)},Ge.useEffect=function(z,te){return G.current.useEffect(z,te)},Ge.useId=function(){return G.current.useId()},Ge.useImperativeHandle=function(z,te,re){return G.current.useImperativeHandle(z,te,re)},Ge.useInsertionEffect=function(z,te){return G.current.useInsertionEffect(z,te)},Ge.useLayoutEffect=function(z,te){return G.current.useLayoutEffect(z,te)},Ge.useMemo=function(z,te){return G.current.useMemo(z,te)},Ge.useReducer=function(z,te,re){return G.current.useReducer(z,te,re)},Ge.useRef=function(z){return G.current.useRef(z)},Ge.useState=function(z){return G.current.useState(z)},Ge.useSyncExternalStore=function(z,te,re){return G.current.useSyncExternalStore(z,te,re)},Ge.useTransition=function(){return G.current.useTransition()},Ge.version="18.3.1",Ge}var Rv;function Eh(){return Rv||(Rv=1,Dp.exports=Ij()),Dp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function Aj(){if(Pv)return mc;Pv=1;var r=Eh(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(h,p,m){var v,x={},w=null,k=null;m!==void 0&&(w=""+m),p.key!==void 0&&(w=""+p.key),p.ref!==void 0&&(k=p.ref);for(v in p)n.call(p,v)&&!l.hasOwnProperty(v)&&(x[v]=p[v]);if(h&&h.defaultProps)for(v in p=h.defaultProps,p)x[v]===void 0&&(x[v]=p[v]);return{$$typeof:e,type:h,key:w,ref:k,props:x,_owner:o.current}}return mc.Fragment=t,mc.jsx=u,mc.jsxs=u,mc}var Dv;function Rj(){return Dv||(Dv=1,Pp.exports=Aj()),Pp.exports}var i=Rj(),md={},Mp={exports:{}},Ur={},Op={exports:{}},Lp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function Pj(){return Mv||(Mv=1,(function(r){function e(U,ie){var se=U.length;U.push(ie);e:for(;0<se;){var z=se-1>>>1,te=U[z];if(0<o(te,ie))U[z]=ie,U[se]=te,se=z;else break e}}function t(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var ie=U[0],se=U.pop();if(se!==ie){U[0]=se;e:for(var z=0,te=U.length,re=te>>>1;z<re;){var oe=2*(z+1)-1,me=U[oe],we=oe+1,ce=U[we];if(0>o(me,se))we<te&&0>o(ce,me)?(U[z]=ce,U[we]=se,z=we):(U[z]=me,U[oe]=se,z=oe);else if(we<te&&0>o(ce,se))U[z]=ce,U[we]=se,z=we;else break e}}return ie}function o(U,ie){var se=U.sortIndex-ie.sortIndex;return se!==0?se:U.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();r.unstable_now=function(){return u.now()-h}}var p=[],m=[],v=1,x=null,w=3,k=!1,R=!1,E=!1,T=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(U){for(var ie=t(m);ie!==null;){if(ie.callback===null)n(m);else if(ie.startTime<=U)n(m),ie.sortIndex=ie.expirationTime,e(p,ie);else break;ie=t(m)}}function F(U){if(E=!1,$(U),!R)if(t(p)!==null)R=!0,ee(W);else{var ie=t(m);ie!==null&&G(F,ie.startTime-U)}}function W(U,ie){R=!1,E&&(E=!1,O(S),S=-1),k=!0;var se=w;try{for($(ie),x=t(p);x!==null&&(!(x.expirationTime>ie)||U&&!M());){var z=x.callback;if(typeof z=="function"){x.callback=null,w=x.priorityLevel;var te=z(x.expirationTime<=ie);ie=r.unstable_now(),typeof te=="function"?x.callback=te:x===t(p)&&n(p),$(ie)}else n(p);x=t(p)}if(x!==null)var re=!0;else{var oe=t(m);oe!==null&&G(F,oe.startTime-ie),re=!1}return re}finally{x=null,w=se,k=!1}}var X=!1,I=null,S=-1,P=5,D=-1;function M(){return!(r.unstable_now()-D<P)}function L(){if(I!==null){var U=r.unstable_now();D=U;var ie=!0;try{ie=I(!0,U)}finally{ie?A():(X=!1,I=null)}}else X=!1}var A;if(typeof B=="function")A=function(){B(L)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,le=ne.port2;ne.port1.onmessage=L,A=function(){le.postMessage(null)}}else A=function(){T(L,0)};function ee(U){I=U,X||(X=!0,A())}function G(U,ie){S=T(function(){U(r.unstable_now())},ie)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(U){U.callback=null},r.unstable_continueExecution=function(){R||k||(R=!0,ee(W))},r.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<U?Math.floor(1e3/U):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_getFirstCallbackNode=function(){return t(p)},r.unstable_next=function(U){switch(w){case 1:case 2:case 3:var ie=3;break;default:ie=w}var se=w;w=ie;try{return U()}finally{w=se}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(U,ie){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var se=w;w=U;try{return ie()}finally{w=se}},r.unstable_scheduleCallback=function(U,ie,se){var z=r.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?z+se:z):se=z,U){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=se+te,U={id:v++,callback:ie,priorityLevel:U,startTime:se,expirationTime:te,sortIndex:-1},se>z?(U.sortIndex=se,e(m,U),t(p)===null&&U===t(m)&&(E?(O(S),S=-1):E=!0,G(F,se-z))):(U.sortIndex=te,e(p,U),R||k||(R=!0,ee(W))),U},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(U){var ie=w;return function(){var se=w;w=ie;try{return U.apply(this,arguments)}finally{w=se}}}})(Lp)),Lp}var Ov;function Dj(){return Ov||(Ov=1,Op.exports=Pj()),Op.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function Mj(){if(Lv)return Ur;Lv=1;var r=Eh(),e=Dj();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,o={};function l(s,a){u(s,a),u(s+"Capture",a)}function u(s,a){for(o[s]=a,s=0;s<a.length;s++)n.add(a[s])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},x={};function w(s){return p.call(x,s)?!0:p.call(v,s)?!1:m.test(s)?x[s]=!0:(v[s]=!0,!1)}function k(s,a,c,f){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function R(s,a,c,f){if(a===null||typeof a>"u"||k(s,a,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function E(s,a,c,f,g,y,j){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=s,this.type=a,this.sanitizeURL=y,this.removeEmptyString=j}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){T[s]=new E(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];T[a]=new E(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){T[s]=new E(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){T[s]=new E(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){T[s]=new E(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){T[s]=new E(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){T[s]=new E(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){T[s]=new E(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){T[s]=new E(s,5,!1,s.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function B(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(O,B);T[a]=new E(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(O,B);T[a]=new E(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(O,B);T[a]=new E(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){T[s]=new E(s,1,!1,s.toLowerCase(),null,!1,!1)}),T.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){T[s]=new E(s,1,!1,s.toLowerCase(),null,!0,!0)});function $(s,a,c,f){var g=T.hasOwnProperty(a)?T[a]:null;(g!==null?g.type!==0:f||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(R(a,c,g,f)&&(c=null),f||g===null?w(a)&&(c===null?s.removeAttribute(a):s.setAttribute(a,""+c)):g.mustUseProperty?s[g.propertyName]=c===null?g.type===3?!1:"":c:(a=g.attributeName,f=g.attributeNamespace,c===null?s.removeAttribute(a):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,f?s.setAttributeNS(f,a,c):s.setAttribute(a,c))))}var F=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,W=Symbol.for("react.element"),X=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),M=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),U=Symbol.iterator;function ie(s){return s===null||typeof s!="object"?null:(s=U&&s[U]||s["@@iterator"],typeof s=="function"?s:null)}var se=Object.assign,z;function te(s){if(z===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);z=a&&a[1]||""}return`
`+z+s}var re=!1;function oe(s,a){if(!s||re)return"";re=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(J){var f=J}Reflect.construct(s,[],a)}else{try{a.call()}catch(J){f=J}s.call(a.prototype)}else{try{throw Error()}catch(J){f=J}s()}}catch(J){if(J&&f&&typeof J.stack=="string"){for(var g=J.stack.split(`
`),y=f.stack.split(`
`),j=g.length-1,V=y.length-1;1<=j&&0<=V&&g[j]!==y[V];)V--;for(;1<=j&&0<=V;j--,V--)if(g[j]!==y[V]){if(j!==1||V!==1)do if(j--,V--,0>V||g[j]!==y[V]){var H=`
`+g[j].replace(" at new "," at ");return s.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",s.displayName)),H}while(1<=j&&0<=V);break}}}finally{re=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?te(s):""}function me(s){switch(s.tag){case 5:return te(s.type);case 16:return te("Lazy");case 13:return te("Suspense");case 19:return te("SuspenseList");case 0:case 2:case 15:return s=oe(s.type,!1),s;case 11:return s=oe(s.type.render,!1),s;case 1:return s=oe(s.type,!0),s;default:return""}}function we(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case I:return"Fragment";case X:return"Portal";case P:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case ne:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case M:return(s.displayName||"Context")+".Consumer";case D:return(s._context.displayName||"Context")+".Provider";case L:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case le:return a=s.displayName||null,a!==null?a:we(s.type)||"Memo";case ee:a=s._payload,s=s._init;try{return we(s(a))}catch{}}return null}function ce(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(a);case 8:return a===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function pe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ae(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Pe(s){var a=Ae(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),f=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,y=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(j){f=""+j,y.call(this,j)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(j){f=""+j},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function ze(s){s._valueTracker||(s._valueTracker=Pe(s))}function He(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),f="";return s&&(f=Ae(s)?s.checked?"true":"false":s.value),s=f,s!==c?(a.setValue(s),!0):!1}function pt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Lt(s,a){var c=a.checked;return se({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function cn(s,a){var c=a.defaultValue==null?"":a.defaultValue,f=a.checked!=null?a.checked:a.defaultChecked;c=pe(a.value!=null?a.value:c),s._wrapperState={initialChecked:f,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function gr(s,a){a=a.checked,a!=null&&$(s,"checked",a,!1)}function ye(s,a){gr(s,a);var c=pe(a.value),f=a.type;if(c!=null)f==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?We(s,a.type,c):a.hasOwnProperty("defaultValue")&&We(s,a.type,pe(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function Ke(s,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var f=a.type;if(!(f!=="submit"&&f!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,c||a===s.value||(s.value=a),s.defaultValue=a}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function We(s,a,c){(a!=="number"||pt(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var lt=Array.isArray;function Zt(s,a,c,f){if(s=s.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=a.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&f&&(s[c].defaultSelected=!0)}else{for(c=""+pe(c),a=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,f&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function ct(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return se({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function or(s,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(lt(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}s._wrapperState={initialValue:pe(c)}}function ar(s,a){var c=pe(a.value),f=pe(a.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),a.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),f!=null&&(s.defaultValue=""+f)}function Gr(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Xn(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hi(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Xn(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var kn,fi=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,f,g){MSApp.execUnsafeLocalFunction(function(){return s(a,c,f,g)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(kn=kn||document.createElement("div"),kn.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=kn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Dr(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var Tn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cn=["Webkit","ms","Moz","O"];Object.keys(Tn).forEach(function(s){Cn.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Tn[a]=Tn[s]})});function Jn(s,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||Tn.hasOwnProperty(s)&&Tn[s]?(""+a).trim():a+"px"}function pi(s,a){s=s.style;for(var c in a)if(a.hasOwnProperty(c)){var f=c.indexOf("--")===0,g=Jn(c,a[c],f);c==="float"&&(c="cssFloat"),f?s.setProperty(c,g):s[c]=g}}var mi=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mr(s,a){if(a){if(mi[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function gi(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var un=null;function kr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var In=null,An=null,mt=null;function xi(s){if(s=ec(s)){if(typeof In!="function")throw Error(t(280));var a=s.stateNode;a&&(a=Iu(a),In(s.stateNode,s.type,a))}}function Oe(s){An?mt?mt.push(s):mt=[s]:An=s}function ut(){if(An){var s=An,a=mt;if(mt=An=null,xi(s),a)for(s=0;s<a.length;s++)xi(a[s])}}function Rt(s,a){return s(a)}function er(){}var Tr=!1;function kt(s,a,c){if(Tr)return s(a,c);Tr=!0;try{return Rt(s,a,c)}finally{Tr=!1,(An!==null||mt!==null)&&(er(),ut())}}function Vt(s,a){var c=s.stateNode;if(c===null)return null;var f=Iu(c);if(f===null)return null;c=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var Kr=!1;if(h)try{var $t={};Object.defineProperty($t,"passive",{get:function(){Kr=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{Kr=!1}function xr(s,a,c,f,g,y,j,V,H){var J=Array.prototype.slice.call(arguments,3);try{a.apply(c,J)}catch(he){this.onError(he)}}var dn=!1,tr=null,fo=!1,hn=null,lu={onError:function(s){dn=!0,tr=s}};function cu(s,a,c,f,g,y,j,V,H){dn=!1,tr=null,xr.apply(lu,arguments)}function Tl(s,a,c,f,g,y,j,V,H){if(cu.apply(this,arguments),dn){if(dn){var J=tr;dn=!1,tr=null}else throw Error(t(198));fo||(fo=!0,hn=J)}}function Rn(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function Cl(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function uu(s){if(Rn(s)!==s)throw Error(t(188))}function du(s){var a=s.alternate;if(!a){if(a=Rn(s),a===null)throw Error(t(188));return a!==s?null:s}for(var c=s,f=a;;){var g=c.return;if(g===null)break;var y=g.alternate;if(y===null){if(f=g.return,f!==null){c=f;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===c)return uu(g),s;if(y===f)return uu(g),a;y=y.sibling}throw Error(t(188))}if(c.return!==f.return)c=g,f=y;else{for(var j=!1,V=g.child;V;){if(V===c){j=!0,c=g,f=y;break}if(V===f){j=!0,f=g,c=y;break}V=V.sibling}if(!j){for(V=y.child;V;){if(V===c){j=!0,c=y,f=g;break}if(V===f){j=!0,f=y,c=g;break}V=V.sibling}if(!j)throw Error(t(189))}}if(c.alternate!==f)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:a}function hu(s){return s=du(s),s!==null?po(s):null}function po(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=po(s);if(a!==null)return a;s=s.sibling}return null}var Il=e.unstable_scheduleCallback,ia=e.unstable_cancelCallback,mo=e.unstable_shouldYield,Ms=e.unstable_requestPaint,gt=e.unstable_now,uf=e.unstable_getCurrentPriorityLevel,oa=e.unstable_ImmediatePriority,Al=e.unstable_UserBlockingPriority,go=e.unstable_NormalPriority,Rl=e.unstable_LowPriority,aa=e.unstable_IdlePriority,xo=null,Yr=null;function fu(s){if(Yr&&typeof Yr.onCommitFiberRoot=="function")try{Yr.onCommitFiberRoot(xo,s,void 0,(s.current.flags&128)===128)}catch{}}var Qr=Math.clz32?Math.clz32:vo,Zn=Math.log,fn=Math.LN2;function vo(s){return s>>>=0,s===0?32:31-(Zn(s)/fn|0)|0}var es=64,vi=4194304;function rt(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Os(s,a){var c=s.pendingLanes;if(c===0)return 0;var f=0,g=s.suspendedLanes,y=s.pingedLanes,j=c&268435455;if(j!==0){var V=j&~g;V!==0?f=rt(V):(y&=j,y!==0&&(f=rt(y)))}else j=c&~g,j!==0?f=rt(j):y!==0&&(f=rt(y));if(f===0)return 0;if(a!==0&&a!==f&&(a&g)===0&&(g=f&-f,y=a&-a,g>=y||g===16&&(y&4194240)!==0))return a;if((f&4)!==0&&(f|=c&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=f;0<a;)c=31-Qr(a),g=1<<c,f|=s[c],a&=~g;return f}function yo(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bo(s,a){for(var c=s.suspendedLanes,f=s.pingedLanes,g=s.expirationTimes,y=s.pendingLanes;0<y;){var j=31-Qr(y),V=1<<j,H=g[j];H===-1?((V&c)===0||(V&f)!==0)&&(g[j]=yo(V,a)):H<=a&&(s.expiredLanes|=V),y&=~V}}function Pl(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Dl(){var s=es;return es<<=1,(es&4194240)===0&&(es=64),s}function Ml(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function wo(s,a,c){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-Qr(a),s[a]=c}function df(s,a){var c=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<c;){var g=31-Qr(c),y=1<<g;a[g]=0,f[g]=-1,s[g]=-1,c&=~y}}function Ol(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var f=31-Qr(c),g=1<<f;g&a|s[f]&a&&(s[f]|=a),c&=~g}}var Je=0;function ts(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Ll,la,Vl,$l,Fl,rs=!1,ca=[],ns=null,ss=null,lr=null,_o=new Map,Ls=new Map,Xr=[],pu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yi(s,a){switch(s){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":ss=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":_o.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ls.delete(a.pointerId)}}function Pn(s,a,c,f,g,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:c,eventSystemFlags:f,nativeEvent:y,targetContainers:[g]},a!==null&&(a=ec(a),a!==null&&la(a)),s):(s.eventSystemFlags|=f,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function mu(s,a,c,f,g){switch(a){case"focusin":return ns=Pn(ns,s,a,c,f,g),!0;case"dragenter":return ss=Pn(ss,s,a,c,f,g),!0;case"mouseover":return lr=Pn(lr,s,a,c,f,g),!0;case"pointerover":var y=g.pointerId;return _o.set(y,Pn(_o.get(y)||null,s,a,c,f,g)),!0;case"gotpointercapture":return y=g.pointerId,Ls.set(y,Pn(Ls.get(y)||null,s,a,c,f,g)),!0}return!1}function ua(s){var a=So(s.target);if(a!==null){var c=Rn(a);if(c!==null){if(a=c.tag,a===13){if(a=Cl(c),a!==null){s.blockedOn=a,Fl(s.priority,function(){Vl(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function dt(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=da(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var f=new c.constructor(c.type,c);un=f,c.target.dispatchEvent(f),un=null}else return a=ec(c),a!==null&&la(a),s.blockedOn=c,!1;a.shift()}return!0}function gu(s,a,c){dt(s)&&c.delete(a)}function hf(){rs=!1,ns!==null&&dt(ns)&&(ns=null),ss!==null&&dt(ss)&&(ss=null),lr!==null&&dt(lr)&&(lr=null),_o.forEach(gu),Ls.forEach(gu)}function bi(s,a){s.blockedOn===a&&(s.blockedOn=null,rs||(rs=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,hf)))}function wi(s){function a(g){return bi(g,s)}if(0<ca.length){bi(ca[0],s);for(var c=1;c<ca.length;c++){var f=ca[c];f.blockedOn===s&&(f.blockedOn=null)}}for(ns!==null&&bi(ns,s),ss!==null&&bi(ss,s),lr!==null&&bi(lr,s),_o.forEach(a),Ls.forEach(a),c=0;c<Xr.length;c++)f=Xr[c],f.blockedOn===s&&(f.blockedOn=null);for(;0<Xr.length&&(c=Xr[0],c.blockedOn===null);)ua(c),c.blockedOn===null&&Xr.shift()}var Vs=F.ReactCurrentBatchConfig,$s=!0;function is(s,a,c,f){var g=Je,y=Vs.transition;Vs.transition=null;try{Je=1,Ul(s,a,c,f)}finally{Je=g,Vs.transition=y}}function xu(s,a,c,f){var g=Je,y=Vs.transition;Vs.transition=null;try{Je=4,Ul(s,a,c,f)}finally{Je=g,Vs.transition=y}}function Ul(s,a,c,f){if($s){var g=da(s,a,c,f);if(g===null)Nf(s,a,f,os,c),yi(s,f);else if(mu(g,s,a,c,f))f.stopPropagation();else if(yi(s,f),a&4&&-1<pu.indexOf(s)){for(;g!==null;){var y=ec(g);if(y!==null&&Ll(y),y=da(s,a,c,f),y===null&&Nf(s,a,f,os,c),y===g)break;g=y}g!==null&&f.stopPropagation()}else Nf(s,a,f,null,c)}}var os=null;function da(s,a,c,f){if(os=null,s=kr(f),s=So(s),s!==null)if(a=Rn(s),a===null)s=null;else if(c=a.tag,c===13){if(s=Cl(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return os=s,null}function ha(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uf()){case oa:return 1;case Al:return 4;case go:case Rl:return 16;case aa:return 536870912;default:return 16}default:return 16}}var Jr=null,fa=null,Fs=null;function vu(){if(Fs)return Fs;var s,a=fa,c=a.length,f,g="value"in Jr?Jr.value:Jr.textContent,y=g.length;for(s=0;s<c&&a[s]===g[s];s++);var j=c-s;for(f=1;f<=j&&a[c-f]===g[y-f];f++);return Fs=g.slice(s,1<f?1-f:void 0)}function No(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function as(){return!0}function Bl(){return!1}function vr(s){function a(c,f,g,y,j){this._reactName=c,this._targetInst=g,this.type=f,this.nativeEvent=y,this.target=j,this.currentTarget=null;for(var V in s)s.hasOwnProperty(V)&&(c=s[V],this[V]=c?c(y):y[V]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?as:Bl,this.isPropagationStopped=Bl,this}return se(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=as)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=as)},persist:function(){},isPersistent:as}),a}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eo=vr(ls),_i=se({},ls,{view:0,detail:0}),pa=vr(_i),ma,ga,Zr,jo=se({},_i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ue,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Zr&&(Zr&&s.type==="mousemove"?(ma=s.screenX-Zr.screenX,ga=s.screenY-Zr.screenY):ga=ma=0,Zr=s),ma)},movementY:function(s){return"movementY"in s?s.movementY:ga}}),zl=vr(jo),yu=se({},jo,{dataTransfer:0}),bu=vr(yu),xa=se({},_i,{relatedTarget:0}),cr=vr(xa),wu=se({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),_u=vr(wu),Ni=se({},ls,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),d=vr(Ni),b=se({},ls,{data:0}),N=vr(b),C={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ve(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Z[s])?!!a[s]:!1}function Ue(){return ve}var Pt=se({},_i,{key:function(s){if(s.key){var a=C[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=No(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Y[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ue,charCode:function(s){return s.type==="keypress"?No(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?No(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),ot=vr(Pt),Ft=se({},jo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),en=vr(Ft),Us=se({},_i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ue}),cs=vr(Us),us=se({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),va=vr(us),Hl=se({},jo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),NE=vr(Hl),EE=[9,13,27,32],ff=h&&"CompositionEvent"in window,Wl=null;h&&"documentMode"in document&&(Wl=document.documentMode);var jE=h&&"TextEvent"in window&&!Wl,Nx=h&&(!ff||Wl&&8<Wl&&11>=Wl),Ex=" ",jx=!1;function Sx(s,a){switch(s){case"keyup":return EE.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kx(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ya=!1;function SE(s,a){switch(s){case"compositionend":return kx(a);case"keypress":return a.which!==32?null:(jx=!0,Ex);case"textInput":return s=a.data,s===Ex&&jx?null:s;default:return null}}function kE(s,a){if(ya)return s==="compositionend"||!ff&&Sx(s,a)?(s=vu(),Fs=fa=Jr=null,ya=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Nx&&a.locale!=="ko"?null:a.data;default:return null}}var TE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tx(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!TE[s.type]:a==="textarea"}function Cx(s,a,c,f){Oe(f),a=ku(a,"onChange"),0<a.length&&(c=new Eo("onChange","change",null,c,f),s.push({event:c,listeners:a}))}var ql=null,Gl=null;function CE(s){Gx(s,0)}function Nu(s){var a=Ea(s);if(He(a))return s}function IE(s,a){if(s==="change")return a}var Ix=!1;if(h){var pf;if(h){var mf="oninput"in document;if(!mf){var Ax=document.createElement("div");Ax.setAttribute("oninput","return;"),mf=typeof Ax.oninput=="function"}pf=mf}else pf=!1;Ix=pf&&(!document.documentMode||9<document.documentMode)}function Rx(){ql&&(ql.detachEvent("onpropertychange",Px),Gl=ql=null)}function Px(s){if(s.propertyName==="value"&&Nu(Gl)){var a=[];Cx(a,Gl,s,kr(s)),kt(CE,a)}}function AE(s,a,c){s==="focusin"?(Rx(),ql=a,Gl=c,ql.attachEvent("onpropertychange",Px)):s==="focusout"&&Rx()}function RE(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Nu(Gl)}function PE(s,a){if(s==="click")return Nu(a)}function DE(s,a){if(s==="input"||s==="change")return Nu(a)}function ME(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Dn=typeof Object.is=="function"?Object.is:ME;function Kl(s,a){if(Dn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),f=Object.keys(a);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var g=c[f];if(!p.call(a,g)||!Dn(s[g],a[g]))return!1}return!0}function Dx(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Mx(s,a){var c=Dx(s);s=0;for(var f;c;){if(c.nodeType===3){if(f=s+c.textContent.length,s<=a&&f>=a)return{node:c,offset:a-s};s=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Dx(c)}}function Ox(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Ox(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Lx(){for(var s=window,a=pt();a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=pt(s.document)}return a}function gf(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function OE(s){var a=Lx(),c=s.focusedElem,f=s.selectionRange;if(a!==c&&c&&c.ownerDocument&&Ox(c.ownerDocument.documentElement,c)){if(f!==null&&gf(c)){if(a=f.start,s=f.end,s===void 0&&(s=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(s,c.value.length);else if(s=(a=c.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var g=c.textContent.length,y=Math.min(f.start,g);f=f.end===void 0?y:Math.min(f.end,g),!s.extend&&y>f&&(g=f,f=y,y=g),g=Mx(c,y);var j=Mx(c,f);g&&j&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==j.node||s.focusOffset!==j.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),s.removeAllRanges(),y>f?(s.addRange(a),s.extend(j.node,j.offset)):(a.setEnd(j.node,j.offset),s.addRange(a)))}}for(a=[],s=c;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)s=a[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var LE=h&&"documentMode"in document&&11>=document.documentMode,ba=null,xf=null,Yl=null,vf=!1;function Vx(s,a,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;vf||ba==null||ba!==pt(f)||(f=ba,"selectionStart"in f&&gf(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Yl&&Kl(Yl,f)||(Yl=f,f=ku(xf,"onSelect"),0<f.length&&(a=new Eo("onSelect","select",null,a,c),s.push({event:a,listeners:f}),a.target=ba)))}function Eu(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var wa={animationend:Eu("Animation","AnimationEnd"),animationiteration:Eu("Animation","AnimationIteration"),animationstart:Eu("Animation","AnimationStart"),transitionend:Eu("Transition","TransitionEnd")},yf={},$x={};h&&($x=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function ju(s){if(yf[s])return yf[s];if(!wa[s])return s;var a=wa[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in $x)return yf[s]=a[c];return s}var Fx=ju("animationend"),Ux=ju("animationiteration"),Bx=ju("animationstart"),zx=ju("transitionend"),Hx=new Map,Wx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ei(s,a){Hx.set(s,a),l(a,[s])}for(var bf=0;bf<Wx.length;bf++){var wf=Wx[bf],VE=wf.toLowerCase(),$E=wf[0].toUpperCase()+wf.slice(1);Ei(VE,"on"+$E)}Ei(Fx,"onAnimationEnd"),Ei(Ux,"onAnimationIteration"),Ei(Bx,"onAnimationStart"),Ei("dblclick","onDoubleClick"),Ei("focusin","onFocus"),Ei("focusout","onBlur"),Ei(zx,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ql));function qx(s,a,c){var f=s.type||"unknown-event";s.currentTarget=c,Tl(f,a,void 0,s),s.currentTarget=null}function Gx(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var f=s[c],g=f.event;f=f.listeners;e:{var y=void 0;if(a)for(var j=f.length-1;0<=j;j--){var V=f[j],H=V.instance,J=V.currentTarget;if(V=V.listener,H!==y&&g.isPropagationStopped())break e;qx(g,V,J),y=H}else for(j=0;j<f.length;j++){if(V=f[j],H=V.instance,J=V.currentTarget,V=V.listener,H!==y&&g.isPropagationStopped())break e;qx(g,V,J),y=H}}}if(fo)throw s=hn,fo=!1,hn=null,s}function xt(s,a){var c=a[Cf];c===void 0&&(c=a[Cf]=new Set);var f=s+"__bubble";c.has(f)||(Kx(a,s,2,!1),c.add(f))}function _f(s,a,c){var f=0;a&&(f|=4),Kx(c,s,f,a)}var Su="_reactListening"+Math.random().toString(36).slice(2);function Xl(s){if(!s[Su]){s[Su]=!0,n.forEach(function(c){c!=="selectionchange"&&(FE.has(c)||_f(c,!1,s),_f(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Su]||(a[Su]=!0,_f("selectionchange",!1,a))}}function Kx(s,a,c,f){switch(ha(a)){case 1:var g=is;break;case 4:g=xu;break;default:g=Ul}c=g.bind(null,a,c,s),g=void 0,!Kr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),f?g!==void 0?s.addEventListener(a,c,{capture:!0,passive:g}):s.addEventListener(a,c,!0):g!==void 0?s.addEventListener(a,c,{passive:g}):s.addEventListener(a,c,!1)}function Nf(s,a,c,f,g){var y=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var j=f.tag;if(j===3||j===4){var V=f.stateNode.containerInfo;if(V===g||V.nodeType===8&&V.parentNode===g)break;if(j===4)for(j=f.return;j!==null;){var H=j.tag;if((H===3||H===4)&&(H=j.stateNode.containerInfo,H===g||H.nodeType===8&&H.parentNode===g))return;j=j.return}for(;V!==null;){if(j=So(V),j===null)return;if(H=j.tag,H===5||H===6){f=y=j;continue e}V=V.parentNode}}f=f.return}kt(function(){var J=y,he=kr(c),fe=[];e:{var de=Hx.get(s);if(de!==void 0){var _e=Eo,je=s;switch(s){case"keypress":if(No(c)===0)break e;case"keydown":case"keyup":_e=ot;break;case"focusin":je="focus",_e=cr;break;case"focusout":je="blur",_e=cr;break;case"beforeblur":case"afterblur":_e=cr;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=zl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=cs;break;case Fx:case Ux:case Bx:_e=_u;break;case zx:_e=va;break;case"scroll":_e=pa;break;case"wheel":_e=NE;break;case"copy":case"cut":case"paste":_e=d;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=en}var Ce=(a&4)!==0,Dt=!Ce&&s==="scroll",K=Ce?de!==null?de+"Capture":null:de;Ce=[];for(var q=J,Q;q!==null;){Q=q;var ge=Q.stateNode;if(Q.tag===5&&ge!==null&&(Q=ge,K!==null&&(ge=Vt(q,K),ge!=null&&Ce.push(Jl(q,ge,Q)))),Dt)break;q=q.return}0<Ce.length&&(de=new _e(de,je,null,c,he),fe.push({event:de,listeners:Ce}))}}if((a&7)===0){e:{if(de=s==="mouseover"||s==="pointerover",_e=s==="mouseout"||s==="pointerout",de&&c!==un&&(je=c.relatedTarget||c.fromElement)&&(So(je)||je[Bs]))break e;if((_e||de)&&(de=he.window===he?he:(de=he.ownerDocument)?de.defaultView||de.parentWindow:window,_e?(je=c.relatedTarget||c.toElement,_e=J,je=je?So(je):null,je!==null&&(Dt=Rn(je),je!==Dt||je.tag!==5&&je.tag!==6)&&(je=null)):(_e=null,je=J),_e!==je)){if(Ce=zl,ge="onMouseLeave",K="onMouseEnter",q="mouse",(s==="pointerout"||s==="pointerover")&&(Ce=en,ge="onPointerLeave",K="onPointerEnter",q="pointer"),Dt=_e==null?de:Ea(_e),Q=je==null?de:Ea(je),de=new Ce(ge,q+"leave",_e,c,he),de.target=Dt,de.relatedTarget=Q,ge=null,So(he)===J&&(Ce=new Ce(K,q+"enter",je,c,he),Ce.target=Q,Ce.relatedTarget=Dt,ge=Ce),Dt=ge,_e&&je)t:{for(Ce=_e,K=je,q=0,Q=Ce;Q;Q=_a(Q))q++;for(Q=0,ge=K;ge;ge=_a(ge))Q++;for(;0<q-Q;)Ce=_a(Ce),q--;for(;0<Q-q;)K=_a(K),Q--;for(;q--;){if(Ce===K||K!==null&&Ce===K.alternate)break t;Ce=_a(Ce),K=_a(K)}Ce=null}else Ce=null;_e!==null&&Yx(fe,de,_e,Ce,!1),je!==null&&Dt!==null&&Yx(fe,Dt,je,Ce,!0)}}e:{if(de=J?Ea(J):window,_e=de.nodeName&&de.nodeName.toLowerCase(),_e==="select"||_e==="input"&&de.type==="file")var Ie=IE;else if(Tx(de))if(Ix)Ie=DE;else{Ie=RE;var De=AE}else(_e=de.nodeName)&&_e.toLowerCase()==="input"&&(de.type==="checkbox"||de.type==="radio")&&(Ie=PE);if(Ie&&(Ie=Ie(s,J))){Cx(fe,Ie,c,he);break e}De&&De(s,de,J),s==="focusout"&&(De=de._wrapperState)&&De.controlled&&de.type==="number"&&We(de,"number",de.value)}switch(De=J?Ea(J):window,s){case"focusin":(Tx(De)||De.contentEditable==="true")&&(ba=De,xf=J,Yl=null);break;case"focusout":Yl=xf=ba=null;break;case"mousedown":vf=!0;break;case"contextmenu":case"mouseup":case"dragend":vf=!1,Vx(fe,c,he);break;case"selectionchange":if(LE)break;case"keydown":case"keyup":Vx(fe,c,he)}var Me;if(ff)e:{switch(s){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else ya?Sx(s,c)&&($e="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&($e="onCompositionStart");$e&&(Nx&&c.locale!=="ko"&&(ya||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&ya&&(Me=vu()):(Jr=he,fa="value"in Jr?Jr.value:Jr.textContent,ya=!0)),De=ku(J,$e),0<De.length&&($e=new N($e,s,null,c,he),fe.push({event:$e,listeners:De}),Me?$e.data=Me:(Me=kx(c),Me!==null&&($e.data=Me)))),(Me=jE?SE(s,c):kE(s,c))&&(J=ku(J,"onBeforeInput"),0<J.length&&(he=new N("onBeforeInput","beforeinput",null,c,he),fe.push({event:he,listeners:J}),he.data=Me))}Gx(fe,a)})}function Jl(s,a,c){return{instance:s,listener:a,currentTarget:c}}function ku(s,a){for(var c=a+"Capture",f=[];s!==null;){var g=s,y=g.stateNode;g.tag===5&&y!==null&&(g=y,y=Vt(s,c),y!=null&&f.unshift(Jl(s,y,g)),y=Vt(s,a),y!=null&&f.push(Jl(s,y,g))),s=s.return}return f}function _a(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Yx(s,a,c,f,g){for(var y=a._reactName,j=[];c!==null&&c!==f;){var V=c,H=V.alternate,J=V.stateNode;if(H!==null&&H===f)break;V.tag===5&&J!==null&&(V=J,g?(H=Vt(c,y),H!=null&&j.unshift(Jl(c,H,V))):g||(H=Vt(c,y),H!=null&&j.push(Jl(c,H,V)))),c=c.return}j.length!==0&&s.push({event:a,listeners:j})}var UE=/\r\n?/g,BE=/\u0000|\uFFFD/g;function Qx(s){return(typeof s=="string"?s:""+s).replace(UE,`
`).replace(BE,"")}function Tu(s,a,c){if(a=Qx(a),Qx(s)!==a&&c)throw Error(t(425))}function Cu(){}var Ef=null,jf=null;function Sf(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var kf=typeof setTimeout=="function"?setTimeout:void 0,zE=typeof clearTimeout=="function"?clearTimeout:void 0,Xx=typeof Promise=="function"?Promise:void 0,HE=typeof queueMicrotask=="function"?queueMicrotask:typeof Xx<"u"?function(s){return Xx.resolve(null).then(s).catch(WE)}:kf;function WE(s){setTimeout(function(){throw s})}function Tf(s,a){var c=a,f=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(f===0){s.removeChild(g),wi(a);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=g}while(c);wi(a)}function ji(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Jx(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}var Na=Math.random().toString(36).slice(2),ds="__reactFiber$"+Na,Zl="__reactProps$"+Na,Bs="__reactContainer$"+Na,Cf="__reactEvents$"+Na,qE="__reactListeners$"+Na,GE="__reactHandles$"+Na;function So(s){var a=s[ds];if(a)return a;for(var c=s.parentNode;c;){if(a=c[Bs]||c[ds]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=Jx(s);s!==null;){if(c=s[ds])return c;s=Jx(s)}return a}s=c,c=s.parentNode}return null}function ec(s){return s=s[ds]||s[Bs],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ea(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Iu(s){return s[Zl]||null}var If=[],ja=-1;function Si(s){return{current:s}}function vt(s){0>ja||(s.current=If[ja],If[ja]=null,ja--)}function ht(s,a){ja++,If[ja]=s.current,s.current=a}var ki={},yr=Si(ki),Or=Si(!1),ko=ki;function Sa(s,a){var c=s.type.contextTypes;if(!c)return ki;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===a)return f.__reactInternalMemoizedMaskedChildContext;var g={},y;for(y in c)g[y]=a[y];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=g),g}function Lr(s){return s=s.childContextTypes,s!=null}function Au(){vt(Or),vt(yr)}function Zx(s,a,c){if(yr.current!==ki)throw Error(t(168));ht(yr,a),ht(Or,c)}function e0(s,a,c){var f=s.stateNode;if(a=a.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var g in f)if(!(g in a))throw Error(t(108,ce(s)||"Unknown",g));return se({},c,f)}function Ru(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ki,ko=yr.current,ht(yr,s),ht(Or,Or.current),!0}function t0(s,a,c){var f=s.stateNode;if(!f)throw Error(t(169));c?(s=e0(s,a,ko),f.__reactInternalMemoizedMergedChildContext=s,vt(Or),vt(yr),ht(yr,s)):vt(Or),ht(Or,c)}var zs=null,Pu=!1,Af=!1;function r0(s){zs===null?zs=[s]:zs.push(s)}function KE(s){Pu=!0,r0(s)}function Ti(){if(!Af&&zs!==null){Af=!0;var s=0,a=Je;try{var c=zs;for(Je=1;s<c.length;s++){var f=c[s];do f=f(!0);while(f!==null)}zs=null,Pu=!1}catch(g){throw zs!==null&&(zs=zs.slice(s+1)),Il(oa,Ti),g}finally{Je=a,Af=!1}}return null}var ka=[],Ta=0,Du=null,Mu=0,pn=[],mn=0,To=null,Hs=1,Ws="";function Co(s,a){ka[Ta++]=Mu,ka[Ta++]=Du,Du=s,Mu=a}function n0(s,a,c){pn[mn++]=Hs,pn[mn++]=Ws,pn[mn++]=To,To=s;var f=Hs;s=Ws;var g=32-Qr(f)-1;f&=~(1<<g),c+=1;var y=32-Qr(a)+g;if(30<y){var j=g-g%5;y=(f&(1<<j)-1).toString(32),f>>=j,g-=j,Hs=1<<32-Qr(a)+g|c<<g|f,Ws=y+s}else Hs=1<<y|c<<g|f,Ws=s}function Rf(s){s.return!==null&&(Co(s,1),n0(s,1,0))}function Pf(s){for(;s===Du;)Du=ka[--Ta],ka[Ta]=null,Mu=ka[--Ta],ka[Ta]=null;for(;s===To;)To=pn[--mn],pn[mn]=null,Ws=pn[--mn],pn[mn]=null,Hs=pn[--mn],pn[mn]=null}var tn=null,rn=null,wt=!1,Mn=null;function s0(s,a){var c=yn(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=s,a=s.deletions,a===null?(s.deletions=[c],s.flags|=16):a.push(c)}function i0(s,a){switch(s.tag){case 5:var c=s.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,tn=s,rn=ji(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,tn=s,rn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=To!==null?{id:Hs,overflow:Ws}:null,s.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=yn(18,null,null,0),c.stateNode=a,c.return=s,s.child=c,tn=s,rn=null,!0):!1;default:return!1}}function Df(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Mf(s){if(wt){var a=rn;if(a){var c=a;if(!i0(s,a)){if(Df(s))throw Error(t(418));a=ji(c.nextSibling);var f=tn;a&&i0(s,a)?s0(f,c):(s.flags=s.flags&-4097|2,wt=!1,tn=s)}}else{if(Df(s))throw Error(t(418));s.flags=s.flags&-4097|2,wt=!1,tn=s}}}function o0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;tn=s}function Ou(s){if(s!==tn)return!1;if(!wt)return o0(s),wt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Sf(s.type,s.memoizedProps)),a&&(a=rn)){if(Df(s))throw a0(),Error(t(418));for(;a;)s0(s,a),a=ji(a.nextSibling)}if(o0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(a===0){rn=ji(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}s=s.nextSibling}rn=null}}else rn=tn?ji(s.stateNode.nextSibling):null;return!0}function a0(){for(var s=rn;s;)s=ji(s.nextSibling)}function Ca(){rn=tn=null,wt=!1}function Of(s){Mn===null?Mn=[s]:Mn.push(s)}var YE=F.ReactCurrentBatchConfig;function tc(s,a,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var f=c.stateNode}if(!f)throw Error(t(147,s));var g=f,y=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===y?a.ref:(a=function(j){var V=g.refs;j===null?delete V[y]:V[y]=j},a._stringRef=y,a)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function Lu(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function l0(s){var a=s._init;return a(s._payload)}function c0(s){function a(K,q){if(s){var Q=K.deletions;Q===null?(K.deletions=[q],K.flags|=16):Q.push(q)}}function c(K,q){if(!s)return null;for(;q!==null;)a(K,q),q=q.sibling;return null}function f(K,q){for(K=new Map;q!==null;)q.key!==null?K.set(q.key,q):K.set(q.index,q),q=q.sibling;return K}function g(K,q){return K=Oi(K,q),K.index=0,K.sibling=null,K}function y(K,q,Q){return K.index=Q,s?(Q=K.alternate,Q!==null?(Q=Q.index,Q<q?(K.flags|=2,q):Q):(K.flags|=2,q)):(K.flags|=1048576,q)}function j(K){return s&&K.alternate===null&&(K.flags|=2),K}function V(K,q,Q,ge){return q===null||q.tag!==6?(q=kp(Q,K.mode,ge),q.return=K,q):(q=g(q,Q),q.return=K,q)}function H(K,q,Q,ge){var Ie=Q.type;return Ie===I?he(K,q,Q.props.children,ge,Q.key):q!==null&&(q.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===ee&&l0(Ie)===q.type)?(ge=g(q,Q.props),ge.ref=tc(K,q,Q),ge.return=K,ge):(ge=ad(Q.type,Q.key,Q.props,null,K.mode,ge),ge.ref=tc(K,q,Q),ge.return=K,ge)}function J(K,q,Q,ge){return q===null||q.tag!==4||q.stateNode.containerInfo!==Q.containerInfo||q.stateNode.implementation!==Q.implementation?(q=Tp(Q,K.mode,ge),q.return=K,q):(q=g(q,Q.children||[]),q.return=K,q)}function he(K,q,Q,ge,Ie){return q===null||q.tag!==7?(q=Lo(Q,K.mode,ge,Ie),q.return=K,q):(q=g(q,Q),q.return=K,q)}function fe(K,q,Q){if(typeof q=="string"&&q!==""||typeof q=="number")return q=kp(""+q,K.mode,Q),q.return=K,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case W:return Q=ad(q.type,q.key,q.props,null,K.mode,Q),Q.ref=tc(K,null,q),Q.return=K,Q;case X:return q=Tp(q,K.mode,Q),q.return=K,q;case ee:var ge=q._init;return fe(K,ge(q._payload),Q)}if(lt(q)||ie(q))return q=Lo(q,K.mode,Q,null),q.return=K,q;Lu(K,q)}return null}function de(K,q,Q,ge){var Ie=q!==null?q.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Ie!==null?null:V(K,q,""+Q,ge);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case W:return Q.key===Ie?H(K,q,Q,ge):null;case X:return Q.key===Ie?J(K,q,Q,ge):null;case ee:return Ie=Q._init,de(K,q,Ie(Q._payload),ge)}if(lt(Q)||ie(Q))return Ie!==null?null:he(K,q,Q,ge,null);Lu(K,Q)}return null}function _e(K,q,Q,ge,Ie){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return K=K.get(Q)||null,V(q,K,""+ge,Ie);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case W:return K=K.get(ge.key===null?Q:ge.key)||null,H(q,K,ge,Ie);case X:return K=K.get(ge.key===null?Q:ge.key)||null,J(q,K,ge,Ie);case ee:var De=ge._init;return _e(K,q,Q,De(ge._payload),Ie)}if(lt(ge)||ie(ge))return K=K.get(Q)||null,he(q,K,ge,Ie,null);Lu(q,ge)}return null}function je(K,q,Q,ge){for(var Ie=null,De=null,Me=q,$e=q=0,sr=null;Me!==null&&$e<Q.length;$e++){Me.index>$e?(sr=Me,Me=null):sr=Me.sibling;var tt=de(K,Me,Q[$e],ge);if(tt===null){Me===null&&(Me=sr);break}s&&Me&&tt.alternate===null&&a(K,Me),q=y(tt,q,$e),De===null?Ie=tt:De.sibling=tt,De=tt,Me=sr}if($e===Q.length)return c(K,Me),wt&&Co(K,$e),Ie;if(Me===null){for(;$e<Q.length;$e++)Me=fe(K,Q[$e],ge),Me!==null&&(q=y(Me,q,$e),De===null?Ie=Me:De.sibling=Me,De=Me);return wt&&Co(K,$e),Ie}for(Me=f(K,Me);$e<Q.length;$e++)sr=_e(Me,K,$e,Q[$e],ge),sr!==null&&(s&&sr.alternate!==null&&Me.delete(sr.key===null?$e:sr.key),q=y(sr,q,$e),De===null?Ie=sr:De.sibling=sr,De=sr);return s&&Me.forEach(function(Li){return a(K,Li)}),wt&&Co(K,$e),Ie}function Ce(K,q,Q,ge){var Ie=ie(Q);if(typeof Ie!="function")throw Error(t(150));if(Q=Ie.call(Q),Q==null)throw Error(t(151));for(var De=Ie=null,Me=q,$e=q=0,sr=null,tt=Q.next();Me!==null&&!tt.done;$e++,tt=Q.next()){Me.index>$e?(sr=Me,Me=null):sr=Me.sibling;var Li=de(K,Me,tt.value,ge);if(Li===null){Me===null&&(Me=sr);break}s&&Me&&Li.alternate===null&&a(K,Me),q=y(Li,q,$e),De===null?Ie=Li:De.sibling=Li,De=Li,Me=sr}if(tt.done)return c(K,Me),wt&&Co(K,$e),Ie;if(Me===null){for(;!tt.done;$e++,tt=Q.next())tt=fe(K,tt.value,ge),tt!==null&&(q=y(tt,q,$e),De===null?Ie=tt:De.sibling=tt,De=tt);return wt&&Co(K,$e),Ie}for(Me=f(K,Me);!tt.done;$e++,tt=Q.next())tt=_e(Me,K,$e,tt.value,ge),tt!==null&&(s&&tt.alternate!==null&&Me.delete(tt.key===null?$e:tt.key),q=y(tt,q,$e),De===null?Ie=tt:De.sibling=tt,De=tt);return s&&Me.forEach(function(Tj){return a(K,Tj)}),wt&&Co(K,$e),Ie}function Dt(K,q,Q,ge){if(typeof Q=="object"&&Q!==null&&Q.type===I&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case W:e:{for(var Ie=Q.key,De=q;De!==null;){if(De.key===Ie){if(Ie=Q.type,Ie===I){if(De.tag===7){c(K,De.sibling),q=g(De,Q.props.children),q.return=K,K=q;break e}}else if(De.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===ee&&l0(Ie)===De.type){c(K,De.sibling),q=g(De,Q.props),q.ref=tc(K,De,Q),q.return=K,K=q;break e}c(K,De);break}else a(K,De);De=De.sibling}Q.type===I?(q=Lo(Q.props.children,K.mode,ge,Q.key),q.return=K,K=q):(ge=ad(Q.type,Q.key,Q.props,null,K.mode,ge),ge.ref=tc(K,q,Q),ge.return=K,K=ge)}return j(K);case X:e:{for(De=Q.key;q!==null;){if(q.key===De)if(q.tag===4&&q.stateNode.containerInfo===Q.containerInfo&&q.stateNode.implementation===Q.implementation){c(K,q.sibling),q=g(q,Q.children||[]),q.return=K,K=q;break e}else{c(K,q);break}else a(K,q);q=q.sibling}q=Tp(Q,K.mode,ge),q.return=K,K=q}return j(K);case ee:return De=Q._init,Dt(K,q,De(Q._payload),ge)}if(lt(Q))return je(K,q,Q,ge);if(ie(Q))return Ce(K,q,Q,ge);Lu(K,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,q!==null&&q.tag===6?(c(K,q.sibling),q=g(q,Q),q.return=K,K=q):(c(K,q),q=kp(Q,K.mode,ge),q.return=K,K=q),j(K)):c(K,q)}return Dt}var Ia=c0(!0),u0=c0(!1),Vu=Si(null),$u=null,Aa=null,Lf=null;function Vf(){Lf=Aa=$u=null}function $f(s){var a=Vu.current;vt(Vu),s._currentValue=a}function Ff(s,a,c){for(;s!==null;){var f=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),s===c)break;s=s.return}}function Ra(s,a){$u=s,Lf=Aa=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(Vr=!0),s.firstContext=null)}function gn(s){var a=s._currentValue;if(Lf!==s)if(s={context:s,memoizedValue:a,next:null},Aa===null){if($u===null)throw Error(t(308));Aa=s,$u.dependencies={lanes:0,firstContext:s}}else Aa=Aa.next=s;return a}var Io=null;function Uf(s){Io===null?Io=[s]:Io.push(s)}function d0(s,a,c,f){var g=a.interleaved;return g===null?(c.next=c,Uf(a)):(c.next=g.next,g.next=c),a.interleaved=c,qs(s,f)}function qs(s,a){s.lanes|=a;var c=s.alternate;for(c!==null&&(c.lanes|=a),c=s,s=s.return;s!==null;)s.childLanes|=a,c=s.alternate,c!==null&&(c.childLanes|=a),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Ci=!1;function Bf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function h0(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Gs(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Ii(s,a,c){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(et&2)!==0){var g=f.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),f.pending=a,qs(s,c)}return g=f.interleaved,g===null?(a.next=a,Uf(f)):(a.next=g.next,g.next=a),f.interleaved=a,qs(s,c)}function Fu(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var f=a.lanes;f&=s.pendingLanes,c|=f,a.lanes=c,Ol(s,c)}}function f0(s,a){var c=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var g=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var j={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};y===null?g=y=j:y=y.next=j,c=c.next}while(c!==null);y===null?g=y=a:y=y.next=a}else g=y=a;c={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:f.shared,effects:f.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}function Uu(s,a,c,f){var g=s.updateQueue;Ci=!1;var y=g.firstBaseUpdate,j=g.lastBaseUpdate,V=g.shared.pending;if(V!==null){g.shared.pending=null;var H=V,J=H.next;H.next=null,j===null?y=J:j.next=J,j=H;var he=s.alternate;he!==null&&(he=he.updateQueue,V=he.lastBaseUpdate,V!==j&&(V===null?he.firstBaseUpdate=J:V.next=J,he.lastBaseUpdate=H))}if(y!==null){var fe=g.baseState;j=0,he=J=H=null,V=y;do{var de=V.lane,_e=V.eventTime;if((f&de)===de){he!==null&&(he=he.next={eventTime:_e,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var je=s,Ce=V;switch(de=a,_e=c,Ce.tag){case 1:if(je=Ce.payload,typeof je=="function"){fe=je.call(_e,fe,de);break e}fe=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Ce.payload,de=typeof je=="function"?je.call(_e,fe,de):je,de==null)break e;fe=se({},fe,de);break e;case 2:Ci=!0}}V.callback!==null&&V.lane!==0&&(s.flags|=64,de=g.effects,de===null?g.effects=[V]:de.push(V))}else _e={eventTime:_e,lane:de,tag:V.tag,payload:V.payload,callback:V.callback,next:null},he===null?(J=he=_e,H=fe):he=he.next=_e,j|=de;if(V=V.next,V===null){if(V=g.shared.pending,V===null)break;de=V,V=de.next,de.next=null,g.lastBaseUpdate=de,g.shared.pending=null}}while(!0);if(he===null&&(H=fe),g.baseState=H,g.firstBaseUpdate=J,g.lastBaseUpdate=he,a=g.shared.interleaved,a!==null){g=a;do j|=g.lane,g=g.next;while(g!==a)}else y===null&&(g.shared.lanes=0);Po|=j,s.lanes=j,s.memoizedState=fe}}function p0(s,a,c){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var f=s[a],g=f.callback;if(g!==null){if(f.callback=null,f=c,typeof g!="function")throw Error(t(191,g));g.call(f)}}}var rc={},hs=Si(rc),nc=Si(rc),sc=Si(rc);function Ao(s){if(s===rc)throw Error(t(174));return s}function zf(s,a){switch(ht(sc,a),ht(nc,s),ht(hs,rc),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:hi(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=hi(a,s)}vt(hs),ht(hs,a)}function Pa(){vt(hs),vt(nc),vt(sc)}function m0(s){Ao(sc.current);var a=Ao(hs.current),c=hi(a,s.type);a!==c&&(ht(nc,s),ht(hs,c))}function Hf(s){nc.current===s&&(vt(hs),vt(nc))}var _t=Si(0);function Bu(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Wf=[];function qf(){for(var s=0;s<Wf.length;s++)Wf[s]._workInProgressVersionPrimary=null;Wf.length=0}var zu=F.ReactCurrentDispatcher,Gf=F.ReactCurrentBatchConfig,Ro=0,Nt=null,Wt=null,rr=null,Hu=!1,ic=!1,oc=0,QE=0;function br(){throw Error(t(321))}function Kf(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!Dn(s[c],a[c]))return!1;return!0}function Yf(s,a,c,f,g,y){if(Ro=y,Nt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,zu.current=s===null||s.memoizedState===null?ej:tj,s=c(f,g),ic){y=0;do{if(ic=!1,oc=0,25<=y)throw Error(t(301));y+=1,rr=Wt=null,a.updateQueue=null,zu.current=rj,s=c(f,g)}while(ic)}if(zu.current=Gu,a=Wt!==null&&Wt.next!==null,Ro=0,rr=Wt=Nt=null,Hu=!1,a)throw Error(t(300));return s}function Qf(){var s=oc!==0;return oc=0,s}function fs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rr===null?Nt.memoizedState=rr=s:rr=rr.next=s,rr}function xn(){if(Wt===null){var s=Nt.alternate;s=s!==null?s.memoizedState:null}else s=Wt.next;var a=rr===null?Nt.memoizedState:rr.next;if(a!==null)rr=a,Wt=s;else{if(s===null)throw Error(t(310));Wt=s,s={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},rr===null?Nt.memoizedState=rr=s:rr=rr.next=s}return rr}function ac(s,a){return typeof a=="function"?a(s):a}function Xf(s){var a=xn(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var f=Wt,g=f.baseQueue,y=c.pending;if(y!==null){if(g!==null){var j=g.next;g.next=y.next,y.next=j}f.baseQueue=g=y,c.pending=null}if(g!==null){y=g.next,f=f.baseState;var V=j=null,H=null,J=y;do{var he=J.lane;if((Ro&he)===he)H!==null&&(H=H.next={lane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),f=J.hasEagerState?J.eagerState:s(f,J.action);else{var fe={lane:he,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null};H===null?(V=H=fe,j=f):H=H.next=fe,Nt.lanes|=he,Po|=he}J=J.next}while(J!==null&&J!==y);H===null?j=f:H.next=V,Dn(f,a.memoizedState)||(Vr=!0),a.memoizedState=f,a.baseState=j,a.baseQueue=H,c.lastRenderedState=f}if(s=c.interleaved,s!==null){g=s;do y=g.lane,Nt.lanes|=y,Po|=y,g=g.next;while(g!==s)}else g===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function Jf(s){var a=xn(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var f=c.dispatch,g=c.pending,y=a.memoizedState;if(g!==null){c.pending=null;var j=g=g.next;do y=s(y,j.action),j=j.next;while(j!==g);Dn(y,a.memoizedState)||(Vr=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),c.lastRenderedState=y}return[y,f]}function g0(){}function x0(s,a){var c=Nt,f=xn(),g=a(),y=!Dn(f.memoizedState,g);if(y&&(f.memoizedState=g,Vr=!0),f=f.queue,Zf(b0.bind(null,c,f,s),[s]),f.getSnapshot!==a||y||rr!==null&&rr.memoizedState.tag&1){if(c.flags|=2048,lc(9,y0.bind(null,c,f,g,a),void 0,null),nr===null)throw Error(t(349));(Ro&30)!==0||v0(c,a,g)}return g}function v0(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=Nt.updateQueue,a===null?(a={lastEffect:null,stores:null},Nt.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function y0(s,a,c,f){a.value=c,a.getSnapshot=f,w0(a)&&_0(s)}function b0(s,a,c){return c(function(){w0(a)&&_0(s)})}function w0(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!Dn(s,c)}catch{return!0}}function _0(s){var a=qs(s,1);a!==null&&$n(a,s,1,-1)}function N0(s){var a=fs();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ac,lastRenderedState:s},a.queue=s,s=s.dispatch=ZE.bind(null,Nt,s),[a.memoizedState,s]}function lc(s,a,c,f){return s={tag:s,create:a,destroy:c,deps:f,next:null},a=Nt.updateQueue,a===null?(a={lastEffect:null,stores:null},Nt.updateQueue=a,a.lastEffect=s.next=s):(c=a.lastEffect,c===null?a.lastEffect=s.next=s:(f=c.next,c.next=s,s.next=f,a.lastEffect=s)),s}function E0(){return xn().memoizedState}function Wu(s,a,c,f){var g=fs();Nt.flags|=s,g.memoizedState=lc(1|a,c,void 0,f===void 0?null:f)}function qu(s,a,c,f){var g=xn();f=f===void 0?null:f;var y=void 0;if(Wt!==null){var j=Wt.memoizedState;if(y=j.destroy,f!==null&&Kf(f,j.deps)){g.memoizedState=lc(a,c,y,f);return}}Nt.flags|=s,g.memoizedState=lc(1|a,c,y,f)}function j0(s,a){return Wu(8390656,8,s,a)}function Zf(s,a){return qu(2048,8,s,a)}function S0(s,a){return qu(4,2,s,a)}function k0(s,a){return qu(4,4,s,a)}function T0(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function C0(s,a,c){return c=c!=null?c.concat([s]):null,qu(4,4,T0.bind(null,a,s),c)}function ep(){}function I0(s,a){var c=xn();a=a===void 0?null:a;var f=c.memoizedState;return f!==null&&a!==null&&Kf(a,f[1])?f[0]:(c.memoizedState=[s,a],s)}function A0(s,a){var c=xn();a=a===void 0?null:a;var f=c.memoizedState;return f!==null&&a!==null&&Kf(a,f[1])?f[0]:(s=s(),c.memoizedState=[s,a],s)}function R0(s,a,c){return(Ro&21)===0?(s.baseState&&(s.baseState=!1,Vr=!0),s.memoizedState=c):(Dn(c,a)||(c=Dl(),Nt.lanes|=c,Po|=c,s.baseState=!0),a)}function XE(s,a){var c=Je;Je=c!==0&&4>c?c:4,s(!0);var f=Gf.transition;Gf.transition={};try{s(!1),a()}finally{Je=c,Gf.transition=f}}function P0(){return xn().memoizedState}function JE(s,a,c){var f=Di(s);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},D0(s))M0(a,c);else if(c=d0(s,a,c,f),c!==null){var g=Ir();$n(c,s,f,g),O0(c,a,f)}}function ZE(s,a,c){var f=Di(s),g={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(D0(s))M0(a,g);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var j=a.lastRenderedState,V=y(j,c);if(g.hasEagerState=!0,g.eagerState=V,Dn(V,j)){var H=a.interleaved;H===null?(g.next=g,Uf(a)):(g.next=H.next,H.next=g),a.interleaved=g;return}}catch{}finally{}c=d0(s,a,g,f),c!==null&&(g=Ir(),$n(c,s,f,g),O0(c,a,f))}}function D0(s){var a=s.alternate;return s===Nt||a!==null&&a===Nt}function M0(s,a){ic=Hu=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function O0(s,a,c){if((c&4194240)!==0){var f=a.lanes;f&=s.pendingLanes,c|=f,a.lanes=c,Ol(s,c)}}var Gu={readContext:gn,useCallback:br,useContext:br,useEffect:br,useImperativeHandle:br,useInsertionEffect:br,useLayoutEffect:br,useMemo:br,useReducer:br,useRef:br,useState:br,useDebugValue:br,useDeferredValue:br,useTransition:br,useMutableSource:br,useSyncExternalStore:br,useId:br,unstable_isNewReconciler:!1},ej={readContext:gn,useCallback:function(s,a){return fs().memoizedState=[s,a===void 0?null:a],s},useContext:gn,useEffect:j0,useImperativeHandle:function(s,a,c){return c=c!=null?c.concat([s]):null,Wu(4194308,4,T0.bind(null,a,s),c)},useLayoutEffect:function(s,a){return Wu(4194308,4,s,a)},useInsertionEffect:function(s,a){return Wu(4,2,s,a)},useMemo:function(s,a){var c=fs();return a=a===void 0?null:a,s=s(),c.memoizedState=[s,a],s},useReducer:function(s,a,c){var f=fs();return a=c!==void 0?c(a):a,f.memoizedState=f.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},f.queue=s,s=s.dispatch=JE.bind(null,Nt,s),[f.memoizedState,s]},useRef:function(s){var a=fs();return s={current:s},a.memoizedState=s},useState:N0,useDebugValue:ep,useDeferredValue:function(s){return fs().memoizedState=s},useTransition:function(){var s=N0(!1),a=s[0];return s=XE.bind(null,s[1]),fs().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,c){var f=Nt,g=fs();if(wt){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),nr===null)throw Error(t(349));(Ro&30)!==0||v0(f,a,c)}g.memoizedState=c;var y={value:c,getSnapshot:a};return g.queue=y,j0(b0.bind(null,f,y,s),[s]),f.flags|=2048,lc(9,y0.bind(null,f,y,c,a),void 0,null),c},useId:function(){var s=fs(),a=nr.identifierPrefix;if(wt){var c=Ws,f=Hs;c=(f&~(1<<32-Qr(f)-1)).toString(32)+c,a=":"+a+"R"+c,c=oc++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=QE++,a=":"+a+"r"+c.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},tj={readContext:gn,useCallback:I0,useContext:gn,useEffect:Zf,useImperativeHandle:C0,useInsertionEffect:S0,useLayoutEffect:k0,useMemo:A0,useReducer:Xf,useRef:E0,useState:function(){return Xf(ac)},useDebugValue:ep,useDeferredValue:function(s){var a=xn();return R0(a,Wt.memoizedState,s)},useTransition:function(){var s=Xf(ac)[0],a=xn().memoizedState;return[s,a]},useMutableSource:g0,useSyncExternalStore:x0,useId:P0,unstable_isNewReconciler:!1},rj={readContext:gn,useCallback:I0,useContext:gn,useEffect:Zf,useImperativeHandle:C0,useInsertionEffect:S0,useLayoutEffect:k0,useMemo:A0,useReducer:Jf,useRef:E0,useState:function(){return Jf(ac)},useDebugValue:ep,useDeferredValue:function(s){var a=xn();return Wt===null?a.memoizedState=s:R0(a,Wt.memoizedState,s)},useTransition:function(){var s=Jf(ac)[0],a=xn().memoizedState;return[s,a]},useMutableSource:g0,useSyncExternalStore:x0,useId:P0,unstable_isNewReconciler:!1};function On(s,a){if(s&&s.defaultProps){a=se({},a),s=s.defaultProps;for(var c in s)a[c]===void 0&&(a[c]=s[c]);return a}return a}function tp(s,a,c,f){a=s.memoizedState,c=c(f,a),c=c==null?a:se({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Ku={isMounted:function(s){return(s=s._reactInternals)?Rn(s)===s:!1},enqueueSetState:function(s,a,c){s=s._reactInternals;var f=Ir(),g=Di(s),y=Gs(f,g);y.payload=a,c!=null&&(y.callback=c),a=Ii(s,y,g),a!==null&&($n(a,s,g,f),Fu(a,s,g))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var f=Ir(),g=Di(s),y=Gs(f,g);y.tag=1,y.payload=a,c!=null&&(y.callback=c),a=Ii(s,y,g),a!==null&&($n(a,s,g,f),Fu(a,s,g))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=Ir(),f=Di(s),g=Gs(c,f);g.tag=2,a!=null&&(g.callback=a),a=Ii(s,g,f),a!==null&&($n(a,s,f,c),Fu(a,s,f))}};function L0(s,a,c,f,g,y,j){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,y,j):a.prototype&&a.prototype.isPureReactComponent?!Kl(c,f)||!Kl(g,y):!0}function V0(s,a,c){var f=!1,g=ki,y=a.contextType;return typeof y=="object"&&y!==null?y=gn(y):(g=Lr(a)?ko:yr.current,f=a.contextTypes,y=(f=f!=null)?Sa(s,g):ki),a=new a(c,y),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Ku,s.stateNode=a,a._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=y),a}function $0(s,a,c,f){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,f),a.state!==s&&Ku.enqueueReplaceState(a,a.state,null)}function rp(s,a,c,f){var g=s.stateNode;g.props=c,g.state=s.memoizedState,g.refs={},Bf(s);var y=a.contextType;typeof y=="object"&&y!==null?g.context=gn(y):(y=Lr(a)?ko:yr.current,g.context=Sa(s,y)),g.state=s.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(tp(s,a,y,c),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&Ku.enqueueReplaceState(g,g.state,null),Uu(s,c,g,f),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function Da(s,a){try{var c="",f=a;do c+=me(f),f=f.return;while(f);var g=c}catch(y){g=`
Error generating stack: `+y.message+`
`+y.stack}return{value:s,source:a,stack:g,digest:null}}function np(s,a,c){return{value:s,source:null,stack:c??null,digest:a??null}}function sp(s,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var nj=typeof WeakMap=="function"?WeakMap:Map;function F0(s,a,c){c=Gs(-1,c),c.tag=3,c.payload={element:null};var f=a.value;return c.callback=function(){td||(td=!0,yp=f),sp(s,a)},c}function U0(s,a,c){c=Gs(-1,c),c.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var g=a.value;c.payload=function(){return f(g)},c.callback=function(){sp(s,a)}}var y=s.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(c.callback=function(){sp(s,a),typeof f!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var j=a.stack;this.componentDidCatch(a.value,{componentStack:j!==null?j:""})}),c}function B0(s,a,c){var f=s.pingCache;if(f===null){f=s.pingCache=new nj;var g=new Set;f.set(a,g)}else g=f.get(a),g===void 0&&(g=new Set,f.set(a,g));g.has(c)||(g.add(c),s=xj.bind(null,s,a,c),a.then(s,s))}function z0(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function H0(s,a,c,f,g){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=Gs(-1,1),a.tag=2,Ii(c,a,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var sj=F.ReactCurrentOwner,Vr=!1;function Cr(s,a,c,f){a.child=s===null?u0(a,null,c,f):Ia(a,s.child,c,f)}function W0(s,a,c,f,g){c=c.render;var y=a.ref;return Ra(a,g),f=Yf(s,a,c,f,y,g),c=Qf(),s!==null&&!Vr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Ks(s,a,g)):(wt&&c&&Rf(a),a.flags|=1,Cr(s,a,f,g),a.child)}function q0(s,a,c,f,g){if(s===null){var y=c.type;return typeof y=="function"&&!Sp(y)&&y.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=y,G0(s,a,y,f,g)):(s=ad(c.type,null,f,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,(s.lanes&g)===0){var j=y.memoizedProps;if(c=c.compare,c=c!==null?c:Kl,c(j,f)&&s.ref===a.ref)return Ks(s,a,g)}return a.flags|=1,s=Oi(y,f),s.ref=a.ref,s.return=a,a.child=s}function G0(s,a,c,f,g){if(s!==null){var y=s.memoizedProps;if(Kl(y,f)&&s.ref===a.ref)if(Vr=!1,a.pendingProps=f=y,(s.lanes&g)!==0)(s.flags&131072)!==0&&(Vr=!0);else return a.lanes=s.lanes,Ks(s,a,g)}return ip(s,a,c,f,g)}function K0(s,a,c){var f=a.pendingProps,g=f.children,y=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(Oa,nn),nn|=c;else{if((c&1073741824)===0)return s=y!==null?y.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,ht(Oa,nn),nn|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=y!==null?y.baseLanes:c,ht(Oa,nn),nn|=f}else y!==null?(f=y.baseLanes|c,a.memoizedState=null):f=c,ht(Oa,nn),nn|=f;return Cr(s,a,g,c),a.child}function Y0(s,a){var c=a.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function ip(s,a,c,f,g){var y=Lr(c)?ko:yr.current;return y=Sa(a,y),Ra(a,g),c=Yf(s,a,c,f,y,g),f=Qf(),s!==null&&!Vr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Ks(s,a,g)):(wt&&f&&Rf(a),a.flags|=1,Cr(s,a,c,g),a.child)}function Q0(s,a,c,f,g){if(Lr(c)){var y=!0;Ru(a)}else y=!1;if(Ra(a,g),a.stateNode===null)Qu(s,a),V0(a,c,f),rp(a,c,f,g),f=!0;else if(s===null){var j=a.stateNode,V=a.memoizedProps;j.props=V;var H=j.context,J=c.contextType;typeof J=="object"&&J!==null?J=gn(J):(J=Lr(c)?ko:yr.current,J=Sa(a,J));var he=c.getDerivedStateFromProps,fe=typeof he=="function"||typeof j.getSnapshotBeforeUpdate=="function";fe||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(V!==f||H!==J)&&$0(a,j,f,J),Ci=!1;var de=a.memoizedState;j.state=de,Uu(a,f,j,g),H=a.memoizedState,V!==f||de!==H||Or.current||Ci?(typeof he=="function"&&(tp(a,c,he,f),H=a.memoizedState),(V=Ci||L0(a,c,V,f,de,H,J))?(fe||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(a.flags|=4194308)):(typeof j.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=H),j.props=f,j.state=H,j.context=J,f=V):(typeof j.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{j=a.stateNode,h0(s,a),V=a.memoizedProps,J=a.type===a.elementType?V:On(a.type,V),j.props=J,fe=a.pendingProps,de=j.context,H=c.contextType,typeof H=="object"&&H!==null?H=gn(H):(H=Lr(c)?ko:yr.current,H=Sa(a,H));var _e=c.getDerivedStateFromProps;(he=typeof _e=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(V!==fe||de!==H)&&$0(a,j,f,H),Ci=!1,de=a.memoizedState,j.state=de,Uu(a,f,j,g);var je=a.memoizedState;V!==fe||de!==je||Or.current||Ci?(typeof _e=="function"&&(tp(a,c,_e,f),je=a.memoizedState),(J=Ci||L0(a,c,J,f,de,je,H)||!1)?(he||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(f,je,H),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(f,je,H)),typeof j.componentDidUpdate=="function"&&(a.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof j.componentDidUpdate!="function"||V===s.memoizedProps&&de===s.memoizedState||(a.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&de===s.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=je),j.props=f,j.state=je,j.context=H,f=J):(typeof j.componentDidUpdate!="function"||V===s.memoizedProps&&de===s.memoizedState||(a.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&de===s.memoizedState||(a.flags|=1024),f=!1)}return op(s,a,c,f,y,g)}function op(s,a,c,f,g,y){Y0(s,a);var j=(a.flags&128)!==0;if(!f&&!j)return g&&t0(a,c,!1),Ks(s,a,y);f=a.stateNode,sj.current=a;var V=j&&typeof c.getDerivedStateFromError!="function"?null:f.render();return a.flags|=1,s!==null&&j?(a.child=Ia(a,s.child,null,y),a.child=Ia(a,null,V,y)):Cr(s,a,V,y),a.memoizedState=f.state,g&&t0(a,c,!0),a.child}function X0(s){var a=s.stateNode;a.pendingContext?Zx(s,a.pendingContext,a.pendingContext!==a.context):a.context&&Zx(s,a.context,!1),zf(s,a.containerInfo)}function J0(s,a,c,f,g){return Ca(),Of(g),a.flags|=256,Cr(s,a,c,f),a.child}var ap={dehydrated:null,treeContext:null,retryLane:0};function lp(s){return{baseLanes:s,cachePool:null,transitions:null}}function Z0(s,a,c){var f=a.pendingProps,g=_t.current,y=!1,j=(a.flags&128)!==0,V;if((V=j)||(V=s!==null&&s.memoizedState===null?!1:(g&2)!==0),V?(y=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),ht(_t,g&1),s===null)return Mf(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(j=f.children,s=f.fallback,y?(f=a.mode,y=a.child,j={mode:"hidden",children:j},(f&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=j):y=ld(j,f,0,null),s=Lo(s,f,c,null),y.return=a,s.return=a,y.sibling=s,a.child=y,a.child.memoizedState=lp(c),a.memoizedState=ap,s):cp(a,j));if(g=s.memoizedState,g!==null&&(V=g.dehydrated,V!==null))return ij(s,a,j,f,V,g,c);if(y){y=f.fallback,j=a.mode,g=s.child,V=g.sibling;var H={mode:"hidden",children:f.children};return(j&1)===0&&a.child!==g?(f=a.child,f.childLanes=0,f.pendingProps=H,a.deletions=null):(f=Oi(g,H),f.subtreeFlags=g.subtreeFlags&14680064),V!==null?y=Oi(V,y):(y=Lo(y,j,c,null),y.flags|=2),y.return=a,f.return=a,f.sibling=y,a.child=f,f=y,y=a.child,j=s.child.memoizedState,j=j===null?lp(c):{baseLanes:j.baseLanes|c,cachePool:null,transitions:j.transitions},y.memoizedState=j,y.childLanes=s.childLanes&~c,a.memoizedState=ap,f}return y=s.child,s=y.sibling,f=Oi(y,{mode:"visible",children:f.children}),(a.mode&1)===0&&(f.lanes=c),f.return=a,f.sibling=null,s!==null&&(c=a.deletions,c===null?(a.deletions=[s],a.flags|=16):c.push(s)),a.child=f,a.memoizedState=null,f}function cp(s,a){return a=ld({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Yu(s,a,c,f){return f!==null&&Of(f),Ia(a,s.child,null,c),s=cp(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function ij(s,a,c,f,g,y,j){if(c)return a.flags&256?(a.flags&=-257,f=np(Error(t(422))),Yu(s,a,j,f)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(y=f.fallback,g=a.mode,f=ld({mode:"visible",children:f.children},g,0,null),y=Lo(y,g,j,null),y.flags|=2,f.return=a,y.return=a,f.sibling=y,a.child=f,(a.mode&1)!==0&&Ia(a,s.child,null,j),a.child.memoizedState=lp(j),a.memoizedState=ap,y);if((a.mode&1)===0)return Yu(s,a,j,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var V=f.dgst;return f=V,y=Error(t(419)),f=np(y,f,void 0),Yu(s,a,j,f)}if(V=(j&s.childLanes)!==0,Vr||V){if(f=nr,f!==null){switch(j&-j){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|j))!==0?0:g,g!==0&&g!==y.retryLane&&(y.retryLane=g,qs(s,g),$n(f,s,g,-1))}return jp(),f=np(Error(t(421))),Yu(s,a,j,f)}return g.data==="$?"?(a.flags|=128,a.child=s.child,a=vj.bind(null,s),g._reactRetry=a,null):(s=y.treeContext,rn=ji(g.nextSibling),tn=a,wt=!0,Mn=null,s!==null&&(pn[mn++]=Hs,pn[mn++]=Ws,pn[mn++]=To,Hs=s.id,Ws=s.overflow,To=a),a=cp(a,f.children),a.flags|=4096,a)}function ev(s,a,c){s.lanes|=a;var f=s.alternate;f!==null&&(f.lanes|=a),Ff(s.return,a,c)}function up(s,a,c,f,g){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:g}:(y.isBackwards=a,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=c,y.tailMode=g)}function tv(s,a,c){var f=a.pendingProps,g=f.revealOrder,y=f.tail;if(Cr(s,a,f.children,c),f=_t.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&ev(s,c,a);else if(s.tag===19)ev(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(ht(_t,f),(a.mode&1)===0)a.memoizedState=null;else switch(g){case"forwards":for(c=a.child,g=null;c!==null;)s=c.alternate,s!==null&&Bu(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),up(a,!1,g,c,y);break;case"backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&Bu(s)===null){a.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}up(a,!0,c,null,y);break;case"together":up(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Qu(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Ks(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),Po|=a.lanes,(c&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,c=Oi(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=Oi(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function oj(s,a,c){switch(a.tag){case 3:X0(a),Ca();break;case 5:m0(a);break;case 1:Lr(a.type)&&Ru(a);break;case 4:zf(a,a.stateNode.containerInfo);break;case 10:var f=a.type._context,g=a.memoizedProps.value;ht(Vu,f._currentValue),f._currentValue=g;break;case 13:if(f=a.memoizedState,f!==null)return f.dehydrated!==null?(ht(_t,_t.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?Z0(s,a,c):(ht(_t,_t.current&1),s=Ks(s,a,c),s!==null?s.sibling:null);ht(_t,_t.current&1);break;case 19:if(f=(c&a.childLanes)!==0,(s.flags&128)!==0){if(f)return tv(s,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ht(_t,_t.current),f)break;return null;case 22:case 23:return a.lanes=0,K0(s,a,c)}return Ks(s,a,c)}var rv,dp,nv,sv;rv=function(s,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},dp=function(){},nv=function(s,a,c,f){var g=s.memoizedProps;if(g!==f){s=a.stateNode,Ao(hs.current);var y=null;switch(c){case"input":g=Lt(s,g),f=Lt(s,f),y=[];break;case"select":g=se({},g,{value:void 0}),f=se({},f,{value:void 0}),y=[];break;case"textarea":g=ct(s,g),f=ct(s,f),y=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=Cu)}Mr(c,f);var j;c=null;for(J in g)if(!f.hasOwnProperty(J)&&g.hasOwnProperty(J)&&g[J]!=null)if(J==="style"){var V=g[J];for(j in V)V.hasOwnProperty(j)&&(c||(c={}),c[j]="")}else J!=="dangerouslySetInnerHTML"&&J!=="children"&&J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&J!=="autoFocus"&&(o.hasOwnProperty(J)?y||(y=[]):(y=y||[]).push(J,null));for(J in f){var H=f[J];if(V=g?.[J],f.hasOwnProperty(J)&&H!==V&&(H!=null||V!=null))if(J==="style")if(V){for(j in V)!V.hasOwnProperty(j)||H&&H.hasOwnProperty(j)||(c||(c={}),c[j]="");for(j in H)H.hasOwnProperty(j)&&V[j]!==H[j]&&(c||(c={}),c[j]=H[j])}else c||(y||(y=[]),y.push(J,c)),c=H;else J==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,V=V?V.__html:void 0,H!=null&&V!==H&&(y=y||[]).push(J,H)):J==="children"?typeof H!="string"&&typeof H!="number"||(y=y||[]).push(J,""+H):J!=="suppressContentEditableWarning"&&J!=="suppressHydrationWarning"&&(o.hasOwnProperty(J)?(H!=null&&J==="onScroll"&&xt("scroll",s),y||V===H||(y=[])):(y=y||[]).push(J,H))}c&&(y=y||[]).push("style",c);var J=y;(a.updateQueue=J)&&(a.flags|=4)}},sv=function(s,a,c,f){c!==f&&(a.flags|=4)};function cc(s,a){if(!wt)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function wr(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,f=0;if(a)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=f,s.childLanes=c,a}function aj(s,a,c){var f=a.pendingProps;switch(Pf(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wr(a),null;case 1:return Lr(a.type)&&Au(),wr(a),null;case 3:return f=a.stateNode,Pa(),vt(Or),vt(yr),qf(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(Ou(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Mn!==null&&(_p(Mn),Mn=null))),dp(s,a),wr(a),null;case 5:Hf(a);var g=Ao(sc.current);if(c=a.type,s!==null&&a.stateNode!=null)nv(s,a,c,f,g),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!f){if(a.stateNode===null)throw Error(t(166));return wr(a),null}if(s=Ao(hs.current),Ou(a)){f=a.stateNode,c=a.type;var y=a.memoizedProps;switch(f[ds]=a,f[Zl]=y,s=(a.mode&1)!==0,c){case"dialog":xt("cancel",f),xt("close",f);break;case"iframe":case"object":case"embed":xt("load",f);break;case"video":case"audio":for(g=0;g<Ql.length;g++)xt(Ql[g],f);break;case"source":xt("error",f);break;case"img":case"image":case"link":xt("error",f),xt("load",f);break;case"details":xt("toggle",f);break;case"input":cn(f,y),xt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!y.multiple},xt("invalid",f);break;case"textarea":or(f,y),xt("invalid",f)}Mr(c,y),g=null;for(var j in y)if(y.hasOwnProperty(j)){var V=y[j];j==="children"?typeof V=="string"?f.textContent!==V&&(y.suppressHydrationWarning!==!0&&Tu(f.textContent,V,s),g=["children",V]):typeof V=="number"&&f.textContent!==""+V&&(y.suppressHydrationWarning!==!0&&Tu(f.textContent,V,s),g=["children",""+V]):o.hasOwnProperty(j)&&V!=null&&j==="onScroll"&&xt("scroll",f)}switch(c){case"input":ze(f),Ke(f,y,!0);break;case"textarea":ze(f),Gr(f);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(f.onclick=Cu)}f=g,a.updateQueue=f,f!==null&&(a.flags|=4)}else{j=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Xn(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=j.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=j.createElement(c,{is:f.is}):(s=j.createElement(c),c==="select"&&(j=s,f.multiple?j.multiple=!0:f.size&&(j.size=f.size))):s=j.createElementNS(s,c),s[ds]=a,s[Zl]=f,rv(s,a,!1,!1),a.stateNode=s;e:{switch(j=gi(c,f),c){case"dialog":xt("cancel",s),xt("close",s),g=f;break;case"iframe":case"object":case"embed":xt("load",s),g=f;break;case"video":case"audio":for(g=0;g<Ql.length;g++)xt(Ql[g],s);g=f;break;case"source":xt("error",s),g=f;break;case"img":case"image":case"link":xt("error",s),xt("load",s),g=f;break;case"details":xt("toggle",s),g=f;break;case"input":cn(s,f),g=Lt(s,f),xt("invalid",s);break;case"option":g=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},g=se({},f,{value:void 0}),xt("invalid",s);break;case"textarea":or(s,f),g=ct(s,f),xt("invalid",s);break;default:g=f}Mr(c,g),V=g;for(y in V)if(V.hasOwnProperty(y)){var H=V[y];y==="style"?pi(s,H):y==="dangerouslySetInnerHTML"?(H=H?H.__html:void 0,H!=null&&fi(s,H)):y==="children"?typeof H=="string"?(c!=="textarea"||H!=="")&&Dr(s,H):typeof H=="number"&&Dr(s,""+H):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?H!=null&&y==="onScroll"&&xt("scroll",s):H!=null&&$(s,y,H,j))}switch(c){case"input":ze(s),Ke(s,f,!1);break;case"textarea":ze(s),Gr(s);break;case"option":f.value!=null&&s.setAttribute("value",""+pe(f.value));break;case"select":s.multiple=!!f.multiple,y=f.value,y!=null?Zt(s,!!f.multiple,y,!1):f.defaultValue!=null&&Zt(s,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=Cu)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return wr(a),null;case 6:if(s&&a.stateNode!=null)sv(s,a,s.memoizedProps,f);else{if(typeof f!="string"&&a.stateNode===null)throw Error(t(166));if(c=Ao(sc.current),Ao(hs.current),Ou(a)){if(f=a.stateNode,c=a.memoizedProps,f[ds]=a,(y=f.nodeValue!==c)&&(s=tn,s!==null))switch(s.tag){case 3:Tu(f.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Tu(f.nodeValue,c,(s.mode&1)!==0)}y&&(a.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[ds]=a,a.stateNode=f}return wr(a),null;case 13:if(vt(_t),f=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(wt&&rn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)a0(),Ca(),a.flags|=98560,y=!1;else if(y=Ou(a),f!==null&&f.dehydrated!==null){if(s===null){if(!y)throw Error(t(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[ds]=a}else Ca(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;wr(a),y=!1}else Mn!==null&&(_p(Mn),Mn=null),y=!0;if(!y)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(_t.current&1)!==0?qt===0&&(qt=3):jp())),a.updateQueue!==null&&(a.flags|=4),wr(a),null);case 4:return Pa(),dp(s,a),s===null&&Xl(a.stateNode.containerInfo),wr(a),null;case 10:return $f(a.type._context),wr(a),null;case 17:return Lr(a.type)&&Au(),wr(a),null;case 19:if(vt(_t),y=a.memoizedState,y===null)return wr(a),null;if(f=(a.flags&128)!==0,j=y.rendering,j===null)if(f)cc(y,!1);else{if(qt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(j=Bu(s),j!==null){for(a.flags|=128,cc(y,!1),f=j.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),a.subtreeFlags=0,f=c,c=a.child;c!==null;)y=c,s=f,y.flags&=14680066,j=y.alternate,j===null?(y.childLanes=0,y.lanes=s,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=j.childLanes,y.lanes=j.lanes,y.child=j.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=j.memoizedProps,y.memoizedState=j.memoizedState,y.updateQueue=j.updateQueue,y.type=j.type,s=j.dependencies,y.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return ht(_t,_t.current&1|2),a.child}s=s.sibling}y.tail!==null&&gt()>La&&(a.flags|=128,f=!0,cc(y,!1),a.lanes=4194304)}else{if(!f)if(s=Bu(j),s!==null){if(a.flags|=128,f=!0,c=s.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),cc(y,!0),y.tail===null&&y.tailMode==="hidden"&&!j.alternate&&!wt)return wr(a),null}else 2*gt()-y.renderingStartTime>La&&c!==1073741824&&(a.flags|=128,f=!0,cc(y,!1),a.lanes=4194304);y.isBackwards?(j.sibling=a.child,a.child=j):(c=y.last,c!==null?c.sibling=j:a.child=j,y.last=j)}return y.tail!==null?(a=y.tail,y.rendering=a,y.tail=a.sibling,y.renderingStartTime=gt(),a.sibling=null,c=_t.current,ht(_t,f?c&1|2:c&1),a):(wr(a),null);case 22:case 23:return Ep(),f=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(a.flags|=8192),f&&(a.mode&1)!==0?(nn&1073741824)!==0&&(wr(a),a.subtreeFlags&6&&(a.flags|=8192)):wr(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function lj(s,a){switch(Pf(a),a.tag){case 1:return Lr(a.type)&&Au(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Pa(),vt(Or),vt(yr),qf(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Hf(a),null;case 13:if(vt(_t),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Ca()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return vt(_t),null;case 4:return Pa(),null;case 10:return $f(a.type._context),null;case 22:case 23:return Ep(),null;case 24:return null;default:return null}}var Xu=!1,_r=!1,cj=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function Ma(s,a){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){Tt(s,a,f)}else c.current=null}function hp(s,a,c){try{c()}catch(f){Tt(s,a,f)}}var iv=!1;function uj(s,a){if(Ef=$s,s=Lx(),gf(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var g=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var j=0,V=-1,H=-1,J=0,he=0,fe=s,de=null;t:for(;;){for(var _e;fe!==c||g!==0&&fe.nodeType!==3||(V=j+g),fe!==y||f!==0&&fe.nodeType!==3||(H=j+f),fe.nodeType===3&&(j+=fe.nodeValue.length),(_e=fe.firstChild)!==null;)de=fe,fe=_e;for(;;){if(fe===s)break t;if(de===c&&++J===g&&(V=j),de===y&&++he===f&&(H=j),(_e=fe.nextSibling)!==null)break;fe=de,de=fe.parentNode}fe=_e}c=V===-1||H===-1?null:{start:V,end:H}}else c=null}c=c||{start:0,end:0}}else c=null;for(jf={focusedElem:s,selectionRange:c},$s=!1,Ee=a;Ee!==null;)if(a=Ee,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Ee=s;else for(;Ee!==null;){a=Ee;try{var je=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(je!==null){var Ce=je.memoizedProps,Dt=je.memoizedState,K=a.stateNode,q=K.getSnapshotBeforeUpdate(a.elementType===a.type?Ce:On(a.type,Ce),Dt);K.__reactInternalSnapshotBeforeUpdate=q}break;case 3:var Q=a.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ge){Tt(a,a.return,ge)}if(s=a.sibling,s!==null){s.return=a.return,Ee=s;break}Ee=a.return}return je=iv,iv=!1,je}function uc(s,a,c){var f=a.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&s)===s){var y=g.destroy;g.destroy=void 0,y!==void 0&&hp(a,c,y)}g=g.next}while(g!==f)}}function Ju(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&s)===s){var f=c.create;c.destroy=f()}c=c.next}while(c!==a)}}function fp(s){var a=s.ref;if(a!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof a=="function"?a(s):a.current=s}}function ov(s){var a=s.alternate;a!==null&&(s.alternate=null,ov(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[ds],delete a[Zl],delete a[Cf],delete a[qE],delete a[GE])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function av(s){return s.tag===5||s.tag===3||s.tag===4}function lv(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||av(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function pp(s,a,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(s,a):c.insertBefore(s,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(s,c)):(a=c,a.appendChild(s)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Cu));else if(f!==4&&(s=s.child,s!==null))for(pp(s,a,c),s=s.sibling;s!==null;)pp(s,a,c),s=s.sibling}function mp(s,a,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(mp(s,a,c),s=s.sibling;s!==null;)mp(s,a,c),s=s.sibling}var ur=null,Ln=!1;function Ai(s,a,c){for(c=c.child;c!==null;)cv(s,a,c),c=c.sibling}function cv(s,a,c){if(Yr&&typeof Yr.onCommitFiberUnmount=="function")try{Yr.onCommitFiberUnmount(xo,c)}catch{}switch(c.tag){case 5:_r||Ma(c,a);case 6:var f=ur,g=Ln;ur=null,Ai(s,a,c),ur=f,Ln=g,ur!==null&&(Ln?(s=ur,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):ur.removeChild(c.stateNode));break;case 18:ur!==null&&(Ln?(s=ur,c=c.stateNode,s.nodeType===8?Tf(s.parentNode,c):s.nodeType===1&&Tf(s,c),wi(s)):Tf(ur,c.stateNode));break;case 4:f=ur,g=Ln,ur=c.stateNode.containerInfo,Ln=!0,Ai(s,a,c),ur=f,Ln=g;break;case 0:case 11:case 14:case 15:if(!_r&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var y=g,j=y.destroy;y=y.tag,j!==void 0&&((y&2)!==0||(y&4)!==0)&&hp(c,a,j),g=g.next}while(g!==f)}Ai(s,a,c);break;case 1:if(!_r&&(Ma(c,a),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(V){Tt(c,a,V)}Ai(s,a,c);break;case 21:Ai(s,a,c);break;case 22:c.mode&1?(_r=(f=_r)||c.memoizedState!==null,Ai(s,a,c),_r=f):Ai(s,a,c);break;default:Ai(s,a,c)}}function uv(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new cj),a.forEach(function(f){var g=yj.bind(null,s,f);c.has(f)||(c.add(f),f.then(g,g))})}}function Vn(s,a){var c=a.deletions;if(c!==null)for(var f=0;f<c.length;f++){var g=c[f];try{var y=s,j=a,V=j;e:for(;V!==null;){switch(V.tag){case 5:ur=V.stateNode,Ln=!1;break e;case 3:ur=V.stateNode.containerInfo,Ln=!0;break e;case 4:ur=V.stateNode.containerInfo,Ln=!0;break e}V=V.return}if(ur===null)throw Error(t(160));cv(y,j,g),ur=null,Ln=!1;var H=g.alternate;H!==null&&(H.return=null),g.return=null}catch(J){Tt(g,a,J)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)dv(a,s),a=a.sibling}function dv(s,a){var c=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Vn(a,s),ps(s),f&4){try{uc(3,s,s.return),Ju(3,s)}catch(Ce){Tt(s,s.return,Ce)}try{uc(5,s,s.return)}catch(Ce){Tt(s,s.return,Ce)}}break;case 1:Vn(a,s),ps(s),f&512&&c!==null&&Ma(c,c.return);break;case 5:if(Vn(a,s),ps(s),f&512&&c!==null&&Ma(c,c.return),s.flags&32){var g=s.stateNode;try{Dr(g,"")}catch(Ce){Tt(s,s.return,Ce)}}if(f&4&&(g=s.stateNode,g!=null)){var y=s.memoizedProps,j=c!==null?c.memoizedProps:y,V=s.type,H=s.updateQueue;if(s.updateQueue=null,H!==null)try{V==="input"&&y.type==="radio"&&y.name!=null&&gr(g,y),gi(V,j);var J=gi(V,y);for(j=0;j<H.length;j+=2){var he=H[j],fe=H[j+1];he==="style"?pi(g,fe):he==="dangerouslySetInnerHTML"?fi(g,fe):he==="children"?Dr(g,fe):$(g,he,fe,J)}switch(V){case"input":ye(g,y);break;case"textarea":ar(g,y);break;case"select":var de=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!y.multiple;var _e=y.value;_e!=null?Zt(g,!!y.multiple,_e,!1):de!==!!y.multiple&&(y.defaultValue!=null?Zt(g,!!y.multiple,y.defaultValue,!0):Zt(g,!!y.multiple,y.multiple?[]:"",!1))}g[Zl]=y}catch(Ce){Tt(s,s.return,Ce)}}break;case 6:if(Vn(a,s),ps(s),f&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,y=s.memoizedProps;try{g.nodeValue=y}catch(Ce){Tt(s,s.return,Ce)}}break;case 3:if(Vn(a,s),ps(s),f&4&&c!==null&&c.memoizedState.isDehydrated)try{wi(a.containerInfo)}catch(Ce){Tt(s,s.return,Ce)}break;case 4:Vn(a,s),ps(s);break;case 13:Vn(a,s),ps(s),g=s.child,g.flags&8192&&(y=g.memoizedState!==null,g.stateNode.isHidden=y,!y||g.alternate!==null&&g.alternate.memoizedState!==null||(vp=gt())),f&4&&uv(s);break;case 22:if(he=c!==null&&c.memoizedState!==null,s.mode&1?(_r=(J=_r)||he,Vn(a,s),_r=J):Vn(a,s),ps(s),f&8192){if(J=s.memoizedState!==null,(s.stateNode.isHidden=J)&&!he&&(s.mode&1)!==0)for(Ee=s,he=s.child;he!==null;){for(fe=Ee=he;Ee!==null;){switch(de=Ee,_e=de.child,de.tag){case 0:case 11:case 14:case 15:uc(4,de,de.return);break;case 1:Ma(de,de.return);var je=de.stateNode;if(typeof je.componentWillUnmount=="function"){f=de,c=de.return;try{a=f,je.props=a.memoizedProps,je.state=a.memoizedState,je.componentWillUnmount()}catch(Ce){Tt(f,c,Ce)}}break;case 5:Ma(de,de.return);break;case 22:if(de.memoizedState!==null){pv(fe);continue}}_e!==null?(_e.return=de,Ee=_e):pv(fe)}he=he.sibling}e:for(he=null,fe=s;;){if(fe.tag===5){if(he===null){he=fe;try{g=fe.stateNode,J?(y=g.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(V=fe.stateNode,H=fe.memoizedProps.style,j=H!=null&&H.hasOwnProperty("display")?H.display:null,V.style.display=Jn("display",j))}catch(Ce){Tt(s,s.return,Ce)}}}else if(fe.tag===6){if(he===null)try{fe.stateNode.nodeValue=J?"":fe.memoizedProps}catch(Ce){Tt(s,s.return,Ce)}}else if((fe.tag!==22&&fe.tag!==23||fe.memoizedState===null||fe===s)&&fe.child!==null){fe.child.return=fe,fe=fe.child;continue}if(fe===s)break e;for(;fe.sibling===null;){if(fe.return===null||fe.return===s)break e;he===fe&&(he=null),fe=fe.return}he===fe&&(he=null),fe.sibling.return=fe.return,fe=fe.sibling}}break;case 19:Vn(a,s),ps(s),f&4&&uv(s);break;case 21:break;default:Vn(a,s),ps(s)}}function ps(s){var a=s.flags;if(a&2){try{e:{for(var c=s.return;c!==null;){if(av(c)){var f=c;break e}c=c.return}throw Error(t(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(Dr(g,""),f.flags&=-33);var y=lv(s);mp(s,y,g);break;case 3:case 4:var j=f.stateNode.containerInfo,V=lv(s);pp(s,V,j);break;default:throw Error(t(161))}}catch(H){Tt(s,s.return,H)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function dj(s,a,c){Ee=s,hv(s)}function hv(s,a,c){for(var f=(s.mode&1)!==0;Ee!==null;){var g=Ee,y=g.child;if(g.tag===22&&f){var j=g.memoizedState!==null||Xu;if(!j){var V=g.alternate,H=V!==null&&V.memoizedState!==null||_r;V=Xu;var J=_r;if(Xu=j,(_r=H)&&!J)for(Ee=g;Ee!==null;)j=Ee,H=j.child,j.tag===22&&j.memoizedState!==null?mv(g):H!==null?(H.return=j,Ee=H):mv(g);for(;y!==null;)Ee=y,hv(y),y=y.sibling;Ee=g,Xu=V,_r=J}fv(s)}else(g.subtreeFlags&8772)!==0&&y!==null?(y.return=g,Ee=y):fv(s)}}function fv(s){for(;Ee!==null;){var a=Ee;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:_r||Ju(5,a);break;case 1:var f=a.stateNode;if(a.flags&4&&!_r)if(c===null)f.componentDidMount();else{var g=a.elementType===a.type?c.memoizedProps:On(a.type,c.memoizedProps);f.componentDidUpdate(g,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var y=a.updateQueue;y!==null&&p0(a,y,f);break;case 3:var j=a.updateQueue;if(j!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}p0(a,j,c)}break;case 5:var V=a.stateNode;if(c===null&&a.flags&4){c=V;var H=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":H.autoFocus&&c.focus();break;case"img":H.src&&(c.src=H.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var J=a.alternate;if(J!==null){var he=J.memoizedState;if(he!==null){var fe=he.dehydrated;fe!==null&&wi(fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}_r||a.flags&512&&fp(a)}catch(de){Tt(a,a.return,de)}}if(a===s){Ee=null;break}if(c=a.sibling,c!==null){c.return=a.return,Ee=c;break}Ee=a.return}}function pv(s){for(;Ee!==null;){var a=Ee;if(a===s){Ee=null;break}var c=a.sibling;if(c!==null){c.return=a.return,Ee=c;break}Ee=a.return}}function mv(s){for(;Ee!==null;){var a=Ee;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{Ju(4,a)}catch(H){Tt(a,c,H)}break;case 1:var f=a.stateNode;if(typeof f.componentDidMount=="function"){var g=a.return;try{f.componentDidMount()}catch(H){Tt(a,g,H)}}var y=a.return;try{fp(a)}catch(H){Tt(a,y,H)}break;case 5:var j=a.return;try{fp(a)}catch(H){Tt(a,j,H)}}}catch(H){Tt(a,a.return,H)}if(a===s){Ee=null;break}var V=a.sibling;if(V!==null){V.return=a.return,Ee=V;break}Ee=a.return}}var hj=Math.ceil,Zu=F.ReactCurrentDispatcher,gp=F.ReactCurrentOwner,vn=F.ReactCurrentBatchConfig,et=0,nr=null,Ut=null,dr=0,nn=0,Oa=Si(0),qt=0,dc=null,Po=0,ed=0,xp=0,hc=null,$r=null,vp=0,La=1/0,Ys=null,td=!1,yp=null,Ri=null,rd=!1,Pi=null,nd=0,fc=0,bp=null,sd=-1,id=0;function Ir(){return(et&6)!==0?gt():sd!==-1?sd:sd=gt()}function Di(s){return(s.mode&1)===0?1:(et&2)!==0&&dr!==0?dr&-dr:YE.transition!==null?(id===0&&(id=Dl()),id):(s=Je,s!==0||(s=window.event,s=s===void 0?16:ha(s.type)),s)}function $n(s,a,c,f){if(50<fc)throw fc=0,bp=null,Error(t(185));wo(s,c,f),((et&2)===0||s!==nr)&&(s===nr&&((et&2)===0&&(ed|=c),qt===4&&Mi(s,dr)),Fr(s,f),c===1&&et===0&&(a.mode&1)===0&&(La=gt()+500,Pu&&Ti()))}function Fr(s,a){var c=s.callbackNode;bo(s,a);var f=Os(s,s===nr?dr:0);if(f===0)c!==null&&ia(c),s.callbackNode=null,s.callbackPriority=0;else if(a=f&-f,s.callbackPriority!==a){if(c!=null&&ia(c),a===1)s.tag===0?KE(xv.bind(null,s)):r0(xv.bind(null,s)),HE(function(){(et&6)===0&&Ti()}),c=null;else{switch(ts(f)){case 1:c=oa;break;case 4:c=Al;break;case 16:c=go;break;case 536870912:c=aa;break;default:c=go}c=jv(c,gv.bind(null,s))}s.callbackPriority=a,s.callbackNode=c}}function gv(s,a){if(sd=-1,id=0,(et&6)!==0)throw Error(t(327));var c=s.callbackNode;if(Va()&&s.callbackNode!==c)return null;var f=Os(s,s===nr?dr:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||a)a=od(s,f);else{a=f;var g=et;et|=2;var y=yv();(nr!==s||dr!==a)&&(Ys=null,La=gt()+500,Mo(s,a));do try{mj();break}catch(V){vv(s,V)}while(!0);Vf(),Zu.current=y,et=g,Ut!==null?a=0:(nr=null,dr=0,a=qt)}if(a!==0){if(a===2&&(g=Pl(s),g!==0&&(f=g,a=wp(s,g))),a===1)throw c=dc,Mo(s,0),Mi(s,f),Fr(s,gt()),c;if(a===6)Mi(s,f);else{if(g=s.current.alternate,(f&30)===0&&!fj(g)&&(a=od(s,f),a===2&&(y=Pl(s),y!==0&&(f=y,a=wp(s,y))),a===1))throw c=dc,Mo(s,0),Mi(s,f),Fr(s,gt()),c;switch(s.finishedWork=g,s.finishedLanes=f,a){case 0:case 1:throw Error(t(345));case 2:Oo(s,$r,Ys);break;case 3:if(Mi(s,f),(f&130023424)===f&&(a=vp+500-gt(),10<a)){if(Os(s,0)!==0)break;if(g=s.suspendedLanes,(g&f)!==f){Ir(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=kf(Oo.bind(null,s,$r,Ys),a);break}Oo(s,$r,Ys);break;case 4:if(Mi(s,f),(f&4194240)===f)break;for(a=s.eventTimes,g=-1;0<f;){var j=31-Qr(f);y=1<<j,j=a[j],j>g&&(g=j),f&=~y}if(f=g,f=gt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*hj(f/1960))-f,10<f){s.timeoutHandle=kf(Oo.bind(null,s,$r,Ys),f);break}Oo(s,$r,Ys);break;case 5:Oo(s,$r,Ys);break;default:throw Error(t(329))}}}return Fr(s,gt()),s.callbackNode===c?gv.bind(null,s):null}function wp(s,a){var c=hc;return s.current.memoizedState.isDehydrated&&(Mo(s,a).flags|=256),s=od(s,a),s!==2&&(a=$r,$r=c,a!==null&&_p(a)),s}function _p(s){$r===null?$r=s:$r.push.apply($r,s)}function fj(s){for(var a=s;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var g=c[f],y=g.getSnapshot;g=g.value;try{if(!Dn(y(),g))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Mi(s,a){for(a&=~xp,a&=~ed,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var c=31-Qr(a),f=1<<c;s[c]=-1,a&=~f}}function xv(s){if((et&6)!==0)throw Error(t(327));Va();var a=Os(s,0);if((a&1)===0)return Fr(s,gt()),null;var c=od(s,a);if(s.tag!==0&&c===2){var f=Pl(s);f!==0&&(a=f,c=wp(s,f))}if(c===1)throw c=dc,Mo(s,0),Mi(s,a),Fr(s,gt()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Oo(s,$r,Ys),Fr(s,gt()),null}function Np(s,a){var c=et;et|=1;try{return s(a)}finally{et=c,et===0&&(La=gt()+500,Pu&&Ti())}}function Do(s){Pi!==null&&Pi.tag===0&&(et&6)===0&&Va();var a=et;et|=1;var c=vn.transition,f=Je;try{if(vn.transition=null,Je=1,s)return s()}finally{Je=f,vn.transition=c,et=a,(et&6)===0&&Ti()}}function Ep(){nn=Oa.current,vt(Oa)}function Mo(s,a){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,zE(c)),Ut!==null)for(c=Ut.return;c!==null;){var f=c;switch(Pf(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Au();break;case 3:Pa(),vt(Or),vt(yr),qf();break;case 5:Hf(f);break;case 4:Pa();break;case 13:vt(_t);break;case 19:vt(_t);break;case 10:$f(f.type._context);break;case 22:case 23:Ep()}c=c.return}if(nr=s,Ut=s=Oi(s.current,null),dr=nn=a,qt=0,dc=null,xp=ed=Po=0,$r=hc=null,Io!==null){for(a=0;a<Io.length;a++)if(c=Io[a],f=c.interleaved,f!==null){c.interleaved=null;var g=f.next,y=c.pending;if(y!==null){var j=y.next;y.next=g,f.next=j}c.pending=f}Io=null}return s}function vv(s,a){do{var c=Ut;try{if(Vf(),zu.current=Gu,Hu){for(var f=Nt.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}Hu=!1}if(Ro=0,rr=Wt=Nt=null,ic=!1,oc=0,gp.current=null,c===null||c.return===null){qt=1,dc=a,Ut=null;break}e:{var y=s,j=c.return,V=c,H=a;if(a=dr,V.flags|=32768,H!==null&&typeof H=="object"&&typeof H.then=="function"){var J=H,he=V,fe=he.tag;if((he.mode&1)===0&&(fe===0||fe===11||fe===15)){var de=he.alternate;de?(he.updateQueue=de.updateQueue,he.memoizedState=de.memoizedState,he.lanes=de.lanes):(he.updateQueue=null,he.memoizedState=null)}var _e=z0(j);if(_e!==null){_e.flags&=-257,H0(_e,j,V,y,a),_e.mode&1&&B0(y,J,a),a=_e,H=J;var je=a.updateQueue;if(je===null){var Ce=new Set;Ce.add(H),a.updateQueue=Ce}else je.add(H);break e}else{if((a&1)===0){B0(y,J,a),jp();break e}H=Error(t(426))}}else if(wt&&V.mode&1){var Dt=z0(j);if(Dt!==null){(Dt.flags&65536)===0&&(Dt.flags|=256),H0(Dt,j,V,y,a),Of(Da(H,V));break e}}y=H=Da(H,V),qt!==4&&(qt=2),hc===null?hc=[y]:hc.push(y),y=j;do{switch(y.tag){case 3:y.flags|=65536,a&=-a,y.lanes|=a;var K=F0(y,H,a);f0(y,K);break e;case 1:V=H;var q=y.type,Q=y.stateNode;if((y.flags&128)===0&&(typeof q.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Ri===null||!Ri.has(Q)))){y.flags|=65536,a&=-a,y.lanes|=a;var ge=U0(y,V,a);f0(y,ge);break e}}y=y.return}while(y!==null)}wv(c)}catch(Ie){a=Ie,Ut===c&&c!==null&&(Ut=c=c.return);continue}break}while(!0)}function yv(){var s=Zu.current;return Zu.current=Gu,s===null?Gu:s}function jp(){(qt===0||qt===3||qt===2)&&(qt=4),nr===null||(Po&268435455)===0&&(ed&268435455)===0||Mi(nr,dr)}function od(s,a){var c=et;et|=2;var f=yv();(nr!==s||dr!==a)&&(Ys=null,Mo(s,a));do try{pj();break}catch(g){vv(s,g)}while(!0);if(Vf(),et=c,Zu.current=f,Ut!==null)throw Error(t(261));return nr=null,dr=0,qt}function pj(){for(;Ut!==null;)bv(Ut)}function mj(){for(;Ut!==null&&!mo();)bv(Ut)}function bv(s){var a=Ev(s.alternate,s,nn);s.memoizedProps=s.pendingProps,a===null?wv(s):Ut=a,gp.current=null}function wv(s){var a=s;do{var c=a.alternate;if(s=a.return,(a.flags&32768)===0){if(c=aj(c,a,nn),c!==null){Ut=c;return}}else{if(c=lj(c,a),c!==null){c.flags&=32767,Ut=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{qt=6,Ut=null;return}}if(a=a.sibling,a!==null){Ut=a;return}Ut=a=s}while(a!==null);qt===0&&(qt=5)}function Oo(s,a,c){var f=Je,g=vn.transition;try{vn.transition=null,Je=1,gj(s,a,c,f)}finally{vn.transition=g,Je=f}return null}function gj(s,a,c,f){do Va();while(Pi!==null);if((et&6)!==0)throw Error(t(327));c=s.finishedWork;var g=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var y=c.lanes|c.childLanes;if(df(s,y),s===nr&&(Ut=nr=null,dr=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||rd||(rd=!0,jv(go,function(){return Va(),null})),y=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||y){y=vn.transition,vn.transition=null;var j=Je;Je=1;var V=et;et|=4,gp.current=null,uj(s,c),dv(c,s),OE(jf),$s=!!Ef,jf=Ef=null,s.current=c,dj(c),Ms(),et=V,Je=j,vn.transition=y}else s.current=c;if(rd&&(rd=!1,Pi=s,nd=g),y=s.pendingLanes,y===0&&(Ri=null),fu(c.stateNode),Fr(s,gt()),a!==null)for(f=s.onRecoverableError,c=0;c<a.length;c++)g=a[c],f(g.value,{componentStack:g.stack,digest:g.digest});if(td)throw td=!1,s=yp,yp=null,s;return(nd&1)!==0&&s.tag!==0&&Va(),y=s.pendingLanes,(y&1)!==0?s===bp?fc++:(fc=0,bp=s):fc=0,Ti(),null}function Va(){if(Pi!==null){var s=ts(nd),a=vn.transition,c=Je;try{if(vn.transition=null,Je=16>s?16:s,Pi===null)var f=!1;else{if(s=Pi,Pi=null,nd=0,(et&6)!==0)throw Error(t(331));var g=et;for(et|=4,Ee=s.current;Ee!==null;){var y=Ee,j=y.child;if((Ee.flags&16)!==0){var V=y.deletions;if(V!==null){for(var H=0;H<V.length;H++){var J=V[H];for(Ee=J;Ee!==null;){var he=Ee;switch(he.tag){case 0:case 11:case 15:uc(8,he,y)}var fe=he.child;if(fe!==null)fe.return=he,Ee=fe;else for(;Ee!==null;){he=Ee;var de=he.sibling,_e=he.return;if(ov(he),he===J){Ee=null;break}if(de!==null){de.return=_e,Ee=de;break}Ee=_e}}}var je=y.alternate;if(je!==null){var Ce=je.child;if(Ce!==null){je.child=null;do{var Dt=Ce.sibling;Ce.sibling=null,Ce=Dt}while(Ce!==null)}}Ee=y}}if((y.subtreeFlags&2064)!==0&&j!==null)j.return=y,Ee=j;else e:for(;Ee!==null;){if(y=Ee,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:uc(9,y,y.return)}var K=y.sibling;if(K!==null){K.return=y.return,Ee=K;break e}Ee=y.return}}var q=s.current;for(Ee=q;Ee!==null;){j=Ee;var Q=j.child;if((j.subtreeFlags&2064)!==0&&Q!==null)Q.return=j,Ee=Q;else e:for(j=q;Ee!==null;){if(V=Ee,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:Ju(9,V)}}catch(Ie){Tt(V,V.return,Ie)}if(V===j){Ee=null;break e}var ge=V.sibling;if(ge!==null){ge.return=V.return,Ee=ge;break e}Ee=V.return}}if(et=g,Ti(),Yr&&typeof Yr.onPostCommitFiberRoot=="function")try{Yr.onPostCommitFiberRoot(xo,s)}catch{}f=!0}return f}finally{Je=c,vn.transition=a}}return!1}function _v(s,a,c){a=Da(c,a),a=F0(s,a,1),s=Ii(s,a,1),a=Ir(),s!==null&&(wo(s,1,a),Fr(s,a))}function Tt(s,a,c){if(s.tag===3)_v(s,s,c);else for(;a!==null;){if(a.tag===3){_v(a,s,c);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ri===null||!Ri.has(f))){s=Da(c,s),s=U0(a,s,1),a=Ii(a,s,1),s=Ir(),a!==null&&(wo(a,1,s),Fr(a,s));break}}a=a.return}}function xj(s,a,c){var f=s.pingCache;f!==null&&f.delete(a),a=Ir(),s.pingedLanes|=s.suspendedLanes&c,nr===s&&(dr&c)===c&&(qt===4||qt===3&&(dr&130023424)===dr&&500>gt()-vp?Mo(s,0):xp|=c),Fr(s,a)}function Nv(s,a){a===0&&((s.mode&1)===0?a=1:(a=vi,vi<<=1,(vi&130023424)===0&&(vi=4194304)));var c=Ir();s=qs(s,a),s!==null&&(wo(s,a,c),Fr(s,c))}function vj(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),Nv(s,c)}function yj(s,a){var c=0;switch(s.tag){case 13:var f=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(a),Nv(s,c)}var Ev;Ev=function(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps||Or.current)Vr=!0;else{if((s.lanes&c)===0&&(a.flags&128)===0)return Vr=!1,oj(s,a,c);Vr=(s.flags&131072)!==0}else Vr=!1,wt&&(a.flags&1048576)!==0&&n0(a,Mu,a.index);switch(a.lanes=0,a.tag){case 2:var f=a.type;Qu(s,a),s=a.pendingProps;var g=Sa(a,yr.current);Ra(a,c),g=Yf(null,a,f,s,g,c);var y=Qf();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Lr(f)?(y=!0,Ru(a)):y=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Bf(a),g.updater=Ku,a.stateNode=g,g._reactInternals=a,rp(a,f,s,c),a=op(null,a,f,!0,y,c)):(a.tag=0,wt&&y&&Rf(a),Cr(null,a,g,c),a=a.child),a;case 16:f=a.elementType;e:{switch(Qu(s,a),s=a.pendingProps,g=f._init,f=g(f._payload),a.type=f,g=a.tag=wj(f),s=On(f,s),g){case 0:a=ip(null,a,f,s,c);break e;case 1:a=Q0(null,a,f,s,c);break e;case 11:a=W0(null,a,f,s,c);break e;case 14:a=q0(null,a,f,On(f.type,s),c);break e}throw Error(t(306,f,""))}return a;case 0:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:On(f,g),ip(s,a,f,g,c);case 1:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:On(f,g),Q0(s,a,f,g,c);case 3:e:{if(X0(a),s===null)throw Error(t(387));f=a.pendingProps,y=a.memoizedState,g=y.element,h0(s,a),Uu(a,f,null,c);var j=a.memoizedState;if(f=j.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){g=Da(Error(t(423)),a),a=J0(s,a,f,c,g);break e}else if(f!==g){g=Da(Error(t(424)),a),a=J0(s,a,f,c,g);break e}else for(rn=ji(a.stateNode.containerInfo.firstChild),tn=a,wt=!0,Mn=null,c=u0(a,null,f,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ca(),f===g){a=Ks(s,a,c);break e}Cr(s,a,f,c)}a=a.child}return a;case 5:return m0(a),s===null&&Mf(a),f=a.type,g=a.pendingProps,y=s!==null?s.memoizedProps:null,j=g.children,Sf(f,g)?j=null:y!==null&&Sf(f,y)&&(a.flags|=32),Y0(s,a),Cr(s,a,j,c),a.child;case 6:return s===null&&Mf(a),null;case 13:return Z0(s,a,c);case 4:return zf(a,a.stateNode.containerInfo),f=a.pendingProps,s===null?a.child=Ia(a,null,f,c):Cr(s,a,f,c),a.child;case 11:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:On(f,g),W0(s,a,f,g,c);case 7:return Cr(s,a,a.pendingProps,c),a.child;case 8:return Cr(s,a,a.pendingProps.children,c),a.child;case 12:return Cr(s,a,a.pendingProps.children,c),a.child;case 10:e:{if(f=a.type._context,g=a.pendingProps,y=a.memoizedProps,j=g.value,ht(Vu,f._currentValue),f._currentValue=j,y!==null)if(Dn(y.value,j)){if(y.children===g.children&&!Or.current){a=Ks(s,a,c);break e}}else for(y=a.child,y!==null&&(y.return=a);y!==null;){var V=y.dependencies;if(V!==null){j=y.child;for(var H=V.firstContext;H!==null;){if(H.context===f){if(y.tag===1){H=Gs(-1,c&-c),H.tag=2;var J=y.updateQueue;if(J!==null){J=J.shared;var he=J.pending;he===null?H.next=H:(H.next=he.next,he.next=H),J.pending=H}}y.lanes|=c,H=y.alternate,H!==null&&(H.lanes|=c),Ff(y.return,c,a),V.lanes|=c;break}H=H.next}}else if(y.tag===10)j=y.type===a.type?null:y.child;else if(y.tag===18){if(j=y.return,j===null)throw Error(t(341));j.lanes|=c,V=j.alternate,V!==null&&(V.lanes|=c),Ff(j,c,a),j=y.sibling}else j=y.child;if(j!==null)j.return=y;else for(j=y;j!==null;){if(j===a){j=null;break}if(y=j.sibling,y!==null){y.return=j.return,j=y;break}j=j.return}y=j}Cr(s,a,g.children,c),a=a.child}return a;case 9:return g=a.type,f=a.pendingProps.children,Ra(a,c),g=gn(g),f=f(g),a.flags|=1,Cr(s,a,f,c),a.child;case 14:return f=a.type,g=On(f,a.pendingProps),g=On(f.type,g),q0(s,a,f,g,c);case 15:return G0(s,a,a.type,a.pendingProps,c);case 17:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:On(f,g),Qu(s,a),a.tag=1,Lr(f)?(s=!0,Ru(a)):s=!1,Ra(a,c),V0(a,f,g),rp(a,f,g,c),op(null,a,f,!0,s,c);case 19:return tv(s,a,c);case 22:return K0(s,a,c)}throw Error(t(156,a.tag))};function jv(s,a){return Il(s,a)}function bj(s,a,c,f){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(s,a,c,f){return new bj(s,a,c,f)}function Sp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function wj(s){if(typeof s=="function")return Sp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===L)return 11;if(s===le)return 14}return 2}function Oi(s,a){var c=s.alternate;return c===null?(c=yn(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function ad(s,a,c,f,g,y){var j=2;if(f=s,typeof s=="function")Sp(s)&&(j=1);else if(typeof s=="string")j=5;else e:switch(s){case I:return Lo(c.children,g,y,a);case S:j=8,g|=8;break;case P:return s=yn(12,c,a,g|2),s.elementType=P,s.lanes=y,s;case A:return s=yn(13,c,a,g),s.elementType=A,s.lanes=y,s;case ne:return s=yn(19,c,a,g),s.elementType=ne,s.lanes=y,s;case G:return ld(c,g,y,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case D:j=10;break e;case M:j=9;break e;case L:j=11;break e;case le:j=14;break e;case ee:j=16,f=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=yn(j,c,a,g),a.elementType=s,a.type=f,a.lanes=y,a}function Lo(s,a,c,f){return s=yn(7,s,f,a),s.lanes=c,s}function ld(s,a,c,f){return s=yn(22,s,f,a),s.elementType=G,s.lanes=c,s.stateNode={isHidden:!1},s}function kp(s,a,c){return s=yn(6,s,null,a),s.lanes=c,s}function Tp(s,a,c){return a=yn(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function _j(s,a,c,f,g){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ml(0),this.expirationTimes=Ml(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ml(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Cp(s,a,c,f,g,y,j,V,H){return s=new _j(s,a,c,V,H),a===1?(a=1,y===!0&&(a|=8)):a=0,y=yn(3,null,null,a),s.current=y,y.stateNode=s,y.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bf(y),s}function Nj(s,a,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:f==null?null:""+f,children:s,containerInfo:a,implementation:c}}function Sv(s){if(!s)return ki;s=s._reactInternals;e:{if(Rn(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Lr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(Lr(c))return e0(s,c,a)}return a}function kv(s,a,c,f,g,y,j,V,H){return s=Cp(c,f,!0,s,g,y,j,V,H),s.context=Sv(null),c=s.current,f=Ir(),g=Di(c),y=Gs(f,g),y.callback=a??null,Ii(c,y,g),s.current.lanes=g,wo(s,g,f),Fr(s,f),s}function cd(s,a,c,f){var g=a.current,y=Ir(),j=Di(g);return c=Sv(c),a.context===null?a.context=c:a.pendingContext=c,a=Gs(y,j),a.payload={element:s},f=f===void 0?null:f,f!==null&&(a.callback=f),s=Ii(g,a,j),s!==null&&($n(s,g,j,y),Fu(s,g,j)),j}function ud(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Tv(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function Ip(s,a){Tv(s,a),(s=s.alternate)&&Tv(s,a)}function Ej(){return null}var Cv=typeof reportError=="function"?reportError:function(s){console.error(s)};function Ap(s){this._internalRoot=s}dd.prototype.render=Ap.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));cd(s,a,null,null)},dd.prototype.unmount=Ap.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Do(function(){cd(null,s,null,null)}),a[Bs]=null}};function dd(s){this._internalRoot=s}dd.prototype.unstable_scheduleHydration=function(s){if(s){var a=$l();s={blockedOn:null,target:s,priority:a};for(var c=0;c<Xr.length&&a!==0&&a<Xr[c].priority;c++);Xr.splice(c,0,s),c===0&&ua(s)}};function Rp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function hd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Iv(){}function jj(s,a,c,f,g){if(g){if(typeof f=="function"){var y=f;f=function(){var J=ud(j);y.call(J)}}var j=kv(a,f,s,0,null,!1,!1,"",Iv);return s._reactRootContainer=j,s[Bs]=j.current,Xl(s.nodeType===8?s.parentNode:s),Do(),j}for(;g=s.lastChild;)s.removeChild(g);if(typeof f=="function"){var V=f;f=function(){var J=ud(H);V.call(J)}}var H=Cp(s,0,!1,null,null,!1,!1,"",Iv);return s._reactRootContainer=H,s[Bs]=H.current,Xl(s.nodeType===8?s.parentNode:s),Do(function(){cd(a,H,c,f)}),H}function fd(s,a,c,f,g){var y=c._reactRootContainer;if(y){var j=y;if(typeof g=="function"){var V=g;g=function(){var H=ud(j);V.call(H)}}cd(a,j,s,g)}else j=jj(c,a,s,g,f);return ud(j)}Ll=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var c=rt(a.pendingLanes);c!==0&&(Ol(a,c|1),Fr(a,gt()),(et&6)===0&&(La=gt()+500,Ti()))}break;case 13:Do(function(){var f=qs(s,1);if(f!==null){var g=Ir();$n(f,s,1,g)}}),Ip(s,1)}},la=function(s){if(s.tag===13){var a=qs(s,134217728);if(a!==null){var c=Ir();$n(a,s,134217728,c)}Ip(s,134217728)}},Vl=function(s){if(s.tag===13){var a=Di(s),c=qs(s,a);if(c!==null){var f=Ir();$n(c,s,a,f)}Ip(s,a)}},$l=function(){return Je},Fl=function(s,a){var c=Je;try{return Je=s,a()}finally{Je=c}},In=function(s,a,c){switch(a){case"input":if(ye(s,c),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var f=c[a];if(f!==s&&f.form===s.form){var g=Iu(f);if(!g)throw Error(t(90));He(f),ye(f,g)}}}break;case"textarea":ar(s,c);break;case"select":a=c.value,a!=null&&Zt(s,!!c.multiple,a,!1)}},Rt=Np,er=Do;var Sj={usingClientEntryPoint:!1,Events:[ec,Ea,Iu,Oe,ut,Np]},pc={findFiberByHostInstance:So,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kj={bundleType:pc.bundleType,version:pc.version,rendererPackageName:pc.rendererPackageName,rendererConfig:pc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=hu(s),s===null?null:s.stateNode},findFiberByHostInstance:pc.findFiberByHostInstance||Ej,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pd.isDisabled&&pd.supportsFiber)try{xo=pd.inject(kj),Yr=pd}catch{}}return Ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sj,Ur.createPortal=function(s,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rp(a))throw Error(t(200));return Nj(s,a,null,c)},Ur.createRoot=function(s,a){if(!Rp(s))throw Error(t(299));var c=!1,f="",g=Cv;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=Cp(s,1,!1,null,null,c,!1,f,g),s[Bs]=a.current,Xl(s.nodeType===8?s.parentNode:s),new Ap(a)},Ur.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=hu(a),s=s===null?null:s.stateNode,s},Ur.flushSync=function(s){return Do(s)},Ur.hydrate=function(s,a,c){if(!hd(a))throw Error(t(200));return fd(null,s,a,!0,c)},Ur.hydrateRoot=function(s,a,c){if(!Rp(s))throw Error(t(405));var f=c!=null&&c.hydratedSources||null,g=!1,y="",j=Cv;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onRecoverableError!==void 0&&(j=c.onRecoverableError)),a=kv(a,null,s,1,c??null,g,!1,y,j),s[Bs]=a.current,Xl(s),f)for(s=0;s<f.length;s++)c=f[s],g=c._getVersion,g=g(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,g]:a.mutableSourceEagerHydrationData.push(c,g);return new dd(a)},Ur.render=function(s,a,c){if(!hd(a))throw Error(t(200));return fd(null,s,a,!1,c)},Ur.unmountComponentAtNode=function(s){if(!hd(s))throw Error(t(40));return s._reactRootContainer?(Do(function(){fd(null,null,s,!1,function(){s._reactRootContainer=null,s[Bs]=null})}),!0):!1},Ur.unstable_batchedUpdates=Np,Ur.unstable_renderSubtreeIntoContainer=function(s,a,c,f){if(!hd(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return fd(s,a,c,!1,f)},Ur.version="18.3.1-next-f1338f8080-20240426",Ur}var Vv;function vw(){if(Vv)return Mp.exports;Vv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Mp.exports=Mj(),Mp.exports}var $v;function Oj(){if($v)return md;$v=1;var r=vw();return md.createRoot=r.createRoot,md.hydrateRoot=r.hydrateRoot,md}var Lj=Oj(),_=Eh();const xe=xw(_),tg=Cj({__proto__:null,default:xe},[_]);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$j=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),Fv=r=>{const e=$j(r);return e.charAt(0).toUpperCase()+e.slice(1)},yw=(...r)=>r.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=_.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:o="",children:l,iconNode:u,...h},p)=>_.createElement("svg",{ref:p,...Fj,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:yw("lucide",o),...h},[...u.map(([m,v])=>_.createElement(m,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=(r,e)=>{const t=_.forwardRef(({className:n,...o},l)=>_.createElement(Uj,{ref:l,iconNode:e,className:yw(`lucide-${Vj(Fv(r))}`,`lucide-${r}`,n),...o}));return t.displayName=Fv(r),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=[["path",{d:"M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3",key:"irtipd"}],["path",{d:"M3 16a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"1qyhux"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]],Md=Te("armchair",Bj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],Et=Te("arrow-left-right",zj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],bt=Te("arrow-left",Hj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]],bw=Te("beaker",Wj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],rl=Te("bell",qj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],hm=Te("book-open",Gj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Yj=Te("briefcase",Kj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],jh=Te("calendar",Qj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],ww=Te("camera",Xj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],Zj=Te("check-check",Jj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],_w=Te("check",eS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],rg=Te("chevron-down",tS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],nS=Te("chevron-left",rS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ng=Te("chevron-right",sS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Nw=Te("chevron-up",iS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],En=Te("circle-check-big",oS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],lS=Te("circle-help",aS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],nl=Te("clock",cS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Kt=Te("coins",uS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Yd=Te("eye-off",dS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ho=Te("eye",hS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],pS=Te("funnel",fS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Ew=Te("globe",mS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],xS=Te("graduation-cap",gS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],sg=Te("grid-3x3",vS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Uo=Te("house",yS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],wS=Te("image",bS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],NS=Te("info",_S);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],jS=Te("instagram",ES);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]],jw=Te("laptop",SS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],TS=Te("lightbulb",kS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],IS=Te("linkedin",CS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],ig=Te("list",AS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],PS=Te("lock",RS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Wr=Te("map-pin",DS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],OS=Te("menu",MS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],VS=Te("message-circle",LS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Sw=Te("message-square",$S);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],US=Te("moon",FS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],zS=Te("music",BS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ys=Te("package",HS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]],kw=Te("paintbrush",WS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],GS=Te("party-popper",qS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Zs=Te("plus",KS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]],QS=Te("recycle",YS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Tw=Te("save",XS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Zo=Te("search",JS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],ek=Te("send",ZS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rk=Te("settings",tk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Hn=Te("shield",nk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],fm=Te("shirt",sk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],ok=Te("shopping-bag",ik);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],lk=Te("sparkles",ak);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Cw=Te("star",ck);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],dk=Te("target",uk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Iw=Te("trending-up",hk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Uv=Te("triangle-alert",fk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Aw=Te("upload",pk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],gk=Te("user-x",mk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],pm=Te("user",xk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Rr=Te("users",vk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],Rw=Te("utensils-crossed",yk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Sn=Te("x",bk);function wk({value:r,onChange:e}){return i.jsx("div",{className:"relative backdrop-blur-xl bg-white/60 border border-white/60 rounded-full p-1 shadow-sm",children:i.jsxs("div",{className:"relative flex items-center",children:[i.jsx("div",{className:`absolute top-1 h-[calc(100%-8px)] w-[calc(50%-4px)] rounded-full bg-gradient-to-br from-purple-500 to-purple-600 shadow-md transition-all duration-300 ${r==="credits"?"left-1":"left-[calc(50%+3px)]"}`,style:{boxShadow:"0 4px 12px rgba(139, 92, 246, 0.3)"}}),i.jsxs("button",{onClick:()=>e("credits"),className:"relative z-10 flex-1 flex items-center justify-center gap-2 px-4 py-2.5 transition-all",children:[i.jsx(Kt,{className:`w-4 h-4 transition-colors ${r==="credits"?"text-white":"text-[#555]"}`}),i.jsx("span",{className:`text-sm font-medium transition-all ${r==="credits"?"text-white font-semibold":"text-[#555] opacity-60"}`,children:"Credits"})]}),i.jsxs("button",{onClick:()=>e("trade"),className:"relative z-10 flex-1 flex items-center justify-center gap-2 px-4 py-2.5 transition-all",children:[i.jsx(Et,{className:`w-4 h-4 transition-colors ${r==="trade"?"text-white":"text-[#555]"}`}),i.jsx("span",{className:`text-sm font-medium transition-all ${r==="trade"?"text-white font-semibold":"text-[#555] opacity-60"}`,children:"Trade"})]})]})})}function Bv(r,e){if(typeof r=="function")return r(e);r!=null&&(r.current=e)}function Wc(...r){return e=>{let t=!1;const n=r.map(o=>{const l=Bv(o,e);return!t&&typeof l=="function"&&(t=!0),l});if(t)return()=>{for(let o=0;o<n.length;o++){const l=n[o];typeof l=="function"?l():Bv(r[o],null)}}}}function Ot(...r){return _.useCallback(Wc(...r),r)}var _k=Symbol.for("react.lazy"),Qd=tg[" use ".trim().toString()];function Nk(r){return typeof r=="object"&&r!==null&&"then"in r}function Pw(r){return r!=null&&typeof r=="object"&&"$$typeof"in r&&r.$$typeof===_k&&"_payload"in r&&Nk(r._payload)}function og(r){const e=Ek(r),t=_.forwardRef((n,o)=>{let{children:l,...u}=n;Pw(l)&&typeof Qd=="function"&&(l=Qd(l._payload));const h=_.Children.toArray(l),p=h.find(Sk);if(p){const m=p.props.children,v=h.map(x=>x===p?_.Children.count(m)>1?_.Children.only(null):_.isValidElement(m)?m.props.children:null:x);return i.jsx(e,{...u,ref:o,children:_.isValidElement(m)?_.cloneElement(m,void 0,v):null})}return i.jsx(e,{...u,ref:o,children:l})});return t.displayName=`${r}.Slot`,t}var Dw=og("Slot");function Ek(r){const e=_.forwardRef((t,n)=>{let{children:o,...l}=t;if(Pw(o)&&typeof Qd=="function"&&(o=Qd(o._payload)),_.isValidElement(o)){const u=Tk(o),h=kk(l,o.props);return o.type!==_.Fragment&&(h.ref=n?Wc(n,u):u),_.cloneElement(o,h)}return _.Children.count(o)>1?_.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var jk=Symbol("radix.slottable");function Sk(r){return _.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===jk}function kk(r,e){const t={...e};for(const n in e){const o=r[n],l=e[n];/^on[A-Z]/.test(n)?o&&l?t[n]=(...h)=>{const p=l(...h);return o(...h),p}:o&&(t[n]=o):n==="style"?t[n]={...o,...l}:n==="className"&&(t[n]=[o,l].filter(Boolean).join(" "))}return{...r,...t}}function Tk(r){let e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}function Mw(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(t=Mw(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function Ow(){for(var r,e,t=0,n="",o=arguments.length;t<o;t++)(r=arguments[t])&&(e=Mw(r))&&(n&&(n+=" "),n+=e);return n}const zv=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,Hv=Ow,Lw=(r,e)=>t=>{var n;if(e?.variants==null)return Hv(r,t?.class,t?.className);const{variants:o,defaultVariants:l}=e,u=Object.keys(o).map(m=>{const v=t?.[m],x=l?.[m];if(v===null)return null;const w=zv(v)||zv(x);return o[m][w]}),h=t&&Object.entries(t).reduce((m,v)=>{let[x,w]=v;return w===void 0||(m[x]=w),m},{}),p=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((m,v)=>{let{class:x,className:w,...k}=v;return Object.entries(k).every(R=>{let[E,T]=R;return Array.isArray(T)?T.includes({...l,...h}[E]):{...l,...h}[E]===T})?[...m,x,w]:m},[]);return Hv(r,u,p,t?.class,t?.className)},Ck=(r,e)=>{const t=new Array(r.length+e.length);for(let n=0;n<r.length;n++)t[n]=r[n];for(let n=0;n<e.length;n++)t[r.length+n]=e[n];return t},Ik=(r,e)=>({classGroupId:r,validator:e}),Vw=(r=new Map,e=null,t)=>({nextPart:r,validators:e,classGroupId:t}),Xd="-",Wv=[],Ak="arbitrary..",Rk=r=>{const e=Dk(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:n}=r;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return Pk(u);const h=u.split(Xd),p=h[0]===""&&h.length>1?1:0;return $w(h,p,e)},getConflictingClassGroupIds:(u,h)=>{if(h){const p=n[u],m=t[u];return p?m?Ck(m,p):p:m||Wv}return t[u]||Wv}}},$w=(r,e,t)=>{if(r.length-e===0)return t.classGroupId;const o=r[e],l=t.nextPart.get(o);if(l){const m=$w(r,e+1,l);if(m)return m}const u=t.validators;if(u===null)return;const h=e===0?r.join(Xd):r.slice(e).join(Xd),p=u.length;for(let m=0;m<p;m++){const v=u[m];if(v.validator(h))return v.classGroupId}},Pk=r=>r.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=r.slice(1,-1),t=e.indexOf(":"),n=e.slice(0,t);return n?Ak+n:void 0})(),Dk=r=>{const{theme:e,classGroups:t}=r;return Mk(t,e)},Mk=(r,e)=>{const t=Vw();for(const n in r){const o=r[n];ag(o,t,n,e)}return t},ag=(r,e,t,n)=>{const o=r.length;for(let l=0;l<o;l++){const u=r[l];Ok(u,e,t,n)}},Ok=(r,e,t,n)=>{if(typeof r=="string"){Lk(r,e,t);return}if(typeof r=="function"){Vk(r,e,t,n);return}$k(r,e,t,n)},Lk=(r,e,t)=>{const n=r===""?e:Fw(e,r);n.classGroupId=t},Vk=(r,e,t,n)=>{if(Fk(r)){ag(r(n),e,t,n);return}e.validators===null&&(e.validators=[]),e.validators.push(Ik(t,r))},$k=(r,e,t,n)=>{const o=Object.entries(r),l=o.length;for(let u=0;u<l;u++){const[h,p]=o[u];ag(p,Fw(e,h),t,n)}},Fw=(r,e)=>{let t=r;const n=e.split(Xd),o=n.length;for(let l=0;l<o;l++){const u=n[l];let h=t.nextPart.get(u);h||(h=Vw(),t.nextPart.set(u,h)),t=h}return t},Fk=r=>"isThemeGetter"in r&&r.isThemeGetter===!0,Uk=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),n=Object.create(null);const o=(l,u)=>{t[l]=u,e++,e>r&&(e=0,n=t,t=Object.create(null))};return{get(l){let u=t[l];if(u!==void 0)return u;if((u=n[l])!==void 0)return o(l,u),u},set(l,u){l in t?t[l]=u:o(l,u)}}},mm="!",qv=":",Bk=[],Gv=(r,e,t,n,o)=>({modifiers:r,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:n,isExternal:o}),zk=r=>{const{prefix:e,experimentalParseClassName:t}=r;let n=o=>{const l=[];let u=0,h=0,p=0,m;const v=o.length;for(let E=0;E<v;E++){const T=o[E];if(u===0&&h===0){if(T===qv){l.push(o.slice(p,E)),p=E+1;continue}if(T==="/"){m=E;continue}}T==="["?u++:T==="]"?u--:T==="("?h++:T===")"&&h--}const x=l.length===0?o:o.slice(p);let w=x,k=!1;x.endsWith(mm)?(w=x.slice(0,-1),k=!0):x.startsWith(mm)&&(w=x.slice(1),k=!0);const R=m&&m>p?m-p:void 0;return Gv(l,k,w,R)};if(e){const o=e+qv,l=n;n=u=>u.startsWith(o)?l(u.slice(o.length)):Gv(Bk,!1,u,void 0,!0)}if(t){const o=n;n=l=>t({className:l,parseClassName:o})}return n},Hk=r=>{const e=new Map;return r.orderSensitiveModifiers.forEach((t,n)=>{e.set(t,1e6+n)}),t=>{const n=[];let o=[];for(let l=0;l<t.length;l++){const u=t[l],h=u[0]==="[",p=e.has(u);h||p?(o.length>0&&(o.sort(),n.push(...o),o=[]),n.push(u)):o.push(u)}return o.length>0&&(o.sort(),n.push(...o)),n}},Wk=r=>({cache:Uk(r.cacheSize),parseClassName:zk(r),sortModifiers:Hk(r),...Rk(r)}),qk=/\s+/,Gk=(r,e)=>{const{parseClassName:t,getClassGroupId:n,getConflictingClassGroupIds:o,sortModifiers:l}=e,u=[],h=r.trim().split(qk);let p="";for(let m=h.length-1;m>=0;m-=1){const v=h[m],{isExternal:x,modifiers:w,hasImportantModifier:k,baseClassName:R,maybePostfixModifierPosition:E}=t(v);if(x){p=v+(p.length>0?" "+p:p);continue}let T=!!E,O=n(T?R.substring(0,E):R);if(!O){if(!T){p=v+(p.length>0?" "+p:p);continue}if(O=n(R),!O){p=v+(p.length>0?" "+p:p);continue}T=!1}const B=w.length===0?"":w.length===1?w[0]:l(w).join(":"),$=k?B+mm:B,F=$+O;if(u.indexOf(F)>-1)continue;u.push(F);const W=o(O,T);for(let X=0;X<W.length;++X){const I=W[X];u.push($+I)}p=v+(p.length>0?" "+p:p)}return p},Kk=(...r)=>{let e=0,t,n,o="";for(;e<r.length;)(t=r[e++])&&(n=Uw(t))&&(o&&(o+=" "),o+=n);return o},Uw=r=>{if(typeof r=="string")return r;let e,t="";for(let n=0;n<r.length;n++)r[n]&&(e=Uw(r[n]))&&(t&&(t+=" "),t+=e);return t},Yk=(r,...e)=>{let t,n,o,l;const u=p=>{const m=e.reduce((v,x)=>x(v),r());return t=Wk(m),n=t.cache.get,o=t.cache.set,l=h,h(p)},h=p=>{const m=n(p);if(m)return m;const v=Gk(p,t);return o(p,v),v};return l=u,(...p)=>l(Kk(...p))},Qk=[],Gt=r=>{const e=t=>t[r]||Qk;return e.isThemeGetter=!0,e},Bw=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,zw=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Xk=/^\d+\/\d+$/,Jk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Zk=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,eT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,tT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$a=r=>Xk.test(r),qe=r=>!!r&&!Number.isNaN(Number(r)),Vi=r=>!!r&&Number.isInteger(Number(r)),Vp=r=>r.endsWith("%")&&qe(r.slice(0,-1)),Qs=r=>Jk.test(r),nT=()=>!0,sT=r=>Zk.test(r)&&!eT.test(r),Hw=()=>!1,iT=r=>tT.test(r),oT=r=>rT.test(r),aT=r=>!Se(r)&&!ke(r),lT=r=>fl(r,Gw,Hw),Se=r=>Bw.test(r),Vo=r=>fl(r,Kw,sT),$p=r=>fl(r,fT,qe),Kv=r=>fl(r,Ww,Hw),cT=r=>fl(r,qw,oT),gd=r=>fl(r,Yw,iT),ke=r=>zw.test(r),gc=r=>pl(r,Kw),uT=r=>pl(r,pT),Yv=r=>pl(r,Ww),dT=r=>pl(r,Gw),hT=r=>pl(r,qw),xd=r=>pl(r,Yw,!0),fl=(r,e,t)=>{const n=Bw.exec(r);return n?n[1]?e(n[1]):t(n[2]):!1},pl=(r,e,t=!1)=>{const n=zw.exec(r);return n?n[1]?e(n[1]):t:!1},Ww=r=>r==="position"||r==="percentage",qw=r=>r==="image"||r==="url",Gw=r=>r==="length"||r==="size"||r==="bg-size",Kw=r=>r==="length",fT=r=>r==="number",pT=r=>r==="family-name",Yw=r=>r==="shadow",mT=()=>{const r=Gt("color"),e=Gt("font"),t=Gt("text"),n=Gt("font-weight"),o=Gt("tracking"),l=Gt("leading"),u=Gt("breakpoint"),h=Gt("container"),p=Gt("spacing"),m=Gt("radius"),v=Gt("shadow"),x=Gt("inset-shadow"),w=Gt("text-shadow"),k=Gt("drop-shadow"),R=Gt("blur"),E=Gt("perspective"),T=Gt("aspect"),O=Gt("ease"),B=Gt("animate"),$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],F=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],W=()=>[...F(),ke,Se],X=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto","contain","none"],S=()=>[ke,Se,p],P=()=>[$a,"full","auto",...S()],D=()=>[Vi,"none","subgrid",ke,Se],M=()=>["auto",{span:["full",Vi,ke,Se]},Vi,ke,Se],L=()=>[Vi,"auto",ke,Se],A=()=>["auto","min","max","fr",ke,Se],ne=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],le=()=>["start","end","center","stretch","center-safe","end-safe"],ee=()=>["auto",...S()],G=()=>[$a,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],U=()=>[r,ke,Se],ie=()=>[...F(),Yv,Kv,{position:[ke,Se]}],se=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",dT,lT,{size:[ke,Se]}],te=()=>[Vp,gc,Vo],re=()=>["","none","full",m,ke,Se],oe=()=>["",qe,gc,Vo],me=()=>["solid","dashed","dotted","double"],we=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ce=()=>[qe,Vp,Yv,Kv],pe=()=>["","none",R,ke,Se],Ae=()=>["none",qe,ke,Se],Pe=()=>["none",qe,ke,Se],ze=()=>[qe,ke,Se],He=()=>[$a,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Qs],breakpoint:[Qs],color:[nT],container:[Qs],"drop-shadow":[Qs],ease:["in","out","in-out"],font:[aT],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Qs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Qs],shadow:[Qs],spacing:["px",qe],text:[Qs],"text-shadow":[Qs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",$a,Se,ke,T]}],container:["container"],columns:[{columns:[qe,Se,ke,h]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:W()}],overflow:[{overflow:X()}],"overflow-x":[{"overflow-x":X()}],"overflow-y":[{"overflow-y":X()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[Vi,"auto",ke,Se]}],basis:[{basis:[$a,"full","auto",h,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[qe,$a,"auto","initial","none",Se]}],grow:[{grow:["",qe,ke,Se]}],shrink:[{shrink:["",qe,ke,Se]}],order:[{order:[Vi,"first","last","none",ke,Se]}],"grid-cols":[{"grid-cols":D()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":D()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":A()}],"auto-rows":[{"auto-rows":A()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...ne(),"normal"]}],"justify-items":[{"justify-items":[...le(),"normal"]}],"justify-self":[{"justify-self":["auto",...le()]}],"align-content":[{content:["normal",...ne()]}],"align-items":[{items:[...le(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...le(),{baseline:["","last"]}]}],"place-content":[{"place-content":ne()}],"place-items":[{"place-items":[...le(),"baseline"]}],"place-self":[{"place-self":["auto",...le()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:ee()}],mx:[{mx:ee()}],my:[{my:ee()}],ms:[{ms:ee()}],me:[{me:ee()}],mt:[{mt:ee()}],mr:[{mr:ee()}],mb:[{mb:ee()}],ml:[{ml:ee()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:G()}],w:[{w:[h,"screen",...G()]}],"min-w":[{"min-w":[h,"screen","none",...G()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[u]},...G()]}],h:[{h:["screen","lh",...G()]}],"min-h":[{"min-h":["screen","lh","none",...G()]}],"max-h":[{"max-h":["screen","lh",...G()]}],"font-size":[{text:["base",t,gc,Vo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,ke,$p]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Vp,Se]}],"font-family":[{font:[uT,Se,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,ke,Se]}],"line-clamp":[{"line-clamp":[qe,"none",ke,$p]}],leading:[{leading:[l,...S()]}],"list-image":[{"list-image":["none",ke,Se]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ke,Se]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:U()}],"text-color":[{text:U()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...me(),"wavy"]}],"text-decoration-thickness":[{decoration:[qe,"from-font","auto",ke,Vo]}],"text-decoration-color":[{decoration:U()}],"underline-offset":[{"underline-offset":[qe,"auto",ke,Se]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ke,Se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ke,Se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ie()}],"bg-repeat":[{bg:se()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Vi,ke,Se],radial:["",ke,Se],conic:[Vi,ke,Se]},hT,cT]}],"bg-color":[{bg:U()}],"gradient-from-pos":[{from:te()}],"gradient-via-pos":[{via:te()}],"gradient-to-pos":[{to:te()}],"gradient-from":[{from:U()}],"gradient-via":[{via:U()}],"gradient-to":[{to:U()}],rounded:[{rounded:re()}],"rounded-s":[{"rounded-s":re()}],"rounded-e":[{"rounded-e":re()}],"rounded-t":[{"rounded-t":re()}],"rounded-r":[{"rounded-r":re()}],"rounded-b":[{"rounded-b":re()}],"rounded-l":[{"rounded-l":re()}],"rounded-ss":[{"rounded-ss":re()}],"rounded-se":[{"rounded-se":re()}],"rounded-ee":[{"rounded-ee":re()}],"rounded-es":[{"rounded-es":re()}],"rounded-tl":[{"rounded-tl":re()}],"rounded-tr":[{"rounded-tr":re()}],"rounded-br":[{"rounded-br":re()}],"rounded-bl":[{"rounded-bl":re()}],"border-w":[{border:oe()}],"border-w-x":[{"border-x":oe()}],"border-w-y":[{"border-y":oe()}],"border-w-s":[{"border-s":oe()}],"border-w-e":[{"border-e":oe()}],"border-w-t":[{"border-t":oe()}],"border-w-r":[{"border-r":oe()}],"border-w-b":[{"border-b":oe()}],"border-w-l":[{"border-l":oe()}],"divide-x":[{"divide-x":oe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":oe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...me(),"hidden","none"]}],"divide-style":[{divide:[...me(),"hidden","none"]}],"border-color":[{border:U()}],"border-color-x":[{"border-x":U()}],"border-color-y":[{"border-y":U()}],"border-color-s":[{"border-s":U()}],"border-color-e":[{"border-e":U()}],"border-color-t":[{"border-t":U()}],"border-color-r":[{"border-r":U()}],"border-color-b":[{"border-b":U()}],"border-color-l":[{"border-l":U()}],"divide-color":[{divide:U()}],"outline-style":[{outline:[...me(),"none","hidden"]}],"outline-offset":[{"outline-offset":[qe,ke,Se]}],"outline-w":[{outline:["",qe,gc,Vo]}],"outline-color":[{outline:U()}],shadow:[{shadow:["","none",v,xd,gd]}],"shadow-color":[{shadow:U()}],"inset-shadow":[{"inset-shadow":["none",x,xd,gd]}],"inset-shadow-color":[{"inset-shadow":U()}],"ring-w":[{ring:oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:U()}],"ring-offset-w":[{"ring-offset":[qe,Vo]}],"ring-offset-color":[{"ring-offset":U()}],"inset-ring-w":[{"inset-ring":oe()}],"inset-ring-color":[{"inset-ring":U()}],"text-shadow":[{"text-shadow":["none",w,xd,gd]}],"text-shadow-color":[{"text-shadow":U()}],opacity:[{opacity:[qe,ke,Se]}],"mix-blend":[{"mix-blend":[...we(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":we()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[qe]}],"mask-image-linear-from-pos":[{"mask-linear-from":ce()}],"mask-image-linear-to-pos":[{"mask-linear-to":ce()}],"mask-image-linear-from-color":[{"mask-linear-from":U()}],"mask-image-linear-to-color":[{"mask-linear-to":U()}],"mask-image-t-from-pos":[{"mask-t-from":ce()}],"mask-image-t-to-pos":[{"mask-t-to":ce()}],"mask-image-t-from-color":[{"mask-t-from":U()}],"mask-image-t-to-color":[{"mask-t-to":U()}],"mask-image-r-from-pos":[{"mask-r-from":ce()}],"mask-image-r-to-pos":[{"mask-r-to":ce()}],"mask-image-r-from-color":[{"mask-r-from":U()}],"mask-image-r-to-color":[{"mask-r-to":U()}],"mask-image-b-from-pos":[{"mask-b-from":ce()}],"mask-image-b-to-pos":[{"mask-b-to":ce()}],"mask-image-b-from-color":[{"mask-b-from":U()}],"mask-image-b-to-color":[{"mask-b-to":U()}],"mask-image-l-from-pos":[{"mask-l-from":ce()}],"mask-image-l-to-pos":[{"mask-l-to":ce()}],"mask-image-l-from-color":[{"mask-l-from":U()}],"mask-image-l-to-color":[{"mask-l-to":U()}],"mask-image-x-from-pos":[{"mask-x-from":ce()}],"mask-image-x-to-pos":[{"mask-x-to":ce()}],"mask-image-x-from-color":[{"mask-x-from":U()}],"mask-image-x-to-color":[{"mask-x-to":U()}],"mask-image-y-from-pos":[{"mask-y-from":ce()}],"mask-image-y-to-pos":[{"mask-y-to":ce()}],"mask-image-y-from-color":[{"mask-y-from":U()}],"mask-image-y-to-color":[{"mask-y-to":U()}],"mask-image-radial":[{"mask-radial":[ke,Se]}],"mask-image-radial-from-pos":[{"mask-radial-from":ce()}],"mask-image-radial-to-pos":[{"mask-radial-to":ce()}],"mask-image-radial-from-color":[{"mask-radial-from":U()}],"mask-image-radial-to-color":[{"mask-radial-to":U()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":F()}],"mask-image-conic-pos":[{"mask-conic":[qe]}],"mask-image-conic-from-pos":[{"mask-conic-from":ce()}],"mask-image-conic-to-pos":[{"mask-conic-to":ce()}],"mask-image-conic-from-color":[{"mask-conic-from":U()}],"mask-image-conic-to-color":[{"mask-conic-to":U()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ie()}],"mask-repeat":[{mask:se()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ke,Se]}],filter:[{filter:["","none",ke,Se]}],blur:[{blur:pe()}],brightness:[{brightness:[qe,ke,Se]}],contrast:[{contrast:[qe,ke,Se]}],"drop-shadow":[{"drop-shadow":["","none",k,xd,gd]}],"drop-shadow-color":[{"drop-shadow":U()}],grayscale:[{grayscale:["",qe,ke,Se]}],"hue-rotate":[{"hue-rotate":[qe,ke,Se]}],invert:[{invert:["",qe,ke,Se]}],saturate:[{saturate:[qe,ke,Se]}],sepia:[{sepia:["",qe,ke,Se]}],"backdrop-filter":[{"backdrop-filter":["","none",ke,Se]}],"backdrop-blur":[{"backdrop-blur":pe()}],"backdrop-brightness":[{"backdrop-brightness":[qe,ke,Se]}],"backdrop-contrast":[{"backdrop-contrast":[qe,ke,Se]}],"backdrop-grayscale":[{"backdrop-grayscale":["",qe,ke,Se]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[qe,ke,Se]}],"backdrop-invert":[{"backdrop-invert":["",qe,ke,Se]}],"backdrop-opacity":[{"backdrop-opacity":[qe,ke,Se]}],"backdrop-saturate":[{"backdrop-saturate":[qe,ke,Se]}],"backdrop-sepia":[{"backdrop-sepia":["",qe,ke,Se]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ke,Se]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[qe,"initial",ke,Se]}],ease:[{ease:["linear","initial",O,ke,Se]}],delay:[{delay:[qe,ke,Se]}],animate:[{animate:["none",B,ke,Se]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,ke,Se]}],"perspective-origin":[{"perspective-origin":W()}],rotate:[{rotate:Ae()}],"rotate-x":[{"rotate-x":Ae()}],"rotate-y":[{"rotate-y":Ae()}],"rotate-z":[{"rotate-z":Ae()}],scale:[{scale:Pe()}],"scale-x":[{"scale-x":Pe()}],"scale-y":[{"scale-y":Pe()}],"scale-z":[{"scale-z":Pe()}],"scale-3d":["scale-3d"],skew:[{skew:ze()}],"skew-x":[{"skew-x":ze()}],"skew-y":[{"skew-y":ze()}],transform:[{transform:[ke,Se,"","none","gpu","cpu"]}],"transform-origin":[{origin:W()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:He()}],"translate-x":[{"translate-x":He()}],"translate-y":[{"translate-y":He()}],"translate-z":[{"translate-z":He()}],"translate-none":["translate-none"],accent:[{accent:U()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:U()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ke,Se]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ke,Se]}],fill:[{fill:["none",...U()]}],"stroke-w":[{stroke:[qe,gc,Vo,$p]}],stroke:[{stroke:["none",...U()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},gT=Yk(mT);function Qt(...r){return gT(Ow(r))}const xT=Lw("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium",{variants:{variant:{default:"bg-primary text-white",outline:"border"}},defaultVariants:{variant:"default"}});function Pr({className:r,variant:e,asChild:t=!1,...n}){const o=t?Dw:"span";return i.jsx(o,{className:Qt(xT({variant:e}),r),...n})}function vT(r,e=[]){let t=[];function n(l,u){const h=_.createContext(u);h.displayName=l+"Context";const p=t.length;t=[...t,u];const m=x=>{const{scope:w,children:k,...R}=x,E=w?.[r]?.[p]||h,T=_.useMemo(()=>R,Object.values(R));return i.jsx(E.Provider,{value:T,children:k})};m.displayName=l+"Provider";function v(x,w){const k=w?.[r]?.[p]||h,R=_.useContext(k);if(R)return R;if(u!==void 0)return u;throw new Error(`\`${x}\` must be used within \`${l}\``)}return[m,v]}const o=()=>{const l=t.map(u=>_.createContext(u));return function(h){const p=h?.[r]||l;return _.useMemo(()=>({[`__scope${r}`]:{...h,[r]:p}}),[h,p])}};return o.scopeName=r,[n,yT(o,...e)]}function yT(...r){const e=r[0];if(r.length===1)return e;const t=()=>{const n=r.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const u=n.reduce((h,{useScope:p,scopeName:m})=>{const x=p(l)[`__scope${m}`];return{...h,...x}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}function ni(r){const e=_.useRef(r);return _.useEffect(()=>{e.current=r}),_.useMemo(()=>(...t)=>e.current?.(...t),[])}var Xt=globalThis?.document?_.useLayoutEffect:()=>{},qc=vw();const Qw=xw(qc);var bT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],lg=bT.reduce((r,e)=>{const t=og(`Primitive.${e}`),n=_.forwardRef((o,l)=>{const{asChild:u,...h}=o,p=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(p,{...h,ref:l})});return n.displayName=`Primitive.${e}`,{...r,[e]:n}},{}),Fp={exports:{}},Up={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function wT(){if(Qv)return Up;Qv=1;var r=Eh();function e(x,w){return x===w&&(x!==0||1/x===1/w)||x!==x&&w!==w}var t=typeof Object.is=="function"?Object.is:e,n=r.useState,o=r.useEffect,l=r.useLayoutEffect,u=r.useDebugValue;function h(x,w){var k=w(),R=n({inst:{value:k,getSnapshot:w}}),E=R[0].inst,T=R[1];return l(function(){E.value=k,E.getSnapshot=w,p(E)&&T({inst:E})},[x,k,w]),o(function(){return p(E)&&T({inst:E}),x(function(){p(E)&&T({inst:E})})},[x]),u(k),k}function p(x){var w=x.getSnapshot;x=x.value;try{var k=w();return!t(x,k)}catch{return!0}}function m(x,w){return w()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:h;return Up.useSyncExternalStore=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:v,Up}var Xv;function _T(){return Xv||(Xv=1,Fp.exports=wT()),Fp.exports}var NT=_T();function ET(){return NT.useSyncExternalStore(jT,()=>!0,()=>!1)}function jT(){return()=>{}}var cg="Avatar",[ST]=vT(cg),[kT,Xw]=ST(cg),Jw=_.forwardRef((r,e)=>{const{__scopeAvatar:t,...n}=r,[o,l]=_.useState("idle");return i.jsx(kT,{scope:t,imageLoadingStatus:o,onImageLoadingStatusChange:l,children:i.jsx(lg.span,{...n,ref:e})})});Jw.displayName=cg;var Zw="AvatarImage",TT=_.forwardRef((r,e)=>{const{__scopeAvatar:t,src:n,onLoadingStatusChange:o=()=>{},...l}=r,u=Xw(Zw,t),h=CT(n,l),p=ni(m=>{o(m),u.onImageLoadingStatusChange(m)});return Xt(()=>{h!=="idle"&&p(h)},[h,p]),h==="loaded"?i.jsx(lg.img,{...l,ref:e,src:n}):null});TT.displayName=Zw;var e2="AvatarFallback",t2=_.forwardRef((r,e)=>{const{__scopeAvatar:t,delayMs:n,...o}=r,l=Xw(e2,t),[u,h]=_.useState(n===void 0);return _.useEffect(()=>{if(n!==void 0){const p=window.setTimeout(()=>h(!0),n);return()=>window.clearTimeout(p)}},[n]),u&&l.imageLoadingStatus!=="loaded"?i.jsx(lg.span,{...o,ref:e}):null});t2.displayName=e2;function Jv(r,e){return r?e?(r.src!==e&&(r.src=e),r.complete&&r.naturalWidth>0?"loaded":"loading"):"error":"idle"}function CT(r,{referrerPolicy:e,crossOrigin:t}){const n=ET(),o=_.useRef(null),l=n?(o.current||(o.current=new window.Image),o.current):null,[u,h]=_.useState(()=>Jv(l,r));return Xt(()=>{h(Jv(l,r))},[l,r]),Xt(()=>{const p=x=>()=>{h(x)};if(!l)return;const m=p("loaded"),v=p("error");return l.addEventListener("load",m),l.addEventListener("error",v),e&&(l.referrerPolicy=e),typeof t=="string"&&(l.crossOrigin=t),()=>{l.removeEventListener("load",m),l.removeEventListener("error",v)}},[l,t,e]),u}var IT=Jw,AT=t2;function Wn({className:r,...e}){return i.jsx(IT,{"data-slot":"avatar",className:Qt("relative flex size-10 shrink-0 overflow-hidden rounded-full",r),...e})}function qn({className:r,...e}){return i.jsx(AT,{"data-slot":"avatar-fallback",className:Qt("bg-muted flex size-full items-center justify-center rounded-full",r),...e})}const r2=_.createContext(void 0);function RT({children:r}){const[e,t]=_.useState(()=>localStorage.getItem("darkMode")==="true");_.useEffect(()=>{localStorage.setItem("darkMode",e.toString())},[e]);const n=()=>t(o=>!o);return i.jsx(r2.Provider,{value:{darkMode:e,toggleDarkMode:n},children:r})}function St(){const r=_.useContext(r2);if(r===void 0)throw new Error("useDarkMode must be used within a DarkModeProvider");return r}const PT=()=>{};var Zv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let o=r.charCodeAt(n);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},DT=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const o=r[t++];if(o<128)e[n++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[n++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],u=r[t++],h=r[t++],p=((o&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[n++]=String.fromCharCode(55296+(p>>10)),e[n++]=String.fromCharCode(56320+(p&1023))}else{const l=r[t++],u=r[t++];e[n++]=String.fromCharCode((o&15)<<12|(l&63)<<6|u&63)}}return e.join("")},s2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let o=0;o<r.length;o+=3){const l=r[o],u=o+1<r.length,h=u?r[o+1]:0,p=o+2<r.length,m=p?r[o+2]:0,v=l>>2,x=(l&3)<<4|h>>4;let w=(h&15)<<2|m>>6,k=m&63;p||(k=64,u||(w=64)),n.push(t[v],t[x],t[w],t[k])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(n2(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):DT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],h=o<r.length?t[r.charAt(o)]:0;++o;const m=o<r.length?t[r.charAt(o)]:64;++o;const x=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||h==null||m==null||x==null)throw new MT;const w=l<<2|h>>4;if(n.push(w),m!==64){const k=h<<4&240|m>>2;if(n.push(k),x!==64){const R=m<<6&192|x;n.push(R)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class MT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const OT=function(r){const e=n2(r);return s2.encodeByteArray(e,!0)},Jd=function(r){return OT(r).replace(/\./g,"")},i2=function(r){try{return s2.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=()=>LT().__FIREBASE_DEFAULTS__,$T=()=>{if(typeof process>"u"||typeof Zv>"u")return;const r=Zv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},FT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&i2(r[1]);return e&&JSON.parse(e)},Sh=()=>{try{return PT()||VT()||$T()||FT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},o2=r=>Sh()?.emulatorHosts?.[r],a2=r=>{const e=o2(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},l2=()=>Sh()?.config,c2=r=>Sh()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ug(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${n}`,aud:n,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Jd(JSON.stringify(t)),Jd(JSON.stringify(u)),""].join(".")}const jc={};function BT(){const r={prod:[],emulator:[]};for(const e of Object.keys(jc))jc[e]?r.emulator.push(e):r.prod.push(e);return r}function zT(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let ey=!1;function dg(r,e){if(typeof window>"u"||typeof document>"u"||!ea(window.location.host)||jc[r]===e||jc[r]||ey)return;jc[r]=e;function t(w){return`__firebase__banner__${w}`}const n="__firebase__banner",l=BT().prod.length>0;function u(){const w=document.getElementById(n);w&&w.remove()}function h(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,k){w.setAttribute("width","24"),w.setAttribute("id",k),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function m(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{ey=!0,u()},w}function v(w,k){w.setAttribute("id",k),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function x(){const w=zT(n),k=t("text"),R=document.getElementById(k)||document.createElement("span"),E=t("learnmore"),T=document.getElementById(E)||document.createElement("a"),O=t("preprendIcon"),B=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const $=w.element;h($),v(T,E);const F=m();p(B,O),$.append(B,R,T,F),document.body.appendChild($)}l?(R.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,R.innerText="Preview backend running in this workspace."),R.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sr())}function WT(){const r=Sh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GT(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function KT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YT(){const r=Sr();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function QT(){return!WT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function XT(){try{return typeof indexedDB=="object"}catch{return!1}}function JT(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(n);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="FirebaseError";class Rs extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=ZT,Object.setPrototypeOf(this,Rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gc.prototype.create)}}class Gc{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],u=l?eC(l,n):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new Rs(o,h,n)}}function eC(r,e){return r.replace(tC,(t,n)=>{const o=e[n];return o!=null?String(o):`<${n}?>`})}const tC=/\{\$([^}]+)}/g;function rC(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Qi(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const o of t){if(!n.includes(o))return!1;const l=r[o],u=e[o];if(ty(l)&&ty(u)){if(!Qi(l,u))return!1}else if(l!==u)return!1}for(const o of n)if(!t.includes(o))return!1;return!0}function ty(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function vc(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[o,l]=n.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function yc(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function nC(r,e){const t=new sC(r,e);return t.subscribe.bind(t)}class sC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let o;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");iC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:n},o.next===void 0&&(o.next=Bp),o.error===void 0&&(o.error=Bp),o.complete===void 0&&(o.complete=Bp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iC(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Bp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(r){return r&&r._delegate?r._delegate:r}class Xi{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new UT;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&n.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(n)return null;throw o}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lC(e))try{this.getOrInitializeService({instanceIdentifier:$o})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});n.resolve(l)}catch{}}}}clearInstance(e=$o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$o){return this.instances.has(e)}getOptions(e=$o){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);n===h&&u.resolve(o)}return o}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(n)??new Set;o.add(e),this.onInitCallbacks.set(n,o);const l=this.instances.get(n);return l&&e(l,n),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const o of n)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:aC(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=$o){return this.component?this.component.multipleInstances?e:$o:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aC(r){return r===$o?void 0:r}function lC(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new oC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ye||(Ye={}));const uC={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},dC=Ye.INFO,hC={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},fC=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),o=hC[e];if(o)console[o](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hg{constructor(e){this.name=e,this._logLevel=dC,this._logHandler=fC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const pC=(r,e)=>e.some(t=>r instanceof t);let ry,ny;function mC(){return ry||(ry=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gC(){return ny||(ny=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d2=new WeakMap,gm=new WeakMap,h2=new WeakMap,zp=new WeakMap,fg=new WeakMap;function xC(r){const e=new Promise((t,n)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",u)},l=()=>{t(qi(r.result)),o()},u=()=>{n(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&d2.set(t,r)}).catch(()=>{}),fg.set(e,r),e}function vC(r){if(gm.has(r))return;const e=new Promise((t,n)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",u),r.removeEventListener("abort",u)},l=()=>{t(),o()},u=()=>{n(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",u),r.addEventListener("abort",u)});gm.set(r,e)}let xm={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return gm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||h2.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return qi(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function yC(r){xm=r(xm)}function bC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(Hp(this),e,...t);return h2.set(n,e.sort?e.sort():[e]),qi(n)}:gC().includes(r)?function(...e){return r.apply(Hp(this),e),qi(d2.get(this))}:function(...e){return qi(r.apply(Hp(this),e))}}function wC(r){return typeof r=="function"?bC(r):(r instanceof IDBTransaction&&vC(r),pC(r,mC())?new Proxy(r,xm):r)}function qi(r){if(r instanceof IDBRequest)return xC(r);if(zp.has(r))return zp.get(r);const e=wC(r);return e!==r&&(zp.set(r,e),fg.set(e,r)),e}const Hp=r=>fg.get(r);function _C(r,e,{blocked:t,upgrade:n,blocking:o,terminated:l}={}){const u=indexedDB.open(r,e),h=qi(u);return n&&u.addEventListener("upgradeneeded",p=>{n(qi(u.result),p.oldVersion,p.newVersion,qi(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),h.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const NC=["get","getKey","getAll","getAllKeys","count"],EC=["put","add","delete","clear"],Wp=new Map;function sy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Wp.get(e))return Wp.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,o=EC.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(o||NC.includes(t)))return;const l=async function(u,...h){const p=this.transaction(u,o?"readwrite":"readonly");let m=p.store;return n&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),o&&p.done]))[0]};return Wp.set(e,l),l}yC(r=>({...r,get:(e,t,n)=>sy(e,t)||r.get(e,t,n),has:(e,t)=>!!sy(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(SC(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function SC(r){return r.getComponent()?.type==="VERSION"}const vm="@firebase/app",iy="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const si=new hg("@firebase/app"),kC="@firebase/app-compat",TC="@firebase/analytics-compat",CC="@firebase/analytics",IC="@firebase/app-check-compat",AC="@firebase/app-check",RC="@firebase/auth",PC="@firebase/auth-compat",DC="@firebase/database",MC="@firebase/data-connect",OC="@firebase/database-compat",LC="@firebase/functions",VC="@firebase/functions-compat",$C="@firebase/installations",FC="@firebase/installations-compat",UC="@firebase/messaging",BC="@firebase/messaging-compat",zC="@firebase/performance",HC="@firebase/performance-compat",WC="@firebase/remote-config",qC="@firebase/remote-config-compat",GC="@firebase/storage",KC="@firebase/storage-compat",YC="@firebase/firestore",QC="@firebase/ai",XC="@firebase/firestore-compat",JC="firebase",ZC="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="[DEFAULT]",eI={[vm]:"fire-core",[kC]:"fire-core-compat",[CC]:"fire-analytics",[TC]:"fire-analytics-compat",[AC]:"fire-app-check",[IC]:"fire-app-check-compat",[RC]:"fire-auth",[PC]:"fire-auth-compat",[DC]:"fire-rtdb",[MC]:"fire-data-connect",[OC]:"fire-rtdb-compat",[LC]:"fire-fn",[VC]:"fire-fn-compat",[$C]:"fire-iid",[FC]:"fire-iid-compat",[UC]:"fire-fcm",[BC]:"fire-fcm-compat",[zC]:"fire-perf",[HC]:"fire-perf-compat",[WC]:"fire-rc",[qC]:"fire-rc-compat",[GC]:"fire-gcs",[KC]:"fire-gcs-compat",[YC]:"fire-fst",[XC]:"fire-fst-compat",[QC]:"fire-vertex","fire-js":"fire-js",[JC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd=new Map,tI=new Map,bm=new Map;function oy(r,e){try{r.container.addComponent(e)}catch(t){si.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Wo(r){const e=r.name;if(bm.has(e))return si.debug(`There were multiple attempts to register component ${e}.`),!1;bm.set(e,r);for(const t of Zd.values())oy(t,r);for(const t of tI.values())oy(t,r);return!0}function kh(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function on(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gi=new Gc("app","Firebase",rI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Xi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta=ZC;function f2(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n={name:ym,automaticDataCollectionEnabled:!0,...e},o=n.name;if(typeof o!="string"||!o)throw Gi.create("bad-app-name",{appName:String(o)});if(t||(t=l2()),!t)throw Gi.create("no-options");const l=Zd.get(o);if(l){if(Qi(t,l.options)&&Qi(n,l.config))return l;throw Gi.create("duplicate-app",{appName:o})}const u=new cC(o);for(const p of bm.values())u.addComponent(p);const h=new nI(t,n,u);return Zd.set(o,h),h}function pg(r=ym){const e=Zd.get(r);if(!e&&r===ym&&l2())return f2();if(!e)throw Gi.create("no-app",{appName:r});return e}function bs(r,e,t){let n=eI[r]??r;t&&(n+=`-${t}`);const o=n.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${n}" with version "${e}":`];o&&u.push(`library name "${n}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),si.warn(u.join(" "));return}Wo(new Xi(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI="firebase-heartbeat-database",iI=1,Ac="firebase-heartbeat-store";let qp=null;function p2(){return qp||(qp=_C(sI,iI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ac)}catch(t){console.warn(t)}}}}).catch(r=>{throw Gi.create("idb-open",{originalErrorMessage:r.message})})),qp}async function oI(r){try{const t=(await p2()).transaction(Ac),n=await t.objectStore(Ac).get(m2(r));return await t.done,n}catch(e){if(e instanceof Rs)si.warn(e.message);else{const t=Gi.create("idb-get",{originalErrorMessage:e?.message});si.warn(t.message)}}}async function ay(r,e){try{const n=(await p2()).transaction(Ac,"readwrite");await n.objectStore(Ac).put(e,m2(r)),await n.done}catch(t){if(t instanceof Rs)si.warn(t.message);else{const n=Gi.create("idb-set",{originalErrorMessage:t?.message});si.warn(n.message)}}}function m2(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=1024,lI=30;class cI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new dI(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=ly();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(o=>o.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats.length>lI){const o=hI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){si.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ly(),{heartbeatsToSend:t,unsentEntries:n}=uI(this._heartbeatsCache.heartbeats),o=Jd(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return si.warn(e),""}}}function ly(){return new Date().toISOString().substring(0,10)}function uI(r,e=aI){const t=[];let n=r.slice();for(const o of r){const l=t.find(u=>u.agent===o.agent);if(l){if(l.dates.push(o.date),cy(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),cy(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class dI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return XT()?JT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await oI(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return ay(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return ay(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function cy(r){return Jd(JSON.stringify({version:2,heartbeats:r})).length}function hI(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(r){Wo(new Xi("platform-logger",e=>new jC(e),"PRIVATE")),Wo(new Xi("heartbeat",e=>new cI(e),"PRIVATE")),bs(vm,iy,r),bs(vm,iy,"esm2020"),bs("fire-js","")}fI("");var pI="firebase",mI="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bs(pI,mI,"app");function g2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gI=g2,x2=new Gc("auth","Firebase",g2());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=new hg("@firebase/auth");function xI(r,...e){eh.logLevel<=Ye.WARN&&eh.warn(`Auth (${ta}): ${r}`,...e)}function Od(r,...e){eh.logLevel<=Ye.ERROR&&eh.error(`Auth (${ta}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(r,...e){throw mg(r,...e)}function ws(r,...e){return mg(r,...e)}function v2(r,e,t){const n={...gI(),[e]:t};return new Gc("auth","Firebase",n).create(e,{appName:r.name})}function ei(r){return v2(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mg(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return x2.create(r,...e)}function Le(r,e,...t){if(!r)throw mg(e,...t)}function Xs(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Od(e),new Error(e)}function ii(r,e){r||Xs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(){return typeof self<"u"&&self.location?.href||""}function vI(){return uy()==="http:"||uy()==="https:"}function uy(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vI()||GT()||"connection"in navigator)?navigator.onLine:!0}function bI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,t){this.shortDelay=e,this.longDelay=t,ii(t>e,"Short delay should be less than long delay!"),this.isMobile=HT()||KT()}get(){return yI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(r,e){ii(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],NI=new Yc(3e4,6e4);function oo(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function di(r,e,t,n,o={}){return b2(r,o,async()=>{let l={},u={};n&&(e==="GET"?u=n:l={body:JSON.stringify(n)});const h=Kc({key:r.config.apiKey,...u}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const m={method:e,headers:p,...l};return qT()||(m.referrerPolicy="no-referrer"),r.emulatorConfig&&ea(r.emulatorConfig.host)&&(m.credentials="include"),y2.fetch()(await w2(r,r.config.apiHost,t,h),m)})}async function b2(r,e,t){r._canInitEmulator=!1;const n={...wI,...e};try{const o=new jI(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw vd(r,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[p,m]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw vd(r,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw vd(r,"email-already-in-use",u);if(p==="USER_DISABLED")throw vd(r,"user-disabled",u);const v=n[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw v2(r,v,m);Gn(r,v)}}catch(o){if(o instanceof Rs)throw o;Gn(r,"network-request-failed",{message:String(o)})}}async function Qc(r,e,t,n,o={}){const l=await di(r,e,t,n,o);return"mfaPendingCredential"in l&&Gn(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function w2(r,e,t,n){const o=`${e}${t}?${n}`,l=r,u=l.config.emulator?gg(r.config,o):`${r.config.apiScheme}://${o}`;return _I.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function EI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(ws(this.auth,"network-request-failed")),NI.get())})}}function vd(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const o=ws(r,e,n);return o.customData._tokenResponse=t,o}function dy(r){return r!==void 0&&r.enterprise!==void 0}class SI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return EI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kI(r,e){return di(r,"GET","/v2/recaptchaConfig",oo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TI(r,e){return di(r,"POST","/v1/accounts:delete",e)}async function th(r,e){return di(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function CI(r,e=!1){const t=Jt(r),n=await t.getIdToken(e),o=xg(n);Le(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,u=l?.sign_in_provider;return{claims:o,token:n,authTime:Sc(Gp(o.auth_time)),issuedAtTime:Sc(Gp(o.iat)),expirationTime:Sc(Gp(o.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Gp(r){return Number(r)*1e3}function xg(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return Od("JWT malformed, contained fewer than 3 sections"),null;try{const o=i2(t);return o?JSON.parse(o):(Od("Failed to decode base64 JWT payload"),null)}catch(o){return Od("Caught error parsing JWT payload as JSON",o?.toString()),null}}function hy(r){const e=xg(r);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sl(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof Rs&&II(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function II({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sc(this.lastLoginAt),this.creationTime=Sc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rh(r){const e=r.auth,t=await r.getIdToken(),n=await sl(r,th(e,{idToken:t}));Le(n?.users.length,e,"internal-error");const o=n.users[0];r._notifyReloadListener(o);const l=o.providerUserInfo?.length?_2(o.providerUserInfo):[],u=PI(r.providerData,l),h=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!u?.length,m=h?p:!1,v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new _m(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(r,v)}async function RI(r){const e=Jt(r);await rh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PI(r,e){return[...r.filter(n=>!e.some(o=>o.providerId===n.providerId)),...e]}function _2(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(r,e){const t=await b2(r,{},async()=>{const n=Kc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,u=await w2(r,o,"/v1/token",`key=${l}`),h=await r._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:h,body:n};return r.emulatorConfig&&ea(r.emulatorConfig.host)&&(p.credentials="include"),y2.fetch()(u,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function MI(r,e){return di(r,"POST","/v2/accounts:revokeToken",oo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const t=hy(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:o,expiresIn:l}=await DI(e,t);this.updateTokensAndExpiration(n,o,Number(l))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:o,expirationTime:l}=t,u=new Ya;return n&&(Le(typeof n=="string","internal-error",{appName:e}),u.refreshToken=n),o&&(Le(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),l&&(Le(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return Xs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(r,e){Le(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Un{constructor({uid:e,auth:t,stsTokenManager:n,...o}){this.providerId="firebase",this.proactiveRefresh=new AI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new _m(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await sl(this,this.stsTokenManager.getToken(this.auth,e));return Le(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return CI(this,e)}reload(){return RI(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Un({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await rh(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(on(this.auth.app))return Promise.reject(ei(this.auth));const e=await this.getIdToken();return await sl(this,TI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,u=t.photoURL??void 0,h=t.tenantId??void 0,p=t._redirectEventId??void 0,m=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:x,emailVerified:w,isAnonymous:k,providerData:R,stsTokenManager:E}=t;Le(x&&E,e,"internal-error");const T=Ya.fromJSON(this.name,E);Le(typeof x=="string",e,"internal-error"),$i(n,e.name),$i(o,e.name),Le(typeof w=="boolean",e,"internal-error"),Le(typeof k=="boolean",e,"internal-error"),$i(l,e.name),$i(u,e.name),$i(h,e.name),$i(p,e.name),$i(m,e.name),$i(v,e.name);const O=new Un({uid:x,auth:e,email:o,emailVerified:w,displayName:n,isAnonymous:k,photoURL:u,phoneNumber:l,tenantId:h,stsTokenManager:T,createdAt:m,lastLoginAt:v});return R&&Array.isArray(R)&&(O.providerData=R.map(B=>({...B}))),p&&(O._redirectEventId=p),O}static async _fromIdTokenResponse(e,t,n=!1){const o=new Ya;o.updateFromServerResponse(t);const l=new Un({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:n});return await rh(l),l}static async _fromGetAccountInfoResponse(e,t,n){const o=t.users[0];Le(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?_2(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!l?.length,h=new Ya;h.updateFromIdToken(n);const p=new Un({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new _m(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy=new Map;function Js(r){ii(r instanceof Function,"Expected a class definition");let e=fy.get(r);return e?(ii(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,fy.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}N2.type="NONE";const py=N2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ld(r,e,t){return`firebase:${r}:${e}:${t}`}class Qa{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:o,name:l}=this.auth;this.fullUserKey=Ld(this.userKey,o.apiKey,l),this.fullPersistenceKey=Ld("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await th(this.auth,{idToken:e}).catch(()=>{});return t?Un._fromGetAccountInfoResponse(this.auth,t,e):null}return Un._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Qa(Js(py),e,n);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=o[0]||Js(py);const u=Ld(n,e.config.apiKey,e.name);let h=null;for(const m of t)try{const v=await m._get(u);if(v){let x;if(typeof v=="string"){const w=await th(e,{idToken:v}).catch(()=>{});if(!w)break;x=await Un._fromGetAccountInfoResponse(e,w,v)}else x=Un._fromJSON(e,v);m!==l&&(h=x),l=m;break}}catch{}const p=o.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Qa(l,e,n):(l=p[0],h&&await l._set(u,h.toJSON()),await Promise.all(t.map(async m=>{if(m!==l)try{await m._remove(u)}catch{}})),new Qa(l,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(k2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(E2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(C2(e))return"Blackberry";if(I2(e))return"Webos";if(j2(e))return"Safari";if((e.includes("chrome/")||S2(e))&&!e.includes("edge/"))return"Chrome";if(T2(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if(n?.length===2)return n[1]}return"Other"}function E2(r=Sr()){return/firefox\//i.test(r)}function j2(r=Sr()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function S2(r=Sr()){return/crios\//i.test(r)}function k2(r=Sr()){return/iemobile/i.test(r)}function T2(r=Sr()){return/android/i.test(r)}function C2(r=Sr()){return/blackberry/i.test(r)}function I2(r=Sr()){return/webos/i.test(r)}function vg(r=Sr()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function OI(r=Sr()){return vg(r)&&!!window.navigator?.standalone}function LI(){return YT()&&document.documentMode===10}function A2(r=Sr()){return vg(r)||T2(r)||I2(r)||C2(r)||/windows phone/i.test(r)||k2(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(r,e=[]){let t;switch(r){case"Browser":t=my(Sr());break;case"Worker":t=`${my(Sr())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ta}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=l=>new Promise((u,h)=>{try{const p=e(l);u(p)}catch(p){h(p)}});n.onAbort=t,this.queue.push(n);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $I(r,e={}){return di(r,"GET","/v2/passwordPolicy",oo(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=6;class UI{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??FI,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let o=0;o<e.length;o++)n=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,t,n,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gy(this),this.idTokenSubscription=new gy(this),this.beforeStateQueue=new VI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=x2,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Js(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Qa.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await th(this,{idToken:e}),n=await Un._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(on(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=n?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&h?.user&&(n=h.user,o=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(n)}catch(l){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await rh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(on(this.app))return Promise.reject(ei(this));const t=e?Jt(e):null;return t&&Le(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return on(this.app)?Promise.reject(ei(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return on(this.app)?Promise.reject(ei(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Js(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $I(this),t=new UI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Gc("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await MI(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Js(e)||this._popupRedirectResolver;Le(t,this,"argument-error"),this.redirectPersistenceManager=await Qa.create(this,[Js(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,n,o);return()=>{u=!0,p()}}else{const p=e.addObserver(t);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=R2(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(on(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&xI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ra(r){return Jt(r)}class gy{constructor(e){this.auth=e,this.observer=null,this.addObserver=nC(t=>this.observer=t)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Th={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zI(r){Th=r}function P2(r){return Th.loadJS(r)}function HI(){return Th.recaptchaEnterpriseScript}function WI(){return Th.gapiScript}function qI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class GI{constructor(){this.enterprise=new KI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class KI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const YI="recaptcha-enterprise",D2="NO_RECAPTCHA";class QI{constructor(e){this.type=YI,this.auth=ra(e)}async verify(e="verify",t=!1){async function n(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,h)=>{kI(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new SI(p);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,u(m.siteKey)}}).catch(p=>{h(p)})})}function o(l,u,h){const p=window.grecaptcha;dy(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(m=>{u(m)}).catch(()=>{u(D2)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new GI().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{n(this.auth).then(h=>{if(!t&&dy(window.grecaptcha))o(h,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=HI();p.length!==0&&(p+=h),P2(p).then(()=>{o(h,l,u)}).catch(m=>{u(m)})}}).catch(h=>{u(h)})})}}async function xy(r,e,t,n=!1,o=!1){const l=new QI(r);let u;if(o)u=D2;else try{u=await l.verify(t)}catch{u=await l.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const p=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const p=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return n?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Nm(r,e,t,n,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await xy(r,e,t,t==="getOobCode");return n(r,l)}else return n(r,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await xy(r,e,t,t==="getOobCode");return n(r,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(r,e){const t=kh(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Qi(l,e??{}))return o;Gn(o,"already-initialized")}return t.initialize({options:e})}function JI(r,e){const t=e?.persistence||[],n=(Array.isArray(t)?t:[t]).map(Js);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e?.popupRedirectResolver)}function ZI(r,e,t){const n=ra(r);Le(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const o=!1,l=M2(e),{host:u,port:h}=e4(e),p=h===null?"":`:${h}`,m={url:`${l}//${u}${p}/`},v=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!n._canInitEmulator){Le(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Le(Qi(m,n.config.emulator)&&Qi(v,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=m,n.emulatorConfig=v,n.settings.appVerificationDisabledForTesting=!0,ea(u)?(ug(`${l}//${u}${p}`),dg("Auth",!0)):t4()}function M2(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function e4(r){const e=M2(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(n);if(o){const l=o[1];return{host:l,port:vy(n.substr(l.length+1))}}else{const[l,u]=n.split(":");return{host:l,port:vy(u)}}}function vy(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function t4(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Xs("not implemented")}_getIdTokenResponse(e){return Xs("not implemented")}_linkToIdToken(e,t){return Xs("not implemented")}_getReauthenticationResolver(e){return Xs("not implemented")}}async function r4(r,e){return di(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n4(r,e){return Qc(r,"POST","/v1/accounts:signInWithPassword",oo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s4(r,e){return Qc(r,"POST","/v1/accounts:signInWithEmailLink",oo(r,e))}async function i4(r,e){return Qc(r,"POST","/v1/accounts:signInWithEmailLink",oo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends yg{constructor(e,t,n,o=null){super("password",n),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Rc(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Rc(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nm(e,t,"signInWithPassword",n4);case"emailLink":return s4(e,{email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nm(e,n,"signUpPassword",r4);case"emailLink":return i4(e,{idToken:t,email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xa(r,e){return Qc(r,"POST","/v1/accounts:signInWithIdp",oo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4="http://localhost";class qo extends yg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new qo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Gn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:o,...l}=t;if(!n||!o)return null;const u=new qo(n,o);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Xa(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Xa(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Xa(e,t)}buildRequest(){const e={requestUri:o4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Kc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a4(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function l4(r){const e=vc(yc(r)).link,t=e?vc(yc(e)).deep_link_id:null,n=vc(yc(r)).deep_link_id;return(n?vc(yc(n)).link:null)||n||t||e||r}class bg{constructor(e){const t=vc(yc(e)),n=t.apiKey??null,o=t.oobCode??null,l=a4(t.mode??null);Le(n&&o&&l,"argument-error"),this.apiKey=n,this.operation=l,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=l4(e);try{return new bg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(){this.providerId=ml.PROVIDER_ID}static credential(e,t){return Rc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=bg.parseLink(t);return Le(n,"argument-error"),Rc._fromEmailAndCode(e,n.code,n.tenantId)}}ml.PROVIDER_ID="password";ml.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ml.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc extends O2{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Xc{constructor(){super("facebook.com")}static credential(e){return qo._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ui.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends Xc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return qo._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Bi.credential(t,n)}catch{return null}}}Bi.GOOGLE_SIGN_IN_METHOD="google.com";Bi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Xc{constructor(){super("github.com")}static credential(e){return qo._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zi.credential(e.oauthAccessToken)}catch{return null}}}zi.GITHUB_SIGN_IN_METHOD="github.com";zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Xc{constructor(){super("twitter.com")}static credential(e,t){return qo._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Hi.credential(t,n)}catch{return null}}}Hi.TWITTER_SIGN_IN_METHOD="twitter.com";Hi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c4(r,e){return Qc(r,"POST","/v1/accounts:signUp",oo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,o=!1){const l=await Un._fromIdTokenResponse(e,n,o),u=yy(n);return new Go({user:l,providerId:u,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const o=yy(n);return new Go({user:e,providerId:o,_tokenResponse:n,operationType:t})}}function yy(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh extends Rs{constructor(e,t,n,o){super(t.code,t.message),this.operationType=n,this.user=o,Object.setPrototypeOf(this,nh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,o){return new nh(e,t,n,o)}}function L2(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?nh._fromErrorAndOperation(r,l,e,n):l})}async function u4(r,e,t=!1){const n=await sl(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Go._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d4(r,e,t=!1){const{auth:n}=r;if(on(n.app))return Promise.reject(ei(n));const o="reauthenticate";try{const l=await sl(r,L2(n,o,e,r),t);Le(l.idToken,n,"internal-error");const u=xg(l.idToken);Le(u,n,"internal-error");const{sub:h}=u;return Le(r.uid===h,n,"user-mismatch"),Go._forOperation(r,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&Gn(n,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V2(r,e,t=!1){if(on(r.app))return Promise.reject(ei(r));const n="signIn",o=await L2(r,n,e),l=await Go._fromIdTokenResponse(r,n,o);return t||await r._updateCurrentUser(l.user),l}async function h4(r,e){return V2(ra(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $2(r){const e=ra(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function f4(r,e,t){if(on(r.app))return Promise.reject(ei(r));const n=ra(r),u=await Nm(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",c4).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&$2(r),p}),h=await Go._fromIdTokenResponse(n,"signIn",u);return await n._updateCurrentUser(h.user),h}function p4(r,e,t){return on(r.app)?Promise.reject(ei(r)):h4(Jt(r),ml.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&$2(r),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m4(r,e){return di(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g4(r,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const n=Jt(r),l={idToken:await n.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await sl(n,m4(n.auth,l));n.displayName=u.displayName||null,n.photoURL=u.photoUrl||null;const h=n.providerData.find(({providerId:p})=>p==="password");h&&(h.displayName=n.displayName,h.photoURL=n.photoURL),await n._updateTokensIfNecessary(u)}function x4(r,e,t,n){return Jt(r).onIdTokenChanged(e,t,n)}function v4(r,e,t){return Jt(r).beforeAuthStateChanged(e,t)}const sh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(sh,"1"),this.storage.removeItem(sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=1e3,b4=10;class U2 extends F2{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=A2(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),o=this.localCache[t];n!==o&&e(t,o,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,p)=>{this.notifyListeners(u,p)});return}const n=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(n);!t&&this.localCache[n]===u||this.notifyListeners(n,u)},l=this.storage.getItem(n);LI()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,b4):o()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const o of Array.from(n))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},y4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}U2.type="LOCAL";const w4=U2;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2 extends F2{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}B2.type="SESSION";const z2=B2;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const n=new Ch(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:o,data:l}=t.data,u=this.handlersMap[o];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:o});const h=Array.from(u).map(async m=>m(t.origin,l)),p=await _4(h);t.ports[0].postMessage({status:"done",eventId:n,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ch.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,u;return new Promise((h,p)=>{const m=wg("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},n);u={messageChannel:o,onMessage(x){const w=x;if(w.data.eventId===m)switch(w.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(w.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _s(){return window}function E4(r){_s().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(){return typeof _s().WorkerGlobalScope<"u"&&typeof _s().importScripts=="function"}async function j4(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function S4(){return navigator?.serviceWorker?.controller||null}function k4(){return H2()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="firebaseLocalStorageDb",T4=1,ih="firebaseLocalStorage",q2="fbase_key";class Jc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ih(r,e){return r.transaction([ih],e?"readwrite":"readonly").objectStore(ih)}function C4(){const r=indexedDB.deleteDatabase(W2);return new Jc(r).toPromise()}function Em(){const r=indexedDB.open(W2,T4);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(ih,{keyPath:q2})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(ih)?e(n):(n.close(),await C4(),e(await Em()))})})}async function by(r,e,t){const n=Ih(r,!0).put({[q2]:e,value:t});return new Jc(n).toPromise()}async function I4(r,e){const t=Ih(r,!1).get(e),n=await new Jc(t).toPromise();return n===void 0?null:n.value}function wy(r,e){const t=Ih(r,!0).delete(e);return new Jc(t).toPromise()}const A4=800,R4=3;class G2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Em(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>R4)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return H2()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ch._getInstance(k4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await j4(),!this.activeServiceWorker)return;this.sender=new N4(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||S4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Em();return await by(e,sh,"1"),await wy(e,sh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>by(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>I4(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>wy(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Ih(o,!1).getAll();return new Jc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)n.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!n.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const o of Array.from(n))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),A4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}G2.type="LOCAL";const P4=G2;new Yc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(r,e){return e?Js(e):(Le(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g extends yg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xa(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Xa(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Xa(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function M4(r){return V2(r.auth,new _g(r),r.bypassAuthState)}function O4(r){const{auth:e,user:t}=r;return Le(t,e,"internal-error"),d4(t,new _g(r),r.bypassAuthState)}async function L4(r){const{auth:e,user:t}=r;return Le(t,e,"internal-error"),u4(t,new _g(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,t,n,o,l=!1){this.auth=e,this.resolver=n,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:o,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:t,sessionId:n,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return M4;case"linkViaPopup":case"linkViaRedirect":return L4;case"reauthViaPopup":case"reauthViaRedirect":return O4;default:Gn(this.auth,"internal-error")}}resolve(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=new Yc(2e3,1e4);class Ka extends K2{constructor(e,t,n,o,l){super(e,t,o,l),this.provider=n,this.authWindow=null,this.pollId=null,Ka.currentPopupAction&&Ka.currentPopupAction.cancel(),Ka.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){ii(this.filter.length===1,"Popup operations only handle one event");const e=wg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ws(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ws(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ka.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ws(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,V4.get())};e()}}Ka.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4="pendingRedirect",Vd=new Map;class F4 extends K2{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Vd.get(this.auth._key());if(!e){try{const n=await U4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Vd.set(this.auth._key(),e)}return this.bypassAuthState||Vd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function U4(r,e){const t=H4(e),n=z4(r);if(!await n._isAvailable())return!1;const o=await n._get(t)==="true";return await n._remove(t),o}function B4(r,e){Vd.set(r._key(),e)}function z4(r){return Js(r._redirectPersistence)}function H4(r){return Ld($4,r.config.apiKey,r.name)}async function W4(r,e,t=!1){if(on(r.app))return Promise.reject(ei(r));const n=ra(r),o=D4(n,e),u=await new F4(n,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await n._persistUserIfCurrent(u.user),await n._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4=600*1e3;class G4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!K4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Y2(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(ws(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=q4&&this.cachedEventUids.clear(),this.cachedEventUids.has(_y(e))}saveEventToCache(e){this.cachedEventUids.add(_y(e)),this.lastProcessedEventTime=Date.now()}}function _y(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Y2({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function K4(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Y2(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y4(r,e={}){return di(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,X4=/^https?/;async function J4(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Y4(r);for(const t of e)try{if(Z4(t))return}catch{}Gn(r,"unauthorized-domain")}function Z4(r){const e=wm(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const u=new URL(r);return u.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===n}if(!X4.test(t))return!1;if(Q4.test(r))return n===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e5=new Yc(3e4,6e4);function Ny(){const r=_s().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function t5(r){return new Promise((e,t)=>{function n(){Ny(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ny(),t(ws(r,"network-request-failed"))},timeout:e5.get()})}if(_s().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(_s().gapi?.load)n();else{const o=qI("iframefcb");return _s()[o]=()=>{gapi.load?n():t(ws(r,"network-request-failed"))},P2(`${WI()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw $d=null,e})}let $d=null;function r5(r){return $d=$d||t5(r),$d}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5=new Yc(5e3,15e3),s5="__/auth/iframe",i5="emulator/auth/iframe",o5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},a5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function l5(r){const e=r.config;Le(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?gg(e,i5):`https://${r.config.authDomain}/${s5}`,n={apiKey:e.apiKey,appName:r.name,v:ta},o=a5.get(r.config.apiHost);o&&(n.eid=o);const l=r._getFrameworks();return l.length&&(n.fw=l.join(",")),`${t}?${Kc(n).slice(1)}`}async function c5(r){const e=await r5(r),t=_s().gapi;return Le(t,r,"internal-error"),e.open({where:document.body,url:l5(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:o5,dontclear:!0},n=>new Promise(async(o,l)=>{await n.restyle({setHideOnLeave:!1});const u=ws(r,"network-request-failed"),h=_s().setTimeout(()=>{l(u)},n5.get());function p(){_s().clearTimeout(h),o(n)}n.ping(p).then(p,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},d5=500,h5=600,f5="_blank",p5="http://localhost";class Ey{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function m5(r,e,t,n=d5,o=h5){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-n)/2,0).toString();let h="";const p={...u5,width:n.toString(),height:o.toString(),top:l,left:u},m=Sr().toLowerCase();t&&(h=S2(m)?f5:t),E2(m)&&(e=e||p5,p.scrollbars="yes");const v=Object.entries(p).reduce((w,[k,R])=>`${w}${k}=${R},`,"");if(OI(m)&&h!=="_self")return g5(e||"",h),new Ey(null);const x=window.open(e||"",h,v);Le(x,r,"popup-blocked");try{x.focus()}catch{}return new Ey(x)}function g5(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5="__/auth/handler",v5="emulator/auth/handler",y5=encodeURIComponent("fac");async function jy(r,e,t,n,o,l){Le(r.config.authDomain,r,"auth-domain-config-required"),Le(r.config.apiKey,r,"invalid-api-key");const u={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:ta,eventId:o};if(e instanceof O2){e.setDefaultLanguage(r.languageCode),u.providerId=e.providerId||"",rC(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,x]of Object.entries({}))u[v]=x}if(e instanceof Xc){const v=e.getScopes().filter(x=>x!=="");v.length>0&&(u.scopes=v.join(","))}r.tenantId&&(u.tid=r.tenantId);const h=u;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const p=await r._getAppCheckToken(),m=p?`#${y5}=${encodeURIComponent(p)}`:"";return`${b5(r)}?${Kc(h).slice(1)}${m}`}function b5({config:r}){return r.emulator?gg(r,v5):`https://${r.authDomain}/${x5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp="webStorageSupport";class w5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=z2,this._completeRedirectFn=W4,this._overrideRedirectResult=B4}async _openPopup(e,t,n,o){ii(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await jy(e,t,n,wm(),o);return m5(e,l,wg())}async _openRedirect(e,t,n,o){await this._originValidation(e);const l=await jy(e,t,n,wm(),o);return E4(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(ii(l,"If manager is not set, promise should be"),l)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await c5(e),n=new G4(e);return t.register("authEvent",o=>(Le(o?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Kp,{type:Kp},o=>{const l=o?.[0]?.[Kp];l!==void 0&&t(!!l),Gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=J4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return A2()||j2()||vg()}}const _5=w5;var Sy="@firebase/auth",ky="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function j5(r){Wo(new Xi("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=n.options;Le(u&&!u.includes(":"),"invalid-api-key",{appName:n.name});const p={apiKey:u,authDomain:h,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:R2(r)},m=new BI(n,o,l,p);return JI(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Wo(new Xi("auth-internal",e=>{const t=ra(e.getProvider("auth").getImmediate());return(n=>new N5(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),bs(Sy,ky,E5(r)),bs(Sy,ky,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5=300,k5=c2("authIdTokenMaxAge")||S5;let Ty=null;const T5=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>k5)return;const o=t?.token;Ty!==o&&(Ty=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function C5(r=pg()){const e=kh(r,"auth");if(e.isInitialized())return e.getImmediate();const t=XI(r,{popupRedirectResolver:_5,persistence:[P4,w4,z2]}),n=c2("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(n,location.origin);if(location.origin===l.origin){const u=T5(l.toString());v4(t,u,()=>u(t.currentUser)),x4(t,h=>u(h))}}const o=o2("auth");return o&&ZI(t,`http://${o}`),t}function I5(){return document.getElementsByTagName("head")?.[0]??document}zI({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=o=>{const l=ws("internal-error");l.customData=o,t(l)},n.type="text/javascript",n.charset="UTF-8",I5().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});j5("Browser");var Cy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ki,Q2;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,S){function P(){}P.prototype=S.prototype,I.F=S.prototype,I.prototype=new P,I.prototype.constructor=I,I.D=function(D,M,L){for(var A=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)A[ne-2]=arguments[ne];return S.prototype[M].apply(D,A)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,t),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,S,P){P||(P=0);const D=Array(16);if(typeof S=="string")for(var M=0;M<16;++M)D[M]=S.charCodeAt(P++)|S.charCodeAt(P++)<<8|S.charCodeAt(P++)<<16|S.charCodeAt(P++)<<24;else for(M=0;M<16;++M)D[M]=S[P++]|S[P++]<<8|S[P++]<<16|S[P++]<<24;S=I.g[0],P=I.g[1],M=I.g[2];let L=I.g[3],A;A=S+(L^P&(M^L))+D[0]+3614090360&4294967295,S=P+(A<<7&4294967295|A>>>25),A=L+(M^S&(P^M))+D[1]+3905402710&4294967295,L=S+(A<<12&4294967295|A>>>20),A=M+(P^L&(S^P))+D[2]+606105819&4294967295,M=L+(A<<17&4294967295|A>>>15),A=P+(S^M&(L^S))+D[3]+3250441966&4294967295,P=M+(A<<22&4294967295|A>>>10),A=S+(L^P&(M^L))+D[4]+4118548399&4294967295,S=P+(A<<7&4294967295|A>>>25),A=L+(M^S&(P^M))+D[5]+1200080426&4294967295,L=S+(A<<12&4294967295|A>>>20),A=M+(P^L&(S^P))+D[6]+2821735955&4294967295,M=L+(A<<17&4294967295|A>>>15),A=P+(S^M&(L^S))+D[7]+4249261313&4294967295,P=M+(A<<22&4294967295|A>>>10),A=S+(L^P&(M^L))+D[8]+1770035416&4294967295,S=P+(A<<7&4294967295|A>>>25),A=L+(M^S&(P^M))+D[9]+2336552879&4294967295,L=S+(A<<12&4294967295|A>>>20),A=M+(P^L&(S^P))+D[10]+4294925233&4294967295,M=L+(A<<17&4294967295|A>>>15),A=P+(S^M&(L^S))+D[11]+2304563134&4294967295,P=M+(A<<22&4294967295|A>>>10),A=S+(L^P&(M^L))+D[12]+1804603682&4294967295,S=P+(A<<7&4294967295|A>>>25),A=L+(M^S&(P^M))+D[13]+4254626195&4294967295,L=S+(A<<12&4294967295|A>>>20),A=M+(P^L&(S^P))+D[14]+2792965006&4294967295,M=L+(A<<17&4294967295|A>>>15),A=P+(S^M&(L^S))+D[15]+1236535329&4294967295,P=M+(A<<22&4294967295|A>>>10),A=S+(M^L&(P^M))+D[1]+4129170786&4294967295,S=P+(A<<5&4294967295|A>>>27),A=L+(P^M&(S^P))+D[6]+3225465664&4294967295,L=S+(A<<9&4294967295|A>>>23),A=M+(S^P&(L^S))+D[11]+643717713&4294967295,M=L+(A<<14&4294967295|A>>>18),A=P+(L^S&(M^L))+D[0]+3921069994&4294967295,P=M+(A<<20&4294967295|A>>>12),A=S+(M^L&(P^M))+D[5]+3593408605&4294967295,S=P+(A<<5&4294967295|A>>>27),A=L+(P^M&(S^P))+D[10]+38016083&4294967295,L=S+(A<<9&4294967295|A>>>23),A=M+(S^P&(L^S))+D[15]+3634488961&4294967295,M=L+(A<<14&4294967295|A>>>18),A=P+(L^S&(M^L))+D[4]+3889429448&4294967295,P=M+(A<<20&4294967295|A>>>12),A=S+(M^L&(P^M))+D[9]+568446438&4294967295,S=P+(A<<5&4294967295|A>>>27),A=L+(P^M&(S^P))+D[14]+3275163606&4294967295,L=S+(A<<9&4294967295|A>>>23),A=M+(S^P&(L^S))+D[3]+4107603335&4294967295,M=L+(A<<14&4294967295|A>>>18),A=P+(L^S&(M^L))+D[8]+1163531501&4294967295,P=M+(A<<20&4294967295|A>>>12),A=S+(M^L&(P^M))+D[13]+2850285829&4294967295,S=P+(A<<5&4294967295|A>>>27),A=L+(P^M&(S^P))+D[2]+4243563512&4294967295,L=S+(A<<9&4294967295|A>>>23),A=M+(S^P&(L^S))+D[7]+1735328473&4294967295,M=L+(A<<14&4294967295|A>>>18),A=P+(L^S&(M^L))+D[12]+2368359562&4294967295,P=M+(A<<20&4294967295|A>>>12),A=S+(P^M^L)+D[5]+4294588738&4294967295,S=P+(A<<4&4294967295|A>>>28),A=L+(S^P^M)+D[8]+2272392833&4294967295,L=S+(A<<11&4294967295|A>>>21),A=M+(L^S^P)+D[11]+1839030562&4294967295,M=L+(A<<16&4294967295|A>>>16),A=P+(M^L^S)+D[14]+4259657740&4294967295,P=M+(A<<23&4294967295|A>>>9),A=S+(P^M^L)+D[1]+2763975236&4294967295,S=P+(A<<4&4294967295|A>>>28),A=L+(S^P^M)+D[4]+1272893353&4294967295,L=S+(A<<11&4294967295|A>>>21),A=M+(L^S^P)+D[7]+4139469664&4294967295,M=L+(A<<16&4294967295|A>>>16),A=P+(M^L^S)+D[10]+3200236656&4294967295,P=M+(A<<23&4294967295|A>>>9),A=S+(P^M^L)+D[13]+681279174&4294967295,S=P+(A<<4&4294967295|A>>>28),A=L+(S^P^M)+D[0]+3936430074&4294967295,L=S+(A<<11&4294967295|A>>>21),A=M+(L^S^P)+D[3]+3572445317&4294967295,M=L+(A<<16&4294967295|A>>>16),A=P+(M^L^S)+D[6]+76029189&4294967295,P=M+(A<<23&4294967295|A>>>9),A=S+(P^M^L)+D[9]+3654602809&4294967295,S=P+(A<<4&4294967295|A>>>28),A=L+(S^P^M)+D[12]+3873151461&4294967295,L=S+(A<<11&4294967295|A>>>21),A=M+(L^S^P)+D[15]+530742520&4294967295,M=L+(A<<16&4294967295|A>>>16),A=P+(M^L^S)+D[2]+3299628645&4294967295,P=M+(A<<23&4294967295|A>>>9),A=S+(M^(P|~L))+D[0]+4096336452&4294967295,S=P+(A<<6&4294967295|A>>>26),A=L+(P^(S|~M))+D[7]+1126891415&4294967295,L=S+(A<<10&4294967295|A>>>22),A=M+(S^(L|~P))+D[14]+2878612391&4294967295,M=L+(A<<15&4294967295|A>>>17),A=P+(L^(M|~S))+D[5]+4237533241&4294967295,P=M+(A<<21&4294967295|A>>>11),A=S+(M^(P|~L))+D[12]+1700485571&4294967295,S=P+(A<<6&4294967295|A>>>26),A=L+(P^(S|~M))+D[3]+2399980690&4294967295,L=S+(A<<10&4294967295|A>>>22),A=M+(S^(L|~P))+D[10]+4293915773&4294967295,M=L+(A<<15&4294967295|A>>>17),A=P+(L^(M|~S))+D[1]+2240044497&4294967295,P=M+(A<<21&4294967295|A>>>11),A=S+(M^(P|~L))+D[8]+1873313359&4294967295,S=P+(A<<6&4294967295|A>>>26),A=L+(P^(S|~M))+D[15]+4264355552&4294967295,L=S+(A<<10&4294967295|A>>>22),A=M+(S^(L|~P))+D[6]+2734768916&4294967295,M=L+(A<<15&4294967295|A>>>17),A=P+(L^(M|~S))+D[13]+1309151649&4294967295,P=M+(A<<21&4294967295|A>>>11),A=S+(M^(P|~L))+D[4]+4149444226&4294967295,S=P+(A<<6&4294967295|A>>>26),A=L+(P^(S|~M))+D[11]+3174756917&4294967295,L=S+(A<<10&4294967295|A>>>22),A=M+(S^(L|~P))+D[2]+718787259&4294967295,M=L+(A<<15&4294967295|A>>>17),A=P+(L^(M|~S))+D[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(M+(A<<21&4294967295|A>>>11))&4294967295,I.g[2]=I.g[2]+M&4294967295,I.g[3]=I.g[3]+L&4294967295}n.prototype.v=function(I,S){S===void 0&&(S=I.length);const P=S-this.blockSize,D=this.C;let M=this.h,L=0;for(;L<S;){if(M==0)for(;L<=P;)o(this,I,L),L+=this.blockSize;if(typeof I=="string"){for(;L<S;)if(D[M++]=I.charCodeAt(L++),M==this.blockSize){o(this,D),M=0;break}}else for(;L<S;)if(D[M++]=I[L++],M==this.blockSize){o(this,D),M=0;break}}this.h=M,this.o+=S},n.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var P=I.length-8;P<I.length;++P)I[P]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,P=0;P<4;++P)for(let D=0;D<32;D+=8)I[S++]=this.g[P]>>>D&255;return I};function l(I,S){var P=h;return Object.prototype.hasOwnProperty.call(P,I)?P[I]:P[I]=S(I)}function u(I,S){this.h=S;const P=[];let D=!0;for(let M=I.length-1;M>=0;M--){const L=I[M]|0;D&&L==S||(P[M]=L,D=!1)}this.g=P}var h={};function p(I){return-128<=I&&I<128?l(I,function(S){return new u([S|0],S<0?-1:0)}):new u([I|0],I<0?-1:0)}function m(I){if(isNaN(I)||!isFinite(I))return x;if(I<0)return T(m(-I));const S=[];let P=1;for(let D=0;I>=P;D++)S[D]=I/P|0,P*=4294967296;return new u(S,0)}function v(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return T(v(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=m(Math.pow(S,8));let D=x;for(let L=0;L<I.length;L+=8){var M=Math.min(8,I.length-L);const A=parseInt(I.substring(L,L+M),S);M<8?(M=m(Math.pow(S,M)),D=D.j(M).add(m(A))):(D=D.j(P),D=D.add(m(A)))}return D}var x=p(0),w=p(1),k=p(16777216);r=u.prototype,r.m=function(){if(E(this))return-T(this).m();let I=0,S=1;for(let P=0;P<this.g.length;P++){const D=this.i(P);I+=(D>=0?D:4294967296+D)*S,S*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(R(this))return"0";if(E(this))return"-"+T(this).toString(I);const S=m(Math.pow(I,6));var P=this;let D="";for(;;){const M=F(P,S).g;P=O(P,M.j(S));let L=((P.g.length>0?P.g[0]:P.h)>>>0).toString(I);if(P=M,R(P))return L+D;for(;L.length<6;)L="0"+L;D=L+D}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function R(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function E(I){return I.h==-1}r.l=function(I){return I=O(this,I),E(I)?-1:R(I)?0:1};function T(I){const S=I.g.length,P=[];for(let D=0;D<S;D++)P[D]=~I.g[D];return new u(P,~I.h).add(w)}r.abs=function(){return E(this)?T(this):this},r.add=function(I){const S=Math.max(this.g.length,I.g.length),P=[];let D=0;for(let M=0;M<=S;M++){let L=D+(this.i(M)&65535)+(I.i(M)&65535),A=(L>>>16)+(this.i(M)>>>16)+(I.i(M)>>>16);D=A>>>16,L&=65535,A&=65535,P[M]=A<<16|L}return new u(P,P[P.length-1]&-2147483648?-1:0)};function O(I,S){return I.add(T(S))}r.j=function(I){if(R(this)||R(I))return x;if(E(this))return E(I)?T(this).j(T(I)):T(T(this).j(I));if(E(I))return T(this.j(T(I)));if(this.l(k)<0&&I.l(k)<0)return m(this.m()*I.m());const S=this.g.length+I.g.length,P=[];for(var D=0;D<2*S;D++)P[D]=0;for(D=0;D<this.g.length;D++)for(let M=0;M<I.g.length;M++){const L=this.i(D)>>>16,A=this.i(D)&65535,ne=I.i(M)>>>16,le=I.i(M)&65535;P[2*D+2*M]+=A*le,B(P,2*D+2*M),P[2*D+2*M+1]+=L*le,B(P,2*D+2*M+1),P[2*D+2*M+1]+=A*ne,B(P,2*D+2*M+1),P[2*D+2*M+2]+=L*ne,B(P,2*D+2*M+2)}for(I=0;I<S;I++)P[I]=P[2*I+1]<<16|P[2*I];for(I=S;I<2*S;I++)P[I]=0;return new u(P,0)};function B(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function $(I,S){this.g=I,this.h=S}function F(I,S){if(R(S))throw Error("division by zero");if(R(I))return new $(x,x);if(E(I))return S=F(T(I),S),new $(T(S.g),T(S.h));if(E(S))return S=F(I,T(S)),new $(T(S.g),S.h);if(I.g.length>30){if(E(I)||E(S))throw Error("slowDivide_ only works with positive integers.");for(var P=w,D=S;D.l(I)<=0;)P=W(P),D=W(D);var M=X(P,1),L=X(D,1);for(D=X(D,2),P=X(P,2);!R(D);){var A=L.add(D);A.l(I)<=0&&(M=M.add(P),L=A),D=X(D,1),P=X(P,1)}return S=O(I,M.j(S)),new $(M,S)}for(M=x;I.l(S)>=0;){for(P=Math.max(1,Math.floor(I.m()/S.m())),D=Math.ceil(Math.log(P)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),L=m(P),A=L.j(S);E(A)||A.l(I)>0;)P-=D,L=m(P),A=L.j(S);R(L)&&(L=w),M=M.add(L),I=O(I,A)}return new $(M,I)}r.B=function(I){return F(this,I).h},r.and=function(I){const S=Math.max(this.g.length,I.g.length),P=[];for(let D=0;D<S;D++)P[D]=this.i(D)&I.i(D);return new u(P,this.h&I.h)},r.or=function(I){const S=Math.max(this.g.length,I.g.length),P=[];for(let D=0;D<S;D++)P[D]=this.i(D)|I.i(D);return new u(P,this.h|I.h)},r.xor=function(I){const S=Math.max(this.g.length,I.g.length),P=[];for(let D=0;D<S;D++)P[D]=this.i(D)^I.i(D);return new u(P,this.h^I.h)};function W(I){const S=I.g.length+1,P=[];for(let D=0;D<S;D++)P[D]=I.i(D)<<1|I.i(D-1)>>>31;return new u(P,I.h)}function X(I,S){const P=S>>5;S%=32;const D=I.g.length-P,M=[];for(let L=0;L<D;L++)M[L]=S>0?I.i(L+P)>>>S|I.i(L+P+1)<<32-S:I.i(L+P);return new u(M,I.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,Q2=n,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=v,Ki=u}).apply(typeof Cy<"u"?Cy:typeof self<"u"?self:typeof window<"u"?window:{});var yd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var X2,bc,J2,Fd,jm,Z2,e1,t1;(function(){var r,e=Object.defineProperty;function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof yd=="object"&&yd];for(var b=0;b<d.length;++b){var N=d[b];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var n=t(this);function o(d,b){if(b)e:{var N=n;d=d.split(".");for(var C=0;C<d.length-1;C++){var Y=d[C];if(!(Y in N))break e;N=N[Y]}d=d[d.length-1],C=N[d],b=b(C),b!=C&&b!=null&&e(N,d,{configurable:!0,writable:!0,value:b})}}o("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(d){return d||function(b){var N=[],C;for(C in b)Object.prototype.hasOwnProperty.call(b,C)&&N.push([C,b[C]]);return N}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(d){var b=typeof d;return b=="object"&&d!=null||b=="function"}function p(d,b,N){return d.call.apply(d.bind,arguments)}function m(d,b,N){return m=p,m.apply(null,arguments)}function v(d,b){var N=Array.prototype.slice.call(arguments,1);return function(){var C=N.slice();return C.push.apply(C,arguments),d.apply(this,C)}}function x(d,b){function N(){}N.prototype=b.prototype,d.Z=b.prototype,d.prototype=new N,d.prototype.constructor=d,d.Ob=function(C,Y,Z){for(var ve=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)ve[Ue-2]=arguments[Ue];return b.prototype[Y].apply(C,ve)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function k(d){const b=d.length;if(b>0){const N=Array(b);for(let C=0;C<b;C++)N[C]=d[C];return N}return[]}function R(d,b){for(let C=1;C<arguments.length;C++){const Y=arguments[C];var N=typeof Y;if(N=N!="object"?N:Y?Array.isArray(Y)?"array":N:"null",N=="array"||N=="object"&&typeof Y.length=="number"){N=d.length||0;const Z=Y.length||0;d.length=N+Z;for(let ve=0;ve<Z;ve++)d[N+ve]=Y[ve]}else d.push(Y)}}class E{constructor(b,N){this.i=b,this.j=N,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function T(d){u.setTimeout(()=>{throw d},0)}function O(){var d=I;let b=null;return d.g&&(b=d.g,d.g=d.g.next,d.g||(d.h=null),b.next=null),b}class B{constructor(){this.h=this.g=null}add(b,N){const C=$.get();C.set(b,N),this.h?this.h.next=C:this.g=C,this.h=C}}var $=new E(()=>new F,d=>d.reset());class F{constructor(){this.next=this.g=this.h=null}set(b,N){this.h=b,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let W,X=!1,I=new B,S=()=>{const d=Promise.resolve(void 0);W=()=>{d.then(P)}};function P(){for(var d;d=O();){try{d.h.call(d.g)}catch(N){T(N)}var b=$;b.j(d),b.h<100&&(b.h++,d.next=b.g,b.g=d)}X=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(d,b){this.type=d,this.g=this.target=b,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,b=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const N=()=>{};u.addEventListener("test",N,b),u.removeEventListener("test",N,b)}catch{}return d})();function A(d){return/^[\s\xa0]*$/.test(d)}function ne(d,b){M.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,b)}x(ne,M),ne.prototype.init=function(d,b){const N=this.type=d.type,C=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=b,b=d.relatedTarget,b||(N=="mouseover"?b=d.fromElement:N=="mouseout"&&(b=d.toElement)),this.relatedTarget=b,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var le="closure_listenable_"+(Math.random()*1e6|0),ee=0;function G(d,b,N,C,Y){this.listener=d,this.proxy=null,this.src=b,this.type=N,this.capture=!!C,this.ha=Y,this.key=++ee,this.da=this.fa=!1}function U(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ie(d,b,N){for(const C in d)b.call(N,d[C],C,d)}function se(d,b){for(const N in d)b.call(void 0,d[N],N,d)}function z(d){const b={};for(const N in d)b[N]=d[N];return b}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(d,b){let N,C;for(let Y=1;Y<arguments.length;Y++){C=arguments[Y];for(N in C)d[N]=C[N];for(let Z=0;Z<te.length;Z++)N=te[Z],Object.prototype.hasOwnProperty.call(C,N)&&(d[N]=C[N])}}function oe(d){this.src=d,this.g={},this.h=0}oe.prototype.add=function(d,b,N,C,Y){const Z=d.toString();d=this.g[Z],d||(d=this.g[Z]=[],this.h++);const ve=we(d,b,C,Y);return ve>-1?(b=d[ve],N||(b.fa=!1)):(b=new G(b,this.src,Z,!!C,Y),b.fa=N,d.push(b)),b};function me(d,b){const N=b.type;if(N in d.g){var C=d.g[N],Y=Array.prototype.indexOf.call(C,b,void 0),Z;(Z=Y>=0)&&Array.prototype.splice.call(C,Y,1),Z&&(U(b),d.g[N].length==0&&(delete d.g[N],d.h--))}}function we(d,b,N,C){for(let Y=0;Y<d.length;++Y){const Z=d[Y];if(!Z.da&&Z.listener==b&&Z.capture==!!N&&Z.ha==C)return Y}return-1}var ce="closure_lm_"+(Math.random()*1e6|0),pe={};function Ae(d,b,N,C,Y){if(Array.isArray(b)){for(let Z=0;Z<b.length;Z++)Ae(d,b[Z],N,C,Y);return null}return N=Ke(N),d&&d[le]?d.J(b,N,h(C)?!!C.capture:!1,Y):Pe(d,b,N,!1,C,Y)}function Pe(d,b,N,C,Y,Z){if(!b)throw Error("Invalid event type");const ve=h(Y)?!!Y.capture:!!Y;let Ue=gr(d);if(Ue||(d[ce]=Ue=new oe(d)),N=Ue.add(b,N,C,ve,Z),N.proxy)return N;if(C=ze(),N.proxy=C,C.src=d,C.listener=N,d.addEventListener)L||(Y=ve),Y===void 0&&(Y=!1),d.addEventListener(b.toString(),C,Y);else if(d.attachEvent)d.attachEvent(Lt(b.toString()),C);else if(d.addListener&&d.removeListener)d.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return N}function ze(){function d(N){return b.call(d.src,d.listener,N)}const b=cn;return d}function He(d,b,N,C,Y){if(Array.isArray(b))for(var Z=0;Z<b.length;Z++)He(d,b[Z],N,C,Y);else C=h(C)?!!C.capture:!!C,N=Ke(N),d&&d[le]?(d=d.i,Z=String(b).toString(),Z in d.g&&(b=d.g[Z],N=we(b,N,C,Y),N>-1&&(U(b[N]),Array.prototype.splice.call(b,N,1),b.length==0&&(delete d.g[Z],d.h--)))):d&&(d=gr(d))&&(b=d.g[b.toString()],d=-1,b&&(d=we(b,N,C,Y)),(N=d>-1?b[d]:null)&&pt(N))}function pt(d){if(typeof d!="number"&&d&&!d.da){var b=d.src;if(b&&b[le])me(b.i,d);else{var N=d.type,C=d.proxy;b.removeEventListener?b.removeEventListener(N,C,d.capture):b.detachEvent?b.detachEvent(Lt(N),C):b.addListener&&b.removeListener&&b.removeListener(C),(N=gr(b))?(me(N,d),N.h==0&&(N.src=null,b[ce]=null)):U(d)}}}function Lt(d){return d in pe?pe[d]:pe[d]="on"+d}function cn(d,b){if(d.da)d=!0;else{b=new ne(b,this);const N=d.listener,C=d.ha||d.src;d.fa&&pt(d),d=N.call(C,b)}return d}function gr(d){return d=d[ce],d instanceof oe?d:null}var ye="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ke(d){return typeof d=="function"?d:(d[ye]||(d[ye]=function(b){return d.handleEvent(b)}),d[ye])}function We(){D.call(this),this.i=new oe(this),this.M=this,this.G=null}x(We,D),We.prototype[le]=!0,We.prototype.removeEventListener=function(d,b,N,C){He(this,d,b,N,C)};function lt(d,b){var N,C=d.G;if(C)for(N=[];C;C=C.G)N.push(C);if(d=d.M,C=b.type||b,typeof b=="string")b=new M(b,d);else if(b instanceof M)b.target=b.target||d;else{var Y=b;b=new M(C,d),re(b,Y)}Y=!0;let Z,ve;if(N)for(ve=N.length-1;ve>=0;ve--)Z=b.g=N[ve],Y=Zt(Z,C,!0,b)&&Y;if(Z=b.g=d,Y=Zt(Z,C,!0,b)&&Y,Y=Zt(Z,C,!1,b)&&Y,N)for(ve=0;ve<N.length;ve++)Z=b.g=N[ve],Y=Zt(Z,C,!1,b)&&Y}We.prototype.N=function(){if(We.Z.N.call(this),this.i){var d=this.i;for(const b in d.g){const N=d.g[b];for(let C=0;C<N.length;C++)U(N[C]);delete d.g[b],d.h--}}this.G=null},We.prototype.J=function(d,b,N,C){return this.i.add(String(d),b,!1,N,C)},We.prototype.K=function(d,b,N,C){return this.i.add(String(d),b,!0,N,C)};function Zt(d,b,N,C){if(b=d.i.g[String(b)],!b)return!0;b=b.concat();let Y=!0;for(let Z=0;Z<b.length;++Z){const ve=b[Z];if(ve&&!ve.da&&ve.capture==N){const Ue=ve.listener,Pt=ve.ha||ve.src;ve.fa&&me(d.i,ve),Y=Ue.call(Pt,C)!==!1&&Y}}return Y&&!C.defaultPrevented}function ct(d,b){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:u.setTimeout(d,b||0)}function or(d){d.g=ct(()=>{d.g=null,d.i&&(d.i=!1,or(d))},d.l);const b=d.h;d.h=null,d.m.apply(null,b)}class ar extends D{constructor(b,N){super(),this.m=b,this.l=N,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:or(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gr(d){D.call(this),this.h=d,this.g={}}x(Gr,D);var Xn=[];function hi(d){ie(d.g,function(b,N){this.g.hasOwnProperty(N)&&pt(b)},d),d.g={}}Gr.prototype.N=function(){Gr.Z.N.call(this),hi(this)},Gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kn=u.JSON.stringify,fi=u.JSON.parse,Dr=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function Tn(){}function Cn(){}var Jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function pi(){M.call(this,"d")}x(pi,M);function mi(){M.call(this,"c")}x(mi,M);var Mr={},gi=null;function un(){return gi=gi||new We}Mr.Ia="serverreachability";function kr(d){M.call(this,Mr.Ia,d)}x(kr,M);function In(d){const b=un();lt(b,new kr(b))}Mr.STAT_EVENT="statevent";function An(d,b){M.call(this,Mr.STAT_EVENT,d),this.stat=b}x(An,M);function mt(d){const b=un();lt(b,new An(b,d))}Mr.Ja="timingevent";function xi(d,b){M.call(this,Mr.Ja,d),this.size=b}x(xi,M);function Oe(d,b){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},b)}function ut(){this.g=!0}ut.prototype.ua=function(){this.g=!1};function Rt(d,b,N,C,Y,Z){d.info(function(){if(d.g)if(Z){var ve="",Ue=Z.split("&");for(let ot=0;ot<Ue.length;ot++){var Pt=Ue[ot].split("=");if(Pt.length>1){const Ft=Pt[0];Pt=Pt[1];const en=Ft.split("_");ve=en.length>=2&&en[1]=="type"?ve+(Ft+"="+Pt+"&"):ve+(Ft+"=redacted&")}}}else ve=null;else ve=Z;return"XMLHTTP REQ ("+C+") [attempt "+Y+"]: "+b+`
`+N+`
`+ve})}function er(d,b,N,C,Y,Z,ve){d.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+Y+"]: "+b+`
`+N+`
`+Z+" "+ve})}function Tr(d,b,N,C){d.info(function(){return"XMLHTTP TEXT ("+b+"): "+Vt(d,N)+(C?" "+C:"")})}function kt(d,b){d.info(function(){return"TIMEOUT: "+b})}ut.prototype.info=function(){};function Vt(d,b){if(!d.g)return b;if(!b)return null;try{const Z=JSON.parse(b);if(Z){for(d=0;d<Z.length;d++)if(Array.isArray(Z[d])){var N=Z[d];if(!(N.length<2)){var C=N[1];if(Array.isArray(C)&&!(C.length<1)){var Y=C[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let ve=1;ve<C.length;ve++)C[ve]=""}}}}return kn(Z)}catch{return b}}var Kr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},$t={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xr;function dn(){}x(dn,Tn),dn.prototype.g=function(){return new XMLHttpRequest},xr=new dn;function tr(d){return encodeURIComponent(String(d))}function fo(d){var b=1;d=d.split(":");const N=[];for(;b>0&&d.length;)N.push(d.shift()),b--;return d.length&&N.push(d.join(":")),N}function hn(d,b,N,C){this.j=d,this.i=b,this.l=N,this.S=C||1,this.V=new Gr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new lu}function lu(){this.i=null,this.g="",this.h=!1}var cu={},Tl={};function Rn(d,b,N){d.M=1,d.A=Os(fn(b)),d.u=N,d.R=!0,Cl(d,null)}function Cl(d,b){d.F=Date.now(),po(d),d.B=fn(d.A);var N=d.B,C=d.S;Array.isArray(C)||(C=[String(C)]),$l(N.i,"t",C),d.C=0,N=d.j.L,d.h=new lu,d.g=yu(d.j,N?b:null,!d.u),d.P>0&&(d.O=new ar(m(d.Y,d,d.g),d.P)),b=d.V,N=d.g,C=d.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(Xn[0]=Y.toString()),Y=Xn);for(let Z=0;Z<Y.length;Z++){const ve=Ae(N,Y[Z],C||b.handleEvent,!1,b.h||b);if(!ve)break;b.g[ve.key]=ve}b=d.J?z(d.J):{},d.u?(d.v||(d.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,b)):(d.v="GET",d.g.ea(d.B,d.v,null,b)),In(),Rt(d.i,d.v,d.B,d.l,d.S,d.u)}hn.prototype.ba=function(d){d=d.target;const b=this.O;b&&is(d)==3?b.j():this.Y(d)},hn.prototype.Y=function(d){try{if(d==this.g)e:{const Ue=is(this.g),Pt=this.g.ya(),ot=this.g.ca();if(!(Ue<3)&&(Ue!=3||this.g&&(this.h.h||this.g.la()||xu(this.g)))){this.K||Ue!=4||Pt==7||(Pt==8||ot<=0?In(3):In(2)),ia(this);var b=this.g.ca();this.X=b;var N=uu(this);if(this.o=b==200,er(this.i,this.v,this.B,this.l,this.S,Ue,b),this.o){if(this.U&&!this.L){t:{if(this.g){var C,Y=this.g;if((C=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(C)){var Z=C;break t}}Z=null}if(d=Z)Tr(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gt(this,d);else{this.o=!1,this.m=3,mt(12),Ms(this),mo(this);break e}}if(this.R){d=!0;let Ft;for(;!this.K&&this.C<N.length;)if(Ft=hu(this,N),Ft==Tl){Ue==4&&(this.m=4,mt(14),d=!1),Tr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ft==cu){this.m=4,mt(15),Tr(this.i,this.l,N,"[Invalid Chunk]"),d=!1;break}else Tr(this.i,this.l,Ft,null),gt(this,Ft);if(du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||N.length!=0||this.h.h||(this.m=1,mt(16),d=!1),this.o=this.o&&d,!d)Tr(this.i,this.l,N,"[Invalid Chunked Response]"),Ms(this),mo(this);else if(N.length>0&&!this.W){this.W=!0;var ve=this.j;ve.g==this&&ve.aa&&!ve.P&&(ve.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),Eo(ve),ve.P=!0,mt(11))}}else Tr(this.i,this.l,N,null),gt(this,N);Ue==4&&Ms(this),this.o&&!this.K&&(Ue==4?ma(this.j,this):(this.o=!1,po(this)))}else Ul(this.g),b==400&&N.indexOf("Unknown SID")>0?(this.m=3,mt(12)):(this.m=0,mt(13)),Ms(this),mo(this)}}}catch{}finally{}};function uu(d){if(!du(d))return d.g.la();const b=xu(d.g);if(b==="")return"";let N="";const C=b.length,Y=is(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Ms(d),mo(d),"";d.h.i=new u.TextDecoder}for(let Z=0;Z<C;Z++)d.h.h=!0,N+=d.h.i.decode(b[Z],{stream:!(Y&&Z==C-1)});return b.length=0,d.h.g+=N,d.C=0,d.h.g}function du(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function hu(d,b){var N=d.C,C=b.indexOf(`
`,N);return C==-1?Tl:(N=Number(b.substring(N,C)),isNaN(N)?cu:(C+=1,C+N>b.length?Tl:(b=b.slice(C,C+N),d.C=C+N,b)))}hn.prototype.cancel=function(){this.K=!0,Ms(this)};function po(d){d.T=Date.now()+d.H,Il(d,d.H)}function Il(d,b){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Oe(m(d.aa,d),b)}function ia(d){d.D&&(u.clearTimeout(d.D),d.D=null)}hn.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(kt(this.i,this.B),this.M!=2&&(In(),mt(17)),Ms(this),this.m=2,mo(this)):Il(this,this.T-d)};function mo(d){d.j.I==0||d.K||ma(d.j,d)}function Ms(d){ia(d);var b=d.O;b&&typeof b.dispose=="function"&&b.dispose(),d.O=null,hi(d.V),d.g&&(b=d.g,d.g=null,b.abort(),b.dispose())}function gt(d,b){try{var N=d.j;if(N.I!=0&&(N.g==d||Rl(N.h,d))){if(!d.L&&Rl(N.h,d)&&N.I==3){try{var C=N.Ba.g.parse(b)}catch{C=null}if(Array.isArray(C)&&C.length==3){var Y=C;if(Y[0]==0){e:if(!N.v){if(N.g)if(N.g.F+3e3<d.F)pa(N),Jr(N);else break e;ls(N),mt(18)}}else N.xa=Y[1],0<N.xa-N.K&&Y[2]<37500&&N.F&&N.A==0&&!N.C&&(N.C=Oe(m(N.Va,N),6e3));go(N.h)<=1&&N.ta&&(N.ta=void 0)}else Zr(N,11)}else if((d.L||N.g==d)&&pa(N),!A(b))for(Y=N.Ba.g.parse(b),b=0;b<Y.length;b++){let ot=Y[b];const Ft=ot[0];if(!(Ft<=N.K))if(N.K=Ft,ot=ot[1],N.I==2)if(ot[0]=="c"){N.M=ot[1],N.ba=ot[2];const en=ot[3];en!=null&&(N.ka=en,N.j.info("VER="+N.ka));const Us=ot[4];Us!=null&&(N.za=Us,N.j.info("SVER="+N.za));const cs=ot[5];cs!=null&&typeof cs=="number"&&cs>0&&(C=1.5*cs,N.O=C,N.j.info("backChannelRequestTimeoutMs_="+C)),C=N;const us=d.g;if(us){const va=us.g?us.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(va){var Z=C.h;Z.g||va.indexOf("spdy")==-1&&va.indexOf("quic")==-1&&va.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(aa(Z,Z.h),Z.h=null))}if(C.G){const Hl=us.g?us.g.getResponseHeader("X-HTTP-Session-Id"):null;Hl&&(C.wa=Hl,rt(C.J,C.G,Hl))}}N.I=3,N.l&&N.l.ra(),N.aa&&(N.T=Date.now()-d.F,N.j.info("Handshake RTT: "+N.T+"ms")),C=N;var ve=d;if(C.na=zl(C,C.L?C.ba:null,C.W),ve.L){xo(C.h,ve);var Ue=ve,Pt=C.O;Pt&&(Ue.H=Pt),Ue.D&&(ia(Ue),po(Ue)),C.g=ve}else vr(C);N.i.length>0&&Fs(N)}else ot[0]!="stop"&&ot[0]!="close"||Zr(N,7);else N.I==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?Zr(N,7):ha(N):ot[0]!="noop"&&N.l&&N.l.qa(ot),N.A=0)}}In(4)}catch{}}var uf=class{constructor(d,b){this.g=d,this.map=b}};function oa(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Al(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function go(d){return d.h?1:d.g?d.g.size:0}function Rl(d,b){return d.h?d.h==b:d.g?d.g.has(b):!1}function aa(d,b){d.g?d.g.add(b):d.h=b}function xo(d,b){d.h&&d.h==b?d.h=null:d.g&&d.g.has(b)&&d.g.delete(b)}oa.prototype.cancel=function(){if(this.i=Yr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Yr(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let b=d.i;for(const N of d.g.values())b=b.concat(N.G);return b}return k(d.i)}var fu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qr(d,b){if(d){d=d.split("&");for(let N=0;N<d.length;N++){const C=d[N].indexOf("=");let Y,Z=null;C>=0?(Y=d[N].substring(0,C),Z=d[N].substring(C+1)):Y=d[N],b(Y,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function Zn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;d instanceof Zn?(this.l=d.l,vo(this,d.j),this.o=d.o,this.g=d.g,es(this,d.u),this.h=d.h,vi(this,Fl(d.i)),this.m=d.m):d&&(b=String(d).match(fu))?(this.l=!1,vo(this,b[1]||"",!0),this.o=yo(b[2]||""),this.g=yo(b[3]||"",!0),es(this,b[4]),this.h=yo(b[5]||"",!0),vi(this,b[6]||"",!0),this.m=yo(b[7]||"")):(this.l=!1,this.i=new Je(null,this.l))}Zn.prototype.toString=function(){const d=[];var b=this.j;b&&d.push(bo(b,Dl,!0),":");var N=this.g;return(N||b=="file")&&(d.push("//"),(b=this.o)&&d.push(bo(b,Dl,!0),"@"),d.push(tr(N).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.u,N!=null&&d.push(":",String(N))),(N=this.h)&&(this.g&&N.charAt(0)!="/"&&d.push("/"),d.push(bo(N,N.charAt(0)=="/"?wo:Ml,!0))),(N=this.i.toString())&&d.push("?",N),(N=this.m)&&d.push("#",bo(N,Ol)),d.join("")},Zn.prototype.resolve=function(d){const b=fn(this);let N=!!d.j;N?vo(b,d.j):N=!!d.o,N?b.o=d.o:N=!!d.g,N?b.g=d.g:N=d.u!=null;var C=d.h;if(N)es(b,d.u);else if(N=!!d.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var Y=b.h.lastIndexOf("/");Y!=-1&&(C=b.h.slice(0,Y+1)+C)}if(Y=C,Y==".."||Y==".")C="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){C=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const Z=[];for(let ve=0;ve<Y.length;){const Ue=Y[ve++];Ue=="."?C&&ve==Y.length&&Z.push(""):Ue==".."?((Z.length>1||Z.length==1&&Z[0]!="")&&Z.pop(),C&&ve==Y.length&&Z.push("")):(Z.push(Ue),C=!0)}C=Z.join("/")}else C=Y}return N?b.h=C:N=d.i.toString()!=="",N?vi(b,Fl(d.i)):N=!!d.m,N&&(b.m=d.m),b};function fn(d){return new Zn(d)}function vo(d,b,N){d.j=N?yo(b,!0):b,d.j&&(d.j=d.j.replace(/:$/,""))}function es(d,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);d.u=b}else d.u=null}function vi(d,b,N){b instanceof Je?(d.i=b,ca(d.i,d.l)):(N||(b=bo(b,df)),d.i=new Je(b,d.l))}function rt(d,b,N){d.i.set(b,N)}function Os(d){return rt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function yo(d,b){return d?b?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function bo(d,b,N){return typeof d=="string"?(d=encodeURI(d).replace(b,Pl),N&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Pl(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Dl=/[#\/\?@]/g,Ml=/[#\?:]/g,wo=/[#\?]/g,df=/[#\?@]/g,Ol=/#/g;function Je(d,b){this.h=this.g=null,this.i=d||null,this.j=!!b}function ts(d){d.g||(d.g=new Map,d.h=0,d.i&&Qr(d.i,function(b,N){d.add(decodeURIComponent(b.replace(/\+/g," ")),N)}))}r=Je.prototype,r.add=function(d,b){ts(this),this.i=null,d=rs(this,d);let N=this.g.get(d);return N||this.g.set(d,N=[]),N.push(b),this.h+=1,this};function Ll(d,b){ts(d),b=rs(d,b),d.g.has(b)&&(d.i=null,d.h-=d.g.get(b).length,d.g.delete(b))}function la(d,b){return ts(d),b=rs(d,b),d.g.has(b)}r.forEach=function(d,b){ts(this),this.g.forEach(function(N,C){N.forEach(function(Y){d.call(b,Y,C,this)},this)},this)};function Vl(d,b){ts(d);let N=[];if(typeof b=="string")la(d,b)&&(N=N.concat(d.g.get(rs(d,b))));else for(d=Array.from(d.g.values()),b=0;b<d.length;b++)N=N.concat(d[b]);return N}r.set=function(d,b){return ts(this),this.i=null,d=rs(this,d),la(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[b]),this.h+=1,this},r.get=function(d,b){return d?(d=Vl(this,d),d.length>0?String(d[0]):b):b};function $l(d,b,N){Ll(d,b),N.length>0&&(d.i=null,d.g.set(rs(d,b),k(N)),d.h+=N.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],b=Array.from(this.g.keys());for(let C=0;C<b.length;C++){var N=b[C];const Y=tr(N);N=Vl(this,N);for(let Z=0;Z<N.length;Z++){let ve=Y;N[Z]!==""&&(ve+="="+tr(N[Z])),d.push(ve)}}return this.i=d.join("&")};function Fl(d){const b=new Je;return b.i=d.i,d.g&&(b.g=new Map(d.g),b.h=d.h),b}function rs(d,b){return b=String(b),d.j&&(b=b.toLowerCase()),b}function ca(d,b){b&&!d.j&&(ts(d),d.i=null,d.g.forEach(function(N,C){const Y=C.toLowerCase();C!=Y&&(Ll(this,C),$l(this,Y,N))},d)),d.j=b}function ns(d,b){const N=new ut;if(u.Image){const C=new Image;C.onload=v(lr,N,"TestLoadImage: loaded",!0,b,C),C.onerror=v(lr,N,"TestLoadImage: error",!1,b,C),C.onabort=v(lr,N,"TestLoadImage: abort",!1,b,C),C.ontimeout=v(lr,N,"TestLoadImage: timeout",!1,b,C),u.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=d}else b(!1)}function ss(d,b){const N=new ut,C=new AbortController,Y=setTimeout(()=>{C.abort(),lr(N,"TestPingServer: timeout",!1,b)},1e4);fetch(d,{signal:C.signal}).then(Z=>{clearTimeout(Y),Z.ok?lr(N,"TestPingServer: ok",!0,b):lr(N,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Y),lr(N,"TestPingServer: error",!1,b)})}function lr(d,b,N,C,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),C(N)}catch{}}function _o(){this.g=new Dr}function Ls(d){this.i=d.Sb||null,this.h=d.ab||!1}x(Ls,Tn),Ls.prototype.g=function(){return new Xr(this.i,this.h)};function Xr(d,b){We.call(this),this.H=d,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(Xr,We),r=Xr.prototype,r.open=function(d,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=b,this.readyState=1,Pn(this)},r.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(b.body=d),(this.H||u).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,yi(this)),this.readyState=0},r.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Pn(this)),this.g&&(this.readyState=3,Pn(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;pu(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function pu(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}r.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var b=d.value?d.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!d.done}))&&(this.response=this.responseText+=b)}d.done?yi(this):Pn(this),this.readyState==3&&pu(this)}},r.Oa=function(d){this.g&&(this.response=this.responseText=d,yi(this))},r.Na=function(d){this.g&&(this.response=d,yi(this))},r.ga=function(){this.g&&yi(this)};function yi(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Pn(d)}r.setRequestHeader=function(d,b){this.A.append(d,b)},r.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],b=this.h.entries();for(var N=b.next();!N.done;)N=N.value,d.push(N[0]+": "+N[1]),N=b.next();return d.join(`\r
`)};function Pn(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Xr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function mu(d){let b="";return ie(d,function(N,C){b+=C,b+=":",b+=N,b+=`\r
`}),b}function ua(d,b,N){e:{for(C in N){var C=!1;break e}C=!0}C||(N=mu(N),typeof d=="string"?N!=null&&tr(N):rt(d,b,N))}function dt(d){We.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(dt,We);var gu=/^https?$/i,hf=["POST","PUT"];r=dt.prototype,r.Fa=function(d){this.H=d},r.ea=function(d,b,N,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);b=b?b.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xr.g(),this.g.onreadystatechange=w(m(this.Ca,this));try{this.B=!0,this.g.open(b,String(d),!0),this.B=!1}catch(Z){bi(this,Z);return}if(d=N||"",N=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var Y in C)N.set(Y,C[Y]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const Z of C.keys())N.set(Z,C.get(Z));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(N.keys()).find(Z=>Z.toLowerCase()=="content-type"),Y=u.FormData&&d instanceof u.FormData,!(Array.prototype.indexOf.call(hf,b,void 0)>=0)||C||Y||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ve]of N)this.g.setRequestHeader(Z,ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(Z){bi(this,Z)}};function bi(d,b){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=b,d.o=5,wi(d),$s(d)}function wi(d){d.A||(d.A=!0,lt(d,"complete"),lt(d,"error"))}r.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,lt(this,"complete"),lt(this,"abort"),$s(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$s(this,!0)),dt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Vs(this):this.Xa())},r.Xa=function(){Vs(this)};function Vs(d){if(d.h&&typeof l<"u"){if(d.v&&is(d)==4)setTimeout(d.Ca.bind(d),0);else if(lt(d,"readystatechange"),is(d)==4){d.h=!1;try{const Z=d.ca();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var N;if(!(N=b)){var C;if(C=Z===0){let ve=String(d.D).match(fu)[1]||null;!ve&&u.self&&u.self.location&&(ve=u.self.location.protocol.slice(0,-1)),C=!gu.test(ve?ve.toLowerCase():"")}N=C}if(N)lt(d,"complete"),lt(d,"success");else{d.o=6;try{var Y=is(d)>2?d.g.statusText:""}catch{Y=""}d.l=Y+" ["+d.ca()+"]",wi(d)}}finally{$s(d)}}}}function $s(d,b){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const N=d.g;d.g=null,b||lt(d,"ready");try{N.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function is(d){return d.g?d.g.readyState:0}r.ca=function(){try{return is(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(d){if(this.g){var b=this.g.responseText;return d&&b.indexOf(d)==0&&(b=b.substring(d.length)),fi(b)}};function xu(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Ul(d){const b={};d=(d.g&&is(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<d.length;C++){if(A(d[C]))continue;var N=fo(d[C]);const Y=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const Z=b[Y]||[];b[Y]=Z,Z.push(N)}se(b,function(C){return C.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function os(d,b,N){return N&&N.internalChannelParams&&N.internalChannelParams[d]||b}function da(d){this.za=0,this.i=[],this.j=new ut,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=os("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=os("baseRetryDelayMs",5e3,d),this.Za=os("retryDelaySeedMs",1e4,d),this.Ta=os("forwardChannelMaxRetries",2,d),this.va=os("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new oa(d&&d.concurrentRequestLimit),this.Ba=new _o,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=da.prototype,r.ka=8,r.I=1,r.connect=function(d,b,N,C){mt(0),this.W=d,this.H=b||{},N&&C!==void 0&&(this.H.OSID=N,this.H.OAID=C),this.F=this.X,this.J=zl(this,null,this.W),Fs(this)};function ha(d){if(fa(d),d.I==3){var b=d.V++,N=fn(d.J);if(rt(N,"SID",d.M),rt(N,"RID",b),rt(N,"TYPE","terminate"),as(d,N),b=new hn(d,d.j,b),b.M=2,b.A=Os(fn(N)),N=!1,u.navigator&&u.navigator.sendBeacon)try{N=u.navigator.sendBeacon(b.A.toString(),"")}catch{}!N&&u.Image&&(new Image().src=b.A,N=!0),N||(b.g=yu(b.j,null),b.g.ea(b.A)),b.F=Date.now(),po(b)}jo(d)}function Jr(d){d.g&&(Eo(d),d.g.cancel(),d.g=null)}function fa(d){Jr(d),d.v&&(u.clearTimeout(d.v),d.v=null),pa(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&u.clearTimeout(d.m),d.m=null)}function Fs(d){if(!Al(d.h)&&!d.m){d.m=!0;var b=d.Ea;W||S(),X||(W(),X=!0),I.add(b,d),d.D=0}}function vu(d,b){return go(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=b.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Oe(m(d.Ea,d,b),ga(d,d.D)),d.D++,!0)}r.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const Y=new hn(this,this.j,d);let Z=this.o;if(this.U&&(Z?(Z=z(Z),re(Z,this.U)):Z=this.U),this.u!==null||this.R||(Y.J=Z,Z=null),this.S)e:{for(var b=0,N=0;N<this.i.length;N++){t:{var C=this.i[N];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(b+=C,b>4096){b=N;break e}if(b===4096||N===this.i.length-1){b=N+1;break e}}b=1e3}else b=1e3;b=Bl(this,Y,b),N=fn(this.J),rt(N,"RID",d),rt(N,"CVER",22),this.G&&rt(N,"X-HTTP-Session-Id",this.G),as(this,N),Z&&(this.R?b="headers="+tr(mu(Z))+"&"+b:this.u&&ua(N,this.u,Z)),aa(this.h,Y),this.Ra&&rt(N,"TYPE","init"),this.S?(rt(N,"$req",b),rt(N,"SID","null"),Y.U=!0,Rn(Y,N,null)):Rn(Y,N,b),this.I=2}}else this.I==3&&(d?No(this,d):this.i.length==0||Al(this.h)||No(this))};function No(d,b){var N;b?N=b.l:N=d.V++;const C=fn(d.J);rt(C,"SID",d.M),rt(C,"RID",N),rt(C,"AID",d.K),as(d,C),d.u&&d.o&&ua(C,d.u,d.o),N=new hn(d,d.j,N,d.D+1),d.u===null&&(N.J=d.o),b&&(d.i=b.G.concat(d.i)),b=Bl(d,N,1e3),N.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),aa(d.h,N),Rn(N,C,b)}function as(d,b){d.H&&ie(d.H,function(N,C){rt(b,C,N)}),d.l&&ie({},function(N,C){rt(b,C,N)})}function Bl(d,b,N){N=Math.min(d.i.length,N);const C=d.l?m(d.l.Ka,d.l,d):null;e:{var Y=d.i;let Ue=-1;for(;;){const Pt=["count="+N];Ue==-1?N>0?(Ue=Y[0].g,Pt.push("ofs="+Ue)):Ue=0:Pt.push("ofs="+Ue);let ot=!0;for(let Ft=0;Ft<N;Ft++){var Z=Y[Ft].g;const en=Y[Ft].map;if(Z-=Ue,Z<0)Ue=Math.max(0,Y[Ft].g-100),ot=!1;else try{Z="req"+Z+"_"||"";try{var ve=en instanceof Map?en:Object.entries(en);for(const[Us,cs]of ve){let us=cs;h(cs)&&(us=kn(cs)),Pt.push(Z+Us+"="+encodeURIComponent(us))}}catch(Us){throw Pt.push(Z+"type="+encodeURIComponent("_badmap")),Us}}catch{C&&C(en)}}if(ot){ve=Pt.join("&");break e}}ve=void 0}return d=d.i.splice(0,N),b.G=d,ve}function vr(d){if(!d.g&&!d.v){d.Y=1;var b=d.Da;W||S(),X||(W(),X=!0),I.add(b,d),d.A=0}}function ls(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Oe(m(d.Da,d),ga(d,d.A)),d.A++,!0)}r.Da=function(){if(this.v=null,_i(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Oe(m(this.Wa,this),d)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,mt(10),Jr(this),_i(this))};function Eo(d){d.B!=null&&(u.clearTimeout(d.B),d.B=null)}function _i(d){d.g=new hn(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var b=fn(d.na);rt(b,"RID","rpc"),rt(b,"SID",d.M),rt(b,"AID",d.K),rt(b,"CI",d.F?"0":"1"),!d.F&&d.ia&&rt(b,"TO",d.ia),rt(b,"TYPE","xmlhttp"),as(d,b),d.u&&d.o&&ua(b,d.u,d.o),d.O&&(d.g.H=d.O);var N=d.g;d=d.ba,N.M=1,N.A=Os(fn(b)),N.u=null,N.R=!0,Cl(N,d)}r.Va=function(){this.C!=null&&(this.C=null,Jr(this),ls(this),mt(19))};function pa(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function ma(d,b){var N=null;if(d.g==b){pa(d),Eo(d),d.g=null;var C=2}else if(Rl(d.h,b))N=b.G,xo(d.h,b),C=1;else return;if(d.I!=0){if(b.o)if(C==1){N=b.u?b.u.length:0,b=Date.now()-b.F;var Y=d.D;C=un(),lt(C,new xi(C,N)),Fs(d)}else vr(d);else if(Y=b.m,Y==3||Y==0&&b.X>0||!(C==1&&vu(d,b)||C==2&&ls(d)))switch(N&&N.length>0&&(b=d.h,b.i=b.i.concat(N)),Y){case 1:Zr(d,5);break;case 4:Zr(d,10);break;case 3:Zr(d,6);break;default:Zr(d,2)}}}function ga(d,b){let N=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(N*=2),N*b}function Zr(d,b){if(d.j.info("Error code "+b),b==2){var N=m(d.bb,d),C=d.Ua;const Y=!C;C=new Zn(C||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||vo(C,"https"),Os(C),Y?ns(C.toString(),N):ss(C.toString(),N)}else mt(2);d.I=0,d.l&&d.l.pa(b),jo(d),fa(d)}r.bb=function(d){d?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function jo(d){if(d.I=0,d.ja=[],d.l){const b=Yr(d.h);(b.length!=0||d.i.length!=0)&&(R(d.ja,b),R(d.ja,d.i),d.h.i.length=0,k(d.i),d.i.length=0),d.l.oa()}}function zl(d,b,N){var C=N instanceof Zn?fn(N):new Zn(N);if(C.g!="")b&&(C.g=b+"."+C.g),es(C,C.u);else{var Y=u.location;C=Y.protocol,b=b?b+"."+Y.hostname:Y.hostname,Y=+Y.port;const Z=new Zn(null);C&&vo(Z,C),b&&(Z.g=b),Y&&es(Z,Y),N&&(Z.h=N),C=Z}return N=d.G,b=d.wa,N&&b&&rt(C,N,b),rt(C,"VER",d.ka),as(d,C),C}function yu(d,b,N){if(b&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=d.Aa&&!d.ma?new dt(new Ls({ab:N})):new dt(d.ma),b.Fa(d.L),b}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function bu(){}r=bu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function xa(){}xa.prototype.g=function(d,b){return new cr(d,b)};function cr(d,b){We.call(this),this.g=new da(b),this.l=d,this.h=b&&b.messageUrlParams||null,d=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(d?d["X-WebChannel-Content-Type"]=b.messageContentType:d={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(d?d["X-WebChannel-Client-Profile"]=b.sa:d={"X-WebChannel-Client-Profile":b.sa}),this.g.U=d,(d=b&&b.Qb)&&!A(d)&&(this.g.u=d),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!A(b)&&(this.g.G=b,d=this.h,d!==null&&b in d&&(d=this.h,b in d&&delete d[b])),this.j=new Ni(this)}x(cr,We),cr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cr.prototype.close=function(){ha(this.g)},cr.prototype.o=function(d){var b=this.g;if(typeof d=="string"){var N={};N.__data__=d,d=N}else this.v&&(N={},N.__data__=kn(d),d=N);b.i.push(new uf(b.Ya++,d)),b.I==3&&Fs(b)},cr.prototype.N=function(){this.g.l=null,delete this.j,ha(this.g),delete this.g,cr.Z.N.call(this)};function wu(d){pi.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var b=d.__sm__;if(b){e:{for(const N in b){d=N;break e}d=void 0}(this.i=d)&&(d=this.i,b=b!==null&&d in b?b[d]:void 0),this.data=b}else this.data=d}x(wu,pi);function _u(){mi.call(this),this.status=1}x(_u,mi);function Ni(d){this.g=d}x(Ni,bu),Ni.prototype.ra=function(){lt(this.g,"a")},Ni.prototype.qa=function(d){lt(this.g,new wu(d))},Ni.prototype.pa=function(d){lt(this.g,new _u)},Ni.prototype.oa=function(){lt(this.g,"b")},xa.prototype.createWebChannel=xa.prototype.g,cr.prototype.send=cr.prototype.o,cr.prototype.open=cr.prototype.m,cr.prototype.close=cr.prototype.close,t1=function(){return new xa},e1=function(){return un()},Z2=Mr,jm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Kr.NO_ERROR=0,Kr.TIMEOUT=8,Kr.HTTP_ERROR=6,Fd=Kr,$t.COMPLETE="complete",J2=$t,Cn.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",We.prototype.listen=We.prototype.J,bc=Cn,dt.prototype.listenOnce=dt.prototype.K,dt.prototype.getLastError=dt.prototype.Ha,dt.prototype.getLastErrorCode=dt.prototype.ya,dt.prototype.getStatus=dt.prototype.ca,dt.prototype.getResponseJson=dt.prototype.La,dt.prototype.getResponseText=dt.prototype.la,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Fa,X2=dt}).apply(typeof yd<"u"?yd:typeof self<"u"?self:typeof window<"u"?window:{});const Iy="@firebase/firestore",Ay="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Er.UNAUTHENTICATED=new Er(null),Er.GOOGLE_CREDENTIALS=new Er("google-credentials-uid"),Er.FIRST_PARTY=new Er("first-party-uid"),Er.MOCK_USER=new Er("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=new hg("@firebase/firestore");function za(){return Ko.logLevel}function Ne(r,...e){if(Ko.logLevel<=Ye.DEBUG){const t=e.map(Ng);Ko.debug(`Firestore (${gl}): ${r}`,...t)}}function oi(r,...e){if(Ko.logLevel<=Ye.ERROR){const t=e.map(Ng);Ko.error(`Firestore (${gl}): ${r}`,...t)}}function il(r,...e){if(Ko.logLevel<=Ye.WARN){const t=e.map(Ng);Ko.warn(`Firestore (${gl}): ${r}`,...t)}}function Ng(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(r,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,r1(r,n,t)}function r1(r,e,t){let n=`FIRESTORE (${gl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw oi(n),new Error(n)}function it(r,e,t,n){let o="Unexpected state";typeof t=="string"?o=t:n=t,r||r1(e,o,n)}function Be(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends Rs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class A5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Er.UNAUTHENTICATED)))}shutdown(){}}class R5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class P5{constructor(e){this.t=e,this.currentUser=Er.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){it(this.o===void 0,42304);let n=this.i;const o=p=>this.i!==n?(n=this.i,t(p)):Promise.resolve();let l=new ti;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ti,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},h=p=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>h(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ti)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((n=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(it(typeof n.accessToken=="string",31837,{l:n}),new n1(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new Er(e)}}class D5{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Er.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class M5{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new D5(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Er.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ry{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class O5{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,on(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){it(this.o===void 0,3512);const n=l=>{l.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,Ne("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>n(l)))};const o=l=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Ry(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(it(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Ry(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const o=L5(40);for(let l=0;l<o.length;++l)n.length<20&&o[l]<t&&(n+=e.charAt(o[l]%62))}return n}}function Qe(r,e){return r<e?-1:r>e?1:0}function Sm(r,e){const t=Math.min(r.length,e.length);for(let n=0;n<t;n++){const o=r.charAt(n),l=e.charAt(n);if(o!==l)return Yp(o)===Yp(l)?Qe(o,l):Yp(o)?1:-1}return Qe(r.length,e.length)}const V5=55296,$5=57343;function Yp(r){const e=r.charCodeAt(0);return e>=V5&&e<=$5}function ol(r,e,t){return r.length===e.length&&r.every(((n,o)=>t(n,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="__name__";class gs{constructor(e,t,n){t===void 0?t=0:t>e.length&&Ve(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&Ve(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return gs.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof gs?e.forEach((n=>{t.push(n)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let o=0;o<n;o++){const l=gs.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Qe(e.length,t.length)}static compareSegments(e,t){const n=gs.isNumericId(e),o=gs.isNumericId(t);return n&&!o?-1:!n&&o?1:n&&o?gs.extractNumericId(e).compare(gs.extractNumericId(t)):Sm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ki.fromString(e.substring(4,e.length-2))}}class ft extends gs{construct(e,t,n){return new ft(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new be(ae.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((o=>o.length>0)))}return new ft(t)}static emptyPath(){return new ft([])}}const F5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fr extends gs{construct(e,t,n){return new fr(e,t,n)}static isValidIdentifier(e){return F5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Py}static keyField(){return new fr([Py])}static fromServerFormat(e){const t=[];let n="",o=0;const l=()=>{if(n.length===0)throw new be(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let u=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new be(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new be(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=p,o+=2}else h==="`"?(u=!u,o++):h!=="."||u?(n+=h,o++):(l(),o++)}if(l(),u)throw new be(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fr(t)}static emptyPath(){return new fr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(ft.fromString(e))}static fromName(e){return new Re(ft.fromString(e).popFirst(5))}static empty(){return new Re(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ft.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new ft(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(r,e,t){if(!t)throw new be(ae.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function U5(r,e,t,n){if(e===!0&&n===!0)throw new be(ae.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Dy(r){if(!Re.isDocumentKey(r))throw new be(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function My(r){if(Re.isDocumentKey(r))throw new be(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function i1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Ah(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ve(12329,{type:typeof r})}function qr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new be(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ah(r);throw new be(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(r,e){const t={typeString:r};return e&&(t.value=e),t}function Zc(r,e){if(!i1(r))throw new be(ae.INVALID_ARGUMENT,"JSON must be an object");let t;for(const n in e)if(e[n]){const o=e[n].typeString,l="value"in e[n]?{value:e[n].value}:void 0;if(!(n in r)){t=`JSON missing required field: '${n}'`;break}const u=r[n];if(o&&typeof u!==o){t=`JSON field '${n}' must be a ${o}.`;break}if(l!==void 0&&u!==l.value){t=`Expected '${n}' field to equal '${l.value}'`;break}}if(t)throw new be(ae.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy=-62135596800,Ly=1e6;class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Ly);return new yt(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new be(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new be(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Oy)throw new be(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ly}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Zc(e,yt._jsonSchema))return new yt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Oy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yt._jsonSchemaVersion="firestore/timestamp/1.0",yt._jsonSchema={type:Ht("string",yt._jsonSchemaVersion),seconds:Ht("number"),nanoseconds:Ht("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new yt(0,0))}static max(){return new Fe(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc=-1;function B5(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,o=Fe.fromTimestamp(n===1e9?new yt(t+1,0):new yt(t,n));return new Ji(o,Re.empty(),e)}function z5(r){return new Ji(r.readTime,r.key,Pc)}class Ji{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ji(Fe.min(),Re.empty(),Pc)}static max(){return new Ji(Fe.max(),Re.empty(),Pc)}}function H5(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Re.comparator(r.documentKey,e.documentKey),t!==0?t:Qe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class q5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(r){if(r.code!==ae.FAILED_PRECONDITION||r.message!==W5)throw r;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue(((n,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(n,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(n,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ue.reject(t)}static resolve(e){return new ue(((t,n)=>{t(e)}))}static reject(e){return new ue(((t,n)=>{n(e)}))}static waitFor(e){return new ue(((t,n)=>{let o=0,l=0,u=!1;e.forEach((h=>{++o,h.next((()=>{++l,u&&l===o&&t()}),(p=>n(p)))})),u=!0,l===o&&t()}))}static or(e){let t=ue.resolve(!1);for(const n of e)t=t.next((o=>o?ue.resolve(o):n()));return t}static forEach(e,t){const n=[];return e.forEach(((o,l)=>{n.push(t.call(this,o,l))})),this.waitFor(n)}static mapArray(e,t){return new ue(((n,o)=>{const l=e.length,u=new Array(l);let h=0;for(let p=0;p<l;p++){const m=p;t(e[m]).next((v=>{u[m]=v,++h,h===l&&n(u)}),(v=>o(v)))}}))}static doWhile(e,t){return new ue(((n,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):n()};l()}))}}function G5(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function vl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>t.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Rh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg=-1;function Ph(r){return r==null}function oh(r){return r===0&&1/r==-1/0}function K5(r){return typeof r=="number"&&Number.isInteger(r)&&!oh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="";function Y5(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Vy(e)),e=Q5(r.get(t),e);return Vy(e)}function Q5(r,e){let t=e;const n=r.length;for(let o=0;o<n;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case o1:t+="";break;default:t+=l}}return t}function Vy(r){return r+o1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ao(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function a1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,t){this.comparator=e,this.root=t||hr.EMPTY}insert(e,t){return new jt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,hr.BLACK,null,null))}remove(e){return new jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(o===0)return t+n.left.size;o<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bd(this.root,e,this.comparator,!1)}getReverseIterator(){return new bd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bd(this.root,e,this.comparator,!0)}}class bd{constructor(e,t,n,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?n(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hr{constructor(e,t,n,o,l){this.key=e,this.value=t,this.color=n??hr.RED,this.left=o??hr.EMPTY,this.right=l??hr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,o,l){return new hr(e??this.key,t??this.value,n??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let o=this;const l=n(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,n),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,n)),o.fixUp()}removeMin(){if(this.left.isEmpty())return hr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return hr.EMPTY;n=o.right.min(),o=o.copy(n.key,n.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ve(27949);return e+(this.isRed()?0:1)}}hr.EMPTY=null,hr.RED=!0,hr.BLACK=!1;hr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve(57766)}get value(){throw Ve(16141)}get color(){throw Ve(16727)}get left(){throw Ve(29726)}get right(){throw Ve(36894)}copy(e,t,n,o,l){return this}insert(e,t,n){return new hr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.comparator=e,this.data=new jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const o=n.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Fy(this.data.getIterator())}getIteratorFrom(e){return new Fy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((n=>{t=t.add(n)})),t}isEqual(e){if(!(e instanceof Yt)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=n.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Yt(this.comparator);return t.data=e,t}}class Fy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.fields=e,e.sort(fr.comparator)}static empty(){return new an([])}unionWith(e){let t=new Yt(fr.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new an(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ol(this.fields,e.fields,((t,n)=>t.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new l1("Invalid base64 string: "+l):l}})(e);return new mr(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);return l})(e);return new mr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const n=new Uint8Array(t.length);for(let o=0;o<t.length;o++)n[o]=t.charCodeAt(o);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mr.EMPTY_BYTE_STRING=new mr("");const X5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zi(r){if(it(!!r,39018),typeof r=="string"){let e=0;const t=X5.exec(r);if(it(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Mt(r.seconds),nanos:Mt(r.nanos)}}function Mt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function eo(r){return typeof r=="string"?mr.fromBase64String(r):mr.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="server_timestamp",u1="__type__",d1="__previous_value__",h1="__local_write_time__";function Sg(r){return(r?.mapValue?.fields||{})[u1]?.stringValue===c1}function Dh(r){const e=r.mapValue.fields[d1];return Sg(e)?Dh(e):e}function Dc(r){const e=Zi(r.mapValue.fields[h1].timestampValue);return new yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{constructor(e,t,n,o,l,u,h,p,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=o,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=v}}const ah="(default)";class Mc{constructor(e,t){this.projectId=e,this.database=t||ah}static empty(){return new Mc("","")}get isDefaultDatabase(){return this.database===ah}isEqual(e){return e instanceof Mc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="__type__",Z5="__max__",wd={mapValue:{}},p1="__vector__",lh="value";function to(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Sg(r)?4:tA(r)?9007199254740991:eA(r)?10:11:Ve(28295,{value:r})}function Ts(r,e){if(r===e)return!0;const t=to(r);if(t!==to(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Dc(r).isEqual(Dc(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const u=Zi(o.timestampValue),h=Zi(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,l){return eo(o.bytesValue).isEqual(eo(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,l){return Mt(o.geoPointValue.latitude)===Mt(l.geoPointValue.latitude)&&Mt(o.geoPointValue.longitude)===Mt(l.geoPointValue.longitude)})(r,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return Mt(o.integerValue)===Mt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const u=Mt(o.doubleValue),h=Mt(l.doubleValue);return u===h?oh(u)===oh(h):isNaN(u)&&isNaN(h)}return!1})(r,e);case 9:return ol(r.arrayValue.values||[],e.arrayValue.values||[],Ts);case 10:case 11:return(function(o,l){const u=o.mapValue.fields||{},h=l.mapValue.fields||{};if($y(u)!==$y(h))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(h[p]===void 0||!Ts(u[p],h[p])))return!1;return!0})(r,e);default:return Ve(52216,{left:r})}}function Oc(r,e){return(r.values||[]).find((t=>Ts(t,e)))!==void 0}function al(r,e){if(r===e)return 0;const t=to(r),n=to(e);if(t!==n)return Qe(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qe(r.booleanValue,e.booleanValue);case 2:return(function(l,u){const h=Mt(l.integerValue||l.doubleValue),p=Mt(u.integerValue||u.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1})(r,e);case 3:return Uy(r.timestampValue,e.timestampValue);case 4:return Uy(Dc(r),Dc(e));case 5:return Sm(r.stringValue,e.stringValue);case 6:return(function(l,u){const h=eo(l),p=eo(u);return h.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(l,u){const h=l.split("/"),p=u.split("/");for(let m=0;m<h.length&&m<p.length;m++){const v=Qe(h[m],p[m]);if(v!==0)return v}return Qe(h.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,u){const h=Qe(Mt(l.latitude),Mt(u.latitude));return h!==0?h:Qe(Mt(l.longitude),Mt(u.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return By(r.arrayValue,e.arrayValue);case 10:return(function(l,u){const h=l.fields||{},p=u.fields||{},m=h[lh]?.arrayValue,v=p[lh]?.arrayValue,x=Qe(m?.values?.length||0,v?.values?.length||0);return x!==0?x:By(m,v)})(r.mapValue,e.mapValue);case 11:return(function(l,u){if(l===wd.mapValue&&u===wd.mapValue)return 0;if(l===wd.mapValue)return 1;if(u===wd.mapValue)return-1;const h=l.fields||{},p=Object.keys(h),m=u.fields||{},v=Object.keys(m);p.sort(),v.sort();for(let x=0;x<p.length&&x<v.length;++x){const w=Sm(p[x],v[x]);if(w!==0)return w;const k=al(h[p[x]],m[v[x]]);if(k!==0)return k}return Qe(p.length,v.length)})(r.mapValue,e.mapValue);default:throw Ve(23264,{he:t})}}function Uy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Qe(r,e);const t=Zi(r),n=Zi(e),o=Qe(t.seconds,n.seconds);return o!==0?o:Qe(t.nanos,n.nanos)}function By(r,e){const t=r.values||[],n=e.values||[];for(let o=0;o<t.length&&o<n.length;++o){const l=al(t[o],n[o]);if(l)return l}return Qe(t.length,n.length)}function ll(r){return km(r)}function km(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const n=Zi(t);return`time(${n.seconds},${n.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return eo(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return Re.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let n="[",o=!0;for(const l of t.values||[])o?o=!1:n+=",",n+=km(l);return n+"]"})(r.arrayValue):"mapValue"in r?(function(t){const n=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const u of n)l?l=!1:o+=",",o+=`${u}:${km(t.fields[u])}`;return o+"}"})(r.mapValue):Ve(61005,{value:r})}function Ud(r){switch(to(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dh(r);return e?16+Ud(e):16;case 5:return 2*r.stringValue.length;case 6:return eo(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((o,l)=>o+Ud(l)),0)})(r.arrayValue);case 10:case 11:return(function(n){let o=0;return ao(n.fields,((l,u)=>{o+=l.length+Ud(u)})),o})(r.mapValue);default:throw Ve(13486,{value:r})}}function zy(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Tm(r){return!!r&&"integerValue"in r}function kg(r){return!!r&&"arrayValue"in r}function Hy(r){return!!r&&"nullValue"in r}function Wy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Bd(r){return!!r&&"mapValue"in r}function eA(r){return(r?.mapValue?.fields||{})[f1]?.stringValue===p1}function kc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ao(r.mapValue.fields,((t,n)=>e.mapValue.fields[t]=kc(n))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=kc(r.arrayValue.values[t]);return e}return{...r}}function tA(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Z5}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this.value=e}static empty(){return new Hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Bd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=kc(t)}setAll(e){let t=fr.emptyPath(),n={},o=[];e.forEach(((u,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,n,o),n={},o=[],t=h.popLast()}u?n[h.lastSegment()]=kc(u):o.push(h.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,n,o)}delete(e){const t=this.field(e.popLast());Bd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ts(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let o=t.mapValue.fields[e.get(n)];Bd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,n){ao(t,((o,l)=>e[o]=l));for(const o of n)delete e[o]}clone(){return new Hr(kc(this.value))}}function m1(r){const e=[];return ao(r.fields,((t,n)=>{const o=new fr([t]);if(Bd(n)){const l=m1(n.mapValue).fields;if(l.length===0)e.push(o);else for(const u of l)e.push(o.child(u))}else e.push(o)})),new an(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,t,n,o,l,u,h){this.key=e,this.documentType=t,this.version=n,this.readTime=o,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new jr(e,0,Fe.min(),Fe.min(),Fe.min(),Hr.empty(),0)}static newFoundDocument(e,t,n,o){return new jr(e,1,t,Fe.min(),n,o,0)}static newNoDocument(e,t){return new jr(e,2,t,Fe.min(),Fe.min(),Hr.empty(),0)}static newUnknownDocument(e,t){return new jr(e,3,t,Fe.min(),Fe.min(),Hr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,t){this.position=e,this.inclusive=t}}function qy(r,e,t){let n=0;for(let o=0;o<r.position.length;o++){const l=e[o],u=r.position[o];if(l.field.isKeyField()?n=Re.comparator(Re.fromName(u.referenceValue),t.key):n=al(u,t.data.field(l.field)),l.dir==="desc"&&(n*=-1),n!==0)break}return n}function Gy(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Ts(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,t="asc"){this.field=e,this.dir=t}}function rA(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{}class zt extends g1{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new sA(e,t,n):t==="array-contains"?new aA(e,n):t==="in"?new lA(e,n):t==="not-in"?new cA(e,n):t==="array-contains-any"?new uA(e,n):new zt(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new iA(e,n):new oA(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(al(t,this.value)):t!==null&&to(this.value)===to(t)&&this.matchesComparison(al(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends g1{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Kn(e,t)}matches(e){return x1(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function x1(r){return r.op==="and"}function v1(r){return nA(r)&&x1(r)}function nA(r){for(const e of r.filters)if(e instanceof Kn)return!1;return!0}function Cm(r){if(r instanceof zt)return r.field.canonicalString()+r.op.toString()+ll(r.value);if(v1(r))return r.filters.map((e=>Cm(e))).join(",");{const e=r.filters.map((t=>Cm(t))).join(",");return`${r.op}(${e})`}}function y1(r,e){return r instanceof zt?(function(n,o){return o instanceof zt&&n.op===o.op&&n.field.isEqual(o.field)&&Ts(n.value,o.value)})(r,e):r instanceof Kn?(function(n,o){return o instanceof Kn&&n.op===o.op&&n.filters.length===o.filters.length?n.filters.reduce(((l,u,h)=>l&&y1(u,o.filters[h])),!0):!1})(r,e):void Ve(19439)}function b1(r){return r instanceof zt?(function(t){return`${t.field.canonicalString()} ${t.op} ${ll(t.value)}`})(r):r instanceof Kn?(function(t){return t.op.toString()+" {"+t.getFilters().map(b1).join(" ,")+"}"})(r):"Filter"}class sA extends zt{constructor(e,t,n){super(e,t,n),this.key=Re.fromName(n.referenceValue)}matches(e){const t=Re.comparator(e.key,this.key);return this.matchesComparison(t)}}class iA extends zt{constructor(e,t){super(e,"in",t),this.keys=w1("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class oA extends zt{constructor(e,t){super(e,"not-in",t),this.keys=w1("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function w1(r,e){return(e.arrayValue?.values||[]).map((t=>Re.fromName(t.referenceValue)))}class aA extends zt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return kg(t)&&Oc(t.arrayValue,this.value)}}class lA extends zt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Oc(this.value.arrayValue,t)}}class cA extends zt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Oc(this.value.arrayValue,t)}}class uA extends zt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!kg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((n=>Oc(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,t=null,n=[],o=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=o,this.limit=l,this.startAt=u,this.endAt=h,this.Te=null}}function Ky(r,e=null,t=[],n=[],o=null,l=null,u=null){return new dA(r,e,t,n,o,l,u)}function Tg(r){const e=Be(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((n=>Cm(n))).join(","),t+="|ob:",t+=e.orderBy.map((n=>(function(l){return l.field.canonicalString()+l.dir})(n))).join(","),Ph(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((n=>ll(n))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((n=>ll(n))).join(",")),e.Te=t}return e.Te}function Cg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!rA(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!y1(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Gy(r.startAt,e.startAt)&&Gy(r.endAt,e.endAt)}function Im(r){return Re.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,t=null,n=[],o=[],l=null,u="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=o,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function hA(r,e,t,n,o,l,u,h){return new yl(r,e,t,n,o,l,u,h)}function Mh(r){return new yl(r)}function Yy(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function _1(r){return r.collectionGroup!==null}function Tc(r){const e=Be(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Yt(fr.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Lc(l,n))})),t.has(fr.keyField().canonicalString())||e.Ie.push(new Lc(fr.keyField(),n))}return e.Ie}function Ns(r){const e=Be(r);return e.Ee||(e.Ee=fA(e,Tc(r))),e.Ee}function fA(r,e){if(r.limitType==="F")return Ky(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new Lc(o.field,l)}));const t=r.endAt?new ch(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new ch(r.startAt.position,r.startAt.inclusive):null;return Ky(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function Am(r,e){const t=r.filters.concat([e]);return new yl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Rm(r,e,t){return new yl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Oh(r,e){return Cg(Ns(r),Ns(e))&&r.limitType===e.limitType}function N1(r){return`${Tg(Ns(r))}|lt:${r.limitType}`}function Ha(r){return`Query(target=${(function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map((o=>b1(o))).join(", ")}]`),Ph(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((o=>ll(o))).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((o=>ll(o))).join(",")),`Target(${n})`})(Ns(r))}; limitType=${r.limitType})`}function Lh(r,e){return e.isFoundDocument()&&(function(n,o){const l=o.key.path;return n.collectionGroup!==null?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(l):Re.isDocumentKey(n.path)?n.path.isEqual(l):n.path.isImmediateParentOf(l)})(r,e)&&(function(n,o){for(const l of Tc(n))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(n,o){for(const l of n.filters)if(!l.matches(o))return!1;return!0})(r,e)&&(function(n,o){return!(n.startAt&&!(function(u,h,p){const m=qy(u,h,p);return u.inclusive?m<=0:m<0})(n.startAt,Tc(n),o)||n.endAt&&!(function(u,h,p){const m=qy(u,h,p);return u.inclusive?m>=0:m>0})(n.endAt,Tc(n),o))})(r,e)}function pA(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function E1(r){return(e,t)=>{let n=!1;for(const o of Tc(r)){const l=mA(o,e,t);if(l!==0)return l;n=n||o.field.isKeyField()}return 0}}function mA(r,e,t){const n=r.field.isKeyField()?Re.comparator(e.key,t.key):(function(l,u,h){const p=u.data.field(l),m=h.data.field(l);return p!==null&&m!==null?al(p,m):Ve(42886)})(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Ve(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[o,l]of n)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),o=this.inner[n];if(o===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let o=0;o<n.length;o++)if(this.equalsFn(n[o][0],e))return n.length===1?delete this.inner[t]:n.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ao(this.inner,((t,n)=>{for(const[o,l]of n)e(o,l)}))}isEmpty(){return a1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gA=new jt(Re.comparator);function ai(){return gA}const j1=new jt(Re.comparator);function wc(...r){let e=j1;for(const t of r)e=e.insert(t.key,t);return e}function S1(r){let e=j1;return r.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function Fo(){return Cc()}function k1(){return Cc()}function Cc(){return new na((r=>r.toString()),((r,e)=>r.isEqual(e)))}const xA=new jt(Re.comparator),vA=new Yt(Re.comparator);function Xe(...r){let e=vA;for(const t of r)e=e.add(t);return e}const yA=new Yt(Qe);function bA(){return yA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oh(e)?"-0":e}}function T1(r){return{integerValue:""+r}}function C1(r,e){return K5(e)?T1(e):Ig(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(){this._=void 0}}function wA(r,e,t){return r instanceof Vc?(function(o,l){const u={fields:{[u1]:{stringValue:c1},[h1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Sg(l)&&(l=Dh(l)),l&&(u.fields[d1]=l),{mapValue:u}})(t,e):r instanceof cl?A1(r,e):r instanceof $c?R1(r,e):(function(o,l){const u=I1(o,l),h=Qy(u)+Qy(o.Ae);return Tm(u)&&Tm(o.Ae)?T1(h):Ig(o.serializer,h)})(r,e)}function _A(r,e,t){return r instanceof cl?A1(r,e):r instanceof $c?R1(r,e):t}function I1(r,e){return r instanceof Fc?(function(n){return Tm(n)||(function(l){return!!l&&"doubleValue"in l})(n)})(e)?e:{integerValue:0}:null}class Vc extends Vh{}class cl extends Vh{constructor(e){super(),this.elements=e}}function A1(r,e){const t=P1(e);for(const n of r.elements)t.some((o=>Ts(o,n)))||t.push(n);return{arrayValue:{values:t}}}class $c extends Vh{constructor(e){super(),this.elements=e}}function R1(r,e){let t=P1(e);for(const n of r.elements)t=t.filter((o=>!Ts(o,n)));return{arrayValue:{values:t}}}class Fc extends Vh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Qy(r){return Mt(r.integerValue||r.doubleValue)}function P1(r){return kg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,t){this.field=e,this.transform=t}}function NA(r,e){return r.field.isEqual(e.field)&&(function(n,o){return n instanceof cl&&o instanceof cl||n instanceof $c&&o instanceof $c?ol(n.elements,o.elements,Ts):n instanceof Fc&&o instanceof Fc?Ts(n.Ae,o.Ae):n instanceof Vc&&o instanceof Vc})(r.transform,e.transform)}class EA{constructor(e,t){this.version=e,this.transformResults=t}}class jn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new jn}static exists(e){return new jn(void 0,e)}static updateTime(e){return new jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zd(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class $h{}function D1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Rg(r.key,jn.none()):new eu(r.key,r.data,jn.none());{const t=r.data,n=Hr.empty();let o=new Yt(fr.comparator);for(let l of e.fields)if(!o.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?n.delete(l):n.set(l,u),o=o.add(l)}return new lo(r.key,n,new an(o.toArray()),jn.none())}}function jA(r,e,t){r instanceof eu?(function(o,l,u){const h=o.value.clone(),p=Jy(o.fieldTransforms,l,u.transformResults);h.setAll(p),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(r,e,t):r instanceof lo?(function(o,l,u){if(!zd(o.precondition,l))return void l.convertToUnknownDocument(u.version);const h=Jy(o.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(M1(o)),p.setAll(h),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(r,e,t):(function(o,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Ic(r,e,t,n){return r instanceof eu?(function(l,u,h,p){if(!zd(l.precondition,u))return h;const m=l.value.clone(),v=Zy(l.fieldTransforms,p,u);return m.setAll(v),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(r,e,t,n):r instanceof lo?(function(l,u,h,p){if(!zd(l.precondition,u))return h;const m=Zy(l.fieldTransforms,p,u),v=u.data;return v.setAll(M1(l)),v.setAll(m),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((x=>x.field)))})(r,e,t,n):(function(l,u,h){return zd(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(r,e,t)}function SA(r,e){let t=null;for(const n of r.fieldTransforms){const o=e.data.field(n.field),l=I1(n.transform,o||null);l!=null&&(t===null&&(t=Hr.empty()),t.set(n.field,l))}return t||null}function Xy(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(n,o){return n===void 0&&o===void 0||!(!n||!o)&&ol(n,o,((l,u)=>NA(l,u)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class eu extends $h{constructor(e,t,n,o=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class lo extends $h{constructor(e,t,n,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function M1(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}})),e}function Jy(r,e,t){const n=new Map;it(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let o=0;o<t.length;o++){const l=r[o],u=l.transform,h=e.data.field(l.field);n.set(l.field,_A(u,h,t[o]))}return n}function Zy(r,e,t){const n=new Map;for(const o of r){const l=o.transform,u=t.data.field(o.field);n.set(o.field,wA(l,u,e))}return n}class Rg extends $h{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kA extends $h{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,t,n,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=o}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&jA(l,e,n[o])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Ic(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Ic(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=k1();return this.mutations.forEach((o=>{const l=e.get(o.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=t.has(o.key)?null:h;const p=D1(u,h);p!==null&&n.set(o.key,p),u.isValidDocument()||u.convertToNoDocument(Fe.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Xe())}isEqual(e){return this.batchId===e.batchId&&ol(this.mutations,e.mutations,((t,n)=>Xy(t,n)))&&ol(this.baseMutations,e.baseMutations,((t,n)=>Xy(t,n)))}}class Pg{constructor(e,t,n,o){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=o}static from(e,t,n){it(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let o=(function(){return xA})();const l=e.mutations;for(let u=0;u<l.length;u++)o=o.insert(l[u].key,n[u].version);return new Pg(e,t,n,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt,Ze;function AA(r){switch(r){case ae.OK:return Ve(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Ve(15467,{code:r})}}function O1(r){if(r===void 0)return oi("GRPC error has no .code"),ae.UNKNOWN;switch(r){case Bt.OK:return ae.OK;case Bt.CANCELLED:return ae.CANCELLED;case Bt.UNKNOWN:return ae.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return ae.INTERNAL;case Bt.UNAVAILABLE:return ae.UNAVAILABLE;case Bt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Bt.NOT_FOUND:return ae.NOT_FOUND;case Bt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Bt.ABORTED:return ae.ABORTED;case Bt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Bt.DATA_LOSS:return ae.DATA_LOSS;default:return Ve(39323,{code:r})}}(Ze=Bt||(Bt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=new Ki([4294967295,4294967295],0);function eb(r){const e=RA().encode(r),t=new Q2;return t.update(e),new Uint8Array(t.digest())}function tb(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ki([t,n],0),new Ki([o,l],0)]}class Dg{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new _c(`Invalid padding: ${t}`);if(n<0)throw new _c(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new _c(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new _c(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ki.fromNumber(this.ge)}ye(e,t,n){let o=e.add(t.multiply(Ki.fromNumber(n)));return o.compare(PA)===1&&(o=new Ki([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=eb(e),[n,o]=tb(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(n,o,l);if(!this.we(u))return!1}return!0}static create(e,t,n){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Dg(l,o,t);return n.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const t=eb(e),[n,o]=tb(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(n,o,l);this.Se(u)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class _c extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,t,n,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const o=new Map;return o.set(e,tu.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Fh(Fe.min(),o,new jt(Qe),ai(),Xe())}}class tu{constructor(e,t,n,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new tu(n,t,Xe(),Xe(),Xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,t,n,o){this.be=e,this.removedTargetIds=t,this.key=n,this.De=o}}class L1{constructor(e,t){this.targetId=e,this.Ce=t}}class V1{constructor(e,t,n=mr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=o}}class rb{constructor(){this.ve=0,this.Fe=nb(),this.Me=mr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xe(),t=Xe(),n=Xe();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:n=n.add(o);break;default:Ve(38017,{changeType:l})}})),new tu(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=nb()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,it(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class DA{constructor(e){this.Ge=e,this.ze=new Map,this.je=ai(),this.Je=_d(),this.He=_d(),this.Ye=new jt(Qe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Ve(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((n,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,n=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(Im(l))if(n===0){const u=new Re(l.path);this.et(t,u,jr.newNoDocument(u,Fe.min()))}else it(n===1,20013,{expectedCount:n});else{const u=this._t(t);if(u!==n){const h=this.ut(e),p=h?this.ct(h,e,u):1;if(p!==0){this.it(t);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:o=0},hashCount:l=0}=t;let u,h;try{u=eo(n).toUint8Array()}catch(p){if(p instanceof l1)return il("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new Dg(u,o,l)}catch(p){return il(p instanceof _c?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.ge===0?null:h}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let o=0;return n.forEach((l=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,u)=>{const h=this.ot(u);if(h){if(l.current&&Im(h.target)){const p=new Re(h.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,jr.newNoDocument(p,e))}l.Be&&(t.set(u,l.ke()),l.qe())}}));let n=Xe();this.He.forEach(((l,u)=>{let h=!0;u.forEachWhile((p=>{const m=this.ot(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(n=n.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const o=new Fh(e,t,this.Ye,this.je,n);return this.je=ai(),this.Je=_d(),this.He=_d(),this.Ye=new jt(Qe),o}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new rb,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Yt(Qe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Yt(Qe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Ne("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new rb),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function _d(){return new jt(Re.comparator)}function nb(){return new jt(Re.comparator)}const MA={asc:"ASCENDING",desc:"DESCENDING"},OA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LA={and:"AND",or:"OR"};class VA{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Pm(r,e){return r.useProto3Json||Ph(e)?e:{value:e}}function uh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function $A(r,e){return uh(r,e.toTimestamp())}function Es(r){return it(!!r,49232),Fe.fromTimestamp((function(t){const n=Zi(t);return new yt(n.seconds,n.nanos)})(r))}function Mg(r,e){return Dm(r,e).canonicalString()}function Dm(r,e){const t=(function(o){return new ft(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?t:t.child(e)}function F1(r){const e=ft.fromString(r);return it(W1(e),10190,{key:e.toString()}),e}function Mm(r,e){return Mg(r.databaseId,e.path)}function Qp(r,e){const t=F1(e);if(t.get(1)!==r.databaseId.projectId)throw new be(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new be(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Re(B1(t))}function U1(r,e){return Mg(r.databaseId,e)}function FA(r){const e=F1(r);return e.length===4?ft.emptyPath():B1(e)}function Om(r){return new ft(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function B1(r){return it(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function sb(r,e,t){return{name:Mm(r,e),fields:t.value.mapValue.fields}}function UA(r,e){let t;if("targetChange"in e){e.targetChange;const n=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ve(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(m,v){return m.useProto3Json?(it(v===void 0||typeof v=="string",58123),mr.fromBase64String(v||"")):(it(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),mr.fromUint8Array(v||new Uint8Array))})(r,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(m){const v=m.code===void 0?ae.UNKNOWN:O1(m.code);return new be(v,m.message||"")})(u);t=new V1(n,o,l,h||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const o=Qp(r,n.document.name),l=Es(n.document.updateTime),u=n.document.createTime?Es(n.document.createTime):Fe.min(),h=new Hr({mapValue:{fields:n.document.fields}}),p=jr.newFoundDocument(o,l,u,h),m=n.targetIds||[],v=n.removedTargetIds||[];t=new Hd(m,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const o=Qp(r,n.document),l=n.readTime?Es(n.readTime):Fe.min(),u=jr.newNoDocument(o,l),h=n.removedTargetIds||[];t=new Hd([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const o=Qp(r,n.document),l=n.removedTargetIds||[];t=new Hd([],l,o,null)}else{if(!("filter"in e))return Ve(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:o=0,unchangedNames:l}=n,u=new IA(o,l),h=n.targetId;t=new L1(h,u)}}return t}function BA(r,e){let t;if(e instanceof eu)t={update:sb(r,e.key,e.value)};else if(e instanceof Rg)t={delete:Mm(r,e.key)};else if(e instanceof lo)t={update:sb(r,e.key,e.data),updateMask:XA(e.fieldMask)};else{if(!(e instanceof kA))return Ve(16599,{Vt:e.type});t={verify:Mm(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((n=>(function(l,u){const h=u.transform;if(h instanceof Vc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof cl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof $c)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Fc)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Ve(20930,{transform:u.transform})})(0,n)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:$A(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ve(27497)})(r,e.precondition)),t}function zA(r,e){return r&&r.length>0?(it(e!==void 0,14353),r.map((t=>(function(o,l){let u=o.updateTime?Es(o.updateTime):Es(l);return u.isEqual(Fe.min())&&(u=Es(l)),new EA(u,o.transformResults||[])})(t,e)))):[]}function HA(r,e){return{documents:[U1(r,e.path)]}}function WA(r,e){const t={structuredQuery:{}},n=e.path;let o;e.collectionGroup!==null?(o=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=U1(r,o);const l=(function(m){if(m.length!==0)return H1(Kn.create(m,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const u=(function(m){if(m.length!==0)return m.map((v=>(function(w){return{field:Wa(w.field),direction:KA(w.dir)}})(v)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=Pm(r,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:o}}function qA(r){let e=FA(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let o=null;if(n>0){it(n===1,65062);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(x){const w=z1(x);return w instanceof Kn&&v1(w)?w.getFilters():[w]})(t.where));let u=[];t.orderBy&&(u=(function(x){return x.map((w=>(function(R){return new Lc(qa(R.field),(function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(R.direction))})(w)))})(t.orderBy));let h=null;t.limit&&(h=(function(x){let w;return w=typeof x=="object"?x.value:x,Ph(w)?null:w})(t.limit));let p=null;t.startAt&&(p=(function(x){const w=!!x.before,k=x.values||[];return new ch(k,w)})(t.startAt));let m=null;return t.endAt&&(m=(function(x){const w=!x.before,k=x.values||[];return new ch(k,w)})(t.endAt)),hA(e,o,u,l,h,"F",p,m)}function GA(r,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function z1(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=qa(t.unaryFilter.field);return zt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const o=qa(t.unaryFilter.field);return zt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=qa(t.unaryFilter.field);return zt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=qa(t.unaryFilter.field);return zt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ve(61313);default:return Ve(60726)}})(r):r.fieldFilter!==void 0?(function(t){return zt.create(qa(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ve(58110);default:return Ve(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return Kn.create(t.compositeFilter.filters.map((n=>z1(n))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ve(1026)}})(t.compositeFilter.op))})(r):Ve(30097,{filter:r})}function KA(r){return MA[r]}function YA(r){return OA[r]}function QA(r){return LA[r]}function Wa(r){return{fieldPath:r.canonicalString()}}function qa(r){return fr.fromServerFormat(r.fieldPath)}function H1(r){return r instanceof zt?(function(t){if(t.op==="=="){if(Wy(t.value))return{unaryFilter:{field:Wa(t.field),op:"IS_NAN"}};if(Hy(t.value))return{unaryFilter:{field:Wa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Wy(t.value))return{unaryFilter:{field:Wa(t.field),op:"IS_NOT_NAN"}};if(Hy(t.value))return{unaryFilter:{field:Wa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(t.field),op:YA(t.op),value:t.value}}})(r):r instanceof Kn?(function(t){const n=t.getFilters().map((o=>H1(o)));return n.length===1?n[0]:{compositeFilter:{op:QA(t.op),filters:n}}})(r):Ve(54877,{filter:r})}function XA(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function W1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,t,n,o,l=Fe.min(),u=Fe.min(),h=mr.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new Wi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e){this.yt=e}}function ZA(r){const e=qA({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Rm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(){this.Cn=new tR}addToCollectionParentIndex(e,t){return this.Cn.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(Ji.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(Ji.min())}updateCollectionGroup(e,t,n){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class tR{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),o=this.index[t]||new Yt(ft.comparator),l=!o.has(n);return this.index[t]=o.add(n),l}has(e){const t=e.lastSegment(),n=e.popLast(),o=this.index[t];return o&&o.has(n)}getEntries(e){return(this.index[e]||new Yt(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},q1=41943040;class zr{static withCacheSize(e){return new zr(e,zr.DEFAULT_COLLECTION_PERCENTILE,zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zr.DEFAULT_COLLECTION_PERCENTILE=10,zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zr.DEFAULT=new zr(q1,zr.DEFAULT_COLLECTION_PERCENTILE,zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zr.DISABLED=new zr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ul(0)}static cr(){return new ul(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="LruGarbageCollector",rR=1048576;function ab([r,e],[t,n]){const o=Qe(r,t);return o===0?Qe(e,n):o}class nR{constructor(e){this.Ir=e,this.buffer=new Yt(ab),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();ab(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class sR{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ne(ob,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){vl(t)?Ne(ob,"Ignoring IndexedDB error during garbage collection: ",t):await xl(t)}await this.Vr(3e5)}))}}class iR{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((n=>Math.floor(t/100*n)))}nthSequenceNumber(e,t){if(t===0)return ue.resolve(Rh.ce);const n=new nR(t);return this.mr.forEachTarget(e,(o=>n.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>n.Ar(o))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(ib)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ib):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,o,l,u,h,p,m;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,u=Date.now(),this.nthSequenceNumber(e,o)))).next((x=>(n=x,h=Date.now(),this.removeTargets(e,n,t)))).next((x=>(l=x,p=Date.now(),this.removeOrphanedDocuments(e,n)))).next((x=>(m=Date.now(),za()<=Ye.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(h-u)+`ms
	Removed ${l} targets in `+(p-h)+`ms
	Removed ${x} documents in `+(m-p)+`ms
Total Duration: ${m-v}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:x}))))}}function oR(r,e){return new iR(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(){this.changes=new na((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,jr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?ue.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,t,n,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=o}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(n=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(n!==null&&Ic(n.mutation,o,an.empty(),yt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.getLocalViewOfDocuments(e,n,Xe()).next((()=>n))))}getLocalViewOfDocuments(e,t,n=Xe()){const o=Fo();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,n).next((l=>{let u=wc();return l.forEach(((h,p)=>{u=u.insert(h,p.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const n=Fo();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Xe())))}populateOverlays(e,t,n){const o=[];return n.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((u,h)=>{t.set(u,h)}))}))}computeViews(e,t,n,o){let l=ai();const u=Cc(),h=(function(){return Cc()})();return t.forEach(((p,m)=>{const v=n.get(m.key);o.has(m.key)&&(v===void 0||v.mutation instanceof lo)?l=l.insert(m.key,m):v!==void 0?(u.set(m.key,v.mutation.getFieldMask()),Ic(v.mutation,m,v.mutation.getFieldMask(),yt.now())):u.set(m.key,an.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((m,v)=>u.set(m,v))),t.forEach(((m,v)=>h.set(m,new lR(v,u.get(m)??null)))),h)))}recalculateAndSaveOverlays(e,t){const n=Cc();let o=new jt(((u,h)=>u-h)),l=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const h of u)h.keys().forEach((p=>{const m=t.get(p);if(m===null)return;let v=n.get(p)||an.empty();v=h.applyToLocalView(m,v),n.set(p,v);const x=(o.get(h.batchId)||Xe()).add(p);o=o.insert(h.batchId,x)}))})).next((()=>{const u=[],h=o.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),m=p.key,v=p.value,x=k1();v.forEach((w=>{if(!l.has(w)){const k=D1(t.get(w),n.get(w));k!==null&&x.set(w,k),l=l.add(w)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,x))}return ue.waitFor(u)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,t,n,o){return(function(u){return Re.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):_1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,o):this.getDocumentsMatchingCollectionQuery(e,t,n,o)}getNextDocuments(e,t,n,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,o).next((l=>{const u=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,o-l.size):ue.resolve(Fo());let h=Pc,p=l;return u.next((m=>ue.forEach(m,((v,x)=>(h<x.largestBatchId&&(h=x.largestBatchId),l.get(v)?ue.resolve():this.remoteDocumentCache.getEntry(e,v).next((w=>{p=p.insert(v,w)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,p,m,Xe()))).next((v=>({batchId:h,changes:S1(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Re(t)).next((n=>{let o=wc();return n.isFoundDocument()&&(o=o.insert(n.key,n)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,o){const l=t.collectionGroup;let u=wc();return this.indexManager.getCollectionParents(e,l).next((h=>ue.forEach(h,(p=>{const m=(function(x,w){return new yl(w,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,n,o).next((v=>{v.forEach(((x,w)=>{u=u.insert(x,w)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,n,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,l,o)))).next((u=>{l.forEach(((p,m)=>{const v=m.getKey();u.get(v)===null&&(u=u.insert(v,jr.newInvalidDocument(v)))}));let h=wc();return u.forEach(((p,m)=>{const v=l.get(p);v!==void 0&&Ic(v.mutation,m,an.empty(),yt.now()),Lh(t,m)&&(h=h.insert(p,m))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ue.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Es(o.createTime)}})(t)),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:ZA(o.bundledQuery),readTime:Es(o.readTime)}})(t)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(){this.overlays=new jt(Re.comparator),this.qr=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Fo();return ue.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&n.set(o,l)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((o,l)=>{this.St(e,t,l)})),ue.resolve()}removeOverlaysForBatchId(e,t,n){const o=this.qr.get(n);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(n)),ue.resolve()}getOverlaysForCollection(e,t,n){const o=Fo(),l=t.length+1,u=new Re(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const p=h.getNext().value,m=p.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>n&&o.set(p.getKey(),p)}return ue.resolve(o)}getOverlaysForCollectionGroup(e,t,n,o){let l=new jt(((m,v)=>m-v));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>n){let v=l.get(m.largestBatchId);v===null&&(v=Fo(),l=l.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const h=Fo(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((m,v)=>h.set(m,v))),!(h.size()>=o)););return ue.resolve(h)}St(e,t,n){const o=this.overlays.get(n.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(n.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(n.key,new CA(t,n));let l=this.qr.get(t);l===void 0&&(l=Xe(),this.qr.set(t,l)),this.qr.set(t,l.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(){this.sessionToken=mr.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(){this.Qr=new Yt(ir.$r),this.Ur=new Yt(ir.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new ir(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach((n=>this.addReference(n,t)))}removeReference(e,t){this.Gr(new ir(e,t))}zr(e,t){e.forEach((n=>this.removeReference(n,t)))}jr(e){const t=new Re(new ft([])),n=new ir(t,e),o=new ir(t,e+1),l=[];return this.Ur.forEachInRange([n,o],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Re(new ft([])),n=new ir(t,e),o=new ir(t,e+1);let l=Xe();return this.Ur.forEachInRange([n,o],(u=>{l=l.add(u.key)})),l}containsKey(e){const t=new ir(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class ir{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Re.comparator(e.key,t.key)||Qe(e.Yr,t.Yr)}static Kr(e,t){return Qe(e.Yr,t.Yr)||Re.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Yt(ir.$r)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new TA(l,t,n,o);this.mutationQueue.push(u);for(const h of o)this.Zr=this.Zr.add(new ir(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ue.resolve(u)}lookupMutationBatch(e,t){return ue.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,o=this.ei(n),l=o<0?0:o;return ue.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?jg:this.tr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ir(t,0),o=new ir(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([n,o],(u=>{const h=this.Xr(u.Yr);l.push(h)})),ue.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Yt(Qe);return t.forEach((o=>{const l=new ir(o,0),u=new ir(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(h=>{n=n.add(h.Yr)}))})),ue.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,o=n.length+1;let l=n;Re.isDocumentKey(l)||(l=l.child(""));const u=new ir(new Re(l),0);let h=new Yt(Qe);return this.Zr.forEachWhile((p=>{const m=p.key.path;return!!n.isPrefixOf(m)&&(m.length===o&&(h=h.add(p.Yr)),!0)}),u),ue.resolve(this.ti(h))}ti(e){const t=[];return e.forEach((n=>{const o=this.Xr(n);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){it(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return ue.forEach(t.mutations,(o=>{const l=new ir(o.key,t.batchId);return n=n.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,t){const n=new ir(t,0),o=this.Zr.firstAfterOrEqual(n);return ue.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e){this.ri=e,this.docs=(function(){return new jt(Re.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,o=this.docs.get(n),l=o?o.size:0,u=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ue.resolve(n?n.document.mutableCopy():jr.newInvalidDocument(t))}getEntries(e,t){let n=ai();return t.forEach((o=>{const l=this.docs.get(o);n=n.insert(o,l?l.document.mutableCopy():jr.newInvalidDocument(o))})),ue.resolve(n)}getDocumentsMatchingQuery(e,t,n,o){let l=ai();const u=t.path,h=new Re(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:m,value:{document:v}}=p.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||H5(z5(v),n)<=0||(o.has(v.key)||Lh(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ue.resolve(l)}getAllFromCollectionGroup(e,t,n,o){Ve(9500)}ii(e,t){return ue.forEach(this.docs,(n=>t(n)))}newChangeBuffer(e){return new mR(this)}getSize(e){return ue.resolve(this.size)}}class mR extends aR{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(n)})),ue.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.persistence=e,this.si=new na((t=>Tg(t)),Cg),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.oi=0,this._i=new Og,this.targetCount=0,this.ai=ul.ur()}forEachTarget(e,t){return this.si.forEach(((n,o)=>t(o))),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),ue.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ul(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.Pr(t),ue.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,n){let o=0;const l=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=t&&n.get(h.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)})),ue.waitFor(l).next((()=>o))}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return ue.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),ue.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((u=>{l.push(o.markPotentiallyOrphaned(e,u))})),ue.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return ue.resolve(n)}containsKey(e,t){return ue.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,t){this.ui={},this.overlays={},this.ci=new Rh(0),this.li=!1,this.li=!0,this.hi=new hR,this.referenceDelegate=e(this),this.Pi=new gR(this),this.indexManager=new eR,this.remoteDocumentCache=(function(o){return new pR(o)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new JA(t),this.Ii=new uR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new dR,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new fR(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){Ne("MemoryPersistence","Starting transaction:",e);const o=new xR(this.ci.next());return this.referenceDelegate.Ei(),n(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,t){return ue.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,t))))}}class xR extends q5{constructor(e){super(),this.currentSequenceNumber=e}}class Lg{constructor(e){this.persistence=e,this.Ri=new Og,this.Vi=null}static mi(e){return new Lg(e)}get fi(){if(this.Vi)return this.Vi;throw Ve(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),ue.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ue.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>n.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.fi,(n=>{const o=Re.fromPath(n);return this.gi(e,o).next((l=>{l||t.removeEntry(o,Fe.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((n=>{n?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ue.or([()=>ue.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class dh{constructor(e,t){this.persistence=e,this.pi=new na((n=>Y5(n.path)),((n,o)=>n.isEqual(o))),this.garbageCollector=oR(this,t)}static mi(e,t){return new dh(e,t)}Ei(){}di(e){return ue.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>t.next((o=>n+o))))}wr(e){let t=0;return this.pr(e,(n=>{t++})).next((()=>t))}pr(e,t){return ue.forEach(this.pi,((n,o)=>this.br(e,n,o).next((l=>l?ue.resolve():t(o)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,t).next((h=>{h||(n++,l.removeEntry(u,Fe.min()))})))).next((()=>l.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ue.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),ue.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ue.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ud(e.data.value)),t}br(e,t,n){return ue.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return ue.resolve(o!==void 0&&o>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,t,n,o){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=o}static As(e,t){let n=Xe(),o=Xe();for(const l of t.docChanges)switch(l.type){case 0:n=n.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Vg(e,t.fromCache,n,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return QT()?8:G5(Sr())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,o){const l={result:null};return this.ys(e,t).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,t,o,n).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new vR;return this.Ss(e,t,u).next((h=>{if(l.result=h,this.Vs)return this.bs(e,t,u,h.size)}))})).next((()=>l.result))}bs(e,t,n,o){return n.documentReadCount<this.fs?(za()<=Ye.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",Ha(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ue.resolve()):(za()<=Ye.DEBUG&&Ne("QueryEngine","Query:",Ha(t),"scans",n.documentReadCount,"local documents and returns",o,"documents as results."),n.documentReadCount>this.gs*o?(za()<=Ye.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",Ha(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ns(t))):ue.resolve())}ys(e,t){if(Yy(t))return ue.resolve(null);let n=Ns(t);return this.indexManager.getIndexType(e,n).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Rm(t,null,"F"),n=Ns(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((l=>{const u=Xe(...l);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,n).next((p=>{const m=this.Ds(t,h);return this.Cs(t,m,u,p.readTime)?this.ys(e,Rm(t,null,"F")):this.vs(e,m,t,p)}))))})))))}ws(e,t,n,o){return Yy(t)||o.isEqual(Fe.min())?ue.resolve(null):this.ps.getDocuments(e,n).next((l=>{const u=this.Ds(t,l);return this.Cs(t,u,n,o)?ue.resolve(null):(za()<=Ye.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ha(t)),this.vs(e,u,t,B5(o,Pc)).next((h=>h)))}))}Ds(e,t){let n=new Yt(E1(e));return t.forEach(((o,l)=>{Lh(e,l)&&(n=n.add(l))})),n}Cs(e,t,n,o){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,n){return za()<=Ye.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",Ha(t)),this.ps.getDocumentsMatchingQuery(e,t,Ji.min(),n)}vs(e,t,n,o){return this.ps.getDocumentsMatchingQuery(e,n,o).next((l=>(t.forEach((u=>{l=l.insert(u.key,u)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g="LocalStore",bR=3e8;class wR{constructor(e,t,n,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new jt(Qe),this.xs=new na((l=>Tg(l)),Cg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function _R(r,e,t,n){return new wR(r,e,t,n)}async function K1(r,e){const t=Be(r);return await t.persistence.runTransaction("Handle user change","readonly",(n=>{let o;return t.mutationQueue.getAllMutationBatches(n).next((l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(n)))).next((l=>{const u=[],h=[];let p=Xe();for(const m of o){u.push(m.batchId);for(const v of m.mutations)p=p.add(v.key)}for(const m of l){h.push(m.batchId);for(const v of m.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(n,p).next((m=>({Ls:m,removedBatchIds:u,addedBatchIds:h})))}))}))}function NR(r,e){const t=Be(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,p,m,v){const x=m.batch,w=x.keys();let k=ue.resolve();return w.forEach((R=>{k=k.next((()=>v.getEntry(p,R))).next((E=>{const T=m.docVersions.get(R);it(T!==null,48541),E.version.compareTo(T)<0&&(x.applyToRemoteDocument(E,m),E.isValidDocument()&&(E.setReadTime(m.commitVersion),v.addEntry(E)))}))})),k.next((()=>h.mutationQueue.removeMutationBatch(p,x)))})(t,n,e,l).next((()=>l.apply(n))).next((()=>t.mutationQueue.performConsistencyCheck(n))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(n,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(h){let p=Xe();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(p=p.add(h.batch.mutations[m].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(n,o)))}))}function Y1(r){const e=Be(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function ER(r,e){const t=Be(r),n=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const h=[];e.targetChanges.forEach(((v,x)=>{const w=o.get(x);if(!w)return;h.push(t.Pi.removeMatchingKeys(l,v.removedDocuments,x).next((()=>t.Pi.addMatchingKeys(l,v.addedDocuments,x))));let k=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(x)!==null?k=k.withResumeToken(mr.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):v.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(v.resumeToken,n)),o=o.insert(x,k),(function(E,T,O){return E.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=bR?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(w,k,v)&&h.push(t.Pi.updateTargetData(l,k))}));let p=ai(),m=Xe();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),h.push(jR(l,u,e.documentUpdates).next((v=>{p=v.ks,m=v.qs}))),!n.isEqual(Fe.min())){const v=t.Pi.getLastRemoteSnapshotVersion(l).next((x=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,n)));h.push(v)}return ue.waitFor(h).next((()=>u.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,m))).next((()=>p))})).then((l=>(t.Ms=o,l)))}function jR(r,e,t){let n=Xe(),o=Xe();return t.forEach((l=>n=n.add(l))),e.getEntries(r,n).next((l=>{let u=ai();return t.forEach(((h,p)=>{const m=l.get(h);p.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(h)),p.isNoDocument()&&p.version.isEqual(Fe.min())?(e.removeEntry(h,p.readTime),u=u.insert(h,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),u=u.insert(h,p)):Ne($g,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",p.version)})),{ks:u,qs:o}}))}function SR(r,e){const t=Be(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=jg),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function kR(r,e){const t=Be(r);return t.persistence.runTransaction("Allocate target","readwrite",(n=>{let o;return t.Pi.getTargetData(n,e).next((l=>l?(o=l,ue.resolve(o)):t.Pi.allocateTargetId(n).next((u=>(o=new Wi(e,u,"TargetPurposeListen",n.currentSequenceNumber),t.Pi.addTargetData(n,o).next((()=>o)))))))})).then((n=>{const o=t.Ms.get(n.targetId);return(o===null||n.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(n.targetId,n),t.xs.set(e,n.targetId)),n}))}async function Lm(r,e,t){const n=Be(r),o=n.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",l,(u=>n.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!vl(u))throw u;Ne($g,`Failed to update sequence numbers for target ${e}: ${u}`)}n.Ms=n.Ms.remove(e),n.xs.delete(o.target)}function lb(r,e,t){const n=Be(r);let o=Fe.min(),l=Xe();return n.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,m,v){const x=Be(p),w=x.xs.get(v);return w!==void 0?ue.resolve(x.Ms.get(w)):x.Pi.getTargetData(m,v)})(n,u,Ns(e)).next((h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(u,h.targetId).next((p=>{l=p}))})).next((()=>n.Fs.getDocumentsMatchingQuery(u,e,t?o:Fe.min(),t?l:Xe()))).next((h=>(TR(n,pA(e),h),{documents:h,Qs:l})))))}function TR(r,e,t){let n=r.Os.get(e)||Fe.min();t.forEach(((o,l)=>{l.readTime.compareTo(n)>0&&(n=l.readTime)})),r.Os.set(e,n)}class cb{constructor(){this.activeTargetIds=bA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CR{constructor(){this.Mo=new cb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new cb,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="ConnectivityMonitor";class db{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ne(ub,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ne(ub,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nd=null;function Vm(){return Nd===null?Nd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Nd++,"0x"+Nd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="RestConnection",AR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class RR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${o}`,this.Wo=this.databaseId.database===ah?`project_id=${n}`:`project_id=${n}&database_id=${o}`}Go(e,t,n,o,l){const u=Vm(),h=this.zo(e,t.toUriEncodedString());Ne(Xp,`Sending RPC '${e}' ${u}:`,h,n);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,l);const{host:m}=new URL(h),v=ea(m);return this.Jo(e,h,p,n,v).then((x=>(Ne(Xp,`Received RPC '${e}' ${u}: `,x),x)),(x=>{throw il(Xp,`RPC '${e}' ${u} failed with error: `,x,"url: ",h,"request:",n),x}))}Ho(e,t,n,o,l,u){return this.Go(e,t,n,o,l)}jo(e,t,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+gl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),n&&n.headers.forEach(((o,l)=>e[l]=o))}zo(e,t){const n=AR[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr="WebChannelConnection";class DR extends RR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,o,l){const u=Vm();return new Promise(((h,p)=>{const m=new X2;m.setWithCredentials(!0),m.listenOnce(J2.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Fd.NO_ERROR:const x=m.getResponseJson();Ne(Nr,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(x)),h(x);break;case Fd.TIMEOUT:Ne(Nr,`RPC '${e}' ${u} timed out`),p(new be(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Fd.HTTP_ERROR:const w=m.getStatus();if(Ne(Nr,`RPC '${e}' ${u} failed with status:`,w,"response text:",m.getResponseText()),w>0){let k=m.getResponseJson();Array.isArray(k)&&(k=k[0]);const R=k?.error;if(R&&R.status&&R.message){const E=(function(O){const B=O.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(B)>=0?B:ae.UNKNOWN})(R.status);p(new be(E,R.message))}else p(new be(ae.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new be(ae.UNAVAILABLE,"Connection failed."));break;default:Ve(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{Ne(Nr,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(o);Ne(Nr,`RPC '${e}' ${u} sending request:`,o),m.send(t,"POST",v,n,15)}))}T_(e,t,n){const o=Vm(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=t1(),h=e1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,n),p.encodeInitMessageHeaders=!0;const v=l.join("");Ne(Nr,`Creating RPC '${e}' stream ${o}: ${v}`,p);const x=u.createWebChannel(v,p);this.I_(x);let w=!1,k=!1;const R=new PR({Yo:T=>{k?Ne(Nr,`Not sending because RPC '${e}' stream ${o} is closed:`,T):(w||(Ne(Nr,`Opening RPC '${e}' stream ${o} transport.`),x.open(),w=!0),Ne(Nr,`RPC '${e}' stream ${o} sending:`,T),x.send(T))},Zo:()=>x.close()}),E=(T,O,B)=>{T.listen(O,($=>{try{B($)}catch(F){setTimeout((()=>{throw F}),0)}}))};return E(x,bc.EventType.OPEN,(()=>{k||(Ne(Nr,`RPC '${e}' stream ${o} transport opened.`),R.o_())})),E(x,bc.EventType.CLOSE,(()=>{k||(k=!0,Ne(Nr,`RPC '${e}' stream ${o} transport closed`),R.a_(),this.E_(x))})),E(x,bc.EventType.ERROR,(T=>{k||(k=!0,il(Nr,`RPC '${e}' stream ${o} transport errored. Name:`,T.name,"Message:",T.message),R.a_(new be(ae.UNAVAILABLE,"The operation could not be completed")))})),E(x,bc.EventType.MESSAGE,(T=>{if(!k){const O=T.data[0];it(!!O,16349);const B=O,$=B?.error||B[0]?.error;if($){Ne(Nr,`RPC '${e}' stream ${o} received error:`,$);const F=$.status;let W=(function(S){const P=Bt[S];if(P!==void 0)return O1(P)})(F),X=$.message;W===void 0&&(W=ae.INTERNAL,X="Unknown error status: "+F+" with message "+$.message),k=!0,R.a_(new be(W,X)),x.close()}else Ne(Nr,`RPC '${e}' stream ${o} received:`,O),R.u_(O)}})),E(h,Z2.STAT_EVENT,(T=>{T.stat===jm.PROXY?Ne(Nr,`RPC '${e}' stream ${o} detected buffering proxy`):T.stat===jm.NOPROXY&&Ne(Nr,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{R.__()}),0),R}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Jp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(r){return new VA(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,t,n=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-n);o>0&&Ne("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="PersistentStream";class X1{constructor(e,t,n,o,l,u,h,p){this.Mi=e,this.S_=n,this.b_=o,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Q1(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(oi(t.toString()),oi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,o])=>{this.D_===t&&this.G_(n,o)}),(n=>{e((()=>{const o=new be(ae.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(o)}))}))}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{n((()=>this.z_(o)))})),this.stream.onMessage((o=>{n((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ne(hb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Ne(hb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class MR extends X1{constructor(e,t,n,o,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,o,u),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=UA(this.serializer,e),n=(function(l){if(!("targetChange"in l))return Fe.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Fe.min():u.readTime?Es(u.readTime):Fe.min()})(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=Om(this.serializer),t.addTarget=(function(l,u){let h;const p=u.target;if(h=Im(p)?{documents:HA(l,p)}:{query:WA(l,p).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=$1(l,u.resumeToken);const m=Pm(l,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(Fe.min())>0){h.readTime=uh(l,u.snapshotVersion.toTimestamp());const m=Pm(l,u.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const n=GA(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=Om(this.serializer),t.removeTarget=e,this.q_(t)}}class OR extends X1{constructor(e,t,n,o,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,o,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return it(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){it(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=zA(e.writeResults,e.commitTime),n=Es(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Om(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((n=>BA(this.serializer,n)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{}class VR extends LR{constructor(e,t,n,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new be(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,Dm(t,n),o,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new be(ae.UNKNOWN,l.toString())}))}Ho(e,t,n,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,Dm(t,n),o,u,h,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new be(ae.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class $R{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(oi(t),this.aa=!1):Ne("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo="RemoteStore";class FR{constructor(e,t,n,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{n.enqueueAndForget((async()=>{sa(this)&&(Ne(Yo,"Restarting streams for network reachability change."),await(async function(p){const m=Be(p);m.Ea.add(4),await ru(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Bh(m)})(this))}))})),this.Ra=new $R(n,o)}}async function Bh(r){if(sa(r))for(const e of r.da)await e(!0)}async function ru(r){for(const e of r.da)await e(!1)}function J1(r,e){const t=Be(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),zg(t)?Bg(t):bl(t).O_()&&Ug(t,e))}function Fg(r,e){const t=Be(r),n=bl(t);t.Ia.delete(e),n.O_()&&Z1(t,e),t.Ia.size===0&&(n.O_()?n.L_():sa(t)&&t.Ra.set("Unknown"))}function Ug(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}bl(r).Y_(e)}function Z1(r,e){r.Va.Ue(e),bl(r).Z_(e)}function Bg(r){r.Va=new DA({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),bl(r).start(),r.Ra.ua()}function zg(r){return sa(r)&&!bl(r).x_()&&r.Ia.size>0}function sa(r){return Be(r).Ea.size===0}function e_(r){r.Va=void 0}async function UR(r){r.Ra.set("Online")}async function BR(r){r.Ia.forEach(((e,t)=>{Ug(r,e)}))}async function zR(r,e){e_(r),zg(r)?(r.Ra.ha(e),Bg(r)):r.Ra.set("Unknown")}async function HR(r,e,t){if(r.Ra.set("Online"),e instanceof V1&&e.state===2&&e.cause)try{await(async function(o,l){const u=l.cause;for(const h of l.targetIds)o.Ia.has(h)&&(await o.remoteSyncer.rejectListen(h,u),o.Ia.delete(h),o.Va.removeTarget(h))})(r,e)}catch(n){Ne(Yo,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await hh(r,n)}else if(e instanceof Hd?r.Va.Ze(e):e instanceof L1?r.Va.st(e):r.Va.tt(e),!t.isEqual(Fe.min()))try{const n=await Y1(r.localStore);t.compareTo(n)>=0&&await(function(l,u){const h=l.Va.Tt(u);return h.targetChanges.forEach(((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ia.get(m);v&&l.Ia.set(m,v.withResumeToken(p.resumeToken,u))}})),h.targetMismatches.forEach(((p,m)=>{const v=l.Ia.get(p);if(!v)return;l.Ia.set(p,v.withResumeToken(mr.EMPTY_BYTE_STRING,v.snapshotVersion)),Z1(l,p);const x=new Wi(v.target,p,m,v.sequenceNumber);Ug(l,x)})),l.remoteSyncer.applyRemoteEvent(h)})(r,t)}catch(n){Ne(Yo,"Failed to raise snapshot:",n),await hh(r,n)}}async function hh(r,e,t){if(!vl(e))throw e;r.Ea.add(1),await ru(r),r.Ra.set("Offline"),t||(t=()=>Y1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{Ne(Yo,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await Bh(r)}))}function t_(r,e){return e().catch((t=>hh(r,t,e)))}async function zh(r){const e=Be(r),t=ro(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:jg;for(;WR(e);)try{const o=await SR(e.localStore,n);if(o===null){e.Ta.length===0&&t.L_();break}n=o.batchId,qR(e,o)}catch(o){await hh(e,o)}r_(e)&&n_(e)}function WR(r){return sa(r)&&r.Ta.length<10}function qR(r,e){r.Ta.push(e);const t=ro(r);t.O_()&&t.X_&&t.ea(e.mutations)}function r_(r){return sa(r)&&!ro(r).x_()&&r.Ta.length>0}function n_(r){ro(r).start()}async function GR(r){ro(r).ra()}async function KR(r){const e=ro(r);for(const t of r.Ta)e.ea(t.mutations)}async function YR(r,e,t){const n=r.Ta.shift(),o=Pg.from(n,e,t);await t_(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await zh(r)}async function QR(r,e){e&&ro(r).X_&&await(async function(n,o){if((function(u){return AA(u)&&u!==ae.ABORTED})(o.code)){const l=n.Ta.shift();ro(n).B_(),await t_(n,(()=>n.remoteSyncer.rejectFailedWrite(l.batchId,o))),await zh(n)}})(r,e),r_(r)&&n_(r)}async function fb(r,e){const t=Be(r);t.asyncQueue.verifyOperationInProgress(),Ne(Yo,"RemoteStore received new credentials");const n=sa(t);t.Ea.add(3),await ru(t),n&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Bh(t)}async function XR(r,e){const t=Be(r);e?(t.Ea.delete(2),await Bh(t)):e||(t.Ea.add(2),await ru(t),t.Ra.set("Unknown"))}function bl(r){return r.ma||(r.ma=(function(t,n,o){const l=Be(t);return l.sa(),new MR(n,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Xo:UR.bind(null,r),t_:BR.bind(null,r),r_:zR.bind(null,r),H_:HR.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),zg(r)?Bg(r):r.Ra.set("Unknown")):(await r.ma.stop(),e_(r))}))),r.ma}function ro(r){return r.fa||(r.fa=(function(t,n,o){const l=Be(t);return l.sa(),new OR(n,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:GR.bind(null,r),r_:QR.bind(null,r),ta:KR.bind(null,r),na:YR.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await zh(r)):(await r.fa.stop(),r.Ta.length>0&&(Ne(Yo,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,t,n,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=o,this.removalCallback=l,this.deferred=new ti,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,o,l){const u=Date.now()+n,h=new Hg(e,t,u,o,l);return h.start(n),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wg(r,e){if(oi("AsyncQueue",`${e}: ${r}`),vl(r))return new be(ae.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{static emptySet(e){return new Ja(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Re.comparator(t.key,n.key):(t,n)=>Re.comparator(t.key,n.key),this.keyedMap=wc(),this.sortedSet=new jt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ja)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=n.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Ja;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(){this.ga=new jt(Re.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ve(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,n)=>{e.push(n)})),e}}class dl{constructor(e,t,n,o,l,u,h,p,m){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=o,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,t,n,o,l){const u=[];return t.forEach((h=>{u.push({type:0,doc:h})})),new dl(e,t,Ja.emptySet(t),u,n,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==n[o].type||!t[o].doc.isEqual(n[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class ZR{constructor(){this.queries=mb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,n){const o=Be(t),l=o.queries;o.queries=mb(),l.forEach(((u,h)=>{for(const p of h.Sa)p.onError(n)}))})(this,new be(ae.ABORTED,"Firestore shutting down"))}}function mb(){return new na((r=>N1(r)),Oh)}async function qg(r,e){const t=Be(r);let n=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(n=2):(l=new JR,n=e.Da()?0:1);try{switch(n){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const h=Wg(u,`Initialization of query '${Ha(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Kg(t)}async function Gg(r,e){const t=Be(r),n=e.query;let o=3;const l=t.queries.get(n);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function eP(r,e){const t=Be(r);let n=!1;for(const o of e){const l=o.query,u=t.queries.get(l);if(u){for(const h of u.Sa)h.Fa(o)&&(n=!0);u.wa=o}}n&&Kg(t)}function tP(r,e,t){const n=Be(r),o=n.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);n.queries.delete(e)}function Kg(r){r.Ca.forEach((e=>{e.next()}))}var $m,gb;(gb=$m||($m={})).Ma="default",gb.Cache="cache";class Yg{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const o of e.docChanges)o.type!==3&&n.push(o);e=new dl(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const n=t!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=dl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==$m.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s_{constructor(e){this.key=e}}class i_{constructor(e){this.key=e}}class rP{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Xe(),this.mutatedKeys=Xe(),this.eu=E1(e),this.tu=new Ja(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new pb,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,u=o,h=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,x)=>{const w=o.get(v),k=Lh(this.query,x)?x:null,R=!!w&&this.mutatedKeys.has(w.key),E=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let T=!1;w&&k?w.data.isEqual(k.data)?R!==E&&(n.track({type:3,doc:k}),T=!0):this.su(w,k)||(n.track({type:2,doc:k}),T=!0,(p&&this.eu(k,p)>0||m&&this.eu(k,m)<0)&&(h=!0)):!w&&k?(n.track({type:0,doc:k}),T=!0):w&&!k&&(n.track({type:1,doc:w}),T=!0,(p||m)&&(h=!0)),T&&(k?(u=u.add(k),l=E?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),n.track({type:1,doc:v})}return{tu:u,iu:n,Cs:h,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,x)=>(function(k,R){const E=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve(20277,{Rt:T})}};return E(k)-E(R)})(v.type,x.type)||this.eu(v.doc,x.doc))),this.ou(n),o=o??!1;const h=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,m=p!==this.Za;return this.Za=p,u.length!==0||m?{snapshot:new dl(this.query,e.tu,l,u,e.mutatedKeys,p===0,m,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new pb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Xe(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const t=[];return e.forEach((n=>{this.Xa.has(n)||t.push(new i_(n))})),this.Xa.forEach((n=>{e.has(n)||t.push(new s_(n))})),t}cu(e){this.Ya=e.Qs,this.Xa=Xe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return dl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Qg="SyncEngine";class nP{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class sP{constructor(e){this.key=e,this.hu=!1}}class iP{constructor(e,t,n,o,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new na((h=>N1(h)),Oh),this.Iu=new Map,this.Eu=new Set,this.du=new jt(Re.comparator),this.Au=new Map,this.Ru=new Og,this.Vu={},this.mu=new Map,this.fu=ul.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function oP(r,e,t=!0){const n=d_(r);let o;const l=n.Tu.get(e);return l?(n.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await o_(n,e,t,!0),o}async function aP(r,e){const t=d_(r);await o_(t,e,!0,!1)}async function o_(r,e,t,n){const o=await kR(r.localStore,Ns(e)),l=o.targetId,u=r.sharedClientState.addLocalQueryTarget(l,t);let h;return n&&(h=await lP(r,e,l,u==="current",o.resumeToken)),r.isPrimaryClient&&t&&J1(r.remoteStore,o),h}async function lP(r,e,t,n,o){r.pu=(x,w,k)=>(async function(E,T,O,B){let $=T.view.ru(O);$.Cs&&($=await lb(E.localStore,T.query,!1).then((({documents:I})=>T.view.ru(I,$))));const F=B&&B.targetChanges.get(T.targetId),W=B&&B.targetMismatches.get(T.targetId)!=null,X=T.view.applyChanges($,E.isPrimaryClient,F,W);return vb(E,T.targetId,X.au),X.snapshot})(r,x,w,k);const l=await lb(r.localStore,e,!0),u=new rP(e,l.Qs),h=u.ru(l.documents),p=tu.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",o),m=u.applyChanges(h,r.isPrimaryClient,p);vb(r,t,m.au);const v=new nP(e,t,u);return r.Tu.set(e,v),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),m.snapshot}async function cP(r,e,t){const n=Be(r),o=n.Tu.get(e),l=n.Iu.get(o.targetId);if(l.length>1)return n.Iu.set(o.targetId,l.filter((u=>!Oh(u,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||await Lm(n.localStore,o.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(o.targetId),t&&Fg(n.remoteStore,o.targetId),Fm(n,o.targetId)})).catch(xl)):(Fm(n,o.targetId),await Lm(n.localStore,o.targetId,!0))}async function uP(r,e){const t=Be(r),n=t.Tu.get(e),o=t.Iu.get(n.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),Fg(t.remoteStore,n.targetId))}async function dP(r,e,t){const n=vP(r);try{const o=await(function(u,h){const p=Be(u),m=yt.now(),v=h.reduce(((k,R)=>k.add(R.key)),Xe());let x,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let R=ai(),E=Xe();return p.Ns.getEntries(k,v).next((T=>{R=T,R.forEach(((O,B)=>{B.isValidDocument()||(E=E.add(O))}))})).next((()=>p.localDocuments.getOverlayedDocuments(k,R))).next((T=>{x=T;const O=[];for(const B of h){const $=SA(B,x.get(B.key).overlayedDocument);$!=null&&O.push(new lo(B.key,$,m1($.value.mapValue),jn.exists(!0)))}return p.mutationQueue.addMutationBatch(k,m,O,h)})).next((T=>{w=T;const O=T.applyToLocalDocumentSet(x,E);return p.documentOverlayCache.saveOverlays(k,T.batchId,O)}))})).then((()=>({batchId:w.batchId,changes:S1(x)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(o.batchId),(function(u,h,p){let m=u.Vu[u.currentUser.toKey()];m||(m=new jt(Qe)),m=m.insert(h,p),u.Vu[u.currentUser.toKey()]=m})(n,o.batchId,t),await nu(n,o.changes),await zh(n.remoteStore)}catch(o){const l=Wg(o,"Failed to persist write");t.reject(l)}}async function a_(r,e){const t=Be(r);try{const n=await ER(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const u=t.Au.get(l);u&&(it(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?it(u.hu,14607):o.removedDocuments.size>0&&(it(u.hu,42227),u.hu=!1))})),await nu(t,n,e)}catch(n){await xl(n)}}function xb(r,e,t){const n=Be(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const o=[];n.Tu.forEach(((l,u)=>{const h=u.view.va(e);h.snapshot&&o.push(h.snapshot)})),(function(u,h){const p=Be(u);p.onlineState=h;let m=!1;p.queries.forEach(((v,x)=>{for(const w of x.Sa)w.va(h)&&(m=!0)})),m&&Kg(p)})(n.eventManager,e),o.length&&n.Pu.H_(o),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function hP(r,e,t){const n=Be(r);n.sharedClientState.updateQueryState(e,"rejected",t);const o=n.Au.get(e),l=o&&o.key;if(l){let u=new jt(Re.comparator);u=u.insert(l,jr.newNoDocument(l,Fe.min()));const h=Xe().add(l),p=new Fh(Fe.min(),new Map,new jt(Qe),u,h);await a_(n,p),n.du=n.du.remove(l),n.Au.delete(e),Xg(n)}else await Lm(n.localStore,e,!1).then((()=>Fm(n,e,t))).catch(xl)}async function fP(r,e){const t=Be(r),n=e.batch.batchId;try{const o=await NR(t.localStore,e);c_(t,n,null),l_(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await nu(t,o)}catch(o){await xl(o)}}async function pP(r,e,t){const n=Be(r);try{const o=await(function(u,h){const p=Be(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let v;return p.mutationQueue.lookupMutationBatch(m,h).next((x=>(it(x!==null,37113),v=x.keys(),p.mutationQueue.removeMutationBatch(m,x)))).next((()=>p.mutationQueue.performConsistencyCheck(m))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(m,v,h))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v))).next((()=>p.localDocuments.getDocuments(m,v)))}))})(n.localStore,e);c_(n,e,t),l_(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await nu(n,o)}catch(o){await xl(o)}}function l_(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function c_(r,e,t){const n=Be(r);let o=n.Vu[n.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),n.Vu[n.currentUser.toKey()]=o}}function Fm(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Iu.get(e))r.Tu.delete(n),t&&r.Pu.yu(n,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((n=>{r.Ru.containsKey(n)||u_(r,n)}))}function u_(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(Fg(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),Xg(r))}function vb(r,e,t){for(const n of t)n instanceof s_?(r.Ru.addReference(n.key,e),mP(r,n)):n instanceof i_?(Ne(Qg,"Document no longer in limbo: "+n.key),r.Ru.removeReference(n.key,e),r.Ru.containsKey(n.key)||u_(r,n.key)):Ve(19791,{wu:n})}function mP(r,e){const t=e.key,n=t.path.canonicalString();r.du.get(t)||r.Eu.has(n)||(Ne(Qg,"New document in limbo: "+t),r.Eu.add(n),Xg(r))}function Xg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new Re(ft.fromString(e)),n=r.fu.next();r.Au.set(n,new sP(t)),r.du=r.du.insert(t,n),J1(r.remoteStore,new Wi(Ns(Mh(t.path)),n,"TargetPurposeLimboResolution",Rh.ce))}}async function nu(r,e,t){const n=Be(r),o=[],l=[],u=[];n.Tu.isEmpty()||(n.Tu.forEach(((h,p)=>{u.push(n.pu(p,e,t).then((m=>{if((m||t)&&n.isPrimaryClient){const v=m?!m.fromCache:t?.targetChanges.get(p.targetId)?.current;n.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(m){o.push(m);const v=Vg.As(p.targetId,m);l.push(v)}})))})),await Promise.all(u),n.Pu.H_(o),await(async function(p,m){const v=Be(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>ue.forEach(m,(w=>ue.forEach(w.Es,(k=>v.persistence.referenceDelegate.addReference(x,w.targetId,k))).next((()=>ue.forEach(w.ds,(k=>v.persistence.referenceDelegate.removeReference(x,w.targetId,k)))))))))}catch(x){if(!vl(x))throw x;Ne($g,"Failed to update sequence numbers: "+x)}for(const x of m){const w=x.targetId;if(!x.fromCache){const k=v.Ms.get(w),R=k.snapshotVersion,E=k.withLastLimboFreeSnapshotVersion(R);v.Ms=v.Ms.insert(w,E)}}})(n.localStore,l))}async function gP(r,e){const t=Be(r);if(!t.currentUser.isEqual(e)){Ne(Qg,"User change. New user:",e.toKey());const n=await K1(t.localStore,e);t.currentUser=e,(function(l,u){l.mu.forEach((h=>{h.forEach((p=>{p.reject(new be(ae.CANCELLED,u))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await nu(t,n.Ls)}}function xP(r,e){const t=Be(r),n=t.Au.get(e);if(n&&n.hu)return Xe().add(n.key);{let o=Xe();const l=t.Iu.get(e);if(!l)return o;for(const u of l){const h=t.Tu.get(u);o=o.unionWith(h.view.nu)}return o}}function d_(r){const e=Be(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=a_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hP.bind(null,e),e.Pu.H_=eP.bind(null,e.eventManager),e.Pu.yu=tP.bind(null,e.eventManager),e}function vP(r){const e=Be(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pP.bind(null,e),e}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Uh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return _R(this.persistence,new yR,e.initialUser,this.serializer)}Cu(e){return new G1(Lg.mi,this.serializer)}Du(e){return new CR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class yP extends fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){it(this.persistence.referenceDelegate instanceof dh,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new sR(n,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?zr.withCacheSize(this.cacheSizeBytes):zr.DEFAULT;return new G1((n=>dh.mi(n,t)),this.serializer)}}class Um{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>xb(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=gP.bind(null,this.syncEngine),await XR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ZR})()}createDatastore(e){const t=Uh(e.databaseInfo.databaseId),n=(function(l){return new DR(l)})(e.databaseInfo);return(function(l,u,h,p){return new VR(l,u,h,p)})(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return(function(n,o,l,u,h){return new FR(n,o,l,u,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>xb(this.syncEngine,t,0)),(function(){return db.v()?new db:new IR})())}createSyncEngine(e,t){return(function(o,l,u,h,p,m,v){const x=new iP(o,l,u,h,p,m);return v&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const n=Be(t);Ne(Yo,"RemoteStore shutting down."),n.Ea.add(5),await ru(n),n.Aa.shutdown(),n.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Um.provider={build:()=>new Um};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):oi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no="FirestoreClient";class bP{constructor(e,t,n,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=o,this.user=Er.UNAUTHENTICATED,this.clientId=Eg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(n,(async u=>{Ne(no,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(n,(u=>(Ne(no,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ti;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Wg(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Zp(r,e){r.asyncQueue.verifyOperationInProgress(),Ne(no,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener((async o=>{n.isEqual(o)||(await K1(e.localStore,o),n=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function yb(r,e){r.asyncQueue.verifyOperationInProgress();const t=await wP(r);Ne(no,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((n=>fb(e.remoteStore,n))),r.setAppCheckTokenChangeListener(((n,o)=>fb(e.remoteStore,o))),r._onlineComponents=e}async function wP(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ne(no,"Using user provided OfflineComponentProvider");try{await Zp(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ae.FAILED_PRECONDITION||o.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;il("Error using user provided cache. Falling back to memory cache: "+t),await Zp(r,new fh)}}else Ne(no,"Using default OfflineComponentProvider"),await Zp(r,new yP(void 0));return r._offlineComponents}async function h_(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ne(no,"Using user provided OnlineComponentProvider"),await yb(r,r._uninitializedComponentsProvider._online)):(Ne(no,"Using default OnlineComponentProvider"),await yb(r,new Um))),r._onlineComponents}function _P(r){return h_(r).then((e=>e.syncEngine))}async function ph(r){const e=await h_(r),t=e.eventManager;return t.onListen=oP.bind(null,e.syncEngine),t.onUnlisten=cP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=aP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=uP.bind(null,e.syncEngine),t}function NP(r,e,t={}){const n=new ti;return r.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,p,m){const v=new Jg({next:w=>{v.Nu(),u.enqueueAndForget((()=>Gg(l,x)));const k=w.docs.has(h);!k&&w.fromCache?m.reject(new be(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&w.fromCache&&p&&p.source==="server"?m.reject(new be(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(w)},error:w=>m.reject(w)}),x=new Yg(Mh(h.path),v,{includeMetadataChanges:!0,qa:!0});return qg(l,x)})(await ph(r),r.asyncQueue,e,t,n))),n.promise}function EP(r,e,t={}){const n=new ti;return r.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,p,m){const v=new Jg({next:w=>{v.Nu(),u.enqueueAndForget((()=>Gg(l,x))),w.fromCache&&p.source==="server"?m.reject(new be(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(w)},error:w=>m.reject(w)}),x=new Yg(h,v,{includeMetadataChanges:!0,qa:!0});return qg(l,x)})(await ph(r),r.asyncQueue,e,t,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="firestore.googleapis.com",wb=!0;class _b{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new be(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=p_,this.ssl=wb}else this.host=e.host,this.ssl=e.ssl??wb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=q1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rR)throw new be(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}U5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=f_(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new be(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new be(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new be(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,o){return n.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hh{constructor(e,t,n,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _b({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _b(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new A5;switch(n.type){case"firstParty":return new M5(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new be(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const n=bb.get(t);n&&(Ne("ComponentProvider","Removing Datastore"),bb.delete(t),n.terminate())})(this),Promise.resolve()}}function jP(r,e,t,n={}){r=qr(r,Hh);const o=ea(e),l=r._getSettings(),u={...l,emulatorOptions:r._getEmulatorOptions()},h=`${e}:${t}`;o&&(ug(`https://${h}`),dg("Firestore",!0)),l.host!==p_&&l.host!==h&&il("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:h,ssl:o,emulatorOptions:n};if(!Qi(p,u)&&(r._setSettings(p),n.mockUserToken)){let m,v;if(typeof n.mockUserToken=="string")m=n.mockUserToken,v=Er.MOCK_USER;else{m=u2(n.mockUserToken,r._app?.options.projectId);const x=n.mockUserToken.sub||n.mockUserToken.user_id;if(!x)throw new be(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Er(x)}r._authCredentials=new R5(new n1(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new co(this.firestore,e,this._query)}}class At{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new At(this.firestore,e,this._key)}toJSON(){return{type:At._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Zc(t,At._jsonSchema))return new At(e,n||null,new Re(ft.fromString(t.referencePath)))}}At._jsonSchemaVersion="firestore/documentReference/1.0",At._jsonSchema={type:Ht("string",At._jsonSchemaVersion),referencePath:Ht("string")};class Yi extends co{constructor(e,t,n){super(e,t,Mh(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new At(this.firestore,null,new Re(e))}withConverter(e){return new Yi(this.firestore,e,this._path)}}function wl(r,e,...t){if(r=Jt(r),s1("collection","path",e),r instanceof Hh){const n=ft.fromString(e,...t);return My(n),new Yi(r,null,n)}{if(!(r instanceof At||r instanceof Yi))throw new be(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(ft.fromString(e,...t));return My(n),new Yi(r.firestore,null,n)}}function pr(r,e,...t){if(r=Jt(r),arguments.length===1&&(e=Eg.newId()),s1("doc","path",e),r instanceof Hh){const n=ft.fromString(e,...t);return Dy(n),new At(r,null,new Re(n))}{if(!(r instanceof At||r instanceof Yi))throw new be(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(ft.fromString(e,...t));return Dy(n),new At(r.firestore,r instanceof Yi?r.converter:null,new Re(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="AsyncQueue";class Eb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Q1(this,"async_queue_retry"),this._c=()=>{const n=Jp();n&&Ne(Nb,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const t=Jp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Jp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ti;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!vl(e))throw e;Ne(Nb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,oi("INTERNAL UNHANDLED ERROR: ",jb(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Hg.createAndSchedule(this,e,t,n,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&Ve(47125,{Pc:jb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,n)=>t.targetTimeMs-n.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function jb(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(r){return(function(t,n){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of n)if(l in o&&typeof o[l]=="function")return!0;return!1})(r,["next","error","complete"])}class li extends Hh{constructor(e,t,n,o){super(e,t,n,o),this.type="firestore",this._queue=new Eb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Eb(e),this._firestoreClient=void 0,await e}}}function SP(r,e){const t=typeof r=="object"?r:pg(),n=typeof r=="string"?r:ah,o=kh(t,"firestore").getImmediate({identifier:n});if(!o._initialized){const l=a2("firestore");l&&jP(o,...l)}return o}function Wh(r){if(r._terminated)throw new be(ae.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||kP(r),r._firestoreClient}function kP(r){const e=r._freezeSettings(),t=(function(o,l,u,h){return new J5(o,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,f_(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new bP(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _n(mr.fromBase64String(e))}catch(t){throw new be(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new _n(mr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:_n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Zc(e,_n._jsonSchema))return _n.fromBase64String(e.bytes)}}_n._jsonSchemaVersion="firestore/bytes/1.0",_n._jsonSchema={type:Ht("string",_n._jsonSchemaVersion),bytes:Ht("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new be(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new be(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new be(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:js._jsonSchemaVersion}}static fromJSON(e){if(Zc(e,js._jsonSchema))return new js(e.latitude,e.longitude)}}js._jsonSchemaVersion="firestore/geoPoint/1.0",js._jsonSchema={type:Ht("string",js._jsonSchemaVersion),latitude:Ht("number"),longitude:Ht("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,o){if(n.length!==o.length)return!1;for(let l=0;l<n.length;++l)if(n[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ss._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Zc(e,Ss._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Ss(e.vectorValues);throw new be(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ss._jsonSchemaVersion="firestore/vectorValue/1.0",Ss._jsonSchema={type:Ht("string",Ss._jsonSchemaVersion),vectorValues:Ht("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=/^__.*__$/;class CP{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new lo(e,this.data,this.fieldMask,t,this.fieldTransforms):new eu(e,this.data,t,this.fieldTransforms)}}class m_{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new lo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function g_(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve(40011,{Ac:r})}}class Gh{constructor(e,t,n,o,l,u){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Gh({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return mh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(g_(this.Ac)&&TP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class IP{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Uh(e)}Cc(e,t,n,o=!1){return new Gh({Ac:e,methodName:t,Dc:n,path:fr.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kh(r){const e=r._freezeSettings(),t=Uh(r._databaseId);return new IP(r._databaseId,!!e.ignoreUndefinedProperties,t)}function x_(r,e,t,n,o,l={}){const u=r.Cc(l.merge||l.mergeFields?2:0,e,t,o);rx("Data must be an object, but it was:",u,n);const h=v_(n,u);let p,m;if(l.merge)p=new an(u.fieldMask),m=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const x of l.mergeFields){const w=Bm(e,x,t);if(!u.contains(w))throw new be(ae.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);b_(v,w)||v.push(w)}p=new an(v),m=u.fieldTransforms.filter((x=>p.covers(x.field)))}else p=null,m=u.fieldTransforms;return new CP(new Hr(h),p,m)}class Yh extends _l{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yh}}function AP(r,e,t){return new Gh({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Zg extends _l{_toFieldTransform(e){return new Ag(e.path,new Vc)}isEqual(e){return e instanceof Zg}}class ex extends _l{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=AP(this,e,!0),n=this.vc.map((l=>Nl(l,t))),o=new cl(n);return new Ag(e.path,o)}isEqual(e){return e instanceof ex&&Qi(this.vc,e.vc)}}class tx extends _l{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new Fc(e.serializer,C1(e.serializer,this.Fc));return new Ag(e.path,t)}isEqual(e){return e instanceof tx&&this.Fc===e.Fc}}function RP(r,e,t,n){const o=r.Cc(1,e,t);rx("Data must be an object, but it was:",o,n);const l=[],u=Hr.empty();ao(n,((p,m)=>{const v=nx(e,p,t);m=Jt(m);const x=o.yc(v);if(m instanceof Yh)l.push(v);else{const w=Nl(m,x);w!=null&&(l.push(v),u.set(v,w))}}));const h=new an(l);return new m_(u,h,o.fieldTransforms)}function PP(r,e,t,n,o,l){const u=r.Cc(1,e,t),h=[Bm(e,n,t)],p=[o];if(l.length%2!=0)throw new be(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)h.push(Bm(e,l[w])),p.push(l[w+1]);const m=[],v=Hr.empty();for(let w=h.length-1;w>=0;--w)if(!b_(m,h[w])){const k=h[w];let R=p[w];R=Jt(R);const E=u.yc(k);if(R instanceof Yh)m.push(k);else{const T=Nl(R,E);T!=null&&(m.push(k),v.set(k,T))}}const x=new an(m);return new m_(v,x,u.fieldTransforms)}function DP(r,e,t,n=!1){return Nl(t,r.Cc(n?4:3,e))}function Nl(r,e){if(y_(r=Jt(r)))return rx("Unsupported field value:",e,r),v_(r,e);if(r instanceof _l)return(function(n,o){if(!g_(o.Ac))throw o.Sc(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${n._methodName}() is not currently supported inside arrays`);const l=n._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,o){const l=[];let u=0;for(const h of n){let p=Nl(h,o.wc(u));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),u++}return{arrayValue:{values:l}}})(r,e)}return(function(n,o){if((n=Jt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return C1(o.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const l=yt.fromDate(n);return{timestampValue:uh(o.serializer,l)}}if(n instanceof yt){const l=new yt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:uh(o.serializer,l)}}if(n instanceof js)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof _n)return{bytesValue:$1(o.serializer,n._byteString)};if(n instanceof At){const l=o.databaseId,u=n.firestore._databaseId;if(!u.isEqual(l))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Mg(n.firestore._databaseId||o.databaseId,n._key.path)}}if(n instanceof Ss)return(function(u,h){return{mapValue:{fields:{[f1]:{stringValue:p1},[lh]:{arrayValue:{values:u.toArray().map((m=>{if(typeof m!="number")throw h.Sc("VectorValues must only contain numeric values.");return Ig(h.serializer,m)}))}}}}}})(n,o);throw o.Sc(`Unsupported field value: ${Ah(n)}`)})(r,e)}function v_(r,e){const t={};return a1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ao(r,((n,o)=>{const l=Nl(o,e.mc(n));l!=null&&(t[n]=l)})),{mapValue:{fields:t}}}function y_(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof yt||r instanceof js||r instanceof _n||r instanceof At||r instanceof _l||r instanceof Ss)}function rx(r,e,t){if(!y_(t)||!i1(t)){const n=Ah(t);throw n==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+n)}}function Bm(r,e,t){if((e=Jt(e))instanceof qh)return e._internalPath;if(typeof e=="string")return nx(r,e);throw mh("Field path arguments must be of type string or ",r,!1,void 0,t)}const MP=new RegExp("[~\\*/\\[\\]]");function nx(r,e,t){if(e.search(MP)>=0)throw mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new qh(...e.split("."))._internalPath}catch{throw mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function mh(r,e,t,n,o){const l=n&&!n.isEmpty(),u=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(l||u)&&(p+=" (found",l&&(p+=` in field ${n}`),u&&(p+=` in document ${o}`),p+=")"),new be(ae.INVALID_ARGUMENT,h+r+p)}function b_(r,e){return r.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e,t,n,o,l){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new At(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new OP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Qh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class OP extends w_{data(){return super.data()}}function Qh(r,e){return typeof e=="string"?nx(r,e):e instanceof qh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new be(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sx{}class N_ extends sx{}function ix(r,e,...t){let n=[];e instanceof sx&&n.push(e),n=n.concat(t),(function(l){const u=l.filter((p=>p instanceof ox)).length,h=l.filter((p=>p instanceof Xh)).length;if(u>1||u>0&&h>0)throw new be(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const o of n)r=o._apply(r);return r}class Xh extends N_{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Xh(e,t,n)}_apply(e){const t=this._parse(e);return j_(e._query,t),new co(e.firestore,e.converter,Am(e._query,t))}_parse(e){const t=Kh(e.firestore);return(function(l,u,h,p,m,v,x){let w;if(m.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new be(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){Tb(x,v);const R=[];for(const E of x)R.push(kb(p,l,E));w={arrayValue:{values:R}}}else w=kb(p,l,x)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||Tb(x,v),w=DP(h,u,x,v==="in"||v==="not-in");return zt.create(m,v,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function E_(r,e,t){const n=e,o=Qh("where",r);return Xh._create(o,n,t)}class ox extends sx{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ox(e,t)}_parse(e){const t=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return t.length===1?t[0]:Kn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,l){let u=o;const h=l.getFlattenedFilters();for(const p of h)j_(u,p),u=Am(u,p)})(e._query,t),new co(e.firestore,e.converter,Am(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ax extends N_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ax(e,t)}_apply(e){const t=(function(o,l,u){if(o.startAt!==null)throw new be(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new be(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Lc(l,u)})(e._query,this._field,this._direction);return new co(e.firestore,e.converter,(function(o,l){const u=o.explicitOrderBy.concat([l]);return new yl(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function LP(r,e="asc"){const t=e,n=Qh("orderBy",r);return ax._create(n,t)}function kb(r,e,t){if(typeof(t=Jt(t))=="string"){if(t==="")throw new be(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_1(e)&&t.indexOf("/")!==-1)throw new be(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(ft.fromString(t));if(!Re.isDocumentKey(n))throw new be(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return zy(r,new Re(n))}if(t instanceof At)return zy(r,t._key);throw new be(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ah(t)}.`)}function Tb(r,e){if(!Array.isArray(r)||r.length===0)throw new be(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function j_(r,e){const t=(function(o,l){for(const u of o)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new be(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class VP{convertValue(e,t="none"){switch(to(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(eo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return ao(e,((o,l)=>{n[o]=this.convertValue(l,t)})),n}convertVectorValue(e){const t=e.fields?.[lh].arrayValue?.values?.map((n=>Mt(n.doubleValue)));return new Ss(t)}convertGeoPoint(e){return new js(Mt(e.latitude),Mt(e.longitude))}convertArray(e,t){return(e.values||[]).map((n=>this.convertValue(n,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Dh(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Dc(e));default:return null}}convertTimestamp(e){const t=Zi(e);return new yt(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ft.fromString(e);it(W1(n),9688,{name:e});const o=new Mc(n.get(1),n.get(3)),l=new Re(n.popFirst(5));return o.isEqual(t)||oi(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(r,e,t){let n;return n=r?r.toFirestore(e):e,n}class Nc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bo extends w_{constructor(e,t,n,o,l,u){super(e,t,n,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Wd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Qh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Bo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Bo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bo._jsonSchema={type:Ht("string",Bo._jsonSchemaVersion),bundleSource:Ht("string","DocumentSnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class Wd extends Bo{data(e={}){return super.data(e)}}class zo{constructor(e,t,n,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Nc(o.hasPendingWrites,o.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Wd(this._firestore,this._userDataWriter,n.key,n,new Nc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new be(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((h=>{const p=new Wd(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Nc(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const p=new Wd(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Nc(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,v=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),v=u.indexOf(h.doc.key)),{type:$P(h.type),doc:p,oldIndex:m,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=zo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Eg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),n.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function $P(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(r){r=qr(r,At);const e=qr(r.firestore,li);return NP(Wh(e),r._key).then((t=>C_(e,r,t)))}zo._jsonSchemaVersion="firestore/querySnapshot/1.0",zo._jsonSchema={type:Ht("string",zo._jsonSchemaVersion),bundleSource:Ht("string","QuerySnapshot"),bundleName:Ht("string"),bundle:Ht("string")};class lx extends VP{constructor(e){super(),this.firestore=e}convertBytes(e){return new _n(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new At(this.firestore,null,t)}}function cx(r){r=qr(r,co);const e=qr(r.firestore,li),t=Wh(e),n=new lx(e);return __(r._query),EP(t,r._query).then((o=>new zo(e,n,r,o)))}function FP(r,e,t){r=qr(r,At);const n=qr(r.firestore,li),o=S_(r.converter,e);return Jh(n,[x_(Kh(n),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,jn.none())])}function ri(r,e,t,...n){r=qr(r,At);const o=qr(r.firestore,li),l=Kh(o);let u;return u=typeof(e=Jt(e))=="string"||e instanceof qh?PP(l,"updateDoc",r._key,e,t,n):RP(l,"updateDoc",r._key,e),Jh(o,[u.toMutation(r._key,jn.exists(!0))])}function Cb(r){return Jh(qr(r.firestore,li),[new Rg(r._key,jn.none())])}function k_(r,e){const t=qr(r.firestore,li),n=pr(r),o=S_(r.converter,e);return Jh(t,[x_(Kh(r.firestore),"addDoc",n._key,o,r.converter!==null,{}).toMutation(n._key,jn.exists(!1))]).then((()=>n))}function T_(r,...e){r=Jt(r);let t={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||Sb(e[n])||(t=e[n++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Sb(e[n])){const p=e[n];e[n]=p.next?.bind(p),e[n+1]=p.error?.bind(p),e[n+2]=p.complete?.bind(p)}let l,u,h;if(r instanceof At)u=qr(r.firestore,li),h=Mh(r._key.path),l={next:p=>{e[n]&&e[n](C_(u,r,p))},error:e[n+1],complete:e[n+2]};else{const p=qr(r,co);u=qr(p.firestore,li),h=p._query;const m=new lx(u);l={next:v=>{e[n]&&e[n](new zo(u,m,p,v))},error:e[n+1],complete:e[n+2]},__(r._query)}return(function(m,v,x,w){const k=new Jg(w),R=new Yg(v,k,x);return m.asyncQueue.enqueueAndForget((async()=>qg(await ph(m),R))),()=>{k.Nu(),m.asyncQueue.enqueueAndForget((async()=>Gg(await ph(m),R)))}})(Wh(u),h,o,l)}function Jh(r,e){return(function(n,o){const l=new ti;return n.asyncQueue.enqueueAndForget((async()=>dP(await _P(n),o,l))),l.promise})(Wh(r),e)}function C_(r,e,t){const n=t.docs.get(e._key),o=new lx(r);return new Bo(r,o,e._key,n,new Nc(t.hasPendingWrites,t.fromCache),e.converter)}function I_(){return new Zg("serverTimestamp")}function UP(...r){return new ex("arrayUnion",r)}function A_(r){return new tx("increment",r)}(function(e,t=!0){(function(o){gl=o})(ta),Wo(new Xi("firestore",((n,{instanceIdentifier:o,options:l})=>{const u=n.getProvider("app").getImmediate(),h=new li(new P5(n.getProvider("auth-internal")),new O5(u,n.getProvider("app-check-internal")),(function(m,v){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new be(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mc(m.options.projectId,v)})(u,o),u);return l={useFetchStreams:t,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),bs(Iy,Ay,e),bs(Iy,Ay,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="firebasestorage.googleapis.com",BP="storageBucket",zP=120*1e3,HP=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Rs{constructor(e,t,n=0){super(em(e),`Firebase Storage: ${t} (${em(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ps.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return em(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Cs;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Cs||(Cs={}));function em(r){return"storage/"+r}function WP(){const r="An unknown error occurred, please check the error payload for server response.";return new Ps(Cs.UNKNOWN,r)}function qP(){return new Ps(Cs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function GP(){return new Ps(Cs.CANCELED,"User canceled the upload/download.")}function KP(r){return new Ps(Cs.INVALID_URL,"Invalid URL '"+r+"'.")}function YP(r){return new Ps(Cs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function Ib(r){return new Ps(Cs.INVALID_ARGUMENT,r)}function P_(){return new Ps(Cs.APP_DELETED,"The Firebase app was deleted.")}function QP(r){return new Ps(Cs.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Bn.makeFromUrl(e,t)}catch{return new Bn(e,"")}if(n.path==="")return n;throw YP(e)}static makeFromUrl(e,t){let n=null;const o="([A-Za-z0-9.\\-_]+)";function l(F){F.path.charAt(F.path.length-1)==="/"&&(F.path_=F.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+o+u,"i"),p={bucket:1,path:3};function m(F){F.path_=decodeURIComponent(F.path)}const v="v[A-Za-z0-9_]+",x=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",k=new RegExp(`^https?://${x}/${v}/b/${o}/o${w}`,"i"),R={bucket:1,path:3},E=t===R_?"(?:storage.googleapis.com|storage.cloud.google.com)":t,T="([^?#]*)",O=new RegExp(`^https?://${E}/${o}/${T}`,"i"),$=[{regex:h,indices:p,postModify:l},{regex:k,indices:R,postModify:m},{regex:O,indices:{bucket:1,path:2},postModify:m}];for(let F=0;F<$.length;F++){const W=$[F],X=W.regex.exec(e);if(X){const I=X[W.indices.bucket];let S=X[W.indices.path];S||(S=""),n=new Bn(I,S),W.postModify(n);break}}if(n==null)throw KP(e);return n}}class XP{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(r,e,t){let n=1,o=null,l=null,u=!1,h=0;function p(){return h===2}let m=!1;function v(...T){m||(m=!0,e.apply(null,T))}function x(T){o=setTimeout(()=>{o=null,r(k,p())},T)}function w(){l&&clearTimeout(l)}function k(T,...O){if(m){w();return}if(T){w(),v.call(null,T,...O);return}if(p()||u){w(),v.call(null,T,...O);return}n<64&&(n*=2);let $;h===1?(h=2,$=0):$=(n+Math.random())*1e3,x($)}let R=!1;function E(T){R||(R=!0,w(),!m&&(o!==null?(T||(h=2),clearTimeout(o),x(0)):T||(h=1)))}return x(0),l=setTimeout(()=>{u=!0,E(!0)},t),E}function ZP(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(r){return r!==void 0}function Ab(r,e,t,n){if(n<e)throw Ib(`Invalid value for '${r}'. Expected ${e} or greater.`);if(n>t)throw Ib(`Invalid value for '${r}'. Expected ${t} or less.`)}function t3(r){const e=encodeURIComponent;let t="?";for(const n in r)if(r.hasOwnProperty(n)){const o=e(n)+"="+e(r[n]);t=t+o+"&"}return t=t.slice(0,-1),t}var gh;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(gh||(gh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(r,e){const t=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,l=e.indexOf(r)!==-1;return t||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e,t,n,o,l,u,h,p,m,v,x,w=!0,k=!1){this.url_=e,this.method_=t,this.headers_=n,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=p,this.timeout_=m,this.progressCallback_=v,this.connectionFactory_=x,this.retry=w,this.isUsingEmulator=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,E)=>{this.resolve_=R,this.reject_=E,this.start_()})}start_(){const e=(n,o)=>{if(o){n(!1,new Ed(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=h=>{const p=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,m)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const h=l.getErrorCode()===gh.NO_ERROR,p=l.getStatus();if(!h||r3(p,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===gh.ABORT;n(!1,new Ed(!1,null,v));return}const m=this.successCodes_.indexOf(p)!==-1;n(!0,new Ed(m,l))})},t=(n,o)=>{const l=this.resolve_,u=this.reject_,h=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(h,h.getResponse());e3(p)?l(p):l()}catch(p){u(p)}else if(h!==null){const p=WP();p.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,p)):u(p)}else if(o.canceled){const p=this.appDelete_?P_():GP();u(p)}else{const p=qP();u(p)}};this.canceled_?t(!1,new Ed(!1,null,!0)):this.backoffId_=JP(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ZP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ed{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function s3(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function i3(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function o3(r,e){e&&(r["X-Firebase-GMPID"]=e)}function a3(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function l3(r,e,t,n,o,l,u=!0,h=!1){const p=t3(r.urlParams),m=r.url+p,v=Object.assign({},r.headers);return o3(v,e),s3(v,t),i3(v,l),a3(v,n),new n3(m,r.method,v,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,u,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function u3(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,t){this._service=e,t instanceof Bn?this._location=t:this._location=Bn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new xh(e,t)}get root(){const e=new Bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return u3(this._location.path)}get storage(){return this._service}get parent(){const e=c3(this._location.path);if(e===null)return null;const t=new Bn(this._location.bucket,e);return new xh(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw QP(e)}}function Rb(r,e){const t=e?.[BP];return t==null?null:Bn.makeFromBucketSpec(t,r)}function d3(r,e,t,n={}){r.host=`${e}:${t}`;const o=ea(e);o&&(ug(`https://${r.host}/b`),dg("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:l}=n;l&&(r._overrideAuthToken=typeof l=="string"?l:u2(l,r.app.options.projectId))}class h3{constructor(e,t,n,o,l,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=o,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=R_,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=zP,this._maxUploadRetryTime=HP,this._requests=new Set,o!=null?this._bucket=Bn.makeFromBucketSpec(o,this._host):this._bucket=Rb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Bn.makeFromBucketSpec(this._url,e):this._bucket=Rb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ab("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ab("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(on(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new xh(this,e)}_makeRequest(e,t,n,o,l=!0){if(this._deleted)return new XP(P_());{const u=l3(e,this._appId,n,o,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[n,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,o).getPromise()}}const Pb="@firebase/storage",Db="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="storage";function f3(r=pg(),e){r=Jt(r);const n=kh(r,D_).getImmediate({identifier:e}),o=a2("storage");return o&&p3(n,...o),n}function p3(r,e,t,n={}){d3(r,e,t,n)}function m3(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),n=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new h3(t,n,o,e,ta)}function g3(){Wo(new Xi(D_,m3,"PUBLIC").setMultipleInstances(!0)),bs(Pb,Db,""),bs(Pb,Db,"esm2020")}g3();const x3={apiKey:"AIzaSyAt9qNTIn6j9ECSjXopdeH8onjyt5oNjlE",authDomain:"snag-4baa7.firebaseapp.com",projectId:"snag-4baa7",storageBucket:"snag-4baa7.firebasestorage.app",messagingSenderId:"424600284606",appId:"1:424600284606:web:3b4f1ba8b4e8bd94c91def"},ux=f2(x3),Nn=C5(ux),It=SP(ux);f3(ux);const M_=_.createContext(null);function v3({children:r}){const[e,t]=_.useState(0),[n,o]=_.useState(!0);_.useEffect(()=>{const u=Nn.onAuthStateChanged(h=>{if(h){console.log(" Logged in user:",h.uid);const p=pr(It,"users",h.uid),m=T_(p,v=>{if(v.exists()){const x=v.data();t(x.credits||0)}o(!1)});return()=>m()}else t(40),o(!1)});return()=>u()},[]);const l=async u=>{const h=Nn.currentUser;if(!h)return console.warn(" No user signed in");const p=pr(It,"users",h.uid);await ri(p,{credits:u}),t(u)};return i.jsx(M_.Provider,{value:{credits:e,setCredits:l,loading:n},children:r})}function dx(){return _.useContext(M_)}const y3="/Snag/assets/Snag-Dzdb2dIV.png",b3={BookOpen:hm,Armchair:Md,Package:ys,Beaker:bw,Music:zS,Shirt:fm,Laptop:jw,Sparkles:lk,UtensilsCrossed:Rw,PartyPopper:GS,Briefcase:Yj,Paintbrush:kw,Camera:ww},w3=["Textbooks","Furniture","Apparel","Dorm","Lab/Tech","Electronics","Kitchen","Seasonal"],_3=[{id:"halloween",label:"Halloween",color:"from-orange-500 to-orange-600"},{id:"finals",label:"Finals",color:"from-blue-500 to-blue-600"},{id:"movein",label:"Move-Out",color:"from-green-500 to-green-600"},{id:"graduation",label:"Graduation",color:"from-purple-500 to-purple-600"}];function Mb({navigateTo:r,notificationCount:e=0}){const[t,n]=_.useState([]),[o,l]=_.useState(!0),[u,h]=_.useState(""),[p,m]=_.useState(!1),{darkMode:v}=St(),[x,w]=_.useState("credits"),[k,R]=_.useState(""),[E,T]=_.useState([]),[O,B]=_.useState([]),[$,F]=_.useState(()=>localStorage.getItem("viewMode")||"list"),[W,X]=_.useState(!1),I=ne=>{E.includes(ne)?T(E.filter(le=>le!==ne)):T([...E,ne])},S=ne=>{O.includes(ne)?B(O.filter(le=>le!==ne)):B([...O,ne])},P=ne=>{F(ne),localStorage.setItem("viewMode",ne)};if(_.useEffect(()=>{async function ne(){try{console.log("Fetching listings...");const le=await cx(wl(It,"listings"));console.log("Snapshot:",le);const ee=le.docs.map(G=>({id:G.id,...G.data()}));console.log("Fetched data:",ee),n(ee)}catch(le){console.error(" Firestore error:",le),h("Failed to load listings.")}finally{l(!1)}}ne()},[]),o)return i.jsx("div",{children:"Loading listings..."});if(u)return i.jsx("div",{children:u});const D=t.filter(ne=>!(x==="trade"&&!ne.isBarter||k&&!ne.title.toLowerCase().includes(k.toLowerCase())||E.length>0&&!ne.tags.some(le=>E.includes(le)))),M="no listing found",{credits:L,setCredits:A}=dx();return i.jsxs("div",{className:`min-h-screen pb-8 ${v?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"}`,children:[i.jsx("div",{className:`sticky top-0 z-20 backdrop-blur-xl ${v?"bg-black/70 border-white/10":"bg-white/10 border-white/30"} border-b shadow-sm`,children:i.jsxs("div",{className:"max-w-md mx-auto px-4 py-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"flex items-center gap-3",children:i.jsx("div",{className:"flex items-center gap-3",children:i.jsx("img",{src:y3,className:"w-10 h-10 object-contain",alt:"Snag logo"})})}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("button",{onClick:()=>X(!0),className:`backdrop-blur-xl ${v?"bg-white/10 border-white/20":"bg-white/60 border-white/40"} rounded-full px-3 py-1.5 border shadow-sm flex items-center gap-2 hover:opacity-80 transition-opacity`,children:[i.jsx(Kt,{className:"w-4 h-4 text-yellow-500"}),i.jsx("span",{className:`font-medium ${v?"text-white":"text-[#222]"}`,children:L})]}),i.jsxs("button",{onClick:()=>r("notifications"),className:`relative p-2 rounded-full ${v?"hover:bg-white/10":"hover:bg-white/50"} transition-colors`,children:[i.jsx(rl,{className:`w-6 h-6 ${v?"text-white":"text-[#222]"}`}),e>0&&i.jsx("div",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-red-500 rounded-full"})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Zo,{className:`absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 ${v?"text-gray-400":"text-[#888]"}`}),i.jsx("input",{type:"text",placeholder:"Search items or descriptions",value:k,onChange:ne=>R(ne.target.value),className:`w-full pl-12 pr-4 py-2.5 rounded-full backdrop-blur-xl ${v?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"bg-white/80 border-white/60 text-[#222] placeholder:text-[#888]"} border shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-400/50`})]}),i.jsx("button",{onClick:()=>m(!p),className:`p-2 rounded-full transition-all border ${v?"bg-white/10 border-white/20 hover:bg-white/20":"bg-white/80 border-white/60 hover:bg-white"}`,children:i.jsx(pS,{className:`w-5 h-5 transition-transform ${p?"rotate-90 text-purple-600":v?"text-gray-600":"text-[#555]"}`})})]}),i.jsx("div",{className:"mb-3",children:i.jsx(wk,{value:x,onChange:w})}),p&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex items-center gap-2 overflow-x-auto pb-2 mb-3 no-scrollbar",children:_3.map(ne=>i.jsx("button",{onClick:()=>S(ne.id),className:`px-3 py-1 rounded-full text-xs font-medium whitespace-nowrap transition-all ${O.includes(ne.id)?"bg-gradient-to-r "+ne.color+" text-white shadow-md":v?"bg-white/10 text-gray-300 border border-white/20":"bg-white/60 text-[#555] border border-white/60"}`,children:ne.label},ne.id))}),i.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[i.jsx("div",{className:"flex-1 overflow-x-auto no-scrollbar",children:i.jsx("div",{className:"flex items-center gap-2",children:w3.map(ne=>i.jsx("button",{onClick:()=>I(ne),className:`px-3 py-1 rounded-full border transition-all text-xs whitespace-nowrap ${E.includes(ne)?"bg-gradient-to-r from-purple-500 to-purple-600 text-white border-0 shadow-md":v?"bg-white/10 text-gray-300 border-white/20 hover:bg-white/15":"backdrop-blur-xl bg-white/60 text-[#555] border-white/60 hover:bg-white/80"}`,children:ne},ne))})}),i.jsxs("div",{className:`flex items-center gap-1 ${v?"bg-white/10 border-white/20":"bg-white/60 border-white/60"} border rounded-full p-0.5 flex-shrink-0`,children:[i.jsx("button",{onClick:()=>P("list"),className:`p-1.5 rounded-full ${$==="list"?"bg-purple-600 text-white":v?"text-gray-300":"text-[#555]"}`,children:i.jsx(ig,{className:"w-3.5 h-3.5"})}),i.jsx("button",{onClick:()=>P("grid"),className:`p-1.5 rounded-full ${$==="grid"?"bg-purple-600 text-white":v?"text-gray-300":"text-[#555]"}`,children:i.jsx(sg,{className:"w-3.5 h-3.5"})})]})]})]})]})}),i.jsx("div",{className:"max-w-md mx-auto px-4 mt-4",children:D.length!==0?$==="list"?i.jsx("div",{className:"space-y-3",children:D.map(ne=>i.jsx(N3,{item:ne,navigateTo:r,darkMode:v},ne.id))}):i.jsx("div",{className:"grid grid-cols-2 gap-3",children:D.map(ne=>i.jsx(E3,{item:ne,navigateTo:r,darkMode:v},ne.id))}):i.jsx("div",{children:M})}),W&&i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:()=>X(!1),children:[i.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),i.jsxs("div",{className:`relative w-full max-w-sm ${v?"bg-gray-900 border-white/20":"bg-white"} rounded-3xl p-6 border shadow-2xl`,onClick:ne=>ne.stopPropagation(),children:[i.jsx("div",{className:"flex justify-end mb-2",children:i.jsx("button",{onClick:()=>X(!1),className:`p-1 rounded-full ${v?"hover:bg-white/10":"hover:bg-gray-100"} transition-colors`,children:i.jsx(Sn,{className:`w-5 h-5 ${v?"text-gray-400":"text-gray-600"}`})})}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-yellow-400 to-yellow-600 flex items-center justify-center",children:i.jsx(Kt,{className:"w-8 h-8 text-white"})})}),i.jsx("h3",{className:`text-center font-semibold text-xl mb-3 ${v?"text-white":"text-[#222]"}`,children:"What Are Credits?"}),i.jsx("p",{className:`text-center mb-6 ${v?"text-gray-300":"text-[#555]"}`,children:"Credits are Snag's currency system. You earn credits by posting items, completing trades, or helping others. Use them to purchase items from other students!"}),i.jsx("div",{className:"flex justify-center",children:i.jsx("button",{onClick:()=>X(!1),className:"px-8 py-2.5 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-lg transition-transform active:scale-95",children:"Got It"})})]})]})]})}function N3({item:r,navigateTo:e,darkMode:t}){if(!r.status)return null;const n=typeof r.icon=="string"?r.icon:void 0,o=b3[n||"Package"]||ys;return console.log("Badge:",Pr),console.log("Avatar:",Wn),console.log("AvatarFallback:",qn),console.log("Coins icon:",Kt),console.log("ArrowLeftRight icon:",Et),i.jsxs("button",{onClick:()=>e("item-detail",r),className:`w-full backdrop-blur-2xl ${t?"bg-white/10 border-white/20 hover:bg-white/15":"bg-white/70 border-white/60 hover:shadow-[0_8px_24px_rgba(139,92,246,0.15)]"} rounded-2xl border shadow-[0_4px_16px_rgba(139,92,246,0.08)] overflow-hidden transition-all active:scale-[0.98]`,children:[i.jsxs("div",{className:"relative h-24",children:[i.jsx("img",{src:r.images[0],alt:r.title,className:"w-full h-full object-cover"}),i.jsxs("div",{className:"absolute top-2 left-2 flex flex-col gap-1 z-20",children:[r.pendingConfirmation&&i.jsx(Pr,{className:`\r
                      bg-white\r
                      text-purple-700\r
                      border border-purple-300\r
                      shadow-md\r
                      flex items-center gap-1\r
                      py-1 px-2\r
                      rounded-full\r
                      font-semibold\r
                      text-[10px]\r
                      tracking-wide\r
                      uppercase\r
                      animate-[pulse_2s_ease-in-out_infinite]\r
                    `,children:"Pending"}),r.isBarter&&i.jsxs(Pr,{className:`\r
                                backdrop-blur-xl bg-gradient-to-r from-purple-500 to-purple-600\r
                                text-white border-0 shadow-lg\r
                                flex items-center gap-1.5\r
                                py-1 px-2 rounded-full text-xs\r
                              `,children:[i.jsx(Et,{className:"w-3.5 h-3.5"}),"Trade"]})]}),!r.isBarter&&i.jsx("div",{className:"absolute top-2 right-2",children:i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-black/60":"bg-white/90"} rounded-full px-2.5 py-1 border border-white/60 shadow-md flex items-center gap-1`,children:[i.jsx(Kt,{className:"w-3.5 h-3.5 text-yellow-500"}),i.jsx("span",{className:`text-sm font-medium ${t?"text-white":"text-[#222]"}`,children:r.credits})]})})]}),i.jsxs("div",{className:"p-2 text-left",children:[i.jsx("h3",{className:`font-semibold text-sm mb-1 line-clamp-2 ${t?"text-white":"text-[#222]"}`,children:r.title}),i.jsx("div",{className:"flex items-center gap-1.5 mb-2",children:r.tags.slice(0,2).map(l=>i.jsxs("div",{className:"backdrop-blur-xl bg-purple-100/60 rounded-full px-2 py-0.5 border border-purple-200/60 flex items-center gap-1",children:[i.jsx(o,{className:"w-3 h-3 text-purple-600"}),i.jsx("span",{className:"text-purple-700 text-[10px] font-medium",children:l})]},l))}),i.jsxs("div",{onClick:l=>{l.stopPropagation(),e("user-profile",r.seller)},className:"flex items-center gap-1.5 mb-1.5 hover:opacity-80 transition-opacity cursor-pointer",children:[i.jsx(Wn,{className:"w-5 h-5",children:i.jsx(qn,{className:"bg-gradient-to-br from-purple-400 to-purple-500 text-white text-[10px] font-medium",children:r.seller.name.charAt(0)})}),i.jsx("span",{className:`text-xs ${t?"text-gray-300":"text-[#555]"}`,children:r.seller.name}),r.seller.verified&&i.jsx("div",{className:"w-3.5 h-3.5 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center",children:i.jsx("span",{className:"text-white text-[8px]",children:""})}),i.jsxs("span",{className:`text-xs ${t?"text-gray-500":"text-[#999]"}`,children:[" ",r.seller.rating,"   ",r.seller.trades," trades"]})]}),i.jsxs("p",{className:`text-xs ${t?"text-gray-500":"text-[#999]"}`,children:[r.meetingSpot,"  ",r.meetingTime]})]})]})}function E3({item:r,navigateTo:e,darkMode:t}){return r.status?i.jsxs("button",{onClick:()=>e("item-detail",r),className:`backdrop-blur-2xl ${t?"bg-white/10 border-white/20 hover:bg-white/15":"bg-white/70 border-white/60 hover:shadow-[0_8px_24px_rgba(139,92,246,0.15)]"} rounded-2xl border shadow-[0_4px_16px_rgba(139,92,246,0.08)] overflow-hidden transition-all active:scale-[0.98]`,children:[i.jsxs("div",{className:"relative aspect-square",children:[i.jsx("img",{src:r.images[0],alt:r.title,className:"w-full h-full object-cover"}),r.isBarter&&i.jsx("div",{className:"absolute top-2 left-2",children:i.jsxs(Pr,{className:"backdrop-blur-xl bg-gradient-to-r from-purple-500 to-purple-600 text-white border-0 shadow-md font-medium flex items-center gap-1 py-0.5 px-2",children:[i.jsx(Et,{className:"w-3 h-3"}),i.jsx("span",{className:"text-[10px]",children:"Trade"})]})}),!r.isBarter&&i.jsx("div",{className:"absolute top-2 right-2",children:i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-black/60":"bg-white/90"} rounded-full px-2 py-0.5 border border-white/60 shadow-md flex items-center gap-0.5`,children:[i.jsx(Kt,{className:"w-3 h-3 text-yellow-500"}),i.jsx("span",{className:`text-xs font-medium ${t?"text-white":"text-[#222]"}`,children:r.credits})]})})]}),i.jsxs("div",{className:"p-2.5",children:[i.jsx("h3",{className:`font-semibold text-xs mb-1 line-clamp-2 ${t?"text-white":"text-[#222]"}`,children:r.title}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsxs("span",{className:`text-[10px] ${t?"text-gray-400":"text-[#999]"}`,children:[r.seller.rating," "]}),i.jsxs("span",{className:`text-[10px] ${t?"text-gray-400":"text-[#999]"}`,children:[" ",r.seller.trades]})]})]})]}):null}const j3=["Textbooks","Furniture","Apparel","Dorm","Lab/Tech","Electronics","Kitchen","Seasonal"],S3=[{id:"halloween",label:"Halloween",color:"from-orange-500 to-orange-600"},{id:"finals",label:"Finals",color:"from-blue-500 to-blue-600"},{id:"movein",label:"Move-Out",color:"from-green-500 to-green-600"},{id:"graduation",label:"Graduation",color:"from-purple-500 to-purple-600"}],k3=[{id:1,title:"Vintage Denim Jacket",description:"Size M, excellent condition",credits:0,images:["https://images.unsplash.com/photo-1551028719-00167b16eac5?w=400"],tags:["Apparel","Vintage"],seller:{name:"Emma L.",verified:!0,trustScore:4.8,trades:24},location:"Main Library",postedTime:"2h ago",isBarter:!0,eventTag:"halloween"},{id:2,title:"Graphing Calculator",description:"TI-84 Plus, like new",credits:0,images:["https://images.unsplash.com/photo-1611532736597-de2d4265fba3?w=400"],tags:["Electronics","School"],seller:{name:"Alex P.",verified:!0,trustScore:4.9,trades:31},location:"Student Union",postedTime:"5h ago",isBarter:!0,eventTag:"finals"},{id:3,title:"Mini Fridge",description:"Perfect for dorm, works great",credits:0,images:["https://images.unsplash.com/photo-1584568694244-14fbdf83bd30?w=400"],tags:["Furniture","Dorm"],seller:{name:"Sarah K.",verified:!0,trustScore:5,trades:18},location:"Campus Center",postedTime:"1d ago",isBarter:!0,eventTag:"movein"},{id:4,title:"Textbook Bundle",description:"Engineering 101-103 set",credits:0,images:["https://images.unsplash.com/photo-1456513080510-7bf3a84b82f8?w=400"],tags:["Textbooks","School"],seller:{name:"Jordan T.",verified:!0,trustScore:4.7,trades:15},location:"Library Entrance",postedTime:"3h ago",isBarter:!0,eventTag:"graduation"}];function T3({navigateTo:r}){const{darkMode:e}=St(),[t,n]=_.useState([]),[o,l]=_.useState([]),[u,h]=_.useState("list"),p=x=>{t.includes(x)?n(t.filter(w=>w!==x)):n([...t,x])},m=x=>{o.includes(x)?l(o.filter(w=>w!==x)):l([...o,x])},v=k3.filter(x=>!(t.length>0&&!t.includes(x.eventTag)||o.length>0&&!x.tags.some(w=>o.includes(w))));return i.jsxs("div",{className:`min-h-screen pb-8 ${e?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"}`,children:[i.jsx("div",{className:`sticky top-0 z-20 backdrop-blur-2xl ${e?"bg-black/70 border-white/10":"bg-white/70 border-white/40"} border-b`,children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsx("h1",{className:`font-semibold text-xl ${e?"text-purple-400":"text-[#9333ea]"}`,children:"Trade"})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 pt-4 pb-3 space-y-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Zo,{className:`absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 ${e?"text-gray-400":"text-[#999]"}`}),i.jsx("input",{type:"text",placeholder:"Search trade items...",className:`w-full backdrop-blur-xl ${e?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"bg-white/60 border-white/60 text-[#222] placeholder:text-[#999]"} border rounded-full pl-12 pr-4 py-3 focus:outline-none focus:ring-2 focus:ring-purple-500`})]}),i.jsx("div",{className:"flex items-center gap-2 overflow-x-auto pb-1 no-scrollbar",children:S3.map(x=>i.jsx("button",{onClick:()=>p(x.id),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all ${t.includes(x.id)?"bg-gradient-to-r "+x.color+" text-white shadow-md":e?"bg-white/10 text-gray-300 border border-white/20":"bg-white/60 text-[#555] border border-white/60"}`,children:x.label},x.id))}),i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx("div",{className:"flex-1 overflow-x-auto no-scrollbar",children:i.jsx("div",{className:"flex items-center gap-2",children:j3.map(x=>i.jsx("button",{onClick:()=>m(x),className:`px-3 py-1.5 rounded-full border transition-all text-sm font-medium whitespace-nowrap ${o.includes(x)?"bg-gradient-to-r from-purple-500 to-purple-600 text-white border-0 shadow-md":e?"bg-white/10 text-gray-300 border-white/20 hover:bg-white/15":"bg-white/60 text-[#555] border-white/60 hover:bg-white/80"}`,children:x},x))})}),i.jsxs("div",{className:`flex items-center gap-1 ${e?"bg-white/10 border-white/20":"bg-white/60 border-white/60"} border rounded-full p-1 flex-shrink-0`,children:[i.jsx("button",{onClick:()=>h("list"),className:`p-2 rounded-full transition-colors ${u==="list"?"bg-purple-600 text-white":e?"text-gray-300":"text-[#555]"}`,children:i.jsx(ig,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>h("grid"),className:`p-2 rounded-full transition-colors ${u==="grid"?"bg-purple-600 text-white":e?"text-gray-300":"text-[#555]"}`,children:i.jsx(sg,{className:"w-4 h-4"})})]})]})]}),i.jsx("div",{className:"max-w-md mx-auto px-4 pb-4",children:u==="list"?i.jsx("div",{className:"space-y-3",children:v.map(x=>i.jsx(C3,{item:x,navigateTo:r,darkMode:e},x.id))}):i.jsx("div",{className:"grid grid-cols-2 gap-3",children:v.map(x=>i.jsx(I3,{item:x,navigateTo:r,darkMode:e},x.id))})})]})}function C3({item:r,navigateTo:e,darkMode:t}){return i.jsxs("button",{onClick:()=>e("item-detail",r),className:`w-full backdrop-blur-2xl ${t?"bg-white/10 border-white/20 hover:bg-white/15":"bg-white/70 border-white/60 hover:shadow-[0_8px_24px_rgba(139,92,246,0.15)]"} rounded-2xl border shadow-[0_4px_16px_rgba(139,92,246,0.08)] overflow-hidden transition-all active:scale-[0.98]`,children:[i.jsxs("div",{className:"relative h-40",children:[i.jsx("img",{src:r.images[0],alt:r.title,className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute top-2 left-2",children:i.jsxs(Pr,{className:"backdrop-blur-xl bg-gradient-to-r from-purple-500 to-purple-600 text-white border-0 shadow-lg font-medium flex items-center gap-1.5 py-1",children:[i.jsx(Et,{className:"w-3.5 h-3.5"}),i.jsx("span",{className:"text-xs",children:"Trade"})]})})]}),i.jsxs("div",{className:"p-3 text-left",children:[i.jsx("h3",{className:`font-semibold text-sm mb-1 line-clamp-1 ${t?"text-white":"text-[#222]"}`,children:r.title}),i.jsxs("button",{onClick:n=>{n.stopPropagation(),e("user-profile",r.seller)},className:"flex items-center gap-1.5 mb-2 hover:opacity-80 transition-opacity",children:[i.jsx(Wn,{className:"w-5 h-5",children:i.jsx(qn,{className:"bg-gradient-to-br from-purple-400 to-purple-500 text-white text-[10px] font-medium",children:r.seller.name.charAt(0)})}),i.jsx("span",{className:`text-xs ${t?"text-gray-300":"text-[#555]"}`,children:r.seller.name}),r.seller.verified&&i.jsx("div",{className:"w-3.5 h-3.5 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center",children:i.jsx("span",{className:"text-white text-[8px]",children:""})}),i.jsxs("span",{className:`text-xs ${t?"text-gray-500":"text-[#999]"}`,children:[" ",r.seller.trustScore,"   ",r.seller.trades," trades"]})]}),i.jsxs("p",{className:`text-xs ${t?"text-gray-500":"text-[#999]"}`,children:[r.location,"  ",r.postedTime]})]})]})}function I3({item:r,navigateTo:e,darkMode:t}){return i.jsxs("button",{onClick:()=>e("item-detail",r),className:`backdrop-blur-2xl ${t?"bg-white/10 border-white/20 hover:bg-white/15":"bg-white/70 border-white/60 hover:shadow-[0_8px_24px_rgba(139,92,246,0.15)]"} rounded-2xl border shadow-[0_4px_16px_rgba(139,92,246,0.08)] overflow-hidden transition-all active:scale-[0.98]`,children:[i.jsxs("div",{className:"relative aspect-square",children:[i.jsx("img",{src:r.images[0],alt:r.title,className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute top-2 left-2",children:i.jsxs(Pr,{className:"backdrop-blur-xl bg-gradient-to-r from-purple-500 to-purple-600 text-white border-0 shadow-md font-medium flex items-center gap-1 py-0.5 px-2",children:[i.jsx(Et,{className:"w-3 h-3"}),i.jsx("span",{className:"text-[10px]",children:"Trade"})]})})]}),i.jsxs("div",{className:"p-2.5",children:[i.jsx("h3",{className:`font-semibold text-xs mb-1 line-clamp-2 ${t?"text-white":"text-[#222]"}`,children:r.title}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsxs("span",{className:`text-[10px] ${t?"text-gray-400":"text-[#999]"}`,children:[r.seller.trustScore," "]}),i.jsxs("span",{className:`text-[10px] ${t?"text-gray-400":"text-[#999]"}`,children:[" ",r.seller.trades]})]})]})]})}function Ct({className:r,type:e,...t}){return i.jsx("input",{type:e,"data-slot":"input",className:Qt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...t})}function Uc({className:r,...e}){return i.jsx("textarea",{"data-slot":"textarea",className:Qt("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),...e})}function Ob(r,[e,t]){return Math.min(t,Math.max(e,r))}function st(r,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(r?.(o),t===!1||!o.defaultPrevented)return e?.(o)}}function El(r,e=[]){let t=[];function n(l,u){const h=_.createContext(u),p=t.length;t=[...t,u];const m=x=>{const{scope:w,children:k,...R}=x,E=w?.[r]?.[p]||h,T=_.useMemo(()=>R,Object.values(R));return i.jsx(E.Provider,{value:T,children:k})};m.displayName=l+"Provider";function v(x,w){const k=w?.[r]?.[p]||h,R=_.useContext(k);if(R)return R;if(u!==void 0)return u;throw new Error(`\`${x}\` must be used within \`${l}\``)}return[m,v]}const o=()=>{const l=t.map(u=>_.createContext(u));return function(h){const p=h?.[r]||l;return _.useMemo(()=>({[`__scope${r}`]:{...h,[r]:p}}),[h,p])}};return o.scopeName=r,[n,A3(o,...e)]}function A3(...r){const e=r[0];if(r.length===1)return e;const t=()=>{const n=r.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const u=n.reduce((h,{useScope:p,scopeName:m})=>{const x=p(l)[`__scope${m}`];return{...h,...x}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}function Lb(r){const e=R3(r),t=_.forwardRef((n,o)=>{const{children:l,...u}=n,h=_.Children.toArray(l),p=h.find(D3);if(p){const m=p.props.children,v=h.map(x=>x===p?_.Children.count(m)>1?_.Children.only(null):_.isValidElement(m)?m.props.children:null:x);return i.jsx(e,{...u,ref:o,children:_.isValidElement(m)?_.cloneElement(m,void 0,v):null})}return i.jsx(e,{...u,ref:o,children:l})});return t.displayName=`${r}.Slot`,t}function R3(r){const e=_.forwardRef((t,n)=>{const{children:o,...l}=t;if(_.isValidElement(o)){const u=O3(o),h=M3(l,o.props);return o.type!==_.Fragment&&(h.ref=n?Wc(n,u):u),_.cloneElement(o,h)}return _.Children.count(o)>1?_.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var P3=Symbol("radix.slottable");function D3(r){return _.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===P3}function M3(r,e){const t={...e};for(const n in e){const o=r[n],l=e[n];/^on[A-Z]/.test(n)?o&&l?t[n]=(...h)=>{const p=l(...h);return o(...h),p}:o&&(t[n]=o):n==="style"?t[n]={...o,...l}:n==="className"&&(t[n]=[o,l].filter(Boolean).join(" "))}return{...r,...t}}function O3(r){let e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}function O_(r){const e=r+"CollectionProvider",[t,n]=El(e),[o,l]=t(e,{collectionRef:{current:null},itemMap:new Map}),u=E=>{const{scope:T,children:O}=E,B=xe.useRef(null),$=xe.useRef(new Map).current;return i.jsx(o,{scope:T,itemMap:$,collectionRef:B,children:O})};u.displayName=e;const h=r+"CollectionSlot",p=Lb(h),m=xe.forwardRef((E,T)=>{const{scope:O,children:B}=E,$=l(h,O),F=Ot(T,$.collectionRef);return i.jsx(p,{ref:F,children:B})});m.displayName=h;const v=r+"CollectionItemSlot",x="data-radix-collection-item",w=Lb(v),k=xe.forwardRef((E,T)=>{const{scope:O,children:B,...$}=E,F=xe.useRef(null),W=Ot(T,F),X=l(v,O);return xe.useEffect(()=>(X.itemMap.set(F,{ref:F,...$}),()=>void X.itemMap.delete(F))),i.jsx(w,{[x]:"",ref:W,children:B})});k.displayName=v;function R(E){const T=l(r+"CollectionConsumer",E);return xe.useCallback(()=>{const B=T.collectionRef.current;if(!B)return[];const $=Array.from(B.querySelectorAll(`[${x}]`));return Array.from(T.itemMap.values()).sort((X,I)=>$.indexOf(X.ref.current)-$.indexOf(I.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:u,Slot:m,ItemSlot:k},R,n]}var L3=_.createContext(void 0);function hx(r){const e=_.useContext(L3);return r||e||"ltr"}function V3(r){const e=$3(r),t=_.forwardRef((n,o)=>{const{children:l,...u}=n,h=_.Children.toArray(l),p=h.find(U3);if(p){const m=p.props.children,v=h.map(x=>x===p?_.Children.count(m)>1?_.Children.only(null):_.isValidElement(m)?m.props.children:null:x);return i.jsx(e,{...u,ref:o,children:_.isValidElement(m)?_.cloneElement(m,void 0,v):null})}return i.jsx(e,{...u,ref:o,children:l})});return t.displayName=`${r}.Slot`,t}function $3(r){const e=_.forwardRef((t,n)=>{const{children:o,...l}=t;if(_.isValidElement(o)){const u=z3(o),h=B3(l,o.props);return o.type!==_.Fragment&&(h.ref=n?Wc(n,u):u),_.cloneElement(o,h)}return _.Children.count(o)>1?_.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var F3=Symbol("radix.slottable");function U3(r){return _.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===F3}function B3(r,e){const t={...e};for(const n in e){const o=r[n],l=e[n];/^on[A-Z]/.test(n)?o&&l?t[n]=(...h)=>{const p=l(...h);return o(...h),p}:o&&(t[n]=o):n==="style"?t[n]={...o,...l}:n==="className"&&(t[n]=[o,l].filter(Boolean).join(" "))}return{...r,...t}}function z3(r){let e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}var H3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],at=H3.reduce((r,e)=>{const t=V3(`Primitive.${e}`),n=_.forwardRef((o,l)=>{const{asChild:u,...h}=o,p=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(p,{...h,ref:l})});return n.displayName=`Primitive.${e}`,{...r,[e]:n}},{});function W3(r,e){r&&qc.flushSync(()=>r.dispatchEvent(e))}function q3(r,e=globalThis?.document){const t=ni(r);_.useEffect(()=>{const n=o=>{o.key==="Escape"&&t(o)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[t,e])}var G3="DismissableLayer",zm="dismissableLayer.update",K3="dismissableLayer.pointerDownOutside",Y3="dismissableLayer.focusOutside",Vb,L_=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),V_=_.forwardRef((r,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:u,onDismiss:h,...p}=r,m=_.useContext(L_),[v,x]=_.useState(null),w=v?.ownerDocument??globalThis?.document,[,k]=_.useState({}),R=Ot(e,I=>x(I)),E=Array.from(m.layers),[T]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),O=E.indexOf(T),B=v?E.indexOf(v):-1,$=m.layersWithOutsidePointerEventsDisabled.size>0,F=B>=O,W=J3(I=>{const S=I.target,P=[...m.branches].some(D=>D.contains(S));!F||P||(o?.(I),u?.(I),I.defaultPrevented||h?.())},w),X=Z3(I=>{const S=I.target;[...m.branches].some(D=>D.contains(S))||(l?.(I),u?.(I),I.defaultPrevented||h?.())},w);return q3(I=>{B===m.layers.size-1&&(n?.(I),!I.defaultPrevented&&h&&(I.preventDefault(),h()))},w),_.useEffect(()=>{if(v)return t&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(Vb=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(v)),m.layers.add(v),$b(),()=>{t&&m.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=Vb)}},[v,w,t,m]),_.useEffect(()=>()=>{v&&(m.layers.delete(v),m.layersWithOutsidePointerEventsDisabled.delete(v),$b())},[v,m]),_.useEffect(()=>{const I=()=>k({});return document.addEventListener(zm,I),()=>document.removeEventListener(zm,I)},[]),i.jsx(at.div,{...p,ref:R,style:{pointerEvents:$?F?"auto":"none":void 0,...r.style},onFocusCapture:st(r.onFocusCapture,X.onFocusCapture),onBlurCapture:st(r.onBlurCapture,X.onBlurCapture),onPointerDownCapture:st(r.onPointerDownCapture,W.onPointerDownCapture)})});V_.displayName=G3;var Q3="DismissableLayerBranch",X3=_.forwardRef((r,e)=>{const t=_.useContext(L_),n=_.useRef(null),o=Ot(e,n);return _.useEffect(()=>{const l=n.current;if(l)return t.branches.add(l),()=>{t.branches.delete(l)}},[t.branches]),i.jsx(at.div,{...r,ref:o})});X3.displayName=Q3;function J3(r,e=globalThis?.document){const t=ni(r),n=_.useRef(!1),o=_.useRef(()=>{});return _.useEffect(()=>{const l=h=>{if(h.target&&!n.current){let p=function(){$_(K3,t,m,{discrete:!0})};const m={originalEvent:h};h.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=p,e.addEventListener("click",o.current,{once:!0})):p()}else e.removeEventListener("click",o.current);n.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",l),e.removeEventListener("click",o.current)}},[e,t]),{onPointerDownCapture:()=>n.current=!0}}function Z3(r,e=globalThis?.document){const t=ni(r),n=_.useRef(!1);return _.useEffect(()=>{const o=l=>{l.target&&!n.current&&$_(Y3,t,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,t]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function $b(){const r=new CustomEvent(zm);document.dispatchEvent(r)}function $_(r,e,t,{discrete:n}){const o=t.originalEvent.target,l=new CustomEvent(r,{bubbles:!1,cancelable:!0,detail:t});e&&o.addEventListener(r,e,{once:!0}),n?W3(o,l):o.dispatchEvent(l)}var tm=0;function e6(){_.useEffect(()=>{const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",r[0]??Fb()),document.body.insertAdjacentElement("beforeend",r[1]??Fb()),tm++,()=>{tm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),tm--}},[])}function Fb(){const r=document.createElement("span");return r.setAttribute("data-radix-focus-guard",""),r.tabIndex=0,r.style.outline="none",r.style.opacity="0",r.style.position="fixed",r.style.pointerEvents="none",r}var rm="focusScope.autoFocusOnMount",nm="focusScope.autoFocusOnUnmount",Ub={bubbles:!1,cancelable:!0},t6="FocusScope",F_=_.forwardRef((r,e)=>{const{loop:t=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:l,...u}=r,[h,p]=_.useState(null),m=ni(o),v=ni(l),x=_.useRef(null),w=Ot(e,E=>p(E)),k=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(n){let E=function($){if(k.paused||!h)return;const F=$.target;h.contains(F)?x.current=F:Fi(x.current,{select:!0})},T=function($){if(k.paused||!h)return;const F=$.relatedTarget;F!==null&&(h.contains(F)||Fi(x.current,{select:!0}))},O=function($){if(document.activeElement===document.body)for(const W of $)W.removedNodes.length>0&&Fi(h)};document.addEventListener("focusin",E),document.addEventListener("focusout",T);const B=new MutationObserver(O);return h&&B.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",T),B.disconnect()}}},[n,h,k.paused]),_.useEffect(()=>{if(h){zb.add(k);const E=document.activeElement;if(!h.contains(E)){const O=new CustomEvent(rm,Ub);h.addEventListener(rm,m),h.dispatchEvent(O),O.defaultPrevented||(r6(a6(U_(h)),{select:!0}),document.activeElement===E&&Fi(h))}return()=>{h.removeEventListener(rm,m),setTimeout(()=>{const O=new CustomEvent(nm,Ub);h.addEventListener(nm,v),h.dispatchEvent(O),O.defaultPrevented||Fi(E??document.body,{select:!0}),h.removeEventListener(nm,v),zb.remove(k)},0)}}},[h,m,v,k]);const R=_.useCallback(E=>{if(!t&&!n||k.paused)return;const T=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,O=document.activeElement;if(T&&O){const B=E.currentTarget,[$,F]=n6(B);$&&F?!E.shiftKey&&O===F?(E.preventDefault(),t&&Fi($,{select:!0})):E.shiftKey&&O===$&&(E.preventDefault(),t&&Fi(F,{select:!0})):O===B&&E.preventDefault()}},[t,n,k.paused]);return i.jsx(at.div,{tabIndex:-1,...u,ref:w,onKeyDown:R})});F_.displayName=t6;function r6(r,{select:e=!1}={}){const t=document.activeElement;for(const n of r)if(Fi(n,{select:e}),document.activeElement!==t)return}function n6(r){const e=U_(r),t=Bb(e,r),n=Bb(e.reverse(),r);return[t,n]}function U_(r){const e=[],t=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Bb(r,e){for(const t of r)if(!s6(t,{upTo:e}))return t}function s6(r,{upTo:e}){if(getComputedStyle(r).visibility==="hidden")return!0;for(;r;){if(e!==void 0&&r===e)return!1;if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}function i6(r){return r instanceof HTMLInputElement&&"select"in r}function Fi(r,{select:e=!1}={}){if(r&&r.focus){const t=document.activeElement;r.focus({preventScroll:!0}),r!==t&&i6(r)&&e&&r.select()}}var zb=o6();function o6(){let r=[];return{add(e){const t=r[0];e!==t&&t?.pause(),r=Hb(r,e),r.unshift(e)},remove(e){r=Hb(r,e),r[0]?.resume()}}}function Hb(r,e){const t=[...r],n=t.indexOf(e);return n!==-1&&t.splice(n,1),t}function a6(r){return r.filter(e=>e.tagName!=="A")}var l6=tg[" useId ".trim().toString()]||(()=>{}),c6=0;function iu(r){const[e,t]=_.useState(l6());return Xt(()=>{t(n=>n??String(c6++))},[r]),r||(e?`radix-${e}`:"")}const u6=["top","right","bottom","left"],so=Math.min,sn=Math.max,vh=Math.round,jd=Math.floor,ks=r=>({x:r,y:r}),d6={left:"right",right:"left",bottom:"top",top:"bottom"},h6={start:"end",end:"start"};function Hm(r,e,t){return sn(r,so(e,t))}function ci(r,e){return typeof r=="function"?r(e):r}function ui(r){return r.split("-")[0]}function jl(r){return r.split("-")[1]}function fx(r){return r==="x"?"y":"x"}function px(r){return r==="y"?"height":"width"}const f6=new Set(["top","bottom"]);function vs(r){return f6.has(ui(r))?"y":"x"}function mx(r){return fx(vs(r))}function p6(r,e,t){t===void 0&&(t=!1);const n=jl(r),o=mx(r),l=px(o);let u=o==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(u=yh(u)),[u,yh(u)]}function m6(r){const e=yh(r);return[Wm(r),e,Wm(e)]}function Wm(r){return r.replace(/start|end/g,e=>h6[e])}const Wb=["left","right"],qb=["right","left"],g6=["top","bottom"],x6=["bottom","top"];function v6(r,e,t){switch(r){case"top":case"bottom":return t?e?qb:Wb:e?Wb:qb;case"left":case"right":return e?g6:x6;default:return[]}}function y6(r,e,t,n){const o=jl(r);let l=v6(ui(r),t==="start",n);return o&&(l=l.map(u=>u+"-"+o),e&&(l=l.concat(l.map(Wm)))),l}function yh(r){return r.replace(/left|right|bottom|top/g,e=>d6[e])}function b6(r){return{top:0,right:0,bottom:0,left:0,...r}}function B_(r){return typeof r!="number"?b6(r):{top:r,right:r,bottom:r,left:r}}function bh(r){const{x:e,y:t,width:n,height:o}=r;return{width:n,height:o,top:t,left:e,right:e+n,bottom:t+o,x:e,y:t}}function Gb(r,e,t){let{reference:n,floating:o}=r;const l=vs(e),u=mx(e),h=px(u),p=ui(e),m=l==="y",v=n.x+n.width/2-o.width/2,x=n.y+n.height/2-o.height/2,w=n[h]/2-o[h]/2;let k;switch(p){case"top":k={x:v,y:n.y-o.height};break;case"bottom":k={x:v,y:n.y+n.height};break;case"right":k={x:n.x+n.width,y:x};break;case"left":k={x:n.x-o.width,y:x};break;default:k={x:n.x,y:n.y}}switch(jl(e)){case"start":k[u]-=w*(t&&m?-1:1);break;case"end":k[u]+=w*(t&&m?-1:1);break}return k}const w6=async(r,e,t)=>{const{placement:n="bottom",strategy:o="absolute",middleware:l=[],platform:u}=t,h=l.filter(Boolean),p=await(u.isRTL==null?void 0:u.isRTL(e));let m=await u.getElementRects({reference:r,floating:e,strategy:o}),{x:v,y:x}=Gb(m,n,p),w=n,k={},R=0;for(let E=0;E<h.length;E++){const{name:T,fn:O}=h[E],{x:B,y:$,data:F,reset:W}=await O({x:v,y:x,initialPlacement:n,placement:w,strategy:o,middlewareData:k,rects:m,platform:u,elements:{reference:r,floating:e}});v=B??v,x=$??x,k={...k,[T]:{...k[T],...F}},W&&R<=50&&(R++,typeof W=="object"&&(W.placement&&(w=W.placement),W.rects&&(m=W.rects===!0?await u.getElementRects({reference:r,floating:e,strategy:o}):W.rects),{x:v,y:x}=Gb(m,w,p)),E=-1)}return{x:v,y:x,placement:w,strategy:o,middlewareData:k}};async function Bc(r,e){var t;e===void 0&&(e={});const{x:n,y:o,platform:l,rects:u,elements:h,strategy:p}=r,{boundary:m="clippingAncestors",rootBoundary:v="viewport",elementContext:x="floating",altBoundary:w=!1,padding:k=0}=ci(e,r),R=B_(k),T=h[w?x==="floating"?"reference":"floating":x],O=bh(await l.getClippingRect({element:(t=await(l.isElement==null?void 0:l.isElement(T)))==null||t?T:T.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(h.floating)),boundary:m,rootBoundary:v,strategy:p})),B=x==="floating"?{x:n,y:o,width:u.floating.width,height:u.floating.height}:u.reference,$=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h.floating)),F=await(l.isElement==null?void 0:l.isElement($))?await(l.getScale==null?void 0:l.getScale($))||{x:1,y:1}:{x:1,y:1},W=bh(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:B,offsetParent:$,strategy:p}):B);return{top:(O.top-W.top+R.top)/F.y,bottom:(W.bottom-O.bottom+R.bottom)/F.y,left:(O.left-W.left+R.left)/F.x,right:(W.right-O.right+R.right)/F.x}}const _6=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:n,placement:o,rects:l,platform:u,elements:h,middlewareData:p}=e,{element:m,padding:v=0}=ci(r,e)||{};if(m==null)return{};const x=B_(v),w={x:t,y:n},k=mx(o),R=px(k),E=await u.getDimensions(m),T=k==="y",O=T?"top":"left",B=T?"bottom":"right",$=T?"clientHeight":"clientWidth",F=l.reference[R]+l.reference[k]-w[k]-l.floating[R],W=w[k]-l.reference[k],X=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m));let I=X?X[$]:0;(!I||!await(u.isElement==null?void 0:u.isElement(X)))&&(I=h.floating[$]||l.floating[R]);const S=F/2-W/2,P=I/2-E[R]/2-1,D=so(x[O],P),M=so(x[B],P),L=D,A=I-E[R]-M,ne=I/2-E[R]/2+S,le=Hm(L,ne,A),ee=!p.arrow&&jl(o)!=null&&ne!==le&&l.reference[R]/2-(ne<L?D:M)-E[R]/2<0,G=ee?ne<L?ne-L:ne-A:0;return{[k]:w[k]+G,data:{[k]:le,centerOffset:ne-le-G,...ee&&{alignmentOffset:G}},reset:ee}}}),N6=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,n;const{placement:o,middlewareData:l,rects:u,initialPlacement:h,platform:p,elements:m}=e,{mainAxis:v=!0,crossAxis:x=!0,fallbackPlacements:w,fallbackStrategy:k="bestFit",fallbackAxisSideDirection:R="none",flipAlignment:E=!0,...T}=ci(r,e);if((t=l.arrow)!=null&&t.alignmentOffset)return{};const O=ui(o),B=vs(h),$=ui(h)===h,F=await(p.isRTL==null?void 0:p.isRTL(m.floating)),W=w||($||!E?[yh(h)]:m6(h)),X=R!=="none";!w&&X&&W.push(...y6(h,E,R,F));const I=[h,...W],S=await Bc(e,T),P=[];let D=((n=l.flip)==null?void 0:n.overflows)||[];if(v&&P.push(S[O]),x){const ne=p6(o,u,F);P.push(S[ne[0]],S[ne[1]])}if(D=[...D,{placement:o,overflows:P}],!P.every(ne=>ne<=0)){var M,L;const ne=(((M=l.flip)==null?void 0:M.index)||0)+1,le=I[ne];if(le&&(!(x==="alignment"?B!==vs(le):!1)||D.every(U=>vs(U.placement)===B?U.overflows[0]>0:!0)))return{data:{index:ne,overflows:D},reset:{placement:le}};let ee=(L=D.filter(G=>G.overflows[0]<=0).sort((G,U)=>G.overflows[1]-U.overflows[1])[0])==null?void 0:L.placement;if(!ee)switch(k){case"bestFit":{var A;const G=(A=D.filter(U=>{if(X){const ie=vs(U.placement);return ie===B||ie==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(ie=>ie>0).reduce((ie,se)=>ie+se,0)]).sort((U,ie)=>U[1]-ie[1])[0])==null?void 0:A[0];G&&(ee=G);break}case"initialPlacement":ee=h;break}if(o!==ee)return{reset:{placement:ee}}}return{}}}};function Kb(r,e){return{top:r.top-e.height,right:r.right-e.width,bottom:r.bottom-e.height,left:r.left-e.width}}function Yb(r){return u6.some(e=>r[e]>=0)}const E6=function(r){return r===void 0&&(r={}),{name:"hide",options:r,async fn(e){const{rects:t}=e,{strategy:n="referenceHidden",...o}=ci(r,e);switch(n){case"referenceHidden":{const l=await Bc(e,{...o,elementContext:"reference"}),u=Kb(l,t.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:Yb(u)}}}case"escaped":{const l=await Bc(e,{...o,altBoundary:!0}),u=Kb(l,t.floating);return{data:{escapedOffsets:u,escaped:Yb(u)}}}default:return{}}}}},z_=new Set(["left","top"]);async function j6(r,e){const{placement:t,platform:n,elements:o}=r,l=await(n.isRTL==null?void 0:n.isRTL(o.floating)),u=ui(t),h=jl(t),p=vs(t)==="y",m=z_.has(u)?-1:1,v=l&&p?-1:1,x=ci(e,r);let{mainAxis:w,crossAxis:k,alignmentAxis:R}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return h&&typeof R=="number"&&(k=h==="end"?R*-1:R),p?{x:k*v,y:w*m}:{x:w*m,y:k*v}}const S6=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,n;const{x:o,y:l,placement:u,middlewareData:h}=e,p=await j6(e,r);return u===((t=h.offset)==null?void 0:t.placement)&&(n=h.arrow)!=null&&n.alignmentOffset?{}:{x:o+p.x,y:l+p.y,data:{...p,placement:u}}}}},k6=function(r){return r===void 0&&(r={}),{name:"shift",options:r,async fn(e){const{x:t,y:n,placement:o}=e,{mainAxis:l=!0,crossAxis:u=!1,limiter:h={fn:T=>{let{x:O,y:B}=T;return{x:O,y:B}}},...p}=ci(r,e),m={x:t,y:n},v=await Bc(e,p),x=vs(ui(o)),w=fx(x);let k=m[w],R=m[x];if(l){const T=w==="y"?"top":"left",O=w==="y"?"bottom":"right",B=k+v[T],$=k-v[O];k=Hm(B,k,$)}if(u){const T=x==="y"?"top":"left",O=x==="y"?"bottom":"right",B=R+v[T],$=R-v[O];R=Hm(B,R,$)}const E=h.fn({...e,[w]:k,[x]:R});return{...E,data:{x:E.x-t,y:E.y-n,enabled:{[w]:l,[x]:u}}}}}},T6=function(r){return r===void 0&&(r={}),{options:r,fn(e){const{x:t,y:n,placement:o,rects:l,middlewareData:u}=e,{offset:h=0,mainAxis:p=!0,crossAxis:m=!0}=ci(r,e),v={x:t,y:n},x=vs(o),w=fx(x);let k=v[w],R=v[x];const E=ci(h,e),T=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(p){const $=w==="y"?"height":"width",F=l.reference[w]-l.floating[$]+T.mainAxis,W=l.reference[w]+l.reference[$]-T.mainAxis;k<F?k=F:k>W&&(k=W)}if(m){var O,B;const $=w==="y"?"width":"height",F=z_.has(ui(o)),W=l.reference[x]-l.floating[$]+(F&&((O=u.offset)==null?void 0:O[x])||0)+(F?0:T.crossAxis),X=l.reference[x]+l.reference[$]+(F?0:((B=u.offset)==null?void 0:B[x])||0)-(F?T.crossAxis:0);R<W?R=W:R>X&&(R=X)}return{[w]:k,[x]:R}}}},C6=function(r){return r===void 0&&(r={}),{name:"size",options:r,async fn(e){var t,n;const{placement:o,rects:l,platform:u,elements:h}=e,{apply:p=()=>{},...m}=ci(r,e),v=await Bc(e,m),x=ui(o),w=jl(o),k=vs(o)==="y",{width:R,height:E}=l.floating;let T,O;x==="top"||x==="bottom"?(T=x,O=w===(await(u.isRTL==null?void 0:u.isRTL(h.floating))?"start":"end")?"left":"right"):(O=x,T=w==="end"?"top":"bottom");const B=E-v.top-v.bottom,$=R-v.left-v.right,F=so(E-v[T],B),W=so(R-v[O],$),X=!e.middlewareData.shift;let I=F,S=W;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(S=$),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(I=B),X&&!w){const D=sn(v.left,0),M=sn(v.right,0),L=sn(v.top,0),A=sn(v.bottom,0);k?S=R-2*(D!==0||M!==0?D+M:sn(v.left,v.right)):I=E-2*(L!==0||A!==0?L+A:sn(v.top,v.bottom))}await p({...e,availableWidth:S,availableHeight:I});const P=await u.getDimensions(h.floating);return R!==P.width||E!==P.height?{reset:{rects:!0}}:{}}}};function Zh(){return typeof window<"u"}function Sl(r){return H_(r)?(r.nodeName||"").toLowerCase():"#document"}function ln(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function Ds(r){var e;return(e=(H_(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function H_(r){return Zh()?r instanceof Node||r instanceof ln(r).Node:!1}function Yn(r){return Zh()?r instanceof Element||r instanceof ln(r).Element:!1}function Is(r){return Zh()?r instanceof HTMLElement||r instanceof ln(r).HTMLElement:!1}function Qb(r){return!Zh()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof ln(r).ShadowRoot}const I6=new Set(["inline","contents"]);function ou(r){const{overflow:e,overflowX:t,overflowY:n,display:o}=Qn(r);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!I6.has(o)}const A6=new Set(["table","td","th"]);function R6(r){return A6.has(Sl(r))}const P6=[":popover-open",":modal"];function ef(r){return P6.some(e=>{try{return r.matches(e)}catch{return!1}})}const D6=["transform","translate","scale","rotate","perspective"],M6=["transform","translate","scale","rotate","perspective","filter"],O6=["paint","layout","strict","content"];function gx(r){const e=xx(),t=Yn(r)?Qn(r):r;return D6.some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||M6.some(n=>(t.willChange||"").includes(n))||O6.some(n=>(t.contain||"").includes(n))}function L6(r){let e=io(r);for(;Is(e)&&!hl(e);){if(gx(e))return e;if(ef(e))return null;e=io(e)}return null}function xx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const V6=new Set(["html","body","#document"]);function hl(r){return V6.has(Sl(r))}function Qn(r){return ln(r).getComputedStyle(r)}function tf(r){return Yn(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function io(r){if(Sl(r)==="html")return r;const e=r.assignedSlot||r.parentNode||Qb(r)&&r.host||Ds(r);return Qb(e)?e.host:e}function W_(r){const e=io(r);return hl(e)?r.ownerDocument?r.ownerDocument.body:r.body:Is(e)&&ou(e)?e:W_(e)}function zc(r,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const o=W_(r),l=o===((n=r.ownerDocument)==null?void 0:n.body),u=ln(o);if(l){const h=qm(u);return e.concat(u,u.visualViewport||[],ou(o)?o:[],h&&t?zc(h):[])}return e.concat(o,zc(o,[],t))}function qm(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}function q_(r){const e=Qn(r);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const o=Is(r),l=o?r.offsetWidth:t,u=o?r.offsetHeight:n,h=vh(t)!==l||vh(n)!==u;return h&&(t=l,n=u),{width:t,height:n,$:h}}function vx(r){return Yn(r)?r:r.contextElement}function Za(r){const e=vx(r);if(!Is(e))return ks(1);const t=e.getBoundingClientRect(),{width:n,height:o,$:l}=q_(e);let u=(l?vh(t.width):t.width)/n,h=(l?vh(t.height):t.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!h||!Number.isFinite(h))&&(h=1),{x:u,y:h}}const $6=ks(0);function G_(r){const e=ln(r);return!xx()||!e.visualViewport?$6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function F6(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==ln(r)?!1:e}function Qo(r,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const o=r.getBoundingClientRect(),l=vx(r);let u=ks(1);e&&(n?Yn(n)&&(u=Za(n)):u=Za(r));const h=F6(l,t,n)?G_(l):ks(0);let p=(o.left+h.x)/u.x,m=(o.top+h.y)/u.y,v=o.width/u.x,x=o.height/u.y;if(l){const w=ln(l),k=n&&Yn(n)?ln(n):n;let R=w,E=qm(R);for(;E&&n&&k!==R;){const T=Za(E),O=E.getBoundingClientRect(),B=Qn(E),$=O.left+(E.clientLeft+parseFloat(B.paddingLeft))*T.x,F=O.top+(E.clientTop+parseFloat(B.paddingTop))*T.y;p*=T.x,m*=T.y,v*=T.x,x*=T.y,p+=$,m+=F,R=ln(E),E=qm(R)}}return bh({width:v,height:x,x:p,y:m})}function rf(r,e){const t=tf(r).scrollLeft;return e?e.left+t:Qo(Ds(r)).left+t}function K_(r,e){const t=r.getBoundingClientRect(),n=t.left+e.scrollLeft-rf(r,t),o=t.top+e.scrollTop;return{x:n,y:o}}function U6(r){let{elements:e,rect:t,offsetParent:n,strategy:o}=r;const l=o==="fixed",u=Ds(n),h=e?ef(e.floating):!1;if(n===u||h&&l)return t;let p={scrollLeft:0,scrollTop:0},m=ks(1);const v=ks(0),x=Is(n);if((x||!x&&!l)&&((Sl(n)!=="body"||ou(u))&&(p=tf(n)),Is(n))){const k=Qo(n);m=Za(n),v.x=k.x+n.clientLeft,v.y=k.y+n.clientTop}const w=u&&!x&&!l?K_(u,p):ks(0);return{width:t.width*m.x,height:t.height*m.y,x:t.x*m.x-p.scrollLeft*m.x+v.x+w.x,y:t.y*m.y-p.scrollTop*m.y+v.y+w.y}}function B6(r){return Array.from(r.getClientRects())}function z6(r){const e=Ds(r),t=tf(r),n=r.ownerDocument.body,o=sn(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),l=sn(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let u=-t.scrollLeft+rf(r);const h=-t.scrollTop;return Qn(n).direction==="rtl"&&(u+=sn(e.clientWidth,n.clientWidth)-o),{width:o,height:l,x:u,y:h}}const Xb=25;function H6(r,e){const t=ln(r),n=Ds(r),o=t.visualViewport;let l=n.clientWidth,u=n.clientHeight,h=0,p=0;if(o){l=o.width,u=o.height;const v=xx();(!v||v&&e==="fixed")&&(h=o.offsetLeft,p=o.offsetTop)}const m=rf(n);if(m<=0){const v=n.ownerDocument,x=v.body,w=getComputedStyle(x),k=v.compatMode==="CSS1Compat"&&parseFloat(w.marginLeft)+parseFloat(w.marginRight)||0,R=Math.abs(n.clientWidth-x.clientWidth-k);R<=Xb&&(l-=R)}else m<=Xb&&(l+=m);return{width:l,height:u,x:h,y:p}}const W6=new Set(["absolute","fixed"]);function q6(r,e){const t=Qo(r,!0,e==="fixed"),n=t.top+r.clientTop,o=t.left+r.clientLeft,l=Is(r)?Za(r):ks(1),u=r.clientWidth*l.x,h=r.clientHeight*l.y,p=o*l.x,m=n*l.y;return{width:u,height:h,x:p,y:m}}function Jb(r,e,t){let n;if(e==="viewport")n=H6(r,t);else if(e==="document")n=z6(Ds(r));else if(Yn(e))n=q6(e,t);else{const o=G_(r);n={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return bh(n)}function Y_(r,e){const t=io(r);return t===e||!Yn(t)||hl(t)?!1:Qn(t).position==="fixed"||Y_(t,e)}function G6(r,e){const t=e.get(r);if(t)return t;let n=zc(r,[],!1).filter(h=>Yn(h)&&Sl(h)!=="body"),o=null;const l=Qn(r).position==="fixed";let u=l?io(r):r;for(;Yn(u)&&!hl(u);){const h=Qn(u),p=gx(u);!p&&h.position==="fixed"&&(o=null),(l?!p&&!o:!p&&h.position==="static"&&!!o&&W6.has(o.position)||ou(u)&&!p&&Y_(r,u))?n=n.filter(v=>v!==u):o=h,u=io(u)}return e.set(r,n),n}function K6(r){let{element:e,boundary:t,rootBoundary:n,strategy:o}=r;const u=[...t==="clippingAncestors"?ef(e)?[]:G6(e,this._c):[].concat(t),n],h=u[0],p=u.reduce((m,v)=>{const x=Jb(e,v,o);return m.top=sn(x.top,m.top),m.right=so(x.right,m.right),m.bottom=so(x.bottom,m.bottom),m.left=sn(x.left,m.left),m},Jb(e,h,o));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function Y6(r){const{width:e,height:t}=q_(r);return{width:e,height:t}}function Q6(r,e,t){const n=Is(e),o=Ds(e),l=t==="fixed",u=Qo(r,!0,l,e);let h={scrollLeft:0,scrollTop:0};const p=ks(0);function m(){p.x=rf(o)}if(n||!n&&!l)if((Sl(e)!=="body"||ou(o))&&(h=tf(e)),n){const k=Qo(e,!0,l,e);p.x=k.x+e.clientLeft,p.y=k.y+e.clientTop}else o&&m();l&&!n&&o&&m();const v=o&&!n&&!l?K_(o,h):ks(0),x=u.left+h.scrollLeft-p.x-v.x,w=u.top+h.scrollTop-p.y-v.y;return{x,y:w,width:u.width,height:u.height}}function sm(r){return Qn(r).position==="static"}function Zb(r,e){if(!Is(r)||Qn(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return Ds(r)===t&&(t=t.ownerDocument.body),t}function Q_(r,e){const t=ln(r);if(ef(r))return t;if(!Is(r)){let o=io(r);for(;o&&!hl(o);){if(Yn(o)&&!sm(o))return o;o=io(o)}return t}let n=Zb(r,e);for(;n&&R6(n)&&sm(n);)n=Zb(n,e);return n&&hl(n)&&sm(n)&&!gx(n)?t:n||L6(r)||t}const X6=async function(r){const e=this.getOffsetParent||Q_,t=this.getDimensions,n=await t(r.floating);return{reference:Q6(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function J6(r){return Qn(r).direction==="rtl"}const Z6={convertOffsetParentRelativeRectToViewportRelativeRect:U6,getDocumentElement:Ds,getClippingRect:K6,getOffsetParent:Q_,getElementRects:X6,getClientRects:B6,getDimensions:Y6,getScale:Za,isElement:Yn,isRTL:J6};function X_(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function eD(r,e){let t=null,n;const o=Ds(r);function l(){var h;clearTimeout(n),(h=t)==null||h.disconnect(),t=null}function u(h,p){h===void 0&&(h=!1),p===void 0&&(p=1),l();const m=r.getBoundingClientRect(),{left:v,top:x,width:w,height:k}=m;if(h||e(),!w||!k)return;const R=jd(x),E=jd(o.clientWidth-(v+w)),T=jd(o.clientHeight-(x+k)),O=jd(v),$={rootMargin:-R+"px "+-E+"px "+-T+"px "+-O+"px",threshold:sn(0,so(1,p))||1};let F=!0;function W(X){const I=X[0].intersectionRatio;if(I!==p){if(!F)return u();I?u(!1,I):n=setTimeout(()=>{u(!1,1e-7)},1e3)}I===1&&!X_(m,r.getBoundingClientRect())&&u(),F=!1}try{t=new IntersectionObserver(W,{...$,root:o.ownerDocument})}catch{t=new IntersectionObserver(W,$)}t.observe(r)}return u(!0),l}function tD(r,e,t,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:p=!1}=n,m=vx(r),v=o||l?[...m?zc(m):[],...zc(e)]:[];v.forEach(O=>{o&&O.addEventListener("scroll",t,{passive:!0}),l&&O.addEventListener("resize",t)});const x=m&&h?eD(m,t):null;let w=-1,k=null;u&&(k=new ResizeObserver(O=>{let[B]=O;B&&B.target===m&&k&&(k.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var $;($=k)==null||$.observe(e)})),t()}),m&&!p&&k.observe(m),k.observe(e));let R,E=p?Qo(r):null;p&&T();function T(){const O=Qo(r);E&&!X_(E,O)&&t(),E=O,R=requestAnimationFrame(T)}return t(),()=>{var O;v.forEach(B=>{o&&B.removeEventListener("scroll",t),l&&B.removeEventListener("resize",t)}),x?.(),(O=k)==null||O.disconnect(),k=null,p&&cancelAnimationFrame(R)}}const rD=S6,nD=k6,sD=N6,iD=C6,oD=E6,ew=_6,aD=T6,lD=(r,e,t)=>{const n=new Map,o={platform:Z6,...t},l={...o.platform,_c:n};return w6(r,e,{...o,platform:l})};var cD=typeof document<"u",uD=function(){},qd=cD?_.useLayoutEffect:uD;function wh(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,n,o;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!wh(r[n],e[n]))return!1;return!0}if(o=Object.keys(r),t=o.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,o[n]))return!1;for(n=t;n--!==0;){const l=o[n];if(!(l==="_owner"&&r.$$typeof)&&!wh(r[l],e[l]))return!1}return!0}return r!==r&&e!==e}function J_(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function tw(r,e){const t=J_(r);return Math.round(e*t)/t}function im(r){const e=_.useRef(r);return qd(()=>{e.current=r}),e}function dD(r){r===void 0&&(r={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:o,elements:{reference:l,floating:u}={},transform:h=!0,whileElementsMounted:p,open:m}=r,[v,x]=_.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[w,k]=_.useState(n);wh(w,n)||k(n);const[R,E]=_.useState(null),[T,O]=_.useState(null),B=_.useCallback(U=>{U!==X.current&&(X.current=U,E(U))},[]),$=_.useCallback(U=>{U!==I.current&&(I.current=U,O(U))},[]),F=l||R,W=u||T,X=_.useRef(null),I=_.useRef(null),S=_.useRef(v),P=p!=null,D=im(p),M=im(o),L=im(m),A=_.useCallback(()=>{if(!X.current||!I.current)return;const U={placement:e,strategy:t,middleware:w};M.current&&(U.platform=M.current),lD(X.current,I.current,U).then(ie=>{const se={...ie,isPositioned:L.current!==!1};ne.current&&!wh(S.current,se)&&(S.current=se,qc.flushSync(()=>{x(se)}))})},[w,e,t,M,L]);qd(()=>{m===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,x(U=>({...U,isPositioned:!1})))},[m]);const ne=_.useRef(!1);qd(()=>(ne.current=!0,()=>{ne.current=!1}),[]),qd(()=>{if(F&&(X.current=F),W&&(I.current=W),F&&W){if(D.current)return D.current(F,W,A);A()}},[F,W,A,D,P]);const le=_.useMemo(()=>({reference:X,floating:I,setReference:B,setFloating:$}),[B,$]),ee=_.useMemo(()=>({reference:F,floating:W}),[F,W]),G=_.useMemo(()=>{const U={position:t,left:0,top:0};if(!ee.floating)return U;const ie=tw(ee.floating,v.x),se=tw(ee.floating,v.y);return h?{...U,transform:"translate("+ie+"px, "+se+"px)",...J_(ee.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:ie,top:se}},[t,h,ee.floating,v.x,v.y]);return _.useMemo(()=>({...v,update:A,refs:le,elements:ee,floatingStyles:G}),[v,A,le,ee,G])}const hD=r=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:r,fn(t){const{element:n,padding:o}=typeof r=="function"?r(t):r;return n&&e(n)?n.current!=null?ew({element:n.current,padding:o}).fn(t):{}:n?ew({element:n,padding:o}).fn(t):{}}}},fD=(r,e)=>({...rD(r),options:[r,e]}),pD=(r,e)=>({...nD(r),options:[r,e]}),mD=(r,e)=>({...aD(r),options:[r,e]}),gD=(r,e)=>({...sD(r),options:[r,e]}),xD=(r,e)=>({...iD(r),options:[r,e]}),vD=(r,e)=>({...oD(r),options:[r,e]}),yD=(r,e)=>({...hD(r),options:[r,e]});var bD="Arrow",Z_=_.forwardRef((r,e)=>{const{children:t,width:n=10,height:o=5,...l}=r;return i.jsx(at.svg,{...l,ref:e,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:r.asChild?t:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});Z_.displayName=bD;var wD=Z_;function eN(r){const[e,t]=_.useState(void 0);return Xt(()=>{if(r){t({width:r.offsetWidth,height:r.offsetHeight});const n=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let u,h;if("borderBoxSize"in l){const p=l.borderBoxSize,m=Array.isArray(p)?p[0]:p;u=m.inlineSize,h=m.blockSize}else u=r.offsetWidth,h=r.offsetHeight;t({width:u,height:h})});return n.observe(r,{box:"border-box"}),()=>n.unobserve(r)}else t(void 0)},[r]),e}var yx="Popper",[tN,rN]=El(yx),[_D,nN]=tN(yx),sN=r=>{const{__scopePopper:e,children:t}=r,[n,o]=_.useState(null);return i.jsx(_D,{scope:e,anchor:n,onAnchorChange:o,children:t})};sN.displayName=yx;var iN="PopperAnchor",oN=_.forwardRef((r,e)=>{const{__scopePopper:t,virtualRef:n,...o}=r,l=nN(iN,t),u=_.useRef(null),h=Ot(e,u),p=_.useRef(null);return _.useEffect(()=>{const m=p.current;p.current=n?.current||u.current,m!==p.current&&l.onAnchorChange(p.current)}),n?null:i.jsx(at.div,{...o,ref:h})});oN.displayName=iN;var bx="PopperContent",[ND,ED]=tN(bx),aN=_.forwardRef((r,e)=>{const{__scopePopper:t,side:n="bottom",sideOffset:o=0,align:l="center",alignOffset:u=0,arrowPadding:h=0,avoidCollisions:p=!0,collisionBoundary:m=[],collisionPadding:v=0,sticky:x="partial",hideWhenDetached:w=!1,updatePositionStrategy:k="optimized",onPlaced:R,...E}=r,T=nN(bx,t),[O,B]=_.useState(null),$=Ot(e,ce=>B(ce)),[F,W]=_.useState(null),X=eN(F),I=X?.width??0,S=X?.height??0,P=n+(l!=="center"?"-"+l:""),D=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},M=Array.isArray(m)?m:[m],L=M.length>0,A={padding:D,boundary:M.filter(SD),altBoundary:L},{refs:ne,floatingStyles:le,placement:ee,isPositioned:G,middlewareData:U}=dD({strategy:"fixed",placement:P,whileElementsMounted:(...ce)=>tD(...ce,{animationFrame:k==="always"}),elements:{reference:T.anchor},middleware:[fD({mainAxis:o+S,alignmentAxis:u}),p&&pD({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?mD():void 0,...A}),p&&gD({...A}),xD({...A,apply:({elements:ce,rects:pe,availableWidth:Ae,availableHeight:Pe})=>{const{width:ze,height:He}=pe.reference,pt=ce.floating.style;pt.setProperty("--radix-popper-available-width",`${Ae}px`),pt.setProperty("--radix-popper-available-height",`${Pe}px`),pt.setProperty("--radix-popper-anchor-width",`${ze}px`),pt.setProperty("--radix-popper-anchor-height",`${He}px`)}}),F&&yD({element:F,padding:h}),kD({arrowWidth:I,arrowHeight:S}),w&&vD({strategy:"referenceHidden",...A})]}),[ie,se]=uN(ee),z=ni(R);Xt(()=>{G&&z?.()},[G,z]);const te=U.arrow?.x,re=U.arrow?.y,oe=U.arrow?.centerOffset!==0,[me,we]=_.useState();return Xt(()=>{O&&we(window.getComputedStyle(O).zIndex)},[O]),i.jsx("div",{ref:ne.setFloating,"data-radix-popper-content-wrapper":"",style:{...le,transform:G?le.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:me,"--radix-popper-transform-origin":[U.transformOrigin?.x,U.transformOrigin?.y].join(" "),...U.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:r.dir,children:i.jsx(ND,{scope:t,placedSide:ie,onArrowChange:W,arrowX:te,arrowY:re,shouldHideArrow:oe,children:i.jsx(at.div,{"data-side":ie,"data-align":se,...E,ref:$,style:{...E.style,animation:G?void 0:"none"}})})})});aN.displayName=bx;var lN="PopperArrow",jD={top:"bottom",right:"left",bottom:"top",left:"right"},cN=_.forwardRef(function(e,t){const{__scopePopper:n,...o}=e,l=ED(lN,n),u=jD[l.placedSide];return i.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:i.jsx(wD,{...o,ref:t,style:{...o.style,display:"block"}})})});cN.displayName=lN;function SD(r){return r!==null}var kD=r=>({name:"transformOrigin",options:r,fn(e){const{placement:t,rects:n,middlewareData:o}=e,u=o.arrow?.centerOffset!==0,h=u?0:r.arrowWidth,p=u?0:r.arrowHeight,[m,v]=uN(t),x={start:"0%",center:"50%",end:"100%"}[v],w=(o.arrow?.x??0)+h/2,k=(o.arrow?.y??0)+p/2;let R="",E="";return m==="bottom"?(R=u?x:`${w}px`,E=`${-p}px`):m==="top"?(R=u?x:`${w}px`,E=`${n.floating.height+p}px`):m==="right"?(R=`${-p}px`,E=u?x:`${k}px`):m==="left"&&(R=`${n.floating.width+p}px`,E=u?x:`${k}px`),{data:{x:R,y:E}}}});function uN(r){const[e,t="center"]=r.split("-");return[e,t]}var TD=sN,CD=oN,ID=aN,AD=cN,RD="Portal",dN=_.forwardRef((r,e)=>{const{container:t,...n}=r,[o,l]=_.useState(!1);Xt(()=>l(!0),[]);const u=t||o&&globalThis?.document?.body;return u?Qw.createPortal(i.jsx(at.div,{...n,ref:e}),u):null});dN.displayName=RD;function PD(r){const e=DD(r),t=_.forwardRef((n,o)=>{const{children:l,...u}=n,h=_.Children.toArray(l),p=h.find(OD);if(p){const m=p.props.children,v=h.map(x=>x===p?_.Children.count(m)>1?_.Children.only(null):_.isValidElement(m)?m.props.children:null:x);return i.jsx(e,{...u,ref:o,children:_.isValidElement(m)?_.cloneElement(m,void 0,v):null})}return i.jsx(e,{...u,ref:o,children:l})});return t.displayName=`${r}.Slot`,t}function DD(r){const e=_.forwardRef((t,n)=>{const{children:o,...l}=t;if(_.isValidElement(o)){const u=VD(o),h=LD(l,o.props);return o.type!==_.Fragment&&(h.ref=n?Wc(n,u):u),_.cloneElement(o,h)}return _.Children.count(o)>1?_.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var MD=Symbol("radix.slottable");function OD(r){return _.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===MD}function LD(r,e){const t={...e};for(const n in e){const o=r[n],l=e[n];/^on[A-Z]/.test(n)?o&&l?t[n]=(...h)=>{const p=l(...h);return o(...h),p}:o&&(t[n]=o):n==="style"?t[n]={...o,...l}:n==="className"&&(t[n]=[o,l].filter(Boolean).join(" "))}return{...r,...t}}function VD(r){let e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}var $D=tg[" useInsertionEffect ".trim().toString()]||Xt;function Hc({prop:r,defaultProp:e,onChange:t=()=>{},caller:n}){const[o,l,u]=FD({defaultProp:e,onChange:t}),h=r!==void 0,p=h?r:o;{const v=_.useRef(r!==void 0);_.useEffect(()=>{const x=v.current;x!==h&&console.warn(`${n} is changing from ${x?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=h},[h,n])}const m=_.useCallback(v=>{if(h){const x=UD(v)?v(r):v;x!==r&&u.current?.(x)}else l(v)},[h,r,l,u]);return[p,m]}function FD({defaultProp:r,onChange:e}){const[t,n]=_.useState(r),o=_.useRef(t),l=_.useRef(e);return $D(()=>{l.current=e},[e]),_.useEffect(()=>{o.current!==t&&(l.current?.(t),o.current=t)},[t,o]),[t,n,l]}function UD(r){return typeof r=="function"}function hN(r){const e=_.useRef({value:r,previous:r});return _.useMemo(()=>(e.current.value!==r&&(e.current.previous=e.current.value,e.current.value=r),e.current.previous),[r])}var fN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),BD="VisuallyHidden",zD=_.forwardRef((r,e)=>i.jsx(at.span,{...r,ref:e,style:{...fN,...r.style}}));zD.displayName=BD;var HD=function(r){if(typeof document>"u")return null;var e=Array.isArray(r)?r[0]:r;return e.ownerDocument.body},Fa=new WeakMap,Sd=new WeakMap,kd={},om=0,pN=function(r){return r&&(r.host||pN(r.parentNode))},WD=function(r,e){return e.map(function(t){if(r.contains(t))return t;var n=pN(t);return n&&r.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",r,". Doing nothing"),null)}).filter(function(t){return!!t})},qD=function(r,e,t,n){var o=WD(e,Array.isArray(r)?r:[r]);kd[t]||(kd[t]=new WeakMap);var l=kd[t],u=[],h=new Set,p=new Set(o),m=function(x){!x||h.has(x)||(h.add(x),m(x.parentNode))};o.forEach(m);var v=function(x){!x||p.has(x)||Array.prototype.forEach.call(x.children,function(w){if(h.has(w))v(w);else try{var k=w.getAttribute(n),R=k!==null&&k!=="false",E=(Fa.get(w)||0)+1,T=(l.get(w)||0)+1;Fa.set(w,E),l.set(w,T),u.push(w),E===1&&R&&Sd.set(w,!0),T===1&&w.setAttribute(t,"true"),R||w.setAttribute(n,"true")}catch(O){console.error("aria-hidden: cannot operate on ",w,O)}})};return v(e),h.clear(),om++,function(){u.forEach(function(x){var w=Fa.get(x)-1,k=l.get(x)-1;Fa.set(x,w),l.set(x,k),w||(Sd.has(x)||x.removeAttribute(n),Sd.delete(x)),k||x.removeAttribute(t)}),om--,om||(Fa=new WeakMap,Fa=new WeakMap,Sd=new WeakMap,kd={})}},GD=function(r,e,t){t===void 0&&(t="data-aria-hidden");var n=Array.from(Array.isArray(r)?r:[r]),o=HD(r);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live], script"))),qD(n,o,t,"aria-hidden")):function(){return null}},xs=function(){return xs=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},xs.apply(this,arguments)};function mN(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(r);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(r,n[o])&&(t[n[o]]=r[n[o]]);return t}function KD(r,e,t){if(t||arguments.length===2)for(var n=0,o=e.length,l;n<o;n++)(l||!(n in e))&&(l||(l=Array.prototype.slice.call(e,0,n)),l[n]=e[n]);return r.concat(l||Array.prototype.slice.call(e))}var Gd="right-scroll-bar-position",Kd="width-before-scroll-bar",YD="with-scroll-bars-hidden",QD="--removed-body-scroll-bar-size";function am(r,e){return typeof r=="function"?r(e):r&&(r.current=e),r}function XD(r,e){var t=_.useState(function(){return{value:r,callback:e,facade:{get current(){return t.value},set current(n){var o=t.value;o!==n&&(t.value=n,t.callback(n,o))}}}})[0];return t.callback=e,t.facade}var JD=typeof window<"u"?_.useLayoutEffect:_.useEffect,rw=new WeakMap;function ZD(r,e){var t=XD(null,function(n){return r.forEach(function(o){return am(o,n)})});return JD(function(){var n=rw.get(t);if(n){var o=new Set(n),l=new Set(r),u=t.current;o.forEach(function(h){l.has(h)||am(h,null)}),l.forEach(function(h){o.has(h)||am(h,u)})}rw.set(t,r)},[r]),t}function eM(r){return r}function tM(r,e){e===void 0&&(e=eM);var t=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:r},useMedium:function(l){var u=e(l,n);return t.push(u),function(){t=t.filter(function(h){return h!==u})}},assignSyncMedium:function(l){for(n=!0;t.length;){var u=t;t=[],u.forEach(l)}t={push:function(h){return l(h)},filter:function(){return t}}},assignMedium:function(l){n=!0;var u=[];if(t.length){var h=t;t=[],h.forEach(l),u=t}var p=function(){var v=u;u=[],v.forEach(l)},m=function(){return Promise.resolve().then(p)};m(),t={push:function(v){u.push(v),m()},filter:function(v){return u=u.filter(v),t}}}};return o}function rM(r){r===void 0&&(r={});var e=tM(null);return e.options=xs({async:!0,ssr:!1},r),e}var gN=function(r){var e=r.sideCar,t=mN(r,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return _.createElement(n,xs({},t))};gN.isSideCarExport=!0;function nM(r,e){return r.useMedium(e),gN}var xN=rM(),lm=function(){},nf=_.forwardRef(function(r,e){var t=_.useRef(null),n=_.useState({onScrollCapture:lm,onWheelCapture:lm,onTouchMoveCapture:lm}),o=n[0],l=n[1],u=r.forwardProps,h=r.children,p=r.className,m=r.removeScrollBar,v=r.enabled,x=r.shards,w=r.sideCar,k=r.noRelative,R=r.noIsolation,E=r.inert,T=r.allowPinchZoom,O=r.as,B=O===void 0?"div":O,$=r.gapMode,F=mN(r,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),W=w,X=ZD([t,e]),I=xs(xs({},F),o);return _.createElement(_.Fragment,null,v&&_.createElement(W,{sideCar:xN,removeScrollBar:m,shards:x,noRelative:k,noIsolation:R,inert:E,setCallbacks:l,allowPinchZoom:!!T,lockRef:t,gapMode:$}),u?_.cloneElement(_.Children.only(h),xs(xs({},I),{ref:X})):_.createElement(B,xs({},I,{className:p,ref:X}),h))});nf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};nf.classNames={fullWidth:Kd,zeroRight:Gd};var sM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function iM(){if(!document)return null;var r=document.createElement("style");r.type="text/css";var e=sM();return e&&r.setAttribute("nonce",e),r}function oM(r,e){r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}function aM(r){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(r)}var lM=function(){var r=0,e=null;return{add:function(t){r==0&&(e=iM())&&(oM(e,t),aM(e)),r++},remove:function(){r--,!r&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},cM=function(){var r=lM();return function(e,t){_.useEffect(function(){return r.add(e),function(){r.remove()}},[e&&t])}},vN=function(){var r=cM(),e=function(t){var n=t.styles,o=t.dynamic;return r(n,o),null};return e},uM={left:0,top:0,right:0,gap:0},cm=function(r){return parseInt(r||"",10)||0},dM=function(r){var e=window.getComputedStyle(document.body),t=e[r==="padding"?"paddingLeft":"marginLeft"],n=e[r==="padding"?"paddingTop":"marginTop"],o=e[r==="padding"?"paddingRight":"marginRight"];return[cm(t),cm(n),cm(o)]},hM=function(r){if(r===void 0&&(r="margin"),typeof window>"u")return uM;var e=dM(r),t=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-t+e[2]-e[0])}},fM=vN(),el="data-scroll-locked",pM=function(r,e,t,n){var o=r.left,l=r.top,u=r.right,h=r.gap;return t===void 0&&(t="margin"),`
  .`.concat(YD,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(h,"px ").concat(n,`;
  }
  body[`).concat(el,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(n,`;
    `),t==="padding"&&"padding-right: ".concat(h,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Gd,` {
    right: `).concat(h,"px ").concat(n,`;
  }
  
  .`).concat(Kd,` {
    margin-right: `).concat(h,"px ").concat(n,`;
  }
  
  .`).concat(Gd," .").concat(Gd,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Kd," .").concat(Kd,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(el,`] {
    `).concat(QD,": ").concat(h,`px;
  }
`)},nw=function(){var r=parseInt(document.body.getAttribute(el)||"0",10);return isFinite(r)?r:0},mM=function(){_.useEffect(function(){return document.body.setAttribute(el,(nw()+1).toString()),function(){var r=nw()-1;r<=0?document.body.removeAttribute(el):document.body.setAttribute(el,r.toString())}},[])},gM=function(r){var e=r.noRelative,t=r.noImportant,n=r.gapMode,o=n===void 0?"margin":n;mM();var l=_.useMemo(function(){return hM(o)},[o]);return _.createElement(fM,{styles:pM(l,!e,o,t?"":"!important")})},Gm=!1;if(typeof window<"u")try{var Td=Object.defineProperty({},"passive",{get:function(){return Gm=!0,!0}});window.addEventListener("test",Td,Td),window.removeEventListener("test",Td,Td)}catch{Gm=!1}var Ua=Gm?{passive:!1}:!1,xM=function(r){return r.tagName==="TEXTAREA"},yN=function(r,e){if(!(r instanceof Element))return!1;var t=window.getComputedStyle(r);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!xM(r)&&t[e]==="visible")},vM=function(r){return yN(r,"overflowY")},yM=function(r){return yN(r,"overflowX")},sw=function(r,e){var t=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=bN(r,n);if(o){var l=wN(r,n),u=l[1],h=l[2];if(u>h)return!0}n=n.parentNode}while(n&&n!==t.body);return!1},bM=function(r){var e=r.scrollTop,t=r.scrollHeight,n=r.clientHeight;return[e,t,n]},wM=function(r){var e=r.scrollLeft,t=r.scrollWidth,n=r.clientWidth;return[e,t,n]},bN=function(r,e){return r==="v"?vM(e):yM(e)},wN=function(r,e){return r==="v"?bM(e):wM(e)},_M=function(r,e){return r==="h"&&e==="rtl"?-1:1},NM=function(r,e,t,n,o){var l=_M(r,window.getComputedStyle(e).direction),u=l*n,h=t.target,p=e.contains(h),m=!1,v=u>0,x=0,w=0;do{if(!h)break;var k=wN(r,h),R=k[0],E=k[1],T=k[2],O=E-T-l*R;(R||O)&&bN(r,h)&&(x+=O,w+=R);var B=h.parentNode;h=B&&B.nodeType===Node.DOCUMENT_FRAGMENT_NODE?B.host:B}while(!p&&h!==document.body||p&&(e.contains(h)||e===h));return(v&&Math.abs(x)<1||!v&&Math.abs(w)<1)&&(m=!0),m},Cd=function(r){return"changedTouches"in r?[r.changedTouches[0].clientX,r.changedTouches[0].clientY]:[0,0]},iw=function(r){return[r.deltaX,r.deltaY]},ow=function(r){return r&&"current"in r?r.current:r},EM=function(r,e){return r[0]===e[0]&&r[1]===e[1]},jM=function(r){return`
  .block-interactivity-`.concat(r,` {pointer-events: none;}
  .allow-interactivity-`).concat(r,` {pointer-events: all;}
`)},SM=0,Ba=[];function kM(r){var e=_.useRef([]),t=_.useRef([0,0]),n=_.useRef(),o=_.useState(SM++)[0],l=_.useState(vN)[0],u=_.useRef(r);_.useEffect(function(){u.current=r},[r]),_.useEffect(function(){if(r.inert){document.body.classList.add("block-interactivity-".concat(o));var E=KD([r.lockRef.current],(r.shards||[]).map(ow),!0).filter(Boolean);return E.forEach(function(T){return T.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),E.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(o))})}}},[r.inert,r.lockRef.current,r.shards]);var h=_.useCallback(function(E,T){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!u.current.allowPinchZoom;var O=Cd(E),B=t.current,$="deltaX"in E?E.deltaX:B[0]-O[0],F="deltaY"in E?E.deltaY:B[1]-O[1],W,X=E.target,I=Math.abs($)>Math.abs(F)?"h":"v";if("touches"in E&&I==="h"&&X.type==="range")return!1;var S=sw(I,X);if(!S)return!0;if(S?W=I:(W=I==="v"?"h":"v",S=sw(I,X)),!S)return!1;if(!n.current&&"changedTouches"in E&&($||F)&&(n.current=W),!W)return!0;var P=n.current||W;return NM(P,T,E,P==="h"?$:F)},[]),p=_.useCallback(function(E){var T=E;if(!(!Ba.length||Ba[Ba.length-1]!==l)){var O="deltaY"in T?iw(T):Cd(T),B=e.current.filter(function(W){return W.name===T.type&&(W.target===T.target||T.target===W.shadowParent)&&EM(W.delta,O)})[0];if(B&&B.should){T.cancelable&&T.preventDefault();return}if(!B){var $=(u.current.shards||[]).map(ow).filter(Boolean).filter(function(W){return W.contains(T.target)}),F=$.length>0?h(T,$[0]):!u.current.noIsolation;F&&T.cancelable&&T.preventDefault()}}},[]),m=_.useCallback(function(E,T,O,B){var $={name:E,delta:T,target:O,should:B,shadowParent:TM(O)};e.current.push($),setTimeout(function(){e.current=e.current.filter(function(F){return F!==$})},1)},[]),v=_.useCallback(function(E){t.current=Cd(E),n.current=void 0},[]),x=_.useCallback(function(E){m(E.type,iw(E),E.target,h(E,r.lockRef.current))},[]),w=_.useCallback(function(E){m(E.type,Cd(E),E.target,h(E,r.lockRef.current))},[]);_.useEffect(function(){return Ba.push(l),r.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:w}),document.addEventListener("wheel",p,Ua),document.addEventListener("touchmove",p,Ua),document.addEventListener("touchstart",v,Ua),function(){Ba=Ba.filter(function(E){return E!==l}),document.removeEventListener("wheel",p,Ua),document.removeEventListener("touchmove",p,Ua),document.removeEventListener("touchstart",v,Ua)}},[]);var k=r.removeScrollBar,R=r.inert;return _.createElement(_.Fragment,null,R?_.createElement(l,{styles:jM(o)}):null,k?_.createElement(gM,{noRelative:r.noRelative,gapMode:r.gapMode}):null)}function TM(r){for(var e=null;r!==null;)r instanceof ShadowRoot&&(e=r.host,r=r.host),r=r.parentNode;return e}const CM=nM(xN,kM);var _N=_.forwardRef(function(r,e){return _.createElement(nf,xs({},r,{ref:e,sideCar:CM}))});_N.classNames=nf.classNames;var IM=[" ","Enter","ArrowUp","ArrowDown"],AM=[" ","Enter"],Xo="Select",[sf,of,RM]=O_(Xo),[kl]=El(Xo,[RM,rN]),af=rN(),[PM,uo]=kl(Xo),[DM,MM]=kl(Xo),NN=r=>{const{__scopeSelect:e,children:t,open:n,defaultOpen:o,onOpenChange:l,value:u,defaultValue:h,onValueChange:p,dir:m,name:v,autoComplete:x,disabled:w,required:k,form:R}=r,E=af(e),[T,O]=_.useState(null),[B,$]=_.useState(null),[F,W]=_.useState(!1),X=hx(m),[I,S]=Hc({prop:n,defaultProp:o??!1,onChange:l,caller:Xo}),[P,D]=Hc({prop:u,defaultProp:h,onChange:p,caller:Xo}),M=_.useRef(null),L=T?R||!!T.closest("form"):!0,[A,ne]=_.useState(new Set),le=Array.from(A).map(ee=>ee.props.value).join(";");return i.jsx(TD,{...E,children:i.jsxs(PM,{required:k,scope:e,trigger:T,onTriggerChange:O,valueNode:B,onValueNodeChange:$,valueNodeHasChildren:F,onValueNodeHasChildrenChange:W,contentId:iu(),value:P,onValueChange:D,open:I,onOpenChange:S,dir:X,triggerPointerDownPosRef:M,disabled:w,children:[i.jsx(sf.Provider,{scope:e,children:i.jsx(DM,{scope:r.__scopeSelect,onNativeOptionAdd:_.useCallback(ee=>{ne(G=>new Set(G).add(ee))},[]),onNativeOptionRemove:_.useCallback(ee=>{ne(G=>{const U=new Set(G);return U.delete(ee),U})},[]),children:t})}),L?i.jsxs(WN,{"aria-hidden":!0,required:k,tabIndex:-1,name:v,autoComplete:x,value:P,onChange:ee=>D(ee.target.value),disabled:w,form:R,children:[P===void 0?i.jsx("option",{value:""}):null,Array.from(A)]},le):null]})})};NN.displayName=Xo;var EN="SelectTrigger",jN=_.forwardRef((r,e)=>{const{__scopeSelect:t,disabled:n=!1,...o}=r,l=af(t),u=uo(EN,t),h=u.disabled||n,p=Ot(e,u.onTriggerChange),m=of(t),v=_.useRef("touch"),[x,w,k]=GN(E=>{const T=m().filter($=>!$.disabled),O=T.find($=>$.value===u.value),B=KN(T,E,O);B!==void 0&&u.onValueChange(B.value)}),R=E=>{h||(u.onOpenChange(!0),k()),E&&(u.triggerPointerDownPosRef.current={x:Math.round(E.pageX),y:Math.round(E.pageY)})};return i.jsx(CD,{asChild:!0,...l,children:i.jsx(at.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":qN(u.value)?"":void 0,...o,ref:p,onClick:st(o.onClick,E=>{E.currentTarget.focus(),v.current!=="mouse"&&R(E)}),onPointerDown:st(o.onPointerDown,E=>{v.current=E.pointerType;const T=E.target;T.hasPointerCapture(E.pointerId)&&T.releasePointerCapture(E.pointerId),E.button===0&&E.ctrlKey===!1&&E.pointerType==="mouse"&&(R(E),E.preventDefault())}),onKeyDown:st(o.onKeyDown,E=>{const T=x.current!=="";!(E.ctrlKey||E.altKey||E.metaKey)&&E.key.length===1&&w(E.key),!(T&&E.key===" ")&&IM.includes(E.key)&&(R(),E.preventDefault())})})})});jN.displayName=EN;var SN="SelectValue",kN=_.forwardRef((r,e)=>{const{__scopeSelect:t,className:n,style:o,children:l,placeholder:u="",...h}=r,p=uo(SN,t),{onValueNodeHasChildrenChange:m}=p,v=l!==void 0,x=Ot(e,p.onValueNodeChange);return Xt(()=>{m(v)},[m,v]),i.jsx(at.span,{...h,ref:x,style:{pointerEvents:"none"},children:qN(p.value)?i.jsx(i.Fragment,{children:u}):l})});kN.displayName=SN;var OM="SelectIcon",TN=_.forwardRef((r,e)=>{const{__scopeSelect:t,children:n,...o}=r;return i.jsx(at.span,{"aria-hidden":!0,...o,ref:e,children:n||""})});TN.displayName=OM;var LM="SelectPortal",CN=r=>i.jsx(dN,{asChild:!0,...r});CN.displayName=LM;var Jo="SelectContent",IN=_.forwardRef((r,e)=>{const t=uo(Jo,r.__scopeSelect),[n,o]=_.useState();if(Xt(()=>{o(new DocumentFragment)},[]),!t.open){const l=n;return l?qc.createPortal(i.jsx(AN,{scope:r.__scopeSelect,children:i.jsx(sf.Slot,{scope:r.__scopeSelect,children:i.jsx("div",{children:r.children})})}),l):null}return i.jsx(RN,{...r,ref:e})});IN.displayName=Jo;var Fn=10,[AN,ho]=kl(Jo),VM="SelectContentImpl",$M=PD("SelectContent.RemoveScroll"),RN=_.forwardRef((r,e)=>{const{__scopeSelect:t,position:n="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:l,onPointerDownOutside:u,side:h,sideOffset:p,align:m,alignOffset:v,arrowPadding:x,collisionBoundary:w,collisionPadding:k,sticky:R,hideWhenDetached:E,avoidCollisions:T,...O}=r,B=uo(Jo,t),[$,F]=_.useState(null),[W,X]=_.useState(null),I=Ot(e,ce=>F(ce)),[S,P]=_.useState(null),[D,M]=_.useState(null),L=of(t),[A,ne]=_.useState(!1),le=_.useRef(!1);_.useEffect(()=>{if($)return GD($)},[$]),e6();const ee=_.useCallback(ce=>{const[pe,...Ae]=L().map(He=>He.ref.current),[Pe]=Ae.slice(-1),ze=document.activeElement;for(const He of ce)if(He===ze||(He?.scrollIntoView({block:"nearest"}),He===pe&&W&&(W.scrollTop=0),He===Pe&&W&&(W.scrollTop=W.scrollHeight),He?.focus(),document.activeElement!==ze))return},[L,W]),G=_.useCallback(()=>ee([S,$]),[ee,S,$]);_.useEffect(()=>{A&&G()},[A,G]);const{onOpenChange:U,triggerPointerDownPosRef:ie}=B;_.useEffect(()=>{if($){let ce={x:0,y:0};const pe=Pe=>{ce={x:Math.abs(Math.round(Pe.pageX)-(ie.current?.x??0)),y:Math.abs(Math.round(Pe.pageY)-(ie.current?.y??0))}},Ae=Pe=>{ce.x<=10&&ce.y<=10?Pe.preventDefault():$.contains(Pe.target)||U(!1),document.removeEventListener("pointermove",pe),ie.current=null};return ie.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",Ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",Ae,{capture:!0})}}},[$,U,ie]),_.useEffect(()=>{const ce=()=>U(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[U]);const[se,z]=GN(ce=>{const pe=L().filter(ze=>!ze.disabled),Ae=pe.find(ze=>ze.ref.current===document.activeElement),Pe=KN(pe,ce,Ae);Pe&&setTimeout(()=>Pe.ref.current.focus())}),te=_.useCallback((ce,pe,Ae)=>{const Pe=!le.current&&!Ae;(B.value!==void 0&&B.value===pe||Pe)&&(P(ce),Pe&&(le.current=!0))},[B.value]),re=_.useCallback(()=>$?.focus(),[$]),oe=_.useCallback((ce,pe,Ae)=>{const Pe=!le.current&&!Ae;(B.value!==void 0&&B.value===pe||Pe)&&M(ce)},[B.value]),me=n==="popper"?Km:PN,we=me===Km?{side:h,sideOffset:p,align:m,alignOffset:v,arrowPadding:x,collisionBoundary:w,collisionPadding:k,sticky:R,hideWhenDetached:E,avoidCollisions:T}:{};return i.jsx(AN,{scope:t,content:$,viewport:W,onViewportChange:X,itemRefCallback:te,selectedItem:S,onItemLeave:re,itemTextRefCallback:oe,focusSelectedItem:G,selectedItemText:D,position:n,isPositioned:A,searchRef:se,children:i.jsx(_N,{as:$M,allowPinchZoom:!0,children:i.jsx(F_,{asChild:!0,trapped:B.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:st(o,ce=>{B.trigger?.focus({preventScroll:!0}),ce.preventDefault()}),children:i.jsx(V_,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>B.onOpenChange(!1),children:i.jsx(me,{role:"listbox",id:B.contentId,"data-state":B.open?"open":"closed",dir:B.dir,onContextMenu:ce=>ce.preventDefault(),...O,...we,onPlaced:()=>ne(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...O.style},onKeyDown:st(O.onKeyDown,ce=>{const pe=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!pe&&ce.key.length===1&&z(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let Pe=L().filter(ze=>!ze.disabled).map(ze=>ze.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(Pe=Pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const ze=ce.target,He=Pe.indexOf(ze);Pe=Pe.slice(He+1)}setTimeout(()=>ee(Pe)),ce.preventDefault()}})})})})})})});RN.displayName=VM;var FM="SelectItemAlignedPosition",PN=_.forwardRef((r,e)=>{const{__scopeSelect:t,onPlaced:n,...o}=r,l=uo(Jo,t),u=ho(Jo,t),[h,p]=_.useState(null),[m,v]=_.useState(null),x=Ot(e,I=>v(I)),w=of(t),k=_.useRef(!1),R=_.useRef(!0),{viewport:E,selectedItem:T,selectedItemText:O,focusSelectedItem:B}=u,$=_.useCallback(()=>{if(l.trigger&&l.valueNode&&h&&m&&E&&T&&O){const I=l.trigger.getBoundingClientRect(),S=m.getBoundingClientRect(),P=l.valueNode.getBoundingClientRect(),D=O.getBoundingClientRect();if(l.dir!=="rtl"){const ze=D.left-S.left,He=P.left-ze,pt=I.left-He,Lt=I.width+pt,cn=Math.max(Lt,S.width),gr=window.innerWidth-Fn,ye=Ob(He,[Fn,Math.max(Fn,gr-cn)]);h.style.minWidth=Lt+"px",h.style.left=ye+"px"}else{const ze=S.right-D.right,He=window.innerWidth-P.right-ze,pt=window.innerWidth-I.right-He,Lt=I.width+pt,cn=Math.max(Lt,S.width),gr=window.innerWidth-Fn,ye=Ob(He,[Fn,Math.max(Fn,gr-cn)]);h.style.minWidth=Lt+"px",h.style.right=ye+"px"}const M=w(),L=window.innerHeight-Fn*2,A=E.scrollHeight,ne=window.getComputedStyle(m),le=parseInt(ne.borderTopWidth,10),ee=parseInt(ne.paddingTop,10),G=parseInt(ne.borderBottomWidth,10),U=parseInt(ne.paddingBottom,10),ie=le+ee+A+U+G,se=Math.min(T.offsetHeight*5,ie),z=window.getComputedStyle(E),te=parseInt(z.paddingTop,10),re=parseInt(z.paddingBottom,10),oe=I.top+I.height/2-Fn,me=L-oe,we=T.offsetHeight/2,ce=T.offsetTop+we,pe=le+ee+ce,Ae=ie-pe;if(pe<=oe){const ze=M.length>0&&T===M[M.length-1].ref.current;h.style.bottom="0px";const He=m.clientHeight-E.offsetTop-E.offsetHeight,pt=Math.max(me,we+(ze?re:0)+He+G),Lt=pe+pt;h.style.height=Lt+"px"}else{const ze=M.length>0&&T===M[0].ref.current;h.style.top="0px";const pt=Math.max(oe,le+E.offsetTop+(ze?te:0)+we)+Ae;h.style.height=pt+"px",E.scrollTop=pe-oe+E.offsetTop}h.style.margin=`${Fn}px 0`,h.style.minHeight=se+"px",h.style.maxHeight=L+"px",n?.(),requestAnimationFrame(()=>k.current=!0)}},[w,l.trigger,l.valueNode,h,m,E,T,O,l.dir,n]);Xt(()=>$(),[$]);const[F,W]=_.useState();Xt(()=>{m&&W(window.getComputedStyle(m).zIndex)},[m]);const X=_.useCallback(I=>{I&&R.current===!0&&($(),B?.(),R.current=!1)},[$,B]);return i.jsx(BM,{scope:t,contentWrapper:h,shouldExpandOnScrollRef:k,onScrollButtonChange:X,children:i.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:F},children:i.jsx(at.div,{...o,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});PN.displayName=FM;var UM="SelectPopperPosition",Km=_.forwardRef((r,e)=>{const{__scopeSelect:t,align:n="start",collisionPadding:o=Fn,...l}=r,u=af(t);return i.jsx(ID,{...u,...l,ref:e,align:n,collisionPadding:o,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Km.displayName=UM;var[BM,wx]=kl(Jo,{}),Ym="SelectViewport",DN=_.forwardRef((r,e)=>{const{__scopeSelect:t,nonce:n,...o}=r,l=ho(Ym,t),u=wx(Ym,t),h=Ot(e,l.onViewportChange),p=_.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(sf.Slot,{scope:t,children:i.jsx(at.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:h,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:st(o.onScroll,m=>{const v=m.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:w}=u;if(w?.current&&x){const k=Math.abs(p.current-v.scrollTop);if(k>0){const R=window.innerHeight-Fn*2,E=parseFloat(x.style.minHeight),T=parseFloat(x.style.height),O=Math.max(E,T);if(O<R){const B=O+k,$=Math.min(R,B),F=B-$;x.style.height=$+"px",x.style.bottom==="0px"&&(v.scrollTop=F>0?F:0,x.style.justifyContent="flex-end")}}}p.current=v.scrollTop})})})]})});DN.displayName=Ym;var MN="SelectGroup",[zM,HM]=kl(MN),WM=_.forwardRef((r,e)=>{const{__scopeSelect:t,...n}=r,o=iu();return i.jsx(zM,{scope:t,id:o,children:i.jsx(at.div,{role:"group","aria-labelledby":o,...n,ref:e})})});WM.displayName=MN;var ON="SelectLabel",qM=_.forwardRef((r,e)=>{const{__scopeSelect:t,...n}=r,o=HM(ON,t);return i.jsx(at.div,{id:o.id,...n,ref:e})});qM.displayName=ON;var _h="SelectItem",[GM,LN]=kl(_h),VN=_.forwardRef((r,e)=>{const{__scopeSelect:t,value:n,disabled:o=!1,textValue:l,...u}=r,h=uo(_h,t),p=ho(_h,t),m=h.value===n,[v,x]=_.useState(l??""),[w,k]=_.useState(!1),R=Ot(e,B=>p.itemRefCallback?.(B,n,o)),E=iu(),T=_.useRef("touch"),O=()=>{o||(h.onValueChange(n),h.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(GM,{scope:t,value:n,disabled:o,textId:E,isSelected:m,onItemTextChange:_.useCallback(B=>{x($=>$||(B?.textContent??"").trim())},[]),children:i.jsx(sf.ItemSlot,{scope:t,value:n,disabled:o,textValue:v,children:i.jsx(at.div,{role:"option","aria-labelledby":E,"data-highlighted":w?"":void 0,"aria-selected":m&&w,"data-state":m?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...u,ref:R,onFocus:st(u.onFocus,()=>k(!0)),onBlur:st(u.onBlur,()=>k(!1)),onClick:st(u.onClick,()=>{T.current!=="mouse"&&O()}),onPointerUp:st(u.onPointerUp,()=>{T.current==="mouse"&&O()}),onPointerDown:st(u.onPointerDown,B=>{T.current=B.pointerType}),onPointerMove:st(u.onPointerMove,B=>{T.current=B.pointerType,o?p.onItemLeave?.():T.current==="mouse"&&B.currentTarget.focus({preventScroll:!0})}),onPointerLeave:st(u.onPointerLeave,B=>{B.currentTarget===document.activeElement&&p.onItemLeave?.()}),onKeyDown:st(u.onKeyDown,B=>{p.searchRef?.current!==""&&B.key===" "||(AM.includes(B.key)&&O(),B.key===" "&&B.preventDefault())})})})})});VN.displayName=_h;var Ec="SelectItemText",$N=_.forwardRef((r,e)=>{const{__scopeSelect:t,className:n,style:o,...l}=r,u=uo(Ec,t),h=ho(Ec,t),p=LN(Ec,t),m=MM(Ec,t),[v,x]=_.useState(null),w=Ot(e,O=>x(O),p.onItemTextChange,O=>h.itemTextRefCallback?.(O,p.value,p.disabled)),k=v?.textContent,R=_.useMemo(()=>i.jsx("option",{value:p.value,disabled:p.disabled,children:k},p.value),[p.disabled,p.value,k]),{onNativeOptionAdd:E,onNativeOptionRemove:T}=m;return Xt(()=>(E(R),()=>T(R)),[E,T,R]),i.jsxs(i.Fragment,{children:[i.jsx(at.span,{id:p.textId,...l,ref:w}),p.isSelected&&u.valueNode&&!u.valueNodeHasChildren?qc.createPortal(l.children,u.valueNode):null]})});$N.displayName=Ec;var FN="SelectItemIndicator",UN=_.forwardRef((r,e)=>{const{__scopeSelect:t,...n}=r;return LN(FN,t).isSelected?i.jsx(at.span,{"aria-hidden":!0,...n,ref:e}):null});UN.displayName=FN;var Qm="SelectScrollUpButton",BN=_.forwardRef((r,e)=>{const t=ho(Qm,r.__scopeSelect),n=wx(Qm,r.__scopeSelect),[o,l]=_.useState(!1),u=Ot(e,n.onScrollButtonChange);return Xt(()=>{if(t.viewport&&t.isPositioned){let h=function(){const m=p.scrollTop>0;l(m)};const p=t.viewport;return h(),p.addEventListener("scroll",h),()=>p.removeEventListener("scroll",h)}},[t.viewport,t.isPositioned]),o?i.jsx(HN,{...r,ref:u,onAutoScroll:()=>{const{viewport:h,selectedItem:p}=t;h&&p&&(h.scrollTop=h.scrollTop-p.offsetHeight)}}):null});BN.displayName=Qm;var Xm="SelectScrollDownButton",zN=_.forwardRef((r,e)=>{const t=ho(Xm,r.__scopeSelect),n=wx(Xm,r.__scopeSelect),[o,l]=_.useState(!1),u=Ot(e,n.onScrollButtonChange);return Xt(()=>{if(t.viewport&&t.isPositioned){let h=function(){const m=p.scrollHeight-p.clientHeight,v=Math.ceil(p.scrollTop)<m;l(v)};const p=t.viewport;return h(),p.addEventListener("scroll",h),()=>p.removeEventListener("scroll",h)}},[t.viewport,t.isPositioned]),o?i.jsx(HN,{...r,ref:u,onAutoScroll:()=>{const{viewport:h,selectedItem:p}=t;h&&p&&(h.scrollTop=h.scrollTop+p.offsetHeight)}}):null});zN.displayName=Xm;var HN=_.forwardRef((r,e)=>{const{__scopeSelect:t,onAutoScroll:n,...o}=r,l=ho("SelectScrollButton",t),u=_.useRef(null),h=of(t),p=_.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return _.useEffect(()=>()=>p(),[p]),Xt(()=>{h().find(v=>v.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[h]),i.jsx(at.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:st(o.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(n,50))}),onPointerMove:st(o.onPointerMove,()=>{l.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(n,50))}),onPointerLeave:st(o.onPointerLeave,()=>{p()})})}),KM="SelectSeparator",YM=_.forwardRef((r,e)=>{const{__scopeSelect:t,...n}=r;return i.jsx(at.div,{"aria-hidden":!0,...n,ref:e})});YM.displayName=KM;var Jm="SelectArrow",QM=_.forwardRef((r,e)=>{const{__scopeSelect:t,...n}=r,o=af(t),l=uo(Jm,t),u=ho(Jm,t);return l.open&&u.position==="popper"?i.jsx(AD,{...o,...n,ref:e}):null});QM.displayName=Jm;var XM="SelectBubbleInput",WN=_.forwardRef(({__scopeSelect:r,value:e,...t},n)=>{const o=_.useRef(null),l=Ot(n,o),u=hN(e);return _.useEffect(()=>{const h=o.current;if(!h)return;const p=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(p,"value").set;if(u!==e&&v){const x=new Event("change",{bubbles:!0});v.call(h,e),h.dispatchEvent(x)}},[u,e]),i.jsx(at.select,{...t,style:{...fN,...t.style},ref:l,defaultValue:e})});WN.displayName=XM;function qN(r){return r===""||r===void 0}function GN(r){const e=ni(r),t=_.useRef(""),n=_.useRef(0),o=_.useCallback(u=>{const h=t.current+u;e(h),(function p(m){t.current=m,window.clearTimeout(n.current),m!==""&&(n.current=window.setTimeout(()=>p(""),1e3))})(h)},[e]),l=_.useCallback(()=>{t.current="",window.clearTimeout(n.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(n.current),[]),[t,o,l]}function KN(r,e,t){const o=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,l=t?r.indexOf(t):-1;let u=JM(r,Math.max(l,0));o.length===1&&(u=u.filter(m=>m!==t));const p=u.find(m=>m.textValue.toLowerCase().startsWith(o.toLowerCase()));return p!==t?p:void 0}function JM(r,e){return r.map((t,n)=>r[(e+n)%r.length])}var ZM=NN,e9=jN,t9=kN,r9=TN,n9=CN,s9=IN,i9=DN,o9=VN,a9=$N,l9=UN,c9=BN,u9=zN;function YN({...r}){return i.jsx(ZM,{"data-slot":"select",...r})}function QN({...r}){return i.jsx(t9,{"data-slot":"select-value",...r})}function XN({className:r,size:e="default",children:t,...n}){return i.jsxs(e9,{"data-slot":"select-trigger","data-size":e,className:Qt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...n,children:[t,i.jsx(r9,{asChild:!0,children:i.jsx(rg,{className:"size-4 opacity-50"})})]})}function JN({className:r,children:e,position:t="popper",...n}){return i.jsx(n9,{children:i.jsxs(s9,{"data-slot":"select-content",className:Qt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:t,...n,children:[i.jsx(d9,{}),i.jsx(i9,{className:Qt("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),i.jsx(h9,{})]})})}function Ga({className:r,children:e,...t}){return i.jsxs(o9,{"data-slot":"select-item",className:Qt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",r),...t,children:[i.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:i.jsx(l9,{children:i.jsx(_w,{className:"size-4"})})}),i.jsx(a9,{children:e})]})}function d9({className:r,...e}){return i.jsx(c9,{"data-slot":"select-scroll-up-button",className:Qt("flex cursor-default items-center justify-center py-1",r),...e,children:i.jsx(Nw,{className:"size-4"})})}function h9({className:r,...e}){return i.jsx(u9,{"data-slot":"select-scroll-down-button",className:Qt("flex cursor-default items-center justify-center py-1",r),...e,children:i.jsx(rg,{className:"size-4"})})}var f9=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],p9=f9.reduce((r,e)=>{const t=og(`Primitive.${e}`),n=_.forwardRef((o,l)=>{const{asChild:u,...h}=o,p=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(p,{...h,ref:l})});return n.displayName=`Primitive.${e}`,{...r,[e]:n}},{}),m9="Label",ZN=_.forwardRef((r,e)=>i.jsx(p9.label,{...r,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(r.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));ZN.displayName=m9;var g9=ZN;function Ar({className:r,...e}){return i.jsx(g9,{"data-slot":"label",className:Qt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...e})}function x9(r){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}const v9=r=>{switch(r){case"success":return w9;case"info":return N9;case"warning":return _9;case"error":return E9;default:return null}},y9=Array(12).fill(0),b9=({visible:r,className:e})=>xe.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":r},xe.createElement("div",{className:"sonner-spinner"},y9.map((t,n)=>xe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),w9=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),_9=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),N9=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),E9=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),j9=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},xe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),xe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),S9=()=>{const[r,e]=xe.useState(document.hidden);return xe.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),r};let Zm=1;class k9{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:n,...o}=e,l=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Zm++,u=this.toasts.find(p=>p.id===l),h=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),u?this.toasts=this.toasts.map(p=>p.id===l?(this.publish({...p,...e,id:l,title:n}),{...p,...e,id:l,dismissible:h,title:n}):p):this.addToast({title:n,...o,dismissible:h,id:l}),l},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const o=Promise.resolve(e instanceof Function?e():e);let l=n!==void 0,u;const h=o.then(async m=>{if(u=["resolve",m],xe.isValidElement(m))l=!1,this.create({id:n,type:"default",message:m});else if(C9(m)&&!m.ok){l=!1;const x=typeof t.error=="function"?await t.error(`HTTP error! status: ${m.status}`):t.error,w=typeof t.description=="function"?await t.description(`HTTP error! status: ${m.status}`):t.description,R=typeof x=="object"&&!xe.isValidElement(x)?x:{message:x};this.create({id:n,type:"error",description:w,...R})}else if(m instanceof Error){l=!1;const x=typeof t.error=="function"?await t.error(m):t.error,w=typeof t.description=="function"?await t.description(m):t.description,R=typeof x=="object"&&!xe.isValidElement(x)?x:{message:x};this.create({id:n,type:"error",description:w,...R})}else if(t.success!==void 0){l=!1;const x=typeof t.success=="function"?await t.success(m):t.success,w=typeof t.description=="function"?await t.description(m):t.description,R=typeof x=="object"&&!xe.isValidElement(x)?x:{message:x};this.create({id:n,type:"success",description:w,...R})}}).catch(async m=>{if(u=["reject",m],t.error!==void 0){l=!1;const v=typeof t.error=="function"?await t.error(m):t.error,x=typeof t.description=="function"?await t.description(m):t.description,k=typeof v=="object"&&!xe.isValidElement(v)?v:{message:v};this.create({id:n,type:"error",description:x,...k})}}).finally(()=>{l&&(this.dismiss(n),n=void 0),t.finally==null||t.finally.call(t)}),p=()=>new Promise((m,v)=>h.then(()=>u[0]==="reject"?v(u[1]):m(u[1])).catch(v));return typeof n!="string"&&typeof n!="number"?{unwrap:p}:Object.assign(n,{unwrap:p})},this.custom=(e,t)=>{const n=t?.id||Zm++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Br=new k9,T9=(r,e)=>{const t=e?.id||Zm++;return Br.addToast({title:r,...e,id:t}),t},C9=r=>r&&typeof r=="object"&&"ok"in r&&typeof r.ok=="boolean"&&"status"in r&&typeof r.status=="number",I9=T9,A9=()=>Br.toasts,R9=()=>Br.getActiveToasts(),nt=Object.assign(I9,{success:Br.success,info:Br.info,warning:Br.warning,error:Br.error,custom:Br.custom,message:Br.message,promise:Br.promise,dismiss:Br.dismiss,loading:Br.loading},{getHistory:A9,getToasts:R9});x9("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Id(r){return r.label!==void 0}const P9=3,D9="24px",M9="16px",aw=4e3,O9=356,L9=14,V9=45,$9=200;function ms(...r){return r.filter(Boolean).join(" ")}function F9(r){const[e,t]=r.split("-"),n=[];return e&&n.push(e),t&&n.push(t),n}const U9=r=>{var e,t,n,o,l,u,h,p,m;const{invert:v,toast:x,unstyled:w,interacting:k,setHeights:R,visibleToasts:E,heights:T,index:O,toasts:B,expanded:$,removeToast:F,defaultRichColors:W,closeButton:X,style:I,cancelButtonStyle:S,actionButtonStyle:P,className:D="",descriptionClassName:M="",duration:L,position:A,gap:ne,expandByDefault:le,classNames:ee,icons:G,closeButtonAriaLabel:U="Close toast"}=r,[ie,se]=xe.useState(null),[z,te]=xe.useState(null),[re,oe]=xe.useState(!1),[me,we]=xe.useState(!1),[ce,pe]=xe.useState(!1),[Ae,Pe]=xe.useState(!1),[ze,He]=xe.useState(!1),[pt,Lt]=xe.useState(0),[cn,gr]=xe.useState(0),ye=xe.useRef(x.duration||L||aw),Ke=xe.useRef(null),We=xe.useRef(null),lt=O===0,Zt=O+1<=E,ct=x.type,or=x.dismissible!==!1,ar=x.className||"",Gr=x.descriptionClassName||"",Xn=xe.useMemo(()=>T.findIndex(Oe=>Oe.toastId===x.id)||0,[T,x.id]),hi=xe.useMemo(()=>{var Oe;return(Oe=x.closeButton)!=null?Oe:X},[x.closeButton,X]),kn=xe.useMemo(()=>x.duration||L||aw,[x.duration,L]),fi=xe.useRef(0),Dr=xe.useRef(0),Tn=xe.useRef(0),Cn=xe.useRef(null),[Jn,pi]=A.split("-"),mi=xe.useMemo(()=>T.reduce((Oe,ut,Rt)=>Rt>=Xn?Oe:Oe+ut.height,0),[T,Xn]),Mr=S9(),gi=x.invert||v,un=ct==="loading";Dr.current=xe.useMemo(()=>Xn*ne+mi,[Xn,mi]),xe.useEffect(()=>{ye.current=kn},[kn]),xe.useEffect(()=>{oe(!0)},[]),xe.useEffect(()=>{const Oe=We.current;if(Oe){const ut=Oe.getBoundingClientRect().height;return gr(ut),R(Rt=>[{toastId:x.id,height:ut,position:x.position},...Rt]),()=>R(Rt=>Rt.filter(er=>er.toastId!==x.id))}},[R,x.id]),xe.useLayoutEffect(()=>{if(!re)return;const Oe=We.current,ut=Oe.style.height;Oe.style.height="auto";const Rt=Oe.getBoundingClientRect().height;Oe.style.height=ut,gr(Rt),R(er=>er.find(kt=>kt.toastId===x.id)?er.map(kt=>kt.toastId===x.id?{...kt,height:Rt}:kt):[{toastId:x.id,height:Rt,position:x.position},...er])},[re,x.title,x.description,R,x.id,x.jsx,x.action,x.cancel]);const kr=xe.useCallback(()=>{we(!0),Lt(Dr.current),R(Oe=>Oe.filter(ut=>ut.toastId!==x.id)),setTimeout(()=>{F(x)},$9)},[x,F,R,Dr]);xe.useEffect(()=>{if(x.promise&&ct==="loading"||x.duration===1/0||x.type==="loading")return;let Oe;return $||k||Mr?(()=>{if(Tn.current<fi.current){const er=new Date().getTime()-fi.current;ye.current=ye.current-er}Tn.current=new Date().getTime()})():(()=>{ye.current!==1/0&&(fi.current=new Date().getTime(),Oe=setTimeout(()=>{x.onAutoClose==null||x.onAutoClose.call(x,x),kr()},ye.current))})(),()=>clearTimeout(Oe)},[$,k,x,ct,Mr,kr]),xe.useEffect(()=>{x.delete&&(kr(),x.onDismiss==null||x.onDismiss.call(x,x))},[kr,x.delete]);function In(){var Oe;if(G?.loading){var ut;return xe.createElement("div",{className:ms(ee?.loader,x==null||(ut=x.classNames)==null?void 0:ut.loader,"sonner-loader"),"data-visible":ct==="loading"},G.loading)}return xe.createElement(b9,{className:ms(ee?.loader,x==null||(Oe=x.classNames)==null?void 0:Oe.loader),visible:ct==="loading"})}const An=x.icon||G?.[ct]||v9(ct);var mt,xi;return xe.createElement("li",{tabIndex:0,ref:We,className:ms(D,ar,ee?.toast,x==null||(e=x.classNames)==null?void 0:e.toast,ee?.default,ee?.[ct],x==null||(t=x.classNames)==null?void 0:t[ct]),"data-sonner-toast":"","data-rich-colors":(mt=x.richColors)!=null?mt:W,"data-styled":!(x.jsx||x.unstyled||w),"data-mounted":re,"data-promise":!!x.promise,"data-swiped":ze,"data-removed":me,"data-visible":Zt,"data-y-position":Jn,"data-x-position":pi,"data-index":O,"data-front":lt,"data-swiping":ce,"data-dismissible":or,"data-type":ct,"data-invert":gi,"data-swipe-out":Ae,"data-swipe-direction":z,"data-expanded":!!($||le&&re),"data-testid":x.testId,style:{"--index":O,"--toasts-before":O,"--z-index":B.length-O,"--offset":`${me?pt:Dr.current}px`,"--initial-height":le?"auto":`${cn}px`,...I,...x.style},onDragEnd:()=>{pe(!1),se(null),Cn.current=null},onPointerDown:Oe=>{Oe.button!==2&&(un||!or||(Ke.current=new Date,Lt(Dr.current),Oe.target.setPointerCapture(Oe.pointerId),Oe.target.tagName!=="BUTTON"&&(pe(!0),Cn.current={x:Oe.clientX,y:Oe.clientY})))},onPointerUp:()=>{var Oe,ut,Rt;if(Ae||!or)return;Cn.current=null;const er=Number(((Oe=We.current)==null?void 0:Oe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Tr=Number(((ut=We.current)==null?void 0:ut.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),kt=new Date().getTime()-((Rt=Ke.current)==null?void 0:Rt.getTime()),Vt=ie==="x"?er:Tr,Kr=Math.abs(Vt)/kt;if(Math.abs(Vt)>=V9||Kr>.11){Lt(Dr.current),x.onDismiss==null||x.onDismiss.call(x,x),te(ie==="x"?er>0?"right":"left":Tr>0?"down":"up"),kr(),Pe(!0);return}else{var $t,xr;($t=We.current)==null||$t.style.setProperty("--swipe-amount-x","0px"),(xr=We.current)==null||xr.style.setProperty("--swipe-amount-y","0px")}He(!1),pe(!1),se(null)},onPointerMove:Oe=>{var ut,Rt,er;if(!Cn.current||!or||((ut=window.getSelection())==null?void 0:ut.toString().length)>0)return;const kt=Oe.clientY-Cn.current.y,Vt=Oe.clientX-Cn.current.x;var Kr;const $t=(Kr=r.swipeDirections)!=null?Kr:F9(A);!ie&&(Math.abs(Vt)>1||Math.abs(kt)>1)&&se(Math.abs(Vt)>Math.abs(kt)?"x":"y");let xr={x:0,y:0};const dn=tr=>1/(1.5+Math.abs(tr)/20);if(ie==="y"){if($t.includes("top")||$t.includes("bottom"))if($t.includes("top")&&kt<0||$t.includes("bottom")&&kt>0)xr.y=kt;else{const tr=kt*dn(kt);xr.y=Math.abs(tr)<Math.abs(kt)?tr:kt}}else if(ie==="x"&&($t.includes("left")||$t.includes("right")))if($t.includes("left")&&Vt<0||$t.includes("right")&&Vt>0)xr.x=Vt;else{const tr=Vt*dn(Vt);xr.x=Math.abs(tr)<Math.abs(Vt)?tr:Vt}(Math.abs(xr.x)>0||Math.abs(xr.y)>0)&&He(!0),(Rt=We.current)==null||Rt.style.setProperty("--swipe-amount-x",`${xr.x}px`),(er=We.current)==null||er.style.setProperty("--swipe-amount-y",`${xr.y}px`)}},hi&&!x.jsx&&ct!=="loading"?xe.createElement("button",{"aria-label":U,"data-disabled":un,"data-close-button":!0,onClick:un||!or?()=>{}:()=>{kr(),x.onDismiss==null||x.onDismiss.call(x,x)},className:ms(ee?.closeButton,x==null||(n=x.classNames)==null?void 0:n.closeButton)},(xi=G?.close)!=null?xi:j9):null,(ct||x.icon||x.promise)&&x.icon!==null&&(G?.[ct]!==null||x.icon)?xe.createElement("div",{"data-icon":"",className:ms(ee?.icon,x==null||(o=x.classNames)==null?void 0:o.icon)},x.promise||x.type==="loading"&&!x.icon?x.icon||In():null,x.type!=="loading"?An:null):null,xe.createElement("div",{"data-content":"",className:ms(ee?.content,x==null||(l=x.classNames)==null?void 0:l.content)},xe.createElement("div",{"data-title":"",className:ms(ee?.title,x==null||(u=x.classNames)==null?void 0:u.title)},x.jsx?x.jsx:typeof x.title=="function"?x.title():x.title),x.description?xe.createElement("div",{"data-description":"",className:ms(M,Gr,ee?.description,x==null||(h=x.classNames)==null?void 0:h.description)},typeof x.description=="function"?x.description():x.description):null),xe.isValidElement(x.cancel)?x.cancel:x.cancel&&Id(x.cancel)?xe.createElement("button",{"data-button":!0,"data-cancel":!0,style:x.cancelButtonStyle||S,onClick:Oe=>{Id(x.cancel)&&or&&(x.cancel.onClick==null||x.cancel.onClick.call(x.cancel,Oe),kr())},className:ms(ee?.cancelButton,x==null||(p=x.classNames)==null?void 0:p.cancelButton)},x.cancel.label):null,xe.isValidElement(x.action)?x.action:x.action&&Id(x.action)?xe.createElement("button",{"data-button":!0,"data-action":!0,style:x.actionButtonStyle||P,onClick:Oe=>{Id(x.action)&&(x.action.onClick==null||x.action.onClick.call(x.action,Oe),!Oe.defaultPrevented&&kr())},className:ms(ee?.actionButton,x==null||(m=x.classNames)==null?void 0:m.actionButton)},x.action.label):null)};function lw(){if(typeof window>"u"||typeof document>"u")return"ltr";const r=document.documentElement.getAttribute("dir");return r==="auto"||!r?window.getComputedStyle(document.documentElement).direction:r}function B9(r,e){const t={};return[r,e].forEach((n,o)=>{const l=o===1,u=l?"--mobile-offset":"--offset",h=l?M9:D9;function p(m){["top","right","bottom","left"].forEach(v=>{t[`${u}-${v}`]=typeof m=="number"?`${m}px`:m})}typeof n=="number"||typeof n=="string"?p(n):typeof n=="object"?["top","right","bottom","left"].forEach(m=>{n[m]===void 0?t[`${u}-${m}`]=h:t[`${u}-${m}`]=typeof n[m]=="number"?`${n[m]}px`:n[m]}):p(h)}),t}const z9=xe.forwardRef(function(e,t){const{id:n,invert:o,position:l="bottom-right",hotkey:u=["altKey","KeyT"],expand:h,closeButton:p,className:m,offset:v,mobileOffset:x,theme:w="light",richColors:k,duration:R,style:E,visibleToasts:T=P9,toastOptions:O,dir:B=lw(),gap:$=L9,icons:F,containerAriaLabel:W="Notifications"}=e,[X,I]=xe.useState([]),S=xe.useMemo(()=>n?X.filter(re=>re.toasterId===n):X.filter(re=>!re.toasterId),[X,n]),P=xe.useMemo(()=>Array.from(new Set([l].concat(S.filter(re=>re.position).map(re=>re.position)))),[S,l]),[D,M]=xe.useState([]),[L,A]=xe.useState(!1),[ne,le]=xe.useState(!1),[ee,G]=xe.useState(w!=="system"?w:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),U=xe.useRef(null),ie=u.join("+").replace(/Key/g,"").replace(/Digit/g,""),se=xe.useRef(null),z=xe.useRef(!1),te=xe.useCallback(re=>{I(oe=>{var me;return(me=oe.find(we=>we.id===re.id))!=null&&me.delete||Br.dismiss(re.id),oe.filter(({id:we})=>we!==re.id)})},[]);return xe.useEffect(()=>Br.subscribe(re=>{if(re.dismiss){requestAnimationFrame(()=>{I(oe=>oe.map(me=>me.id===re.id?{...me,delete:!0}:me))});return}setTimeout(()=>{Qw.flushSync(()=>{I(oe=>{const me=oe.findIndex(we=>we.id===re.id);return me!==-1?[...oe.slice(0,me),{...oe[me],...re},...oe.slice(me+1)]:[re,...oe]})})})}),[X]),xe.useEffect(()=>{if(w!=="system"){G(w);return}if(w==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?G("dark"):G("light")),typeof window>"u")return;const re=window.matchMedia("(prefers-color-scheme: dark)");try{re.addEventListener("change",({matches:oe})=>{G(oe?"dark":"light")})}catch{re.addListener(({matches:me})=>{try{G(me?"dark":"light")}catch(we){console.error(we)}})}},[w]),xe.useEffect(()=>{X.length<=1&&A(!1)},[X]),xe.useEffect(()=>{const re=oe=>{var me;if(u.every(pe=>oe[pe]||oe.code===pe)){var ce;A(!0),(ce=U.current)==null||ce.focus()}oe.code==="Escape"&&(document.activeElement===U.current||(me=U.current)!=null&&me.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",re),()=>document.removeEventListener("keydown",re)},[u]),xe.useEffect(()=>{if(U.current)return()=>{se.current&&(se.current.focus({preventScroll:!0}),se.current=null,z.current=!1)}},[U.current]),xe.createElement("section",{ref:t,"aria-label":`${W} ${ie}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((re,oe)=>{var me;const[we,ce]=re.split("-");return S.length?xe.createElement("ol",{key:re,dir:B==="auto"?lw():B,tabIndex:-1,ref:U,className:m,"data-sonner-toaster":!0,"data-sonner-theme":ee,"data-y-position":we,"data-x-position":ce,style:{"--front-toast-height":`${((me=D[0])==null?void 0:me.height)||0}px`,"--width":`${O9}px`,"--gap":`${$}px`,...E,...B9(v,x)},onBlur:pe=>{z.current&&!pe.currentTarget.contains(pe.relatedTarget)&&(z.current=!1,se.current&&(se.current.focus({preventScroll:!0}),se.current=null))},onFocus:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||z.current||(z.current=!0,se.current=pe.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{ne||A(!1)},onDragEnd:()=>A(!1),onPointerDown:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||le(!0)},onPointerUp:()=>le(!1)},S.filter(pe=>!pe.position&&oe===0||pe.position===re).map((pe,Ae)=>{var Pe,ze;return xe.createElement(U9,{key:pe.id,icons:F,index:Ae,toast:pe,defaultRichColors:k,duration:(Pe=O?.duration)!=null?Pe:R,className:O?.className,descriptionClassName:O?.descriptionClassName,invert:o,visibleToasts:T,closeButton:(ze=O?.closeButton)!=null?ze:p,interacting:ne,position:re,style:O?.style,unstyled:O?.unstyled,classNames:O?.classNames,cancelButtonStyle:O?.cancelButtonStyle,actionButtonStyle:O?.actionButtonStyle,closeButtonAriaLabel:O?.closeButtonAriaLabel,removeToast:te,toasts:S.filter(He=>He.position==pe.position),heights:D.filter(He=>He.position==pe.position),setHeights:M,expandByDefault:h,gap:$,expanded:L,swipeDirections:e.swipeDirections})})):null}))});async function tl({userId:r,title:e,message:t,type:n,relatedItemId:o,metadata:l={}}){if(!r)throw new Error(" sendNotification: userId is required");const u=wl(It,"users",r,"notifications");await k_(u,{title:e,message:t,type:n,relatedItemId:o||null,metadata:l||{},createdAt:I_(),unread:!0}),console.log(` Notification sent to ${r}`)}const H9=["Textbook","Furniture","Apparel","Electronics","Sports","Dorm","Vintage","Audio"],cw=[{id:1,name:"Main Library Lobby",hours:"24/7",verified:!0},{id:2,name:"Student Union Entrance",hours:"6am - 11pm",verified:!0},{id:3,name:"Campus Coffee Shop",hours:"7am - 9pm",verified:!0},{id:4,name:"Recreation Center Lobby",hours:"5am - 11pm",verified:!0},{id:5,name:"Dining Hall Commons",hours:"7am - 10pm",verified:!0}];function W9({navigateTo:r,onPublish:e,prefilledCircle:t,customTags:n=[],onAddCustomTag:o}){const{darkMode:l}=St(),[u,h]=_.useState([]),[p,m]=_.useState(""),[v,x]=_.useState(""),[w,k]=_.useState(""),[R,E]=_.useState([]),[T,O]=_.useState(""),[B,$]=_.useState(15),[F,W]=_.useState(null),[X,I]=_.useState(null),[S,P]=_.useState(""),[D,M]=_.useState(""),[L,A]=_.useState(""),[ne,le]=_.useState(""),[ee,G]=_.useState(t||null),[U,ie]=_.useState(""),[se,z]=_.useState(""),[te,re]=_.useState(""),[oe,me]=_.useState(""),[we,ce]=_.useState(!1),pe=[...H9,...n],Ae=[{id:"lunch",label:"12:00 PM  2:00 PM"},{id:"afternoon",label:"3:00 PM  5:00 PM"},{id:"evening",label:"5:00 PM  7:00 PM"}],Pe=()=>{const ye={id:Date.now(),url:`https://images.unsplash.com/photo-${15e11+Math.floor(Math.random()*1e8)}?w=400&h=400&fit=crop`};h([...u,ye])},ze=ye=>{h(u.filter(Ke=>Ke.id!==ye))},He=ye=>{R.includes(ye)?E(R.filter(Ke=>Ke!==ye)):E([...R,ye])},pt=ye=>{I(ye),P(""),M(""),A(""),le("")},Lt=ye=>{ye&&I(null);let Ke=ye.replace(/[^\d:APMapm\s]/g,"");Ke.length===2&&!Ke.includes(":")&&(Ke+=":"),P(Ke),Ke&&!/^(0?[1-9]|1[0-2]):[0-5][0-9]\s?(AM|PM|am|pm)$/.test(Ke)?A("Format: HH:MM AM/PM (e.g., 2:30 PM)"):A("")},cn=ye=>{ye&&I(null);let Ke=ye.replace(/[^\d/]/g,"");(Ke.length===2&&!Ke.includes("/")||Ke.length===5&&Ke.split("/").length===2)&&(Ke+="/");const We=Ke.split("/");if(We[2]&&We[2].length>4){le("Year must be 4 digits");return}if(M(Ke),Ke&&/^(0?[1-9]|1[0-2])\/(0?[1-9]|[12][0-9]|3[01])\/\d{4}$/.test(Ke)){const[Zt,ct,or]=Ke.split("/").map(Number),ar=new Date(or,Zt-1,ct),Gr=new Date;Gr.setHours(0,0,0,0),ar<Gr?le("Cannot select past dates"):le("")}else Ke.length>=8?le("Format: MM/DD/YYYY (e.g., 12/25/2024)"):le("")},gr=async()=>{if(ce(!0),u.length===0){nt.error("Please add at least one photo");return}if(!p||p.length<3){ie("Title must be at least 3 characters");return}if(!v||v.length<10){z("Description must be at least 10 characters");return}if(!w){nt.error("Please select item condition");return}if(!F){me("Please select a pickup spot");return}if(!X&&(!S||!D)){nt.error("Please select a time or enter custom time/date");return}if(L||ne){nt.error("Please fix time/date errors");return}try{const ye=Nn.currentUser;if(!ye){nt.error("You must be logged in to create a listing.");return}const Ke=pr(It,"users",ye.uid),We=await su(Ke);let lt={trustScore:0,trades:0};if(We.exists()){const ar=We.data();lt={trustScore:ar.trustScore??0,trades:ar.trades??0}}const Zt={title:p,description:v,condition:w,tags:R,credits:B,images:u.map(ar=>ar.url),meetingSpot:cw.find(ar=>ar.id===F)?.name,meetingTime:X?Ae.find(ar=>ar.id===X)?.label:`${S}, ${D}`,seller:{id:ye.uid,name:ye.displayName||ye.email||"Anonymous",rating:lt.trustScore,trades:lt.trades},createdAt:I_(),isBarter:!1,status:!0,pendingConfirmation:!1,proposedSpot:"",proposedTime:"",time:"Just now"},ct=await k_(wl(It,"listings"),Zt);await ri(ct,{id:ct.id});const or=pr(It,"users",ye.uid);await ri(or,{myListings:UP(ct.id)}),await ri(or,{credits:A_(10)}),console.log(" Created listing with ID:",ct.id),await tl({userId:ye.uid,title:"Your listing is live!",message:`You posted "${p}" successfully.`,type:"listing"}),e({...Zt,id:ct.id}),nt.success(" Listing published successfully!"),r("home")}catch(ye){console.error(" Error publishing listing:",ye),nt.error("Failed to publish listing.")}};return i.jsxs("div",{className:`min-h-screen ${l?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"}`,children:[i.jsx("div",{className:`sticky top-0 z-20 backdrop-blur-xl ${l?"bg-black/70 border-white/10":"bg-white/10 border-white/30"} border-b`,children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>r("home"),className:`p-2 rounded-full ${l?"hover:bg-white/10":"hover:bg-white/50"} transition-colors`,children:i.jsx(bt,{className:`w-6 h-6 ${l?"text-white":"text-[#222]"}`})}),i.jsx("h2",{className:`font-semibold text-xl ${l?"text-purple-400":"text-[#9333ea]"}`,children:"Create Listing"})]}),i.jsx("button",{onClick:gr,className:"px-4 py-2 rounded-full bg-gradient-to-r from-purple-500 to-purple-600 text-white font-medium hover:shadow-lg transition-all",children:"Publish"})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6 pb-32",children:[i.jsxs("div",{className:`backdrop-blur-xl ${l?"bg-white/10 border-white/20":"bg-white/60 border-white/60"} rounded-3xl border p-4`,children:[i.jsxs("h3",{className:`font-semibold mb-3 flex items-center gap-2 ${l?"text-white":"text-[#222]"}`,children:[i.jsx(wS,{className:"w-5 h-5 text-purple-600"}),"Photos"]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[u.map(ye=>i.jsxs("div",{className:"relative aspect-square",children:[i.jsx("img",{src:ye.url,alt:"Product",className:"w-full h-full object-cover rounded-xl"}),i.jsx("button",{onClick:()=>ze(ye.id),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 rounded-full flex items-center justify-center shadow-lg",children:i.jsx(Sn,{className:"w-4 h-4 text-white"})})]},ye.id)),u.length<6&&i.jsxs("button",{onClick:Pe,className:"aspect-square border-2 border-dashed border-purple-300 rounded-xl flex flex-col items-center justify-center gap-1 hover:border-purple-500 hover:bg-purple-50/50 transition-colors",children:[i.jsx(Zs,{className:"w-6 h-6 text-purple-600"}),i.jsx("span",{className:"text-xs text-purple-600",children:"Random"})]})]}),u.length<6&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ct,{type:"text",placeholder:"Enter image URL (e.g. https://...)",id:"imageUrlInput",className:"flex-1"}),i.jsx("button",{onClick:()=>{const ye=document.getElementById("imageUrlInput"),Ke=ye.value.trim();if(!Ke){nt.error("Please enter a valid image URL");return}h(We=>[...We,{id:Date.now(),url:Ke}]),ye.value="",nt.success(" Image added from URL")},className:"px-3 py-2 rounded-xl bg-purple-600 text-white hover:bg-purple-700 transition-colors",children:"Add"})]})]}),i.jsxs("div",{className:`backdrop-blur-xl ${l?"bg-white/10 border-white/20":"bg-white/60 border-white/60"} rounded-3xl border p-4 space-y-4`,children:[i.jsx("h3",{className:`font-semibold mb-1 ${l?"text-white":"text-[#222]"}`,children:"Item Details"}),i.jsxs("div",{children:[i.jsx(Ar,{children:"Title"}),i.jsx(Ct,{value:p,onChange:ye=>m(ye.target.value),placeholder:"e.g., Calculus Textbook",className:"mt-1"}),we&&U&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:U})]}),i.jsxs("div",{children:[i.jsx(Ar,{children:"Description"}),i.jsx(Uc,{value:v,onChange:ye=>x(ye.target.value),placeholder:"Describe your item...",rows:3,className:"mt-1"}),we&&se&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:se})]}),i.jsxs("div",{children:[i.jsx(Ar,{children:"Condition"}),i.jsxs(YN,{value:w,onValueChange:k,children:[i.jsx(XN,{className:"mt-1",children:i.jsx(QN,{placeholder:"Select item condition"})}),i.jsxs(JN,{children:[i.jsx(Ga,{value:"new",children:"New"}),i.jsx(Ga,{value:"like-new",children:"Like New"}),i.jsx(Ga,{value:"good",children:"Good"}),i.jsx(Ga,{value:"fair",children:"Fair"}),i.jsx(Ga,{value:"used",children:"Used"})]})]})]}),i.jsxs("div",{children:[i.jsx(Ar,{children:"Tags"}),i.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[pe.map(ye=>i.jsx("button",{onClick:()=>He(ye),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${R.includes(ye)?"bg-purple-600 text-white":"bg-white/80 text-[#555] border border-white/60"}`,children:ye},ye)),o&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ct,{value:T,onChange:ye=>O(ye.target.value),placeholder:"Add new tag",className:"w-24"}),i.jsx("button",{onClick:()=>{T&&!pe.includes(T)&&(o(T),O(""))},className:"px-3 py-1.5 rounded-full text-sm font-medium bg-purple-600 text-white",children:"Add"})]})]}),we&&te&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:te})]}),i.jsxs("div",{children:[i.jsx(Ar,{children:"Auto-Suggested Price"}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx(Ct,{type:"number",value:B,onChange:ye=>$(Number(ye.target.value)),className:"w-24"}),i.jsx("span",{className:"text-sm text-[#666]",children:"credits"})]})]})]}),ee&&i.jsxs("div",{className:`backdrop-blur-xl ${l?"bg-white/10 border-white/20":"bg-white/60 border-white/60"} rounded-3xl border p-4`,children:[i.jsx("h3",{className:`font-semibold mb-2 ${l?"text-white":"text-[#222]"}`,children:"Post to Circle"}),i.jsx("div",{className:`${l?"bg-purple-500/20 border-purple-500/40":"bg-purple-100/60 border-purple-200/60"} rounded-2xl border p-3`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:`font-semibold ${l?"text-white":"text-[#222]"}`,children:ee.name}),i.jsx("p",{className:`text-xs ${l?"text-gray-400":"text-[#555]"}`,children:ee.description})]}),i.jsx("button",{onClick:()=>G(null),className:"text-red-500 hover:text-red-600 transition-colors",children:i.jsx(Sn,{className:"w-5 h-5"})})]})})]}),i.jsxs("div",{className:`backdrop-blur-xl ${l?"bg-white/10 border-white/20":"bg-white/60 border-white/60"} rounded-3xl border p-4`,children:[i.jsxs("h3",{className:`font-semibold mb-2 flex items-center gap-2 ${l?"text-white":"text-[#222]"}`,children:[i.jsx(Wr,{className:"w-5 h-5 text-purple-600"}),"Pickup Spot"]}),i.jsxs("div",{className:"backdrop-blur-xl bg-purple-50/50 border border-purple-200/50 rounded-xl p-3 mb-3 flex items-start gap-2",children:[i.jsx(Hn,{className:"w-4 h-4 text-purple-600 flex-shrink-0 mt-0.5"}),i.jsx("p",{className:"text-purple-700 text-xs",children:"Meet in campus-verified locations for your safety"})]}),i.jsx("div",{className:"space-y-2",children:cw.map(ye=>i.jsxs("button",{onClick:()=>W(ye.id),className:`w-full p-3 rounded-xl border transition-colors text-left ${F===ye.id?"bg-purple-100/50 border-purple-300":"bg-white/80 border-white/60 hover:bg-white"}`,children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"text-sm font-medium text-[#222]",children:ye.name}),ye.verified&&i.jsx("span",{className:"text-[10px] bg-green-500/20 text-green-700 px-2 py-0.5 rounded-full font-medium",children:"Snag Verified Zone"})]}),i.jsx("span",{className:"text-xs text-[#666]",children:ye.hours})]},ye.id))}),we&&oe&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:oe})]}),i.jsxs("div",{className:`backdrop-blur-xl ${l?"bg-white/10 border-white/20":"bg-white/60 border-white/60"} rounded-3xl border p-4`,children:[i.jsxs("h3",{className:`font-semibold mb-3 flex items-center gap-2 ${l?"text-white":"text-[#222]"}`,children:[i.jsx(nl,{className:"w-5 h-5 text-purple-600"}),"Preferred Pickup Time"]}),i.jsxs("div",{className:"mb-4",children:[i.jsx(Ar,{className:"text-xs text-[#666]",children:"Recommended Slots"}),i.jsx("div",{className:"space-y-2 mt-2",children:Ae.map(ye=>i.jsx("button",{onClick:()=>pt(ye.id),className:`w-full p-3 rounded-xl border transition-colors text-left ${X===ye.id?"bg-purple-100/50 border-purple-300":"bg-white/80 border-white/60 hover:bg-white"}`,children:i.jsx("span",{className:"text-sm font-medium text-[#222]",children:ye.label})},ye.id))})]}),i.jsxs("div",{className:"flex items-center gap-3 my-4",children:[i.jsx("div",{className:"flex-1 h-px bg-white/60"}),i.jsx("span",{className:"text-xs text-[#666] font-medium",children:"OR"}),i.jsx("div",{className:"flex-1 h-px bg-white/60"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsxs(Ar,{className:"text-xs text-[#666]",children:["Proposed Time ",X&&"(Disabled - slot selected)"]}),i.jsx(Ct,{value:S,onChange:ye=>Lt(ye.target.value),placeholder:"HH:MM AM/PM (e.g., 2:30 PM)",disabled:!!X,className:`mt-1 ${X?"opacity-50 cursor-not-allowed":""}`}),L&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:L})]}),i.jsxs("div",{children:[i.jsxs(Ar,{className:"text-xs text-[#666]",children:["Proposed Date ",X&&"(Disabled - slot selected)"]}),i.jsx(Ct,{value:D,onChange:ye=>cn(ye.target.value),placeholder:"MM/DD/YYYY (e.g., 12/25/2024)",disabled:!!X,className:`mt-1 ${X?"opacity-50 cursor-not-allowed":""}`}),ne&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:ne})]})]})]}),i.jsxs("div",{className:`backdrop-blur-xl ${l?"bg-white/10 border-white/20":"bg-white/60 border-white/60"} rounded-3xl border p-4`,children:[i.jsxs("h3",{className:`font-semibold mb-3 flex items-center gap-2 ${l?"text-white":"text-[#222]"}`,children:[i.jsx(Ho,{className:"w-5 h-5 text-purple-600"}),"Preview"]}),i.jsxs("div",{className:`${l?"bg-white/10 border-white/20":"bg-white/80 border-white/60"} rounded-2xl border overflow-hidden`,children:[u.length>0&&i.jsx("img",{src:u[0].url,alt:"Preview",className:"w-full h-40 object-cover"}),i.jsxs("div",{className:"p-3",children:[i.jsx("h4",{className:`font-semibold mb-1 ${l?"text-white":"text-[#222]"}`,children:p||"Your Title"}),i.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${l?"text-gray-300":"text-[#555]"}`,children:v||"Your description..."}),i.jsxs("div",{className:`flex items-center gap-2 text-xs ${l?"text-gray-400":"text-[#666]"}`,children:[i.jsxs("span",{children:[B," credits"]}),i.jsx("span",{children:""}),i.jsx("span",{children:w||"Condition"})]})]})]})]}),i.jsx("div",{className:"pt-4 pb-16",children:i.jsx("button",{onClick:gr,className:"w-full py-3 rounded-full bg-gradient-to-r from-purple-500 to-purple-600 text-white font-medium hover:shadow-lg transition-all",children:"Publish"})})]})]})}var um="rovingFocusGroup.onEntryFocus",q9={bubbles:!1,cancelable:!0},au="RovingFocusGroup",[eg,eE,G9]=O_(au),[K9,tE]=El(au,[G9]),[Y9,Q9]=K9(au),rE=_.forwardRef((r,e)=>i.jsx(eg.Provider,{scope:r.__scopeRovingFocusGroup,children:i.jsx(eg.Slot,{scope:r.__scopeRovingFocusGroup,children:i.jsx(X9,{...r,ref:e})})}));rE.displayName=au;var X9=_.forwardRef((r,e)=>{const{__scopeRovingFocusGroup:t,orientation:n,loop:o=!1,dir:l,currentTabStopId:u,defaultCurrentTabStopId:h,onCurrentTabStopIdChange:p,onEntryFocus:m,preventScrollOnEntryFocus:v=!1,...x}=r,w=_.useRef(null),k=Ot(e,w),R=hx(l),[E,T]=Hc({prop:u,defaultProp:h??null,onChange:p,caller:au}),[O,B]=_.useState(!1),$=ni(m),F=eE(t),W=_.useRef(!1),[X,I]=_.useState(0);return _.useEffect(()=>{const S=w.current;if(S)return S.addEventListener(um,$),()=>S.removeEventListener(um,$)},[$]),i.jsx(Y9,{scope:t,orientation:n,dir:R,loop:o,currentTabStopId:E,onItemFocus:_.useCallback(S=>T(S),[T]),onItemShiftTab:_.useCallback(()=>B(!0),[]),onFocusableItemAdd:_.useCallback(()=>I(S=>S+1),[]),onFocusableItemRemove:_.useCallback(()=>I(S=>S-1),[]),children:i.jsx(at.div,{tabIndex:O||X===0?-1:0,"data-orientation":n,...x,ref:k,style:{outline:"none",...r.style},onMouseDown:st(r.onMouseDown,()=>{W.current=!0}),onFocus:st(r.onFocus,S=>{const P=!W.current;if(S.target===S.currentTarget&&P&&!O){const D=new CustomEvent(um,q9);if(S.currentTarget.dispatchEvent(D),!D.defaultPrevented){const M=F().filter(ee=>ee.focusable),L=M.find(ee=>ee.active),A=M.find(ee=>ee.id===E),le=[L,A,...M].filter(Boolean).map(ee=>ee.ref.current);iE(le,v)}}W.current=!1}),onBlur:st(r.onBlur,()=>B(!1))})})}),nE="RovingFocusGroupItem",sE=_.forwardRef((r,e)=>{const{__scopeRovingFocusGroup:t,focusable:n=!0,active:o=!1,tabStopId:l,children:u,...h}=r,p=iu(),m=l||p,v=Q9(nE,t),x=v.currentTabStopId===m,w=eE(t),{onFocusableItemAdd:k,onFocusableItemRemove:R,currentTabStopId:E}=v;return _.useEffect(()=>{if(n)return k(),()=>R()},[n,k,R]),i.jsx(eg.ItemSlot,{scope:t,id:m,focusable:n,active:o,children:i.jsx(at.span,{tabIndex:x?0:-1,"data-orientation":v.orientation,...h,ref:e,onMouseDown:st(r.onMouseDown,T=>{n?v.onItemFocus(m):T.preventDefault()}),onFocus:st(r.onFocus,()=>v.onItemFocus(m)),onKeyDown:st(r.onKeyDown,T=>{if(T.key==="Tab"&&T.shiftKey){v.onItemShiftTab();return}if(T.target!==T.currentTarget)return;const O=eO(T,v.orientation,v.dir);if(O!==void 0){if(T.metaKey||T.ctrlKey||T.altKey||T.shiftKey)return;T.preventDefault();let $=w().filter(F=>F.focusable).map(F=>F.ref.current);if(O==="last")$.reverse();else if(O==="prev"||O==="next"){O==="prev"&&$.reverse();const F=$.indexOf(T.currentTarget);$=v.loop?tO($,F+1):$.slice(F+1)}setTimeout(()=>iE($))}}),children:typeof u=="function"?u({isCurrentTabStop:x,hasTabStop:E!=null}):u})})});sE.displayName=nE;var J9={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Z9(r,e){return e!=="rtl"?r:r==="ArrowLeft"?"ArrowRight":r==="ArrowRight"?"ArrowLeft":r}function eO(r,e,t){const n=Z9(r.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return J9[n]}function iE(r,e=!1){const t=document.activeElement;for(const n of r)if(n===t||(n.focus({preventScroll:e}),document.activeElement!==t))return}function tO(r,e){return r.map((t,n)=>r[(e+n)%r.length])}var rO=rE,nO=sE;function sO(r,e){return _.useReducer((t,n)=>e[t][n]??t,r)}var oE=r=>{const{present:e,children:t}=r,n=iO(e),o=typeof t=="function"?t({present:n.isPresent}):_.Children.only(t),l=Ot(n.ref,oO(o));return typeof t=="function"||n.isPresent?_.cloneElement(o,{ref:l}):null};oE.displayName="Presence";function iO(r){const[e,t]=_.useState(),n=_.useRef(null),o=_.useRef(r),l=_.useRef("none"),u=r?"mounted":"unmounted",[h,p]=sO(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const m=Ad(n.current);l.current=h==="mounted"?m:"none"},[h]),Xt(()=>{const m=n.current,v=o.current;if(v!==r){const w=l.current,k=Ad(m);r?p("MOUNT"):k==="none"||m?.display==="none"?p("UNMOUNT"):p(v&&w!==k?"ANIMATION_OUT":"UNMOUNT"),o.current=r}},[r,p]),Xt(()=>{if(e){let m;const v=e.ownerDocument.defaultView??window,x=k=>{const E=Ad(n.current).includes(CSS.escape(k.animationName));if(k.target===e&&E&&(p("ANIMATION_END"),!o.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",m=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},w=k=>{k.target===e&&(l.current=Ad(n.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",x),e.addEventListener("animationend",x),()=>{v.clearTimeout(m),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",x),e.removeEventListener("animationend",x)}}else p("ANIMATION_END")},[e,p]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:_.useCallback(m=>{n.current=m?getComputedStyle(m):null,t(m)},[])}}function Ad(r){return r?.animationName||"none"}function oO(r){let e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}var lf="Tabs",[aO]=El(lf,[tE]),aE=tE(),[lO,_x]=aO(lf),lE=_.forwardRef((r,e)=>{const{__scopeTabs:t,value:n,onValueChange:o,defaultValue:l,orientation:u="horizontal",dir:h,activationMode:p="automatic",...m}=r,v=hx(h),[x,w]=Hc({prop:n,onChange:o,defaultProp:l??"",caller:lf});return i.jsx(lO,{scope:t,baseId:iu(),value:x,onValueChange:w,orientation:u,dir:v,activationMode:p,children:i.jsx(at.div,{dir:v,"data-orientation":u,...m,ref:e})})});lE.displayName=lf;var cE="TabsList",uE=_.forwardRef((r,e)=>{const{__scopeTabs:t,loop:n=!0,...o}=r,l=_x(cE,t),u=aE(t);return i.jsx(rO,{asChild:!0,...u,orientation:l.orientation,dir:l.dir,loop:n,children:i.jsx(at.div,{role:"tablist","aria-orientation":l.orientation,...o,ref:e})})});uE.displayName=cE;var dE="TabsTrigger",hE=_.forwardRef((r,e)=>{const{__scopeTabs:t,value:n,disabled:o=!1,...l}=r,u=_x(dE,t),h=aE(t),p=mE(u.baseId,n),m=gE(u.baseId,n),v=n===u.value;return i.jsx(nO,{asChild:!0,...h,focusable:!o,active:v,children:i.jsx(at.button,{type:"button",role:"tab","aria-selected":v,"aria-controls":m,"data-state":v?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:p,...l,ref:e,onMouseDown:st(r.onMouseDown,x=>{!o&&x.button===0&&x.ctrlKey===!1?u.onValueChange(n):x.preventDefault()}),onKeyDown:st(r.onKeyDown,x=>{[" ","Enter"].includes(x.key)&&u.onValueChange(n)}),onFocus:st(r.onFocus,()=>{const x=u.activationMode!=="manual";!v&&!o&&x&&u.onValueChange(n)})})})});hE.displayName=dE;var fE="TabsContent",pE=_.forwardRef((r,e)=>{const{__scopeTabs:t,value:n,forceMount:o,children:l,...u}=r,h=_x(fE,t),p=mE(h.baseId,n),m=gE(h.baseId,n),v=n===h.value,x=_.useRef(v);return _.useEffect(()=>{const w=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(w)},[]),i.jsx(oE,{present:o||v,children:({present:w})=>i.jsx(at.div,{"data-state":v?"active":"inactive","data-orientation":h.orientation,role:"tabpanel","aria-labelledby":p,hidden:!w,id:m,tabIndex:0,...u,ref:e,style:{...r.style,animationDuration:x.current?"0s":void 0},children:w&&l})})});pE.displayName=fE;function mE(r,e){return`${r}-trigger-${e}`}function gE(r,e){return`${r}-content-${e}`}var cO=lE,uO=uE,dO=hE,hO=pE;function fO({className:r,...e}){return i.jsx(cO,{"data-slot":"tabs",className:Qt("flex flex-col gap-2",r),...e})}function pO({className:r,...e}){return i.jsx(uO,{"data-slot":"tabs-list",className:Qt("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",r),...e})}function uw({className:r,...e}){return i.jsx(dO,{"data-slot":"tabs-trigger",className:Qt("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...e})}function dw({className:r,...e}){return i.jsx(hO,{"data-slot":"tabs-content",className:Qt("flex-1 outline-none",r),...e})}function mO({isOpen:r,onClose:e}){return r?i.jsxs("div",{className:"fixed inset-0 z-50 animate-in fade-in duration-200",children:[i.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:e}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 max-w-md mx-auto animate-in slide-in-from-bottom duration-300",children:i.jsxs("div",{className:"backdrop-blur-2xl bg-white/90 rounded-t-3xl border-t border-x border-white/60 shadow-[0_-8px_32px_rgba(0,0,0,0.12)] p-6 pb-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-[#222] font-semibold",children:"Trust Score"}),i.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(Sn,{className:"w-5 h-5 text-[#555]"})})]}),i.jsx("div",{className:"flex justify-center mb-6",children:i.jsxs("div",{className:"relative",children:[i.jsxs("svg",{className:"w-32 h-32 -rotate-90",children:[i.jsx("circle",{cx:"64",cy:"64",r:"56",fill:"none",stroke:"currentColor",strokeWidth:"8",className:"text-purple-200/60"}),i.jsx("circle",{cx:"64",cy:"64",r:"56",fill:"none",stroke:"url(#gradient)",strokeWidth:"8",strokeLinecap:"round",strokeDasharray:`${2*Math.PI*56*.98} ${2*Math.PI*56*.02}`,className:"transition-all duration-1000"}),i.jsx("defs",{children:i.jsxs("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#a855f7"}),i.jsx("stop",{offset:"100%",stopColor:"#9333ea"})]})})]}),i.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[i.jsx("span",{className:"text-[#222] font-semibold text-3xl",children:"98%"}),i.jsx("span",{className:"text-[#555] text-sm font-medium",children:"Trust Score"})]})]})}),i.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[i.jsxs("div",{className:"backdrop-blur-xl bg-purple-50/60 rounded-2xl p-3 border border-purple-200/40 text-center",children:[i.jsx("div",{className:"text-[#222] font-semibold mb-1",children:"12"}),i.jsx("div",{className:"text-[#555] text-xs font-medium",children:"Trades"})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-purple-50/60 rounded-2xl p-3 border border-purple-200/40 text-center",children:[i.jsx("div",{className:"text-[#222] font-semibold mb-1",children:"12"}),i.jsx("div",{className:"text-[#555] text-xs font-medium",children:"Completed"})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-purple-50/60 rounded-2xl p-3 border border-purple-200/40 text-center",children:[i.jsx("div",{className:"text-[#222] font-semibold mb-1",children:"0"}),i.jsx("div",{className:"text-[#555] text-xs font-medium",children:"Disputed"})]})]}),i.jsxs("div",{className:"space-y-3 mb-6",children:[i.jsx("h3",{className:"text-[#222] font-semibold text-sm",children:"Recent Completions"}),[{title:"Desk Chair",type:"Sold",date:"5 days ago"},{title:"Winter Jacket",type:"Bartered",date:"1 week ago"},{title:"Calculus Textbook",type:"Sold",date:"2 weeks ago"}].map((t,n)=>i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-green-100 to-green-200 flex items-center justify-center flex-shrink-0",children:i.jsx(En,{className:"w-4 h-4 text-green-600"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-[#222] font-medium text-sm",children:t.title}),i.jsxs("p",{className:"text-[#555] text-xs font-light",children:[t.type,"  ",t.date]})]})]},n))]}),i.jsx("div",{className:"backdrop-blur-xl bg-gradient-to-br from-purple-500/10 to-purple-600/10 rounded-2xl p-4 border border-purple-300/40",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Iw,{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium mb-1 text-sm",children:"How to improve trust"}),i.jsxs("ul",{className:"text-[#555] text-sm font-light space-y-1",children:[i.jsx("li",{children:" Complete trades on time"}),i.jsx("li",{children:" Respond to messages quickly"}),i.jsx("li",{children:" Accurate item descriptions"})]})]})]})})]})})]}):null}function gO({isOpen:r,onClose:e,badgeType:t}){if(!r||!t)return null;const o={verified:{title:".edu Verified",icon:xS,color:"from-blue-500 to-blue-600",description:"This user has verified their .edu email address with their campus.",benefits:["Confirmed campus student status","Access to campus-only marketplace","Enhanced trust and credibility"]},trades:{title:"Successful Trades",icon:Hn,color:"from-purple-500 to-purple-600",description:"Awarded for completing multiple successful trades on Snag.",benefits:["Completed 10+ verified transactions","Zero disputes or cancellations","High trust score (95%+)"]}}[t],l=o.icon;return i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 animate-in fade-in duration-200",children:[i.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:e}),i.jsxs("div",{className:"relative max-w-sm w-full backdrop-blur-2xl bg-white/90 rounded-3xl p-6 border border-white/60 shadow-[0_8px_32px_rgba(0,0,0,0.12)] animate-in zoom-in duration-300",children:[i.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(Sn,{className:"w-5 h-5 text-[#555]"})}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:`w-16 h-16 rounded-full bg-gradient-to-br ${o.color} flex items-center justify-center shadow-lg`,children:i.jsx(l,{className:"w-8 h-8 text-white"})})}),i.jsx("h2",{className:"text-[#222] font-semibold text-center mb-2",children:o.title}),i.jsx("p",{className:"text-[#555] text-center mb-6 text-sm",children:o.description}),i.jsxs("div",{className:"backdrop-blur-xl bg-purple-50/60 rounded-2xl p-4 border border-purple-200/40",children:[i.jsx("p",{className:"text-[#222] font-medium mb-3 text-sm",children:"What this means:"}),i.jsx("ul",{className:"space-y-2",children:o.benefits.map((u,h)=>i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-purple-500 flex-shrink-0 mt-1.5"}),i.jsx("span",{className:"text-[#555] text-sm font-light",children:u})]},h))})]}),i.jsx("button",{onClick:e,className:"w-full mt-6 py-3 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98]",children:"Got it"})]})]})}const xO=[{id:1,type:"earned",amount:15,item:"Calculus Textbook",date:"2 days ago"},{id:2,type:"spent",amount:25,item:"Desk Chair",date:"5 days ago"},{id:3,type:"earned",amount:20,item:"Winter Jacket",date:"1 week ago"},{id:4,type:"earned",amount:12,item:"Desk Lamp",date:"2 weeks ago"}];function vO({navigateTo:r,myListings:e=[]}){const{darkMode:t}=St(),[n,o]=_.useState(null),[l,u]=_.useState(!0),[h,p]=_.useState(""),[m,v]=_.useState([]),[x,w]=_.useState(!0),[k,R]=_.useState(!1),[E,T]=_.useState(!1),[O,B]=_.useState(null),$=F=>{B(F),T(!0)};return _.useEffect(()=>{async function F(){w(!0);try{const W=Nn.currentUser;if(!W){p("No user logged in"),w(!1);return}const X=pr(It,"users",W.uid),I=await su(X);if(I.exists()){const S=I.data();o({id:W.uid,...S});const P=S.myListings||[];if(P.length>0){const M=[];for(let L=0;L<P.length;L+=10){const A=P.slice(L,L+10),ne=ix(wl(It,"listings"),E_("id","in",A));(await cx(ne)).forEach(ee=>M.push({id:ee.id,...ee.data()}))}v(M)}else v([])}else console.warn("No profile found for this user in Firestore")}catch(W){console.error("Error fetching user profile:",W),p("Failed to load profile")}finally{u(!1),w(!1)}}F()},[]),console.log("User: ",n),i.jsxs("div",{className:`min-h-screen pb-8 ${t?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"}`,children:[i.jsx("div",{className:`sticky top-0 z-20 backdrop-blur-xl ${t?"bg-black/70 border-white/10":"bg-white/10 border-white/30"} border-b`,children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsx("h2",{className:`font-semibold text-xl ${t?"text-purple-400":"text-[#9333ea]"}`,children:"Profile"})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6",children:[i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-white/10 border-white/20":"bg-white/10 border-white/30"} rounded-3xl p-6 border shadow-[0_8px_24px_rgba(139,92,246,0.12)] mb-6`,children:[i.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[i.jsx(Wn,{className:"w-20 h-20",children:i.jsx(qn,{className:"bg-gradient-to-br from-purple-400 to-purple-600 text-white text-2xl font-semibold",children:n?.name.charAt(0)})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("h2",{className:`font-semibold ${t?"text-white":"text-[#222]"}`,children:n?.name}),i.jsx("div",{className:"w-5 h-5 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs",children:""})})]}),i.jsx("p",{className:`mb-3 ${t?"text-gray-400":"text-[#555]"}`,children:n?.email}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[n?.email?.toLowerCase().endsWith(".edu")&&i.jsx("button",{onClick:()=>$("verified"),className:"backdrop-blur-xl bg-blue-100/60 text-blue-700 border border-blue-200/60 font-medium rounded-full px-3 py-1.5 text-sm transition-all hover:bg-blue-200/60 active:scale-95",children:" .edu Verified"}),n?.trades>=10&&i.jsx("button",{onClick:()=>$("trades"),className:"backdrop-blur-xl bg-purple-100/60 text-purple-700 border border-purple-200/60 font-medium rounded-full px-3 py-1.5 text-sm transition-all hover:bg-purple-200/60 active:scale-95",children:" 10+ Trades"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:`text-center p-3 backdrop-blur-xl ${t?"bg-white/5 border-white/10":"bg-purple-50/60 border-purple-200/40"} rounded-2xl border`,children:[i.jsx("div",{className:`font-semibold mb-1 ${t?"text-white":"text-[#222]"}`,children:n?.credits}),i.jsx("div",{className:`text-xs font-medium ${t?"text-gray-400":"text-[#555]"}`,children:"Credits"})]}),i.jsxs("div",{className:`text-center p-3 backdrop-blur-xl ${t?"bg-white/5 border-white/10":"bg-purple-50/60 border-purple-200/40"} rounded-2xl border`,children:[i.jsx("div",{className:`font-semibold mb-1 ${t?"text-white":"text-[#222]"}`,children:n?.trades}),i.jsx("div",{className:`text-xs font-medium ${t?"text-gray-400":"text-[#555]"}`,children:"Trades"})]}),i.jsxs("button",{onClick:()=>R(!0),className:`text-center p-3 backdrop-blur-xl ${t?"bg-white/5 border-white/10 hover:bg-white/10":"bg-purple-50/60 border-purple-200/40 hover:bg-purple-100/60"} rounded-2xl border transition-all active:scale-95`,children:[i.jsx("div",{className:`font-semibold mb-1 ${t?"text-white":"text-[#222]"}`,children:"98%"}),i.jsx("div",{className:`text-xs font-medium ${t?"text-gray-400":"text-[#555]"}`,children:"Trust"})]})]})]}),i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-white/10 border-white/20":"bg-white/10 border-white/30"} rounded-3xl p-6 border shadow-[0_8px_24px_rgba(139,92,246,0.12)] mb-6`,children:[i.jsx("h3",{className:`font-semibold mb-3 ${t?"text-white":"text-[#222]"}`,children:"Your Interests"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:["Electronics","Clothing","Textbooks"].map(F=>i.jsx("span",{className:`${t?"bg-purple-600/20 text-purple-300 border-purple-500/30":"bg-purple-100 text-purple-700 border-purple-300"} px-3 py-1 rounded-full border text-sm`,children:F},F))})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[i.jsxs("button",{className:`backdrop-blur-2xl ${t?"bg-white/10 border-white/20 hover:bg-white/15":"bg-white/70 border-white/60 hover:shadow-[0_8px_24px_rgba(139,92,246,0.12)]"} rounded-2xl p-4 border shadow-sm transition-all active:scale-[0.98] text-center`,children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center mx-auto mb-2",children:i.jsx(Kt,{className:"w-5 h-5 text-purple-600"})}),i.jsx("p",{className:`font-medium ${t?"text-white":"text-[#222]"}`,children:"Credit Wallet"})]}),i.jsxs("button",{onClick:()=>R(!0),className:`backdrop-blur-2xl ${t?"bg-white/10 border-white/20 hover:bg-white/15":"bg-white/70 border-white/60 hover:shadow-[0_8px_24px_rgba(139,92,246,0.12)]"} rounded-2xl p-4 border shadow-sm transition-all active:scale-[0.98] text-center`,children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center mx-auto mb-2",children:i.jsx(Hn,{className:"w-5 h-5 text-purple-600"})}),i.jsx("p",{className:`font-medium ${t?"text-white":"text-[#222]"}`,children:"Trust & Badges"})]})]}),i.jsxs(fO,{defaultValue:"listings",className:"w-full",children:[i.jsxs(pO,{className:`w-full backdrop-blur-2xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} border rounded-2xl p-1 mb-4`,children:[i.jsx(uw,{value:"listings",className:"flex-1 rounded-xl data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-500 data-[state=active]:to-purple-600 data-[state=active]:text-white font-medium",children:"My Items"}),i.jsx(uw,{value:"wallet",className:"flex-1 rounded-xl data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-500 data-[state=active]:to-purple-600 data-[state=active]:text-white font-medium",children:"Credit History"})]}),i.jsx(dw,{value:"listings",className:"space-y-3",children:x?i.jsx("div",{className:"text-center py-8 text-gray-400",children:"Loading listings..."}):m.length>0?i.jsxs(i.Fragment,{children:[m.filter(F=>F.status===!0).slice(0,3).map(F=>i.jsxs("button",{onClick:()=>r("full-listing-view",F),className:`w-full backdrop-blur-2xl ${t?"bg-white/10 border-white/20 hover:bg-white/15":"bg-white/70 border-white/60 hover:shadow-[0_8px_24px_rgba(139,92,246,0.15)]"} rounded-2xl p-4 border shadow-sm transition-all active:scale-[0.98] text-left`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:`font-medium ${t?"text-white":"text-[#222]"}`,children:F.title}),i.jsx(Pr,{className:"bg-green-100 text-green-700 border-green-200 font-medium",children:"Active"})]}),i.jsxs("div",{className:`flex items-center gap-4 text-sm ${t?"text-gray-400":"text-[#555]"}`,children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Kt,{className:"w-4 h-4"}),F.credits," Cr"]}),i.jsxs("span",{children:[" ",F.views||0," views"]})]})]},F.id)),m.filter(F=>F.status===!0).length>3&&i.jsxs("button",{onClick:()=>r("my-listings"),className:`w-full py-3 rounded-2xl ${t?"bg-white/10 text-purple-400 border-purple-400/60":"backdrop-blur-xl bg-white/80 text-purple-600 border-purple-200/60"} font-medium border shadow-sm transition-transform active:scale-[0.98] flex items-center justify-center gap-2`,children:[i.jsx("span",{children:"View All Listings"}),i.jsx(ng,{className:"w-5 h-5"})]})]}):i.jsxs("div",{className:`backdrop-blur-2xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-12 border shadow-[0_8px_24px_rgba(139,92,246,0.12)] text-center`,children:[i.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center mx-auto mb-4",children:i.jsx(ys,{className:"w-10 h-10 text-purple-500"})}),i.jsx("h3",{className:`font-semibold mb-2 ${t?"text-white":"text-[#222]"}`,children:"No active listings"}),i.jsx("p",{className:`mb-4 ${t?"text-gray-400":"text-[#555]"}`,children:"Start selling items to see them here"}),i.jsx("div",{className:"flex justify-center",children:i.jsx("button",{onClick:()=>r("create"),className:"px-6 py-3 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98]",children:"Create Listing"})})]})}),i.jsxs(dw,{value:"wallet",className:"space-y-3",children:[i.jsxs("div",{className:"backdrop-blur-2xl bg-gradient-to-br from-purple-500 to-purple-600 rounded-3xl p-6 mb-4 text-white shadow-[0_8px_24px_rgba(139,92,246,0.3)]",children:[i.jsx("p",{className:"text-white/90 mb-2 font-light",children:"Current Balance"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Kt,{className:"w-8 h-8"}),i.jsx("span",{className:"text-4xl font-semibold",children:"42"}),i.jsx("span",{className:"text-2xl font-medium",children:"Credits"})]})]}),xO.map(F=>i.jsx("div",{className:`backdrop-blur-2xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-2xl p-4 border shadow-sm`,children:i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${F.type==="earned"?"bg-gradient-to-br from-green-100 to-green-200":"bg-gradient-to-br from-red-100 to-red-200"}`,children:F.type==="earned"?i.jsx("span",{className:"text-green-600 font-semibold",children:"+"}):i.jsx("span",{className:"text-red-600 font-semibold",children:"-"})}),i.jsxs("div",{children:[i.jsx("p",{className:`font-medium ${t?"text-white":"text-[#222]"}`,children:F.item}),i.jsx("p",{className:`text-sm font-light ${t?"text-gray-400":"text-[#555]"}`,children:F.date})]})]}),i.jsxs("div",{className:`text-lg font-semibold ${F.type==="earned"?"text-green-600":"text-red-600"}`,children:[F.type==="earned"?"+":"-",F.amount]})]})},F.id))]})]}),i.jsx("div",{className:"mt-6 flex justify-center",children:i.jsx("button",{onClick:()=>r("edit-profile"),className:"w-full py-4 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] flex items-center justify-center gap-2",children:"Edit Profile"})})]}),i.jsx(mO,{isOpen:k,onClose:()=>R(!1)}),i.jsx(gO,{isOpen:E,onClose:()=>{T(!1),B(null)},badgeType:O})]})}var cf="Switch",[yO]=El(cf),[bO,wO]=yO(cf),xE=_.forwardRef((r,e)=>{const{__scopeSwitch:t,name:n,checked:o,defaultChecked:l,required:u,disabled:h,value:p="on",onCheckedChange:m,form:v,...x}=r,[w,k]=_.useState(null),R=Ot(e,$=>k($)),E=_.useRef(!1),T=w?v||!!w.closest("form"):!0,[O,B]=Hc({prop:o,defaultProp:l??!1,onChange:m,caller:cf});return i.jsxs(bO,{scope:t,checked:O,disabled:h,children:[i.jsx(at.button,{type:"button",role:"switch","aria-checked":O,"aria-required":u,"data-state":wE(O),"data-disabled":h?"":void 0,disabled:h,value:p,...x,ref:R,onClick:st(r.onClick,$=>{B(F=>!F),T&&(E.current=$.isPropagationStopped(),E.current||$.stopPropagation())})}),T&&i.jsx(bE,{control:w,bubbles:!E.current,name:n,value:p,checked:O,required:u,disabled:h,form:v,style:{transform:"translateX(-100%)"}})]})});xE.displayName=cf;var vE="SwitchThumb",yE=_.forwardRef((r,e)=>{const{__scopeSwitch:t,...n}=r,o=wO(vE,t);return i.jsx(at.span,{"data-state":wE(o.checked),"data-disabled":o.disabled?"":void 0,...n,ref:e})});yE.displayName=vE;var _O="SwitchBubbleInput",bE=_.forwardRef(({__scopeSwitch:r,control:e,checked:t,bubbles:n=!0,...o},l)=>{const u=_.useRef(null),h=Ot(u,l),p=hN(t),m=eN(e);return _.useEffect(()=>{const v=u.current;if(!v)return;const x=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(x,"checked").set;if(p!==t&&k){const R=new Event("click",{bubbles:n});k.call(v,t),v.dispatchEvent(R)}},[p,t,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...o,tabIndex:-1,ref:h,style:{...o.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});bE.displayName=_O;function wE(r){return r?"checked":"unchecked"}var NO=xE,EO=yE;function Nh({className:r,...e}){return i.jsx(NO,{"data-slot":"switch",className:Qt("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",r),...e,children:i.jsx(EO,{"data-slot":"switch-thumb",className:Qt("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function jO({navigateTo:r}){const[e,t]=_.useState(!0),[n,o]=_.useState(!1),{darkMode:l,toggleDarkMode:u}=St(),h=[{title:"Notifications",items:[{id:"push-notifications",label:"Push Notifications",icon:rl,hasToggle:!0,toggleValue:e,onToggle:t},{id:"email-notifications",label:"Email Notifications",icon:rl,hasToggle:!0,toggleValue:n,onToggle:o}]},{title:"Privacy & Safety",items:[{id:"privacy-settings",label:"Privacy Settings",icon:Hn,action:()=>r("privacy-settings")},{id:"blocked-users",label:"Blocked Users",icon:pm,action:()=>r("blocked-users")},{id:"safety-tips",label:"Safety Tips",icon:Hn,action:()=>r("safety-tips")}]},{title:"Account Settings",items:[{id:"edit-profile",label:"Edit Profile",icon:pm,action:()=>r("edit-profile")},{id:"change-password",label:"Change Password",icon:Hn,action:()=>r("change-password")}]},{title:"App Preferences",items:[{id:"appearance",label:"Dark Mode",icon:US,hasToggle:!0,toggleValue:l,onToggle:u},{id:"language",label:"Language",icon:Ew,action:()=>r("language-settings")}]},{title:"Help & Feedback",items:[{id:"help-center",label:"Help Center",icon:lS,action:()=>r("help-center")},{id:"send-feedback",label:"Send Feedback",icon:Sw,action:()=>r("send-feedback")}]},{title:"Developer",items:[{id:"style-guide",label:"Design System / Style Guide",icon:kw,action:()=>r("style-guide")}]}];return i.jsxs("div",{className:`min-h-screen ${l?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"} pb-24`,children:[i.jsx("div",{className:`sticky top-0 z-20 backdrop-blur-xl ${l?"bg-black/70 border-white/10":"bg-white/10 border-white/30"} border-b`,children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>r("home"),className:`p-2 rounded-full ${l?"hover:bg-white/10":"hover:bg-white/50"} transition-colors`,children:i.jsx(bt,{className:`w-6 h-6 ${l?"text-white":"text-[#222]"}`})}),i.jsx("h2",{className:`${l?"text-white":"text-[#9333ea]"} font-semibold text-xl`,children:"Settings"})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[h.map(p=>i.jsxs("div",{children:[i.jsx("h3",{className:`${l?"text-gray-400":"text-[#555]"} font-medium text-sm px-2 mb-3`,children:p.title}),i.jsx("div",{className:`backdrop-blur-xl ${l?"bg-white/10 border-white/20":"bg-white/10 border-white/30"} rounded-3xl border shadow-[0_8px_24px_rgba(139,92,246,0.12)] overflow-hidden`,children:p.items.map((m,v)=>i.jsx(SO,{item:m,isLast:v===p.items.length-1,onClick:()=>{m.action?m.action():console.log("Settings item clicked:",m.id)}},m.id))})]},p.title)),i.jsxs("div",{className:"text-center pt-4",children:[i.jsx("p",{className:`${l?"text-gray-500":"text-[#999]"} text-sm`,children:"Snag v1.0.0"}),i.jsx("p",{className:`${l?"text-gray-500":"text-[#999]"} text-xs mt-1`,children:"Made with  for students"})]})]})]})}function SO({item:r,isLast:e,onClick:t}){const n=r.icon,{darkMode:o}=St();return i.jsxs("div",{className:`w-full px-4 py-4 flex items-center gap-3 ${e?"":`border-b ${o?"border-white/10":"border-purple-100/40"}`}`,children:[i.jsx("div",{className:`w-10 h-10 rounded-full ${o?"bg-gradient-to-br from-purple-600/20 to-purple-700/20":"bg-gradient-to-br from-purple-100 to-purple-200"} flex items-center justify-center flex-shrink-0`,children:i.jsx(n,{className:`w-5 h-5 ${o?"text-purple-400":"text-purple-600"}`})}),i.jsx("span",{className:`${o?"text-white":"text-[#222]"} font-medium flex-1`,children:r.label}),r.hasToggle&&r.onToggle?i.jsx(Nh,{checked:r.toggleValue||!1,onCheckedChange:r.onToggle}):i.jsx("button",{onClick:t,className:`${o?"hover:bg-white/10":"hover:bg-white/50"} transition-colors active:scale-[0.98] p-2 rounded-full`,children:i.jsx(ng,{className:`w-5 h-5 ${o?"text-gray-500":"text-[#999]"}`})})]})}function kO({navigateTo:r}){const{darkMode:e}=St(),[t,n]=_.useState([]);_.useEffect(()=>{const u=Nn.currentUser;if(!u)return;const h=ix(wl(It,"users",u.uid,"notifications"),LP("createdAt","desc")),p=T_(h,m=>{const v=m.docs.map(x=>({id:x.id,...x.data(),time:"Just now"}));n(v)});return()=>p()},[]);const o=async u=>{try{const h=pr(It,"listings",u.relatedItemId);await ri(h,{status:!1,meetingSpot:u.metadata?.proposedSpot,meetingTime:u.metadata?.proposedTime,pendingConfirmation:!1}),await tl({userId:u.metadata?.buyerId,title:" Meeting Accepted!",message:`${Nn.currentUser?.displayName||"The seller"} accepted your meeting proposal for "${u.title}".
 Location: ${u.metadata?.proposedSpot}
 Time: ${u.metadata?.proposedTime}`,type:"trade"});const p=pr(It,"users",Nn.currentUser?.uid||"","notifications",u.id);await Cb(p),nt.success("Meeting proposal accepted!")}catch(h){console.error(" Accept meeting error:",h),nt.error("Failed to accept meeting proposal.")}},l=async u=>{try{const h=pr(It,"listings",u.relatedItemId);await ri(h,{status:!0,pendingConfirmation:!1}),await tl({userId:u.metadata?.buyerId,title:" Meeting Denied",message:`${Nn.currentUser?.displayName||"The seller"} declined your meeting proposal for "${u.title}". The listing has been reopened.`,type:"trade"});const p=pr(It,"users",Nn.currentUser?.uid||"","notifications",u.id);await Cb(p),nt.warning("Meeting proposal denied and listing reopened.")}catch(h){console.error(" Deny meeting error:",h),nt.error("Failed to deny meeting proposal.")}};return i.jsxs("div",{className:`min-h-screen pb-8 ${e?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"}`,children:[i.jsx("div",{className:`sticky top-0 z-20 backdrop-blur-xl ${e?"bg-black/70 border-white/10":"bg-white/10 border-white/30"} border-b`,children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>r("home"),className:`p-2 rounded-full ${e?"hover:bg-white/10":"hover:bg-white/50"} transition-colors`,children:i.jsx(bt,{className:`w-6 h-6 ${e?"text-white":"text-[#222]"}`})}),i.jsx("h2",{className:`font-semibold text-xl ${e?"text-purple-400":"text-[#9333ea]"}`,children:"Notifications"})]})})}),t.length>0?i.jsx("div",{className:"max-w-md mx-auto px-4 py-4 space-y-6",children:i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:`font-semibold px-2 ${e?"text-white":"text-[#222]"}`,children:"Today"}),t.map(u=>i.jsx(TO,{notification:u,darkMode:e,onClick:()=>console.log("Clicked:",u),onAccept:o,onDeny:l},u.id))]})}):i.jsx("div",{className:"max-w-md mx-auto px-4 py-16 text-center",children:i.jsxs("div",{className:`backdrop-blur-2xl ${e?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-12 border shadow-[0_8px_24px_rgba(139,92,246,0.12)]`,children:[i.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center mx-auto mb-4",children:i.jsx(Zj,{className:"w-10 h-10 text-purple-500"})}),i.jsx("h3",{className:`font-semibold mb-2 ${e?"text-white":"text-[#222]"}`,children:"All caught up!"}),i.jsx("p",{className:e?"text-gray-300":"text-[#555]",children:"You have no new notifications"})]})})]})}function TO({notification:r,onClick:e,onAccept:t,onDeny:n,darkMode:o}){const l={meeting:Wr,listing:ys,trade:ok,meeting_request:Wr,default:En},u={meeting:"from-green-500 to-green-600",listing:"from-indigo-500 to-indigo-600",trade:"from-purple-500 to-purple-600",meeting_request:"from-yellow-400 to-yellow-500",default:"from-blue-500 to-blue-600"},h=l[r.type]||l.default,p=u[r.type]||u.default;return console.log("Render notification:",r.id,r.type),i.jsx("div",{onClick:e,className:`w-full backdrop-blur-xl rounded-2xl p-4 border shadow-sm transition-all hover:shadow-[0_8px_24px_rgba(139,92,246,0.15)] text-left ${r.unread?o?"bg-white/15 border-white/30":"bg-white/20 border-white/40":o?"bg-white/5 border-white/10":"bg-white/10 border-white/30"}`,children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:`w-10 h-10 rounded-full bg-gradient-to-br ${p} flex items-center justify-center flex-shrink-0`,children:i.jsx(h,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("h3",{className:`font-medium flex items-center gap-2 ${o?"text-white":"text-[#222]"}`,children:[r.title,r.unread&&i.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 flex-shrink-0"})]}),i.jsx("p",{className:`mb-2 text-sm ${o?"text-gray-300":"text-[#555]"}`,children:r.message}),r.type?.trim().toLowerCase()==="meeting_request"&&i.jsxs("div",{className:"mt-3 p-4 bg-yellow-50 border border-yellow-200 rounded-2xl shadow-sm",children:[i.jsx("p",{className:"text-xs text-yellow-800 font-medium mb-2 flex items-center gap-1",children:" Meeting Proposal:"}),i.jsxs("div",{className:"flex flex-col gap-1 text-sm text-gray-800",children:[i.jsxs("p",{className:"flex items-center gap-2",children:[i.jsx(Wr,{className:"w-4 h-4 text-yellow-600"}),i.jsx("span",{children:r.metadata?.proposedSpot})]}),i.jsxs("p",{className:"flex items-center gap-2",children:[i.jsx(nl,{className:"w-4 h-4 text-yellow-600"}),i.jsx("span",{children:r.metadata?.proposedTime})]})]}),i.jsxs("div",{className:"flex gap-2 mt-3",children:[i.jsx("button",{type:"button",onClick:m=>{m.stopPropagation(),console.log(" Accept clicked:",r.id),t?.(r)},className:"px-4 py-1.5 rounded-full bg-green-500 text-black text-xs font-semibold hover:bg-green-600 active:scale-[0.98] transition-all shadow-sm focus:outline-none focus:ring-2 focus:ring-green-300",children:"Accept"}),i.jsx("button",{type:"button",onClick:m=>{m.stopPropagation(),console.log(" Deny clicked:",r.id),n?.(r)},className:"px-4 py-1.5 rounded-full bg-red-500 text-white text-xs font-semibold hover:bg-red-600 active:scale-[0.98] transition-all shadow-sm focus:outline-none focus:ring-2 focus:ring-red-300",children:"Deny"})]})]})]})]})})}const CO="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function As(r){const[e,t]=_.useState(!1),n=()=>{t(!0)},{src:o,alt:l,style:u,className:h,...p}=r;return e?i.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${h??""}`,style:u,children:i.jsx("div",{className:"flex items-center justify-center w-full h-full",children:i.jsx("img",{src:CO,alt:"Error loading image",...p,"data-original-url":o})})}):i.jsx("img",{src:o,alt:l,className:h,style:u,...p,onError:n})}function _E({images:r,alt:e,aspectRatio:t="aspect-[4/3]",showDots:n=!0,showArrows:o=!0}){const[l,u]=_.useState(0),[h,p]=_.useState(1),[m,v]=_.useState({x:0,y:0}),[x,w]=_.useState(!1),[k,R]=_.useState(null),[E,T]=_.useState(0),[O,B]=_.useState(null),$=_.useRef(null),F=G=>Math.min(3,Math.max(1,G)),W=()=>{p(1),v({x:0,y:0}),w(!1),R(null),B(null)},X=G=>{W(),u(G)},I=()=>{X(l===0?r.length-1:l-1)},S=()=>{X(l===r.length-1?0:l+1)},P=G=>{if(!$.current||r.length===0)return;G.preventDefault();const U=$.current.getBoundingClientRect(),ie=U.left+U.width/2,se=U.top+U.height/2,z=G.clientX-ie,te=G.clientY-se,oe=-G.deltaY>0?1.1:.9;p(me=>{const we=F(me*oe),ce=we-me;return v(pe=>({x:pe.x-ce*z,y:pe.y-ce*te})),we})},D=G=>{h<=1||(G.preventDefault(),w(!0),R({x:G.clientX,y:G.clientY}))},M=G=>{if(!x||!k||h<=1)return;G.preventDefault();const U=G.clientX-k.x,ie=G.clientY-k.y;v(se=>({x:se.x+U,y:se.y+ie})),R({x:G.clientX,y:G.clientY})},L=()=>{w(!1),R(null)},A=G=>{if($.current){if(G.touches.length===2){const[U,ie]=[G.touches[0],G.touches[1]],se=Math.hypot(U.pageX-ie.pageX,U.pageY-ie.pageY),z=$.current.getBoundingClientRect(),te=(U.pageX+ie.pageX)/2-(z.left+z.width/2),re=(U.pageY+ie.pageY)/2-(z.top+z.height/2);B({initialDistance:se,initialScale:h,centerX:te,centerY:re})}else if(G.touches.length===1&&h>1){const U=G.touches[0];R({x:U.pageX,y:U.pageY})}}},ne=G=>{if($.current){if(G.touches.length===2&&O){G.preventDefault();const[U,ie]=[G.touches[0],G.touches[1]],se=Math.hypot(U.pageX-ie.pageX,U.pageY-ie.pageY),z=O.initialScale*(se/O.initialDistance),te=F(z),re=te-h;p(te),v(oe=>({x:oe.x-re*O.centerX,y:oe.y-re*O.centerY}))}else if(G.touches.length===1&&h>1&&k){G.preventDefault();const U=G.touches[0],ie=U.pageX-k.x,se=U.pageY-k.y;v(z=>({x:z.x+ie,y:z.y+se})),R({x:U.pageX,y:U.pageY})}}},le=G=>{if(G.touches.length===0&&G.changedTouches.length===1){const U=Date.now();U-E<300&&(h>1?W():p(2)),T(U)}G.touches.length<2&&B(null),G.touches.length===0&&(R(null),w(!1))},ee=G=>{if(!$.current){h>1?W():p(2);return}const U=$.current.getBoundingClientRect(),ie=U.left+U.width/2,se=U.top+U.height/2,z=G.clientX-ie,te=G.clientY-se;if(h>1)W();else{const oe=2-h;p(2),v(me=>({x:me.x-oe*z,y:me.y-oe*te}))}};return r.length===0?i.jsx("div",{className:`${t} bg-purple-100/50 flex items-center justify-center`,children:i.jsx("span",{className:"text-purple-400 text-sm font-medium",children:"No images"})}):i.jsxs("div",{className:`${t} relative bg-purple-100/50 group`,ref:$,onWheel:P,onMouseDown:D,onMouseMove:M,onMouseUp:L,onMouseLeave:L,onDoubleClick:ee,onTouchStart:A,onTouchMove:ne,onTouchEnd:le,children:[i.jsx("div",{className:`
          w-full h-full overflow-hidden
          ${h>1?"cursor-grab active:cursor-grabbing":""}
          select-none
        `,style:{touchAction:h>1?"none":"pan-y"},children:i.jsx(As,{src:r[l],alt:`${e} - Image ${l+1}`,className:"w-full h-full object-cover",style:{transform:`translate3d(${m.x}px, ${m.y}px, 0) scale(${h})`,transition:x||O?"none":"transform 0.15s ease-out"},draggable:!1})}),o&&r.length>1&&h===1&&i.jsxs(i.Fragment,{children:[i.jsx("div",{onClick:G=>{G.stopPropagation(),I()},className:"absolute left-2 top-1/2 -translate-y-1/2 w-8 h-8 rounded-full backdrop-blur-xl bg-white/80 flex items-center justify-center shadow-md opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:i.jsx(nS,{className:"w-5 h-5 text-[#222]"})}),i.jsx("div",{onClick:G=>{G.stopPropagation(),S()},className:"absolute right-2 top-1/2 -translate-y-1/2 w-8 h-8 rounded-full backdrop-blur-xl bg-white/80 flex items-center justify-center shadow-md opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:i.jsx(ng,{className:"w-5 h-5 text-[#222]"})})]}),n&&r.length>1&&i.jsx("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 flex items-center gap-1.5 backdrop-blur-xl bg-black/20 rounded-full px-2 py-1",children:r.map((G,U)=>i.jsx("div",{onClick:ie=>{ie.stopPropagation(),X(U)},className:`transition-all cursor-pointer ${U===l?"w-6 h-1.5 bg-white rounded-full":"w-1.5 h-1.5 bg-white/50 rounded-full hover:bg-white/80"}`},U))}),i.jsx("div",{className:"absolute top-3 right-3 backdrop-blur-xl bg-black/30 rounded-full px-2.5 py-1",children:i.jsxs("span",{className:"text-white text-xs font-medium",children:[l+1,"/",r.length]})})]})}function IO({item:r,navigateTo:e}){const{darkMode:t}=St(),[n,o]=_.useState(r),[l,u]=_.useState(!1);_.useEffect(()=>{if(!r?.id)return;async function p(){u(!0);try{const m=pr(It,"listings",r.id),v=await su(m);v.exists()&&o({id:v.id,...v.data()})}catch(m){console.error("Failed to fetch item:",m)}finally{u(!1)}}p()},[r]);const h=r.icon;return console.log("item: ",r),i.jsxs("div",{className:`min-h-screen ${t?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"}`,children:[i.jsx("div",{className:`sticky top-0 z-20 backdrop-blur-2xl ${t?"bg-black/70 border-white/10":"bg-white/70 border-white/40"} border-b`,children:i.jsxs("div",{className:"max-w-md mx-auto px-4 py-4 flex items-center gap-4",children:[i.jsx("button",{onClick:()=>e("home"),className:`p-2 rounded-full ${t?"hover:bg-white/10":"hover:bg-white/50"} transition-colors`,children:i.jsx(bt,{className:`w-6 h-6 ${t?"text-white":"text-[#222]"}`})}),i.jsx("h2",{className:`font-semibold text-xl ${t?"text-purple-400":"text-[#9333ea]"}`,children:"Item Details"})]})}),i.jsxs("div",{className:"max-w-md mx-auto pb-32",children:[i.jsxs("div",{className:"relative",children:[i.jsx(_E,{images:r.images||[r.image],alt:r.title,aspectRatio:"aspect-square",onClick:()=>e("image-viewer",{images:r.images}),enableZoom:!0}),r.isBarter?i.jsx("div",{className:"absolute top-4 left-4 z-10",children:i.jsxs(Pr,{className:"backdrop-blur-xl bg-gradient-to-r from-purple-500 to-purple-600 text-white border-0 shadow-lg font-medium flex items-center gap-1.5",children:[i.jsx(Et,{className:"w-4 h-4"}),i.jsx("span",{children:"Trade Only"})]})}):i.jsx("div",{className:"absolute top-4 right-4 z-10",children:i.jsx("div",{className:`backdrop-blur-xl ${t?"bg-black/60 border-white/20":"bg-white/90 border-white/60"} rounded-2xl px-4 py-2.5 border shadow-lg`,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Kt,{className:"w-5 h-5 text-yellow-500"}),i.jsxs("span",{className:`font-semibold ${t?"text-white":"text-[#222]"}`,children:[r.credits," Credits"]})]})})})]}),i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsxs("div",{className:`backdrop-blur-2xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-6 border shadow-[0_8px_24px_rgba(139,92,246,0.12)]`,children:[i.jsx("h1",{className:`font-semibold mb-2 ${t?"text-white":"text-[#222]"}`,children:r.title}),i.jsx("p",{className:`mb-4 ${t?"text-gray-300":"text-[#555]"}`,children:r.description}),n.tags&&n.tags.length>0&&i.jsx("div",{className:"flex items-center gap-2 mb-6",children:n.tags.map(p=>i.jsxs("div",{className:"backdrop-blur-xl bg-purple-100/60 rounded-full px-3 py-1.5 border border-purple-200/60 flex items-center gap-1.5",children:[h&&i.jsx(h,{className:"w-4 h-4 text-purple-600"}),i.jsx("span",{className:"text-purple-700 text-sm font-medium",children:p})]},p))}),i.jsx("div",{className:`flex items-center justify-between pt-4 border-t ${t?"border-white/10":"border-purple-200/40"}`,children:i.jsxs("button",{onClick:()=>e("user-profile",r.seller),className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[i.jsx(Wn,{className:"w-10 h-10",children:i.jsx(qn,{className:"bg-gradient-to-br from-purple-400 to-purple-500 text-white font-medium",children:r.seller.name.charAt(0)||"?"})}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:`font-medium ${t?"text-white":"text-[#222]"}`,children:r.seller.name}),r.seller.verified&&i.jsx("div",{className:"w-5 h-5 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs",children:""})})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Cw,{className:"w-3.5 h-3.5 text-yellow-500 fill-yellow-500"}),i.jsx("span",{className:`text-xs font-medium ${t?"text-gray-300":"text-[#555]"}`,children:r.seller.rating})]}),i.jsx("span",{className:`text-xs ${t?"text-gray-500":"text-[#999]"}`,children:""}),i.jsxs("span",{className:`text-xs ${t?"text-gray-300":"text-[#555]"}`,children:[r.seller.trades," trades"]})]})]})]})})]}),i.jsxs("div",{className:`backdrop-blur-2xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-6 border shadow-[0_8px_24px_rgba(139,92,246,0.12)] space-y-4`,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center",children:i.jsx(Wr,{className:"w-5 h-5 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:`text-sm font-light ${t?"text-gray-400":"text-[#888]"}`,children:"Pickup Location"}),i.jsx("p",{className:`font-medium ${t?"text-white":"text-[#222]"}`,children:r.meetingSpot})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center",children:i.jsx(jh,{className:"w-5 h-5 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:`text-sm font-light ${t?"text-gray-400":"text-[#888]"}`,children:"Posted"}),i.jsx("p",{className:`font-medium ${t?"text-white":"text-[#222]"}`,children:r.time})]})]})]})]})]}),i.jsx("div",{className:`fixed bottom-0 left-0 right-0 backdrop-blur-2xl ${t?"bg-black/70 border-white/10":"bg-white/70 border-white/40"} border-t p-4`,children:i.jsx("div",{className:"max-w-md mx-auto flex justify-center",children:r.isBarter?i.jsxs("button",{onClick:()=>e("trade-offer",r),className:"w-full py-4 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] flex items-center justify-center gap-2",children:[i.jsx(Et,{className:"w-5 h-5",strokeWidth:2.5}),i.jsx("span",{children:"Offer to Trade"})]}):i.jsxs("button",{onClick:()=>e("meeting",r),className:"w-full py-4 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] flex items-center justify-center gap-2",children:[i.jsx(Kt,{className:"w-5 h-5",strokeWidth:2.5}),i.jsxs("span",{children:["Snag Now  ",r.credits," Credits"]})]})})})]})}const Rd=[{id:1,name:"Main Library Lobby",distance:"0.2 mi",hours:"24/7",verified:!0},{id:2,name:"Student Union Entrance",distance:"0.3 mi",hours:"6am - 11pm",verified:!0},{id:3,name:"Campus Coffee Shop",distance:"0.4 mi",hours:"7am - 9pm",verified:!0},{id:4,name:"Recreation Center Lobby",distance:"0.5 mi",hours:"5am - 11pm",verified:!0},{id:5,name:"Dining Hall Commons",distance:"0.6 mi",hours:"7am - 10pm",verified:!0}];function AO({item:r,navigateTo:e,onSelectSpot:t}){const[n,o]=_.useState(null),[l,u]=_.useState(null),[h,p]=_.useState(""),[m,v]=_.useState(""),[x,w]=_.useState(""),[k,R]=_.useState(""),[E,T]=_.useState(!1),{credits:O,setCredits:B}=dx(),$=[{id:"lunch",label:"12:00 PM  2:00 PM"},{id:"afternoon",label:"3:00 PM  5:00 PM"},{id:"evening",label:"5:00 PM  7:00 PM"}],F=()=>{const D=Rd.find(ne=>ne.id===n)?.name,M=l?$.find(ne=>ne.id===l)?.label:`${h}, ${m}`,L=r.meetingSpot&&D&&r.meetingSpot!==D,A=r.meetingTime&&M&&r.meetingTime!==M;return L||A};if(!r)return null;const W=D=>{const M=Rd.find(L=>L.id===D);o(D),t&&M&&t(M.name)},X=D=>{u(D),p(""),v(""),w(""),R("")},I=D=>{D&&u(null);let M=D.replace(/[^\d:APMapm\s]/g,"");M.length===2&&!M.includes(":")&&(M+=":"),p(M),M&&!/^(0?[1-9]|1[0-2]):[0-5][0-9]\s?(AM|PM|am|pm)$/.test(M)?w("Format: HH:MM AM/PM (e.g., 2:30 PM)"):w("")},S=D=>{D&&u(null);let M=D.replace(/[^\d/]/g,"");(M.length===2&&!M.includes("/")||M.length===5&&M.split("/").length===2)&&(M+="/");const L=M.split("/");if(L[2]&&L[2].length>4){R("Year must be 4 digits");return}if(v(M),M&&/^(0?[1-9]|1[0-2])\/(0?[1-9]|[12][0-9]|3[01])\/\d{4}$/.test(M)){const[ne,le,ee]=M.split("/").map(Number),G=new Date(ee,ne-1,le),U=new Date;U.setHours(0,0,0,0),G<U?R("Cannot select past dates"):R("")}else M.length>=8?R("Format: MM/DD/YYYY (e.g., 12/25/2024)"):R("")},P=async()=>{let D,M;if(E){if(!n){nt.error("Please select a meeting spot");return}if(!l&&(!h||!m)){nt.error("Please select a time or enter custom time/date");return}if(x||k){nt.error("Please fix time/date errors");return}D=Rd.find(L=>L.id===n)?.name,M=l?$.find(L=>L.id===l)?.label:`${h}, ${m}`}else if(D=r.meetingSpot,M=r.meetingTime,!D||!M){nt.error("This listing is missing a pickup location or time. Please choose them."),T(!0);return}try{console.log("Starting meeting confirmation...");const L=Nn.currentUser;if(!L){nt.error("You must be logged in to confirm a meeting.");return}let A=!1;if(E){const le=r.meetingSpot&&D&&r.meetingSpot!==D,ee=r.meetingTime&&M&&r.meetingTime!==M;if(A=le||ee,A){console.log(" Meeting mismatch detected  sending approval request");const G=pr(It,"listings",r.id);console.log(" Updating listing status..."),await ri(G,{pendingConfirmation:!0,proposedSpot:D,proposedTime:M}),console.log(" Listing updated OK"),await tl({userId:r.seller.id,title:" Meeting confirmation needed",message:`${L.displayName||"A buyer"} proposed a different ${le&&ee?"meeting spot and time":le?"meeting spot":"meeting time"} for "${r.title}".`,type:"meeting_request",relatedItemId:r.id,metadata:{proposedSpot:D,proposedTime:M,buyerId:L.uid,buyerName:L.displayName||L.email||"Anonymous"}}),nt.warning("Meeting proposal sent to seller for approval!"),e("home");return}}if(B(O-r.credits),console.log(" Updated credits locally"),console.log("Item before updating:",r),console.log("Listing path:",`listings/${r.id}`),!r?.id)throw new Error("Missing listing ID");const ne=pr(It,"listings",r.id);if(console.log(" Updating listing status..."),await ri(ne,{status:!1}),console.log(" Updated listing status in Firestore"),r?.seller?.id){const le=pr(It,"users",r.seller.id);console.log(" Incrementing seller trades..."),await ri(le,{trades:A_(1)},{merge:!0}),console.log(" Trades incremented OK")}else console.warn(" No seller.id found; skipping trade increment");await tl({userId:r.seller.id,title:"Your item has been snagged up!",message:`${L.displayName||"A buyer"} picked up your item "${r.title}".`,type:"listing",relatedItemId:r.id}),await tl({userId:L.uid,title:"You snagged an item!",message:`You successfully snagged "${r.title}" from ${r.seller?.displayName||"another user"}.`,type:"trade"}),console.log(" Sent notifications"),nt.success("Pickup confirmed!"),e("confirmation",r)}catch(L){console.error(" Meeting confirmation failed:",L),nt.error(`Failed to schedule meeting: ${L.message||L}`)}};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100",children:[i.jsx("div",{className:"sticky top-0 z-20 backdrop-blur-2xl bg-white/70 border-b border-white/40",children:i.jsxs("div",{className:"max-w-md mx-auto px-4 py-4 flex items-center gap-4",children:[i.jsx("button",{onClick:()=>e("item-detail",r),className:"p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(bt,{className:"w-6 h-6 text-[#222]"})}),i.jsx("h2",{className:"text-[#9333ea] font-semibold text-xl",children:"Schedule Meeting"})]})}),i.jsxs("div",{className:"max-w-md mx-auto p-4 pb-32 space-y-6",children:[i.jsxs("div",{className:"backdrop-blur-xl bg-purple-50/50 border border-purple-200/50 rounded-2xl p-4 flex items-start gap-3",children:[i.jsx(Hn,{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-purple-900 font-medium mb-1",children:"Meet in campus-verified locations"}),i.jsx("p",{className:"text-purple-700 text-sm",children:"For your safety, only verified campus locations are available for meetups."})]})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/60 rounded-3xl border border-white/60 p-4",children:[r.meetingSpot&&r.meetingTime&&i.jsxs("div",{className:"backdrop-blur-xl bg-white/70 border border-white/60 rounded-2xl p-4",children:[i.jsx("h3",{className:"text-[#222] font-semibold mb-2",children:"Original Pickup Details"}),i.jsxs("div",{className:"flex items-start gap-2 mb-1",children:[i.jsx(Wr,{className:"w-4 h-4 text-purple-600 mt-0.5"}),i.jsx("p",{className:"text-sm text-[#333] font-medium",children:r.meetingSpot})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(nl,{className:"w-4 h-4 text-purple-600 mt-0.5"}),i.jsx("p",{className:"text-sm text-[#333] font-medium",children:r.meetingTime})]}),i.jsx("p",{className:"text-xs text-[#666] mt-3",children:"You can keep these selections or propose a new time/location."})]}),i.jsx("button",{onClick:()=>T(!E),className:"w-full py-3 rounded-full bg-purple-100 border border-purple-300 text-purple-700 font-medium hover:bg-purple-200 transition-all mt-3",children:E?"Hide Options":"Change Pickup Details"}),!E&&i.jsx("p",{className:"text-xs text-center text-[#666] mt-2",children:"Keeping sellers original pickup location and time."})]}),E&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"backdrop-blur-xl bg-white/60 rounded-3xl border border-white/60 p-4",children:[i.jsxs("h3",{className:"text-[#222] font-semibold mb-3 flex items-center gap-2",children:[i.jsx(Wr,{className:"w-5 h-5 text-purple-600"}),"Pickup Location"]}),i.jsx("div",{className:"space-y-2",children:Rd.map(D=>i.jsxs("button",{onClick:()=>W(D.id),className:`w-full p-3 rounded-xl border transition-all text-left ${n===D.id?"bg-purple-100/50 border-purple-300 shadow-md":"bg-white/80 border-white/60 hover:bg-white"}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Wr,{className:"w-4 h-4 text-purple-600"}),i.jsx("span",{className:"text-sm font-medium text-[#222]",children:D.name})]}),D.verified&&i.jsx("span",{className:"text-[10px] bg-green-500/20 text-green-700 px-2 py-0.5 rounded-full font-medium",children:"Snag Verified Zone"})]}),i.jsxs("div",{className:"flex items-center gap-2 ml-6",children:[i.jsx("span",{className:"text-xs text-[#666]",children:D.distance}),i.jsx("span",{className:"text-xs text-[#999]",children:""}),i.jsx("span",{className:"text-xs text-[#666]",children:D.hours})]})]},D.id))})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/60 rounded-3xl border border-white/60 p-4",children:[i.jsxs("h3",{className:"text-[#222] font-semibold mb-3 flex items-center gap-2",children:[i.jsx(nl,{className:"w-5 h-5 text-purple-600"}),"Pickup Time"]}),i.jsxs("div",{className:"mb-4",children:[i.jsx(Ar,{className:"text-xs text-[#666]",children:"Recommended Time Slots"}),i.jsx("div",{className:"space-y-2 mt-2",children:$.map(D=>i.jsx("button",{onClick:()=>X(D.id),className:`w-full p-3 rounded-xl border transition-all text-left ${l===D.id?"bg-purple-100/50 border-purple-300 shadow-md":"bg-white/80 border-white/60 hover:bg-white"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium text-[#222]",children:D.label}),l===D.id&&i.jsx(En,{className:"w-4 h-4 text-purple-600"})]})},D.id))})]}),i.jsxs("div",{className:"flex items-center gap-3 my-4",children:[i.jsx("div",{className:"flex-1 h-px bg-white/60"}),i.jsx("span",{className:"text-xs text-[#666] font-medium",children:"OR"}),i.jsx("div",{className:"flex-1 h-px bg-white/60"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsxs(Ar,{className:"text-xs text-[#666]",children:["Custom Time ",l&&"(Disabled - slot selected)"]}),i.jsx(Ct,{value:h,onChange:D=>I(D.target.value),placeholder:"HH:MM AM/PM (e.g., 2:30 PM)",disabled:!!l,className:`mt-1 ${l?"opacity-50 cursor-not-allowed":""}`}),x&&i.jsxs("p",{className:"text-xs text-red-600 mt-1 flex items-center gap-1",children:[i.jsx("span",{children:""}),x]})]}),i.jsxs("div",{children:[i.jsxs(Ar,{className:"text-xs text-[#666]",children:["Custom Date ",l&&"(Disabled - slot selected)"]}),i.jsx(Ct,{value:m,onChange:D=>S(D.target.value),placeholder:"MM/DD/YYYY (e.g., 12/25/2024)",disabled:!!l,className:`mt-1 ${l?"opacity-50 cursor-not-allowed":""}`}),k&&i.jsxs("p",{className:"text-xs text-red-600 mt-1 flex items-center gap-1",children:[i.jsx("span",{children:""}),k]}),!k&&m&&i.jsx("p",{className:"text-xs text-green-600 mt-1",children:" Date valid"})]})]}),(l||h&&m&&!x&&!k)&&i.jsx(i.Fragment,{children:F()?i.jsxs("div",{className:"mt-4 p-3 bg-yellow-100 border border-yellow-400 rounded-xl shadow-sm",children:[i.jsx("p",{className:"text-xs font-semibold text-yellow-800 mb-1 flex items-center gap-1",children:" Availability Mismatch"}),i.jsx("p",{className:"text-xs text-yellow-700",children:"You selected a different time or meeting spot than what the seller listed."})]}):i.jsxs("div",{className:"mt-4 p-3 bg-green-50/50 border border-green-200/50 rounded-xl",children:[i.jsx("p",{className:"text-xs text-green-700 font-medium mb-1",children:" Availability Match"}),i.jsx("p",{className:"text-xs text-green-600",children:"This time and location match the sellers original listing."})]})})]})]}),i.jsx("button",{onClick:P,disabled:E&&(!!x||!!k||!n||!l&&(!h||!m)),className:"w-full py-4 rounded-full bg-gradient-to-r from-purple-500 to-purple-600 text-white font-medium hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:shadow-none",children:"Confirm Meeting"})]})]})}function RO({item:r,navigateTo:e}){const[t,n]=_.useState([]),[o,l]=_.useState("");if(!r)return null;const u=()=>{const p={id:Date.now(),url:"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400&h=400&fit=crop"};n([...t,p])},h=p=>{n(t.filter(m=>m.id!==p))};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100",children:[i.jsx("div",{className:"sticky top-0 z-20 backdrop-blur-2xl bg-white/70 border-b border-white/40",children:i.jsxs("div",{className:"max-w-md mx-auto px-4 py-4 flex items-center gap-4",children:[i.jsx("button",{onClick:()=>e("item-detail",r),className:"p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(bt,{className:"w-6 h-6 text-[#222]"})}),i.jsx("h2",{className:"text-[#9333ea] font-semibold text-xl",children:"Barter Offer"})]})}),i.jsxs("div",{className:"max-w-md mx-auto p-4 space-y-4 pb-32",children:[i.jsxs("div",{className:"backdrop-blur-2xl bg-white/70 rounded-3xl p-6 border border-white/60 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:[i.jsx("p",{className:"text-[#555] mb-3 text-sm font-medium",children:"They're offering"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-20 h-20 rounded-2xl overflow-hidden bg-purple-100/50 flex-shrink-0",children:i.jsx(As,{src:r.image||r.images?.[0],alt:r.title,className:"w-full h-full object-cover"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-[#222] font-semibold mb-1",children:r.title}),i.jsx("p",{className:"text-[#555] text-sm",children:r.description})]})]})]}),i.jsxs("div",{className:"backdrop-blur-2xl bg-white/70 rounded-3xl p-6 border border-white/60 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:[i.jsx("h3",{className:"text-[#222] font-semibold mb-4",children:"What are you offering?"}),i.jsxs("div",{className:"mb-4",children:[i.jsx("p",{className:"text-[#555] mb-3 text-sm font-medium",children:"Add Photos"}),i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.map(p=>i.jsxs("div",{className:"relative aspect-square group",children:[i.jsx("div",{className:"w-full h-full backdrop-blur-2xl bg-white/70 rounded-2xl border border-white/60 overflow-hidden",children:i.jsx(As,{src:p.url,alt:"Offer item",className:"w-full h-full object-cover"})}),i.jsx("button",{onClick:()=>h(p.id),className:"absolute -top-2 -right-2 w-6 h-6 rounded-full bg-red-500 text-white flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity shadow-lg",children:i.jsx(Sn,{className:"w-4 h-4"})})]},p.id)),t.length<6&&i.jsxs("button",{onClick:u,className:"aspect-square backdrop-blur-2xl bg-white/70 rounded-2xl border-2 border-dashed border-purple-300 hover:border-purple-500 hover:bg-white/80 transition-all flex flex-col items-center justify-center gap-2",children:[i.jsx(Zs,{className:"w-6 h-6 text-purple-500"}),i.jsx("span",{className:"text-xs text-purple-600 font-medium",children:"Add photo"})]})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#555] mb-3 text-sm font-medium",children:"Description"}),i.jsx(Uc,{value:o,onChange:p=>l(p.target.value),placeholder:"Describe what you're offering in exchange...",className:"min-h-32 backdrop-blur-xl bg-white/80 border-purple-200/60 rounded-2xl resize-none focus-visible:ring-purple-400/50 text-[#222]"})]})]}),i.jsxs("div",{className:"backdrop-blur-2xl bg-gradient-to-br from-purple-500/10 to-purple-600/10 rounded-3xl p-6 border border-purple-300/40",children:[i.jsx("p",{className:"text-[#222] font-medium mb-3",children:" Quick Tip"}),i.jsx("p",{className:"text-[#555] text-sm font-light",children:"Be specific about condition, brand, and why this is a fair trade. Photos help build trust!"})]}),i.jsxs("div",{className:"backdrop-blur-2xl bg-white/70 rounded-3xl p-6 border border-white/60 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:[i.jsx("h3",{className:"text-[#222] font-semibold mb-4",children:"Offer Status"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center flex-shrink-0",children:i.jsx("span",{className:"text-white text-xs font-semibold",children:"1"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Submit Offer"}),i.jsx("p",{className:"text-[#555] text-sm font-light",children:"You send your proposal"})]})]}),i.jsxs("div",{className:"flex items-center gap-3 opacity-50",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-200 flex items-center justify-center flex-shrink-0",children:i.jsx("span",{className:"text-purple-600 text-xs font-semibold",children:"2"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Seller Reviews"}),i.jsx("p",{className:"text-[#555] text-sm font-light",children:"They accept or counter"})]})]}),i.jsxs("div",{className:"flex items-center gap-3 opacity-50",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-200 flex items-center justify-center flex-shrink-0",children:i.jsx("span",{className:"text-purple-600 text-xs font-semibold",children:"3"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Meet & Exchange"}),i.jsx("p",{className:"text-[#555] text-sm font-light",children:"Complete the trade"})]})]})]})]})]}),i.jsx("div",{className:"fixed bottom-0 left-0 right-0 backdrop-blur-2xl bg-white/70 border-t border-white/40 p-4",children:i.jsxs("div",{className:"max-w-md mx-auto space-y-3",children:[i.jsxs("button",{onClick:()=>e("home"),className:"w-full py-4 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] flex items-center justify-center gap-2",children:[i.jsx(Et,{className:"w-5 h-5",strokeWidth:2.5}),i.jsx("span",{children:"Send Barter Offer"})]}),i.jsx("button",{onClick:()=>e("item-detail",r),className:"w-full py-4 rounded-2xl backdrop-blur-xl bg-white/80 text-[#222] font-medium border border-purple-200/60 shadow-sm transition-transform active:scale-[0.98] flex items-center justify-center",children:i.jsx("span",{children:"Cancel"})})]})})]})}function PO({item:r,counterOffer:e,navigateTo:t,onConfirm:n}){return r?i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100",children:[i.jsx("div",{className:"sticky top-0 z-20 backdrop-blur-2xl bg-white/70 border-b border-white/40",children:i.jsxs("div",{className:"max-w-md mx-auto px-4 py-4 flex items-center gap-4",children:[i.jsx("button",{onClick:()=>t("home"),className:"p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(bt,{className:"w-6 h-6 text-[#222]"})}),i.jsx("h2",{className:"text-[#9333ea] font-semibold text-xl",children:"Counter Offer Received"})]})}),i.jsxs("div",{className:"max-w-md mx-auto p-4 pb-32 space-y-4",children:[i.jsxs("div",{className:"backdrop-blur-xl bg-gradient-to-br from-purple-500/10 to-purple-600/10 rounded-2xl p-4 border border-purple-300/40 text-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center mx-auto mb-3",children:i.jsx(Et,{className:"w-6 h-6 text-white"})}),i.jsx("p",{className:"text-[#222] font-medium mb-1",children:"New Counter Offer!"}),i.jsx("p",{className:"text-[#555] text-sm",children:"The seller has responded with a different item"})]}),i.jsxs("div",{className:"backdrop-blur-2xl bg-white/70 rounded-3xl p-6 border border-white/60 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:[i.jsx("p",{className:"text-[#555] mb-3 text-sm font-medium",children:"You wanted"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-20 h-20 rounded-2xl overflow-hidden bg-purple-100/50 flex-shrink-0",children:i.jsx(As,{src:r.image||r.images?.[0],alt:r.title,className:"w-full h-full object-cover"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-[#222] font-semibold mb-1",children:r.title}),i.jsx("p",{className:"text-[#555] text-sm",children:r.description})]})]})]}),i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center",children:i.jsx(Et,{className:"w-5 h-5 text-white"})})}),i.jsxs("div",{className:"backdrop-blur-2xl bg-gradient-to-br from-purple-500/10 to-purple-600/10 rounded-3xl p-6 border border-purple-400/60 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:[i.jsx("p",{className:"text-[#555] mb-3 text-sm font-medium",children:"They're offering instead"}),i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("div",{className:"w-20 h-20 rounded-2xl overflow-hidden bg-white/50 flex-shrink-0",children:i.jsx(As,{src:e.image,alt:e.title,className:"w-full h-full object-cover"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-[#222] font-semibold mb-1",children:e.title}),i.jsx("p",{className:"text-[#555] text-sm",children:e.description})]})]}),e.credits!==void 0&&e.credits>0&&i.jsxs("div",{className:"backdrop-blur-xl bg-white/60 rounded-2xl p-3 border border-purple-200/60",children:[i.jsx("p",{className:"text-[#555] text-sm mb-1",children:i.jsx("span",{className:"font-medium",children:"Additional Credits:"})}),i.jsxs("p",{className:"text-purple-600 font-semibold",children:["+",e.credits," Credits"]})]})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-gradient-to-br from-blue-500/10 to-cyan-600/10 rounded-2xl p-4 border border-blue-300/40",children:[i.jsx("p",{className:"text-[#222] font-medium mb-1",children:" What happens next?"}),i.jsx("p",{className:"text-[#555] text-sm",children:"If you accept, you'll coordinate a meeting spot to complete the exchange. If you decline, the seller will be notified."})]})]}),i.jsx("div",{className:"fixed bottom-0 left-0 right-0 backdrop-blur-2xl bg-white/70 border-t border-white/40 p-4",children:i.jsxs("div",{className:"max-w-md mx-auto space-y-3",children:[i.jsxs("button",{onClick:n,className:"w-full py-4 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] flex items-center justify-center gap-2",children:[i.jsx(En,{className:"w-5 h-5"}),i.jsx("span",{children:"Accept Counter Offer"})]}),i.jsx("button",{onClick:()=>t("home"),className:"w-full py-4 rounded-2xl backdrop-blur-xl bg-white/80 text-[#222] font-medium border border-purple-200/60 shadow-sm transition-transform active:scale-[0.98]",children:"Decline"})]})})]}):null}function DO({item:r,meetingSpot:e,navigateTo:t}){return console.log("item:",r),i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100 flex items-center justify-center p-4",children:i.jsxs("div",{className:"max-w-md w-full space-y-6 animate-in fade-in duration-500",children:[i.jsx("div",{className:"sticky top-0 z-20 backdrop-blur-2xl bg-white/70 border-b border-white/40",children:i.jsxs("div",{className:"max-w-md mx-auto px-4 py-4 flex items-center gap-4",children:[i.jsx("button",{onClick:()=>t("home"),className:"p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(bt,{className:"w-6 h-6 text-[#222]"})}),i.jsx("h2",{className:"text-[#9333ea] font-semibold text-xl",children:"Confirmation"})]})}),i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-green-500 to-green-600 flex items-center justify-center shadow-[0_8px_32px_rgba(34,197,94,0.3)] animate-in zoom-in duration-300",children:i.jsx(En,{className:"w-12 h-12 text-white",strokeWidth:2.5})})}),i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-[#222] font-semibold mb-2",children:"Snag Confirmed!"}),i.jsx("p",{className:"text-[#555]",children:"Your meeting has been scheduled"})]}),i.jsxs("div",{className:"backdrop-blur-2xl bg-white/70 rounded-3xl p-6 border border-white/60 shadow-[0_8px_24px_rgba(139,92,246,0.12)] space-y-4",children:[i.jsxs("div",{className:"flex gap-4 pb-4 border-b border-purple-200/40",children:[i.jsx("div",{className:"w-20 h-20 rounded-2xl overflow-hidden bg-purple-100/50 flex-shrink-0",children:r?.image&&i.jsx(As,{src:r.images?.[0],alt:r.title,className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-[#222] font-semibold mb-1",children:r?.title}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(Kt,{className:"w-4 h-4 text-yellow-500"}),i.jsxs("span",{className:"text-[#555] text-sm font-medium",children:[r?.credits," Credits"]})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center flex-shrink-0",children:i.jsx(Wr,{className:"w-5 h-5 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#888] text-sm font-light",children:"Meeting Location"}),i.jsx("p",{className:"text-[#222] font-medium",children:r.meetingSpot})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center flex-shrink-0",children:i.jsx(jh,{className:"w-5 h-5 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#888] text-sm font-light",children:"Scheduled For"}),i.jsx("p",{className:"text-[#222] font-medium",children:r.meetingTime})]})]})]})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-gradient-to-br from-green-500/10 to-emerald-600/10 rounded-2xl p-4 border border-green-300/40",children:[i.jsx("p",{className:"text-green-900 mb-1 font-medium",children:" What's next?"}),i.jsx("p",{className:"text-green-700 text-sm font-light",children:"You'll receive a notification 30 minutes before your meeting. The seller has been notified."})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("button",{onClick:()=>t("home"),className:"w-full py-4 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98]",children:"Back to Home"}),i.jsx("button",{onClick:()=>t("notifications"),className:"w-full py-4 rounded-2xl backdrop-blur-xl bg-white/60 text-[#222] font-medium border border-purple-200/60 shadow-sm transition-transform active:scale-[0.98]",children:"View Notifications"})]})]})})}function MO({isOpen:r,onClose:e,icon:t,title:n,message:o,autoDismiss:l=!0,dismissDelay:u=2500}){return _.useEffect(()=>{if(r&&l){const h=setTimeout(()=>{e()},u);return()=>clearTimeout(h)}},[r,l,u,e]),r?i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/30 backdrop-blur-sm",children:i.jsxs("div",{className:"backdrop-blur-2xl bg-white/90 rounded-3xl p-8 border border-white/60 shadow-[0_24px_48px_rgba(139,92,246,0.3)] max-w-sm w-full text-center animate-in fade-in zoom-in duration-300",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center mx-auto mb-4",children:t||i.jsx(En,{className:"w-8 h-8 text-white",strokeWidth:2.5})}),i.jsx("h3",{className:"text-[#222] font-semibold text-xl mb-2",children:n}),i.jsx("p",{className:"text-[#555]",children:o})]})}):null}function OO({isOpen:r,onClose:e,listing:t,onViewListing:n}){return!r||!t?null:i.jsx("div",{className:"fixed inset-0 z-50 flex items-end justify-center bg-black/30 backdrop-blur-sm",children:i.jsxs("div",{className:"w-full max-w-md backdrop-blur-2xl bg-white/95 rounded-t-3xl border border-white/60 shadow-[0_-8px_32px_rgba(139,92,246,0.2)] max-h-[70vh] overflow-hidden animate-in slide-in-from-bottom duration-300",children:[i.jsxs("div",{className:"sticky top-0 z-10 backdrop-blur-xl bg-white/80 border-b border-purple-100/40 px-6 py-4 flex items-center justify-between",children:[i.jsx("h3",{className:"text-[#222] font-semibold",children:"Listing Posted"}),i.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-purple-100/50 transition-colors",children:i.jsx(Sn,{className:"w-5 h-5 text-[#555]"})})]}),i.jsxs("div",{className:"p-6 space-y-4 overflow-y-auto max-h-[calc(70vh-120px)]",children:[i.jsxs("div",{className:"backdrop-blur-xl bg-gradient-to-br from-green-500/10 to-emerald-600/10 rounded-2xl p-4 border border-green-300/40 text-center",children:[i.jsx("p",{className:"text-green-900 font-medium mb-1",children:" Successfully Posted!"}),i.jsx("p",{className:"text-green-700 text-sm",children:"Your listing is now live and visible to all students"})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/70 rounded-2xl border border-white/60 overflow-hidden",children:[i.jsx("div",{className:"aspect-[4/3] bg-purple-100/50 overflow-hidden",children:i.jsx(As,{src:t.image,alt:t.title,className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsx("h4",{className:"text-[#222] font-semibold",children:t.title}),i.jsx("div",{className:"backdrop-blur-xl bg-white/90 rounded-full px-3 py-1 border border-white/60 flex items-center gap-1 flex-shrink-0 ml-2",children:i.jsxs("span",{className:"text-[#222] font-medium text-sm",children:[t.credits," Cr"]})})]}),i.jsx("p",{className:"text-[#555] text-sm mb-3",children:t.description}),t.tags&&t.tags.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:t.tags.map(o=>i.jsx("div",{className:"backdrop-blur-xl bg-purple-100/60 rounded-full px-3 py-1 border border-purple-200/60",children:i.jsx("span",{className:"text-purple-700 text-xs font-medium",children:o})},o))}),t.meetingSpot&&i.jsxs("div",{className:"pt-3 border-t border-purple-200/40",children:[i.jsxs("p",{className:"text-[#555] text-sm mb-1",children:[i.jsx("span",{className:"font-medium",children:"Meeting:"})," ",t.meetingSpot]}),t.meetingTime&&i.jsxs("p",{className:"text-[#555] text-sm",children:[i.jsx("span",{className:"font-medium",children:"Suggested time:"})," ",t.meetingTime]})]})]})]})]}),i.jsx("div",{className:"sticky bottom-0 backdrop-blur-xl bg-white/80 border-t border-purple-100/40 p-6",children:i.jsx("button",{onClick:n,className:"w-full py-4 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] flex items-center justify-center",children:i.jsx("span",{children:"View Full Listing"})})})]})})}function LO({listing:r,navigateTo:e,currentUser:t}){if(!r)return null;const n=r.sellerId===t?.id;return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100 pb-32",children:[i.jsx("div",{className:"sticky top-0 z-20 backdrop-blur-2xl bg-white/70 border-b border-white/40",children:i.jsxs("div",{className:"max-w-md mx-auto px-4 py-4 flex items-center gap-4",children:[i.jsx("button",{onClick:()=>e("profile"),className:"p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(bt,{className:"w-6 h-6 text-[#222]"})}),i.jsx("h2",{className:"text-[#9333ea] font-semibold text-xl",children:"Listing Details"})]})}),i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("div",{className:"aspect-[4/3] bg-purple-100/50 overflow-hidden",children:i.jsx(_E,{images:r.images||[r.image]})}),i.jsxs("div",{className:"px-4 py-6 space-y-4",children:[i.jsxs("div",{className:"backdrop-blur-2xl bg-white/70 rounded-3xl p-6 border border-white/60 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsx("h1",{className:"text-[#222] font-semibold text-2xl flex-1",children:r.title}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/90 rounded-full px-4 py-2 border border-white/60 flex items-center gap-1 ml-3",children:[i.jsx(Kt,{className:"w-4 h-4 text-purple-600"}),i.jsxs("span",{className:"text-[#222] font-semibold",children:[r.credits||0," Cr"]})]})]}),r.tags&&r.tags.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:r.tags.map(o=>i.jsx("div",{className:"backdrop-blur-xl bg-purple-100/60 rounded-full px-3 py-1 border border-purple-200/60",children:i.jsx("span",{className:"text-purple-700 text-xs font-medium",children:o})},o))}),i.jsx("div",{className:"mb-4",children:i.jsx("p",{className:"text-[#555]",children:r.description})}),r.condition&&i.jsx("div",{className:"pt-4 border-t border-purple-200/40",children:i.jsxs("p",{className:"text-[#555] text-sm",children:[i.jsx("span",{className:"font-medium text-[#222]",children:"Condition:"})," ",r.condition]})})]}),i.jsxs("div",{className:"backdrop-blur-2xl bg-white/70 rounded-3xl p-6 border border-white/60 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:[i.jsx("p",{className:"text-[#555] text-sm mb-3",children:"Seller"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Wn,{className:"w-12 h-12 border-2 border-white",children:i.jsx(qn,{className:"bg-gradient-to-br from-purple-400 to-purple-600 text-white font-semibold",children:r.seller?.name?.[0]||"U"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"text-[#222] font-semibold",children:r.seller?.name||"Anonymous"}),r.seller?.verified&&i.jsx(Pr,{variant:"secondary",className:"backdrop-blur-xl bg-green-100/80 text-green-700 border-green-300/40",children:" Verified"})]}),i.jsx("p",{className:"text-[#555] text-sm",children:"Active seller"})]})]})]}),i.jsxs("div",{className:"backdrop-blur-2xl bg-white/70 rounded-3xl p-6 border border-white/60 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:[i.jsx("h3",{className:"text-[#222] font-semibold mb-4",children:"Meeting Details"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center",children:i.jsx(Wr,{className:"w-5 h-5 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#888] text-sm font-light",children:"Pickup Location"}),i.jsx("p",{className:"text-[#222] font-medium",children:r.meetingSpot||"Main Campus Library Lobby"})]})]}),r.meetingTime&&i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center",children:i.jsx(nl,{className:"w-5 h-5 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#888] text-sm font-light",children:"Suggested Time"}),i.jsx("p",{className:"text-[#222] font-medium",children:r.meetingTime})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center",children:i.jsx(jh,{className:"w-5 h-5 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#888] text-sm font-light",children:"Posted"}),i.jsx("p",{className:"text-[#222] font-medium",children:r.postedTime||"2 days ago"})]})]})]})]}),i.jsx("div",{className:"backdrop-blur-xl bg-gradient-to-br from-purple-500/10 to-purple-600/10 rounded-2xl p-4 border border-purple-300/40",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Hn,{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium mb-1",children:" Safety Reminder"}),i.jsx("p",{className:"text-[#555] text-sm",children:"Always meet in safe, public campus spaces. Report any suspicious activity."})]})]})})]})]}),!n&&i.jsx("div",{className:"fixed bottom-0 left-0 right-0 backdrop-blur-2xl bg-white/70 border-t border-white/40 p-4",children:i.jsx("div",{className:"max-w-md mx-auto",children:r.isBarter?i.jsxs("button",{onClick:()=>e("barter-offer",r),className:"w-full py-4 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] flex items-center justify-center gap-2",children:[i.jsx(Et,{className:"w-5 h-5",strokeWidth:2.5}),i.jsx("span",{children:"Offer to Barter"})]}):i.jsxs("button",{onClick:()=>e("meeting",r),className:"w-full py-4 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] flex items-center justify-center gap-2",children:[i.jsx(Kt,{className:"w-5 h-5",strokeWidth:2.5}),i.jsxs("span",{children:["Snag Now  ",r.credits," Credits"]})]})})})]})}function VO({navigateTo:r,myListings:e=[]}){return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100 pb-8",children:[i.jsx("div",{className:"sticky top-0 z-20 backdrop-blur-2xl bg-white/70 border-b border-white/40",children:i.jsxs("div",{className:"max-w-md mx-auto px-4 py-4 flex items-center gap-4",children:[i.jsx("button",{onClick:()=>r("profile"),className:"p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(bt,{className:"w-6 h-6 text-[#222]"})}),i.jsx("h2",{className:"text-[#9333ea] font-semibold text-xl",children:"My Listings"})]})}),i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:e.length>0?i.jsx("div",{className:"grid grid-cols-2 gap-3",children:e.map(t=>i.jsxs("button",{onClick:()=>r("full-listing-view",t),className:"backdrop-blur-2xl bg-white/70 rounded-2xl border border-white/60 shadow-sm hover:shadow-[0_8px_24px_rgba(139,92,246,0.15)] transition-all active:scale-[0.98] overflow-hidden text-left",children:[i.jsx("div",{className:"aspect-square bg-purple-100/50 overflow-hidden",children:i.jsx(As,{src:t.images?.[0]||t.image,alt:t.title,className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"p-3",children:[i.jsx("h3",{className:"text-[#222] font-semibold text-sm mb-1 line-clamp-2",children:t.title}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"backdrop-blur-xl bg-white/90 rounded-full px-2 py-1 border border-white/60",children:i.jsxs("span",{className:"text-[#222] font-medium text-xs",children:[t.credits," Cr"]})}),i.jsx("div",{className:"backdrop-blur-xl bg-green-100/80 rounded-full px-2 py-1 border border-green-200/60",children:i.jsx("span",{className:"text-green-700 text-xs font-medium",children:"Active"})})]}),i.jsx("p",{className:"text-[#777] text-xs mt-2",children:t.postedTime||"Just now"})]})]},t.id))}):i.jsxs("div",{className:"backdrop-blur-2xl bg-white/70 rounded-3xl p-12 border border-white/60 shadow-[0_8px_24px_rgba(139,92,246,0.12)] text-center",children:[i.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center mx-auto mb-4",children:i.jsx(ys,{className:"w-10 h-10 text-purple-500"})}),i.jsx("h3",{className:"text-[#222] font-semibold mb-2",children:"No listings yet"}),i.jsx("p",{className:"text-[#555] mb-4",children:"Start selling items to see them here"}),i.jsx("button",{onClick:()=>r("create"),className:"px-6 py-3 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98]",children:"Create Listing"})]})})]})}function zn({className:r="",size:e=24}){const{darkMode:t}=St();return i.jsxs("div",{className:"relative",style:{width:e,height:e},children:[i.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"snag-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",style:{stopColor:"#9333ea",stopOpacity:1}}),i.jsx("stop",{offset:"100%",style:{stopColor:"#a855f7",stopOpacity:1}})]})}),i.jsx("path",{d:"M20 7L12 3L4 7M20 7L12 11M20 7V17L12 21M12 11L4 7M12 11V21M4 7V17L12 21",stroke:"url(#snag-gradient)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),i.jsx("path",{d:"M12 3L16 5.5V8.5L12 11L8 8.5V5.5L12 3Z",fill:"url(#snag-gradient)",fillOpacity:"0.3"})]}),i.jsx("div",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 whitespace-nowrap font-bold bg-gradient-to-r from-purple-600 to-purple-500 bg-clip-text text-transparent",style:{fontSize:e*.4},children:"snag"})]})}function $O(){return i.jsxs("div",{className:"h-screen w-full bg-gradient-to-br from-purple-500 via-purple-600 to-purple-700 flex items-center justify-center relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_30%_40%,rgba(255,255,255,0.2)_0%,transparent_50%)]"}),i.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_70%_60%,rgba(255,255,255,0.15)_0%,transparent_50%)]"}),i.jsx("div",{className:"absolute top-20 left-10 w-40 h-40 rounded-full bg-white/10 blur-3xl animate-pulse"}),i.jsx("div",{className:"absolute bottom-32 right-10 w-56 h-56 rounded-full bg-purple-300/20 blur-3xl animate-pulse delay-700"}),i.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-6",children:[i.jsx("div",{className:"backdrop-blur-2xl bg-white/20 rounded-3xl p-8 shadow-[0_8px_32px_rgba(0,0,0,0.1)] border border-white/30",children:i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex flex-col items-center gap-4 mb-4",children:[i.jsx("div",{className:"w-20 h-20 rounded-3xl bg-white/20 backdrop-blur-xl border border-white/40 shadow-lg flex items-center justify-center",children:i.jsx(zn,{className:"text-white",size:48})}),i.jsx("h1",{className:"text-white tracking-wider font-semibold",children:"Snag"})]}),i.jsxs("div",{className:"mt-2 flex items-center justify-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-bounce"}),i.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-bounce delay-150",style:{animationDelay:"150ms"}}),i.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-bounce delay-300",style:{animationDelay:"300ms"}})]})]})}),i.jsx("p",{className:"text-white/90 text-center px-8 font-light",children:"Turn Extras into Essentials."})]})]})}function FO({activeScreen:r,navigateTo:e}){const t=[{id:"home",label:"Home",icon:Uo},{id:"circles-home",label:"Circles",icon:Rr},{id:"create",label:"Create",icon:Zs,isFab:!0},{id:"profile",label:"Profile",icon:pm},{id:"settings",label:"Settings",icon:rk}];return i.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-30 pb-safe",children:i.jsx("div",{className:"max-w-md mx-auto backdrop-blur-xl bg-white/10 border-t border-white/30 shadow-[0_-8px_24px_rgba(139,92,246,0.08)]",children:i.jsx("div",{className:"flex items-center justify-between px-2 h-20",children:t.map((n,o)=>{const l=n.icon,u=r===n.id;return n.isFab?i.jsxs("div",{className:"flex flex-col items-center justify-end h-full pb-3 px-1",children:[i.jsx("button",{onClick:()=>e("create"),className:"w-14 h-14 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 shadow-[0_8px_24px_rgba(139,92,246,0.4)] flex items-center justify-center hover:scale-105 active:scale-95 transition-transform -mt-7",children:i.jsx(l,{className:"w-6 h-6 text-white",strokeWidth:2.5})}),i.jsx("span",{className:"text-xs font-medium text-purple-600 mt-1",children:n.label})]},n.id):i.jsxs("button",{onClick:()=>e(n.id),className:"flex flex-col items-center justify-end h-full pb-3 min-w-[56px] flex-1",children:[i.jsx(l,{className:"w-6 h-6",strokeWidth:u?2.5:2,style:{color:u?"#9333ea":"#6b7280"}}),i.jsx("span",{className:"text-xs font-medium mt-2",style:{color:u?"#9333ea":"#6b7280"},children:n.label})]},n.id)})})})})}function UO({navigateTo:r}){return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100 pb-24",children:[i.jsx("div",{className:"sticky top-0 z-20 backdrop-blur-xl bg-white/10 border-b border-white/30",children:i.jsxs("div",{className:"max-w-md mx-auto px-4 py-4",children:[i.jsx("h1",{className:"text-[#9333ea] font-semibold",children:"Design System"}),i.jsx("p",{className:"text-[#555] mt-1",children:"Snag Liquid Glass UI"})]})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-8",children:[i.jsxs("section",{children:[i.jsx("h2",{className:"text-[#9333ea] mb-4 font-semibold",children:"Logo"}),i.jsx("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl p-6 border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center shadow-md",children:i.jsx(zn,{className:"text-white",size:32})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-semibold",children:"Box Logo"}),i.jsx("p",{className:"text-[#555] text-sm",children:"Primary app icon"})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white/20 backdrop-blur-xl border border-white/40 flex items-center justify-center",children:i.jsx(zn,{className:"text-purple-600",size:24})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-semibold",children:"Glass Variant"}),i.jsx("p",{className:"text-[#555] text-sm",children:"For light backgrounds"})]})]}),i.jsxs("div",{className:"flex items-center gap-4 bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl p-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white/20 backdrop-blur-xl border border-white/40 flex items-center justify-center",children:i.jsx(zn,{className:"text-white",size:24})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-white font-semibold",children:"On Purple"}),i.jsx("p",{className:"text-white/80 text-sm",children:"Splash & headers"})]})]})]})})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-[#9333ea] mb-4 font-semibold",children:"Typography  Manrope"}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl p-6 border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] space-y-5",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-[#9333ea] font-semibold",children:"Page Title / H1"}),i.jsx("p",{className:"text-[#555] text-sm mt-1",children:"Manrope Semibold 2024px, Purple 600 (#9333ea)"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block",children:"font-semibold text-[#9333ea]"})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-[#222] font-semibold",children:"Heading 2"}),i.jsx("p",{className:"text-[#555] text-sm mt-1",children:"Manrope Semibold 1820px"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block",children:"font-semibold text-[#222]"})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-[#222] font-semibold",children:"Heading 3"}),i.jsx("p",{className:"text-[#555] text-sm mt-1",children:"Manrope Semibold 1618px"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block",children:"font-semibold text-[#222]"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Body Medium"}),i.jsx("p",{className:"text-[#555] text-sm mt-1",children:"Manrope Medium 1416px"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block",children:"font-medium text-[#222]"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#555]",children:"Body Regular"}),i.jsx("p",{className:"text-[#555] text-sm mt-1",children:"Manrope Regular 1416px, for descriptions"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block",children:"text-[#555]"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#555] text-sm font-medium",children:"Caption / Label"}),i.jsx("p",{className:"text-[#555] text-sm mt-1",children:"Manrope Medium 1214px"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block",children:"text-sm font-medium"})]}),i.jsxs("div",{children:[i.jsx("button",{className:"bg-gradient-to-r from-purple-500 to-purple-600 text-white px-6 py-3 rounded-2xl font-semibold",children:"Button Text"}),i.jsx("p",{className:"text-[#555] text-sm mt-2",children:"Manrope Semibold/Bold 16px, centered"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block",children:"font-semibold"})]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-[#9333ea] mb-4 font-semibold",children:"Colors"}),i.jsx("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl p-6 border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-semibold mb-3",children:"Primary Purple"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-500 shadow-md"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Purple 500"}),i.jsx("code",{className:"text-xs text-[#555]",children:"#a855f7"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-600 shadow-md"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Purple 600"}),i.jsx("code",{className:"text-xs text-[#555]",children:"#9333ea"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-purple-500 to-purple-600 shadow-md"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Purple Gradient"}),i.jsx("code",{className:"text-xs text-[#555]",children:"from-purple-500 to-purple-600"})]})]})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-semibold mb-3",children:"Lavender Accents"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-50 border border-purple-200/40"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Purple 50"}),i.jsx("code",{className:"text-xs text-[#555]",children:"#faf5ff"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-100 border border-purple-200/40"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Purple 100"}),i.jsx("code",{className:"text-xs text-[#555]",children:"#f3e8ff"})]})]})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-semibold mb-3",children:"Text Colors"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#222] shadow-md"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Primary Text"}),i.jsx("code",{className:"text-xs text-[#555]",children:"#222222"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#555] shadow-md"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Secondary Text"}),i.jsx("code",{className:"text-xs text-[#555]",children:"#555555"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#888] shadow-md"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Muted Text"}),i.jsx("code",{className:"text-xs text-[#555]",children:"#888888"})]})]})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-semibold mb-3",children:"Glass Overlay Colors"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl backdrop-blur-xl bg-white/10 border border-white/30"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Glass 10%"}),i.jsx("code",{className:"text-xs text-[#555]",children:"bg-white/10 border-white/30"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl backdrop-blur-xl bg-white/20 border border-white/40"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Glass 20%"}),i.jsx("code",{className:"text-xs text-[#555]",children:"bg-white/20 border-white/40"})]})]})]})]})]})})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-[#9333ea] mb-4 font-semibold",children:"Buttons"}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl p-6 border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] space-y-4",children:[i.jsxs("div",{children:[i.jsx("button",{className:"w-full py-4 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] font-semibold",children:"Primary Button (Snag Now)"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block",children:"bg-gradient-to-r from-purple-500 to-purple-600"})]}),i.jsxs("div",{children:[i.jsx("button",{className:"w-full py-4 rounded-2xl backdrop-blur-xl bg-white/20 text-purple-700 border border-white/30 shadow-sm transition-transform active:scale-[0.98] font-semibold",children:"Secondary Button (Barter/Offer)"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block",children:"backdrop-blur-xl bg-white/20"})]}),i.jsxs("div",{children:[i.jsx("button",{className:"w-full py-4 rounded-2xl backdrop-blur-xl bg-white/10 text-[#555] border border-white/20 shadow-sm transition-transform active:scale-[0.98] font-medium",children:"Ghost Button (Cancel)"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block",children:"backdrop-blur-xl bg-white/10"})]}),i.jsxs("div",{className:"flex items-center justify-center gap-3",children:[i.jsx("button",{className:"p-3 rounded-full backdrop-blur-xl bg-white/20 border border-white/30 shadow-sm hover:bg-white/30 transition-colors",children:i.jsx(Uo,{className:"w-6 h-6 text-purple-600"})}),i.jsx("button",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 shadow-[0_8px_24px_rgba(139,92,246,0.4)] flex items-center justify-center transition-transform active:scale-95",children:i.jsx("span",{className:"text-white text-2xl",children:"+"})})]}),i.jsx("p",{className:"text-[#555] text-sm text-center",children:"Icon buttons & FAB"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-[#9333ea] mb-4 font-semibold",children:"Inputs & Fields"}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl p-6 border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Zo,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[#888]"}),i.jsx("input",{type:"text",placeholder:"Search items or descriptions",className:"w-full pl-12 pr-4 py-3 rounded-full backdrop-blur-xl bg-white/20 border border-white/30 shadow-sm placeholder:text-[#888] text-[#222] focus:outline-none focus:ring-2 focus:ring-purple-400/50"})]}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded inline-block",children:"rounded-full backdrop-blur-xl bg-white/20"}),i.jsx("input",{type:"text",placeholder:"Regular text input",className:"w-full px-4 py-3 rounded-2xl backdrop-blur-xl bg-white/20 border border-white/30 shadow-sm placeholder:text-[#888] text-[#222] focus:outline-none focus:ring-2 focus:ring-purple-400/50"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded inline-block",children:"rounded-2xl backdrop-blur-xl bg-white/20"}),i.jsx("textarea",{placeholder:"Description textarea",className:"w-full px-4 py-3 rounded-2xl backdrop-blur-xl bg-white/20 border border-white/30 shadow-sm placeholder:text-[#888] text-[#222] focus:outline-none focus:ring-2 focus:ring-purple-400/50 resize-none",rows:3})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-[#9333ea] mb-4 font-semibold",children:"Tags & Badges"}),i.jsx("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl p-6 border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium mb-2",children:"Category Tags"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("div",{className:"backdrop-blur-xl bg-purple-100/60 rounded-full px-3 py-1.5 border border-purple-200/60 flex items-center gap-1.5",children:[i.jsx(hm,{className:"w-4 h-4 text-purple-600"}),i.jsx("span",{className:"text-purple-700 text-sm font-medium",children:"Textbooks"})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-purple-100/60 rounded-full px-3 py-1.5 border border-purple-200/60 flex items-center gap-1.5",children:[i.jsx(Md,{className:"w-4 h-4 text-purple-600"}),i.jsx("span",{className:"text-purple-700 text-sm font-medium",children:"Furniture"})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-purple-100/60 rounded-full px-3 py-1.5 border border-purple-200/60 flex items-center gap-1.5",children:[i.jsx(fm,{className:"w-4 h-4 text-purple-600"}),i.jsx("span",{className:"text-purple-700 text-sm font-medium",children:"Apparel"})]})]}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block",children:"bg-purple-100/60 border-purple-200/60"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium mb-2",children:"Filter Chips (Active)"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-full px-3 py-1.5 shadow-lg font-medium text-sm",children:"Dorm"}),i.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-full px-3 py-1.5 shadow-lg font-medium text-sm",children:"Electronics"})]}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block",children:"bg-gradient-to-r from-purple-500 to-purple-600"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium mb-2",children:"Filter Chips (Inactive)"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("div",{className:"backdrop-blur-xl bg-white/20 text-[#555] rounded-full px-3 py-1.5 border border-white/30 font-medium text-sm",children:"Kitchen"}),i.jsx("div",{className:"backdrop-blur-xl bg-white/20 text-[#555] rounded-full px-3 py-1.5 border border-white/30 font-medium text-sm",children:"Seasonal"})]}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block",children:"backdrop-blur-xl bg-white/20"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium mb-2",children:"Status Badges"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs(Pr,{className:"backdrop-blur-xl bg-gradient-to-r from-purple-500 to-purple-600 text-white border-0 shadow-lg font-medium flex items-center gap-1.5",children:[i.jsx(Et,{className:"w-4 h-4"}),i.jsx("span",{children:"Barter"})]}),i.jsx(Pr,{className:"backdrop-blur-xl bg-blue-100/60 text-blue-700 border border-blue-200/60 font-medium",children:" .edu Verified"}),i.jsx(Pr,{className:"backdrop-blur-xl bg-green-100/60 text-green-700 border border-green-200/60 font-medium",children:"Active"})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium mb-2",children:"Credit Chips"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("div",{className:"backdrop-blur-xl bg-white/20 rounded-full px-3 py-1.5 border border-white/30 shadow-md flex items-center gap-1.5",children:[i.jsx(Kt,{className:"w-4 h-4 text-yellow-500"}),i.jsx("span",{className:"text-[#222] font-medium",children:"42"})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/20 rounded-full px-3 py-1.5 border border-white/30 shadow-md flex items-center gap-1.5",children:[i.jsx(Kt,{className:"w-4 h-4 text-yellow-500"}),i.jsx("span",{className:"text-[#222] font-medium",children:"15"})]})]})]})]})})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-[#9333ea] mb-4 font-semibold",children:"Cards"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] overflow-hidden",children:[i.jsxs("div",{className:"aspect-[4/3] bg-gradient-to-br from-purple-100 to-lavender-100 flex items-center justify-center relative",children:[i.jsx("span",{className:"text-purple-400 font-medium",children:"Image Placeholder"}),i.jsx("div",{className:"absolute top-3 right-3",children:i.jsxs("div",{className:"backdrop-blur-xl bg-white/20 rounded-full px-3 py-1.5 border border-white/30 shadow-md flex items-center gap-1.5",children:[i.jsx(Kt,{className:"w-4 h-4 text-yellow-500"}),i.jsx("span",{className:"text-[#222] font-medium",children:"15"})]})})]}),i.jsxs("div",{className:"p-4",children:[i.jsx("h3",{className:"text-[#222] font-semibold mb-1",children:"Marketplace Card"}),i.jsx("p",{className:"text-[#555] mb-3 text-sm",children:"Short description goes here"}),i.jsx("div",{className:"flex items-center gap-2 mb-3",children:i.jsxs("div",{className:"backdrop-blur-xl bg-purple-100/60 rounded-full px-3 py-1.5 border border-purple-200/60 flex items-center gap-1.5",children:[i.jsx(Md,{className:"w-3.5 h-3.5 text-purple-600"}),i.jsx("span",{className:"text-purple-700 text-xs font-medium",children:"Furniture"})]})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Wn,{className:"w-6 h-6",children:i.jsx(qn,{className:"bg-gradient-to-br from-purple-400 to-purple-500 text-white text-xs font-medium",children:"JD"})}),i.jsx("span",{className:"text-[#555] text-sm",children:"Seller Name"})]})]})]}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded inline-block",children:"backdrop-blur-xl bg-white/10 rounded-3xl"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-[#9333ea] mb-4 font-semibold",children:"Glass Effects"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl p-6 border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:[i.jsx("p",{className:"text-[#222] font-semibold mb-1",children:"Ultra Glass Panel (10%)"}),i.jsx("p",{className:"text-[#555] text-sm mb-2",children:"Main cards, feed items"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded",children:"backdrop-blur-xl bg-white/10 border-white/30"})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/20 rounded-3xl p-6 border border-white/40 shadow-sm",children:[i.jsx("p",{className:"text-[#222] font-semibold mb-1",children:"Medium Glass Panel (20%)"}),i.jsx("p",{className:"text-[#555] text-sm mb-2",children:"Inputs, secondary cards"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded",children:"backdrop-blur-xl bg-white/20 border-white/40"})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-gradient-to-r from-purple-100/60 to-lavender-100/60 rounded-3xl p-6 border border-purple-200/60",children:[i.jsx("p",{className:"text-[#222] font-semibold mb-1",children:"Gradient Glass Panel"}),i.jsx("p",{className:"text-[#555] text-sm mb-2",children:"Special highlights, mode toggles"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded",children:"from-purple-100/60 to-lavender-100/60"})]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-[#9333ea] mb-4 font-semibold",children:"Border Radius"}),i.jsx("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl p-6 border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-16 h-16 rounded-2xl backdrop-blur-xl bg-purple-500/20 border border-white/30"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"16px / rounded-2xl"}),i.jsx("p",{className:"text-[#555] text-sm",children:"Small cards, icons"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-16 h-16 rounded-3xl backdrop-blur-xl bg-purple-500/20 border border-white/30"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"24px / rounded-3xl"}),i.jsx("p",{className:"text-[#555] text-sm",children:"Main cards, modals"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-16 h-16 rounded-full backdrop-blur-xl bg-purple-500/20 border border-white/30"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Full / rounded-full"}),i.jsx("p",{className:"text-[#555] text-sm",children:"Pills, chips, FAB, avatars"})]})]})]})})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-[#9333ea] mb-4 font-semibold",children:"Blur Levels"}),i.jsx("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl p-6 border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:i.jsxs("div",{className:"space-y-3 relative",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-200 via-purple-300 to-lavender-200 rounded-3xl -z-10"}),i.jsx("div",{className:"backdrop-blur bg-white/20 rounded-2xl p-3 border border-white/30",children:i.jsx("p",{className:"text-[#222] font-medium",children:"backdrop-blur (4px)"})}),i.jsx("div",{className:"backdrop-blur-md bg-white/20 rounded-2xl p-3 border border-white/30",children:i.jsx("p",{className:"text-[#222] font-medium",children:"backdrop-blur-md (12px)"})}),i.jsx("div",{className:"backdrop-blur-xl bg-white/20 rounded-2xl p-3 border border-white/30",children:i.jsx("p",{className:"text-[#222] font-medium",children:"backdrop-blur-xl (1620px)  Primary"})}),i.jsx("div",{className:"backdrop-blur-2xl bg-white/20 rounded-2xl p-3 border border-white/30",children:i.jsx("p",{className:"text-[#222] font-medium",children:"backdrop-blur-2xl (24px)"})})]})})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-[#9333ea] mb-4 font-semibold",children:"Navigation"}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl p-6 border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:[i.jsx("p",{className:"text-[#222] font-medium mb-4",children:"Bottom Navigation Bar"}),i.jsx("div",{className:"backdrop-blur-xl bg-white/10 rounded-2xl border border-white/30 shadow-lg p-4",children:i.jsxs("div",{className:"flex items-center justify-around",children:[i.jsxs("div",{className:"flex flex-col items-center gap-1 text-purple-600",children:[i.jsx(Uo,{className:"w-6 h-6",strokeWidth:2.5}),i.jsx("span",{className:"text-[10px] font-medium",children:"Home"})]}),i.jsxs("div",{className:"flex flex-col items-center gap-1 text-gray-500",children:[i.jsx(rl,{className:"w-6 h-6"}),i.jsx("span",{className:"text-[10px] font-medium",children:"Events"})]}),i.jsx("div",{className:"relative -mt-4 w-14 h-14 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 shadow-[0_8px_24px_rgba(139,92,246,0.4)] flex items-center justify-center",children:i.jsx("span",{className:"text-white text-2xl font-semibold",children:"+"})}),i.jsxs("div",{className:"flex flex-col items-center gap-1 text-gray-500",children:[i.jsx(Wr,{className:"w-6 h-6"}),i.jsx("span",{className:"text-[10px] font-medium",children:"Profile"})]}),i.jsxs("div",{className:"flex flex-col items-center gap-1 text-gray-500",children:[i.jsx(ys,{className:"w-6 h-6"}),i.jsx("span",{className:"text-[10px] font-medium",children:"Settings"})]})]})}),i.jsx("p",{className:"text-[#555] text-sm mt-3",children:"Active state: Purple 600 (#9333ea), strokeWidth 2.5"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-[#9333ea] mb-4 font-semibold",children:"Icons"}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl p-6 border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:[i.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center",children:i.jsx(zn,{className:"text-white",size:24})}),i.jsx("span",{className:"text-[#555] text-xs text-center",children:"Box Logo"})]}),i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl backdrop-blur-xl bg-white/20 border border-white/30 flex items-center justify-center",children:i.jsx(Et,{className:"w-6 h-6 text-purple-600"})}),i.jsx("span",{className:"text-[#555] text-xs text-center",children:"Barter"})]}),i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl backdrop-blur-xl bg-white/20 border border-white/30 flex items-center justify-center",children:i.jsx(Uo,{className:"w-6 h-6 text-purple-600"})}),i.jsx("span",{className:"text-[#555] text-xs text-center",children:"Home"})]}),i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl backdrop-blur-xl bg-white/20 border border-white/30 flex items-center justify-center",children:i.jsx(rl,{className:"w-6 h-6 text-purple-600"})}),i.jsx("span",{className:"text-[#555] text-xs text-center",children:"Notifications"})]}),i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl backdrop-blur-xl bg-purple-100/60 border border-purple-200/60 flex items-center justify-center",children:i.jsx(hm,{className:"w-6 h-6 text-purple-600"})}),i.jsx("span",{className:"text-[#555] text-xs text-center",children:"Textbooks"})]}),i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl backdrop-blur-xl bg-purple-100/60 border border-purple-200/60 flex items-center justify-center",children:i.jsx(Md,{className:"w-6 h-6 text-purple-600"})}),i.jsx("span",{className:"text-[#555] text-xs text-center",children:"Furniture"})]}),i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl backdrop-blur-xl bg-purple-100/60 border border-purple-200/60 flex items-center justify-center",children:i.jsx(fm,{className:"w-6 h-6 text-purple-600"})}),i.jsx("span",{className:"text-[#555] text-xs text-center",children:"Apparel"})]}),i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl backdrop-blur-xl bg-purple-100/60 border border-purple-200/60 flex items-center justify-center",children:i.jsx(bw,{className:"w-6 h-6 text-purple-600"})}),i.jsx("span",{className:"text-[#555] text-xs text-center",children:"Lab/Tech"})]}),i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl backdrop-blur-xl bg-purple-100/60 border border-purple-200/60 flex items-center justify-center",children:i.jsx(jw,{className:"w-6 h-6 text-purple-600"})}),i.jsx("span",{className:"text-[#555] text-xs text-center",children:"Electronics"})]}),i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl backdrop-blur-xl bg-purple-100/60 border border-purple-200/60 flex items-center justify-center",children:i.jsx(Rw,{className:"w-6 h-6 text-purple-600"})}),i.jsx("span",{className:"text-[#555] text-xs text-center",children:"Kitchen"})]})]}),i.jsx("p",{className:"text-[#555] text-sm mt-4",children:"Lucide React icons, 20-24px standard size"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-[#9333ea] mb-4 font-semibold",children:"Interaction States"}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl p-6 border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] space-y-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium mb-2",children:"Focus State"}),i.jsx("input",{type:"text",placeholder:"Focus ring example",className:"w-full px-4 py-3 rounded-2xl backdrop-blur-xl bg-white/20 border border-white/30 placeholder:text-[#888] text-[#222] focus:outline-none focus:ring-2 focus:ring-purple-400/50"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block",children:"focus:ring-2 focus:ring-purple-400/50"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium mb-2",children:"Active State"}),i.jsx("button",{className:"px-6 py-3 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-lg transition-transform active:scale-[0.98] font-semibold",children:"Press Me"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block ml-3",children:"active:scale-[0.98]"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium mb-2",children:"Hover State"}),i.jsx("button",{className:"px-6 py-3 rounded-2xl backdrop-blur-xl bg-white/20 text-purple-700 border border-white/30 transition-all hover:bg-white/30 font-medium",children:"Hover Me"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block ml-3",children:"hover:bg-white/30"})]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-[#9333ea] mb-4 font-semibold",children:"Shadows"}),i.jsx("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl p-6 border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-2xl p-4 border border-white/30 shadow-sm",children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Subtle Shadow"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-1 inline-block",children:"shadow-sm"})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-2xl p-4 border border-white/30 shadow-md",children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Medium Shadow"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-1 inline-block",children:"shadow-md"})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-2xl p-4 border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Purple Tinted Shadow"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-1 inline-block",children:"shadow-[0_8px_24px_rgba(139,92,246,0.12)]"})]}),i.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 rounded-2xl p-4 shadow-[0_8px_24px_rgba(139,92,246,0.4)]",children:[i.jsx("p",{className:"text-white font-medium",children:"Purple Glow Shadow"}),i.jsx("code",{className:"text-xs text-white/80 bg-white/20 px-2 py-1 rounded mt-1 inline-block",children:"shadow-[0_8px_24px_rgba(139,92,246,0.4)]"})]})]})})]})]})]})}function BO({navigateTo:r}){const[e,t]=_.useState(!0),[n,o]=_.useState(!0),[l,u]=_.useState(!0),[h,p]=_.useState(!1);return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100 pb-24",children:[i.jsx("div",{className:"sticky top-0 z-20 backdrop-blur-xl bg-white/10 border-b border-white/30",children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>r("settings"),className:"p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(bt,{className:"w-6 h-6 text-[#222]"})}),i.jsx("h2",{className:"text-[#9333ea] font-semibold text-xl",children:"Privacy Settings"})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] p-4 space-y-4",children:[i.jsx(Pd,{icon:i.jsx(Ho,{className:"w-5 h-5 text-purple-600"}),title:"Profile Visibility",description:"Allow other students to view your profile",value:e,onChange:t}),i.jsx("div",{className:"border-t border-purple-100/40"}),i.jsx(Pd,{icon:i.jsx(Wr,{className:"w-5 h-5 text-purple-600"}),title:"Location Sharing",description:"Show your campus location in listings",value:n,onChange:o}),i.jsx("div",{className:"border-t border-purple-100/40"}),i.jsx(Pd,{icon:i.jsx(VS,{className:"w-5 h-5 text-purple-600"}),title:"Allow Messages",description:"Let others contact you about listings",value:l,onChange:u}),i.jsx("div",{className:"border-t border-purple-100/40"}),i.jsx(Pd,{icon:i.jsx(Rr,{className:"w-5 h-5 text-purple-600"}),title:"Active Status",description:"Show when you're online",value:h,onChange:p})]}),i.jsx("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] p-4",children:i.jsx("p",{className:"text-[#666] text-sm leading-relaxed",children:"These settings help you control who can see your information and how others can interact with you on Snag."})})]})]})}function Pd({icon:r,title:e,description:t,value:n,onChange:o}){return i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center flex-shrink-0 mt-1",children:r}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-[#222] font-medium",children:e}),i.jsx("p",{className:"text-[#666] text-sm mt-1",children:t})]}),i.jsx(Nh,{checked:n,onCheckedChange:o,className:"mt-1"})]})}function zO({navigateTo:r}){const[e,t]=_.useState([{id:"1",name:"John Doe",username:"@johndoe",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=John",blockedDate:"2 weeks ago"}]),[n,o]=_.useState(""),l=h=>{t(p=>p.filter(m=>m.id!==h))},u=e.filter(h=>h.name.toLowerCase().includes(n.toLowerCase())||h.username.toLowerCase().includes(n.toLowerCase()));return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100 pb-24",children:[i.jsx("div",{className:"sticky top-0 z-20 backdrop-blur-xl bg-white/10 border-b border-white/30",children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>r("settings"),className:"p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(bt,{className:"w-6 h-6 text-[#222]"})}),i.jsx("h2",{className:"text-[#9333ea] font-semibold text-xl",children:"Blocked Users"})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Zo,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[#999]"}),i.jsx("input",{type:"text",placeholder:"Search blocked users...",value:n,onChange:h=>o(h.target.value),className:"w-full backdrop-blur-xl bg-white/10 border border-white/30 rounded-full pl-12 pr-4 py-3 text-[#222] placeholder:text-[#999] focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),u.length>0?i.jsx("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] overflow-hidden",children:u.map((h,p)=>i.jsxs("div",{className:`p-4 flex items-center gap-3 ${p!==u.length-1?"border-b border-purple-100/40":""}`,children:[i.jsx("img",{src:h.avatar,alt:h.name,className:"w-12 h-12 rounded-full bg-purple-100"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-[#222] font-medium",children:h.name}),i.jsx("p",{className:"text-[#666] text-sm",children:h.username}),i.jsxs("p",{className:"text-[#999] text-xs mt-1",children:["Blocked ",h.blockedDate]})]}),i.jsx("button",{onClick:()=>l(h.id),className:"px-4 py-2 rounded-full bg-purple-600 text-white hover:bg-purple-700 transition-colors text-sm",children:"Unblock"})]},h.id))}):i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] p-8 text-center",children:[i.jsx(gk,{className:"w-12 h-12 text-[#999] mx-auto mb-3"}),i.jsx("h3",{className:"text-[#222] font-medium mb-2",children:"No Blocked Users"}),i.jsx("p",{className:"text-[#666] text-sm",children:n?"No users match your search":"You haven't blocked anyone yet"})]})]})]})}function HO({navigateTo:r}){const e=[{icon:i.jsx(Wr,{className:"w-5 h-5 text-purple-600"}),title:"Meet in Public Places",description:"Always meet in well-lit, public campus locations. Use designated meeting spots like the Student Union or Library entrance."},{icon:i.jsx(Rr,{className:"w-5 h-5 text-purple-600"}),title:"Bring a Friend",description:"Consider bringing a friend to the meetup, especially for high-value items or first-time trades."},{icon:i.jsx(Ho,{className:"w-5 h-5 text-purple-600"}),title:"Inspect Before You Buy",description:"Always inspect items carefully before completing a transaction. Check for any damage or issues."},{icon:i.jsx(Hn,{className:"w-5 h-5 text-purple-600"}),title:"Trust Your Instincts",description:"If something feels wrong or too good to be true, trust your gut. You can always cancel a meeting."},{icon:i.jsx(En,{className:"w-5 h-5 text-purple-600"}),title:"Verify Seller Identity",description:"Check the seller's trust badges and verification status. Users with verified badges have confirmed their student status."},{icon:i.jsx(Uv,{className:"w-5 h-5 text-purple-600"}),title:"Report Suspicious Activity",description:"If you encounter suspicious behavior or scams, report it immediately to help keep the community safe."}];return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100 pb-24",children:[i.jsx("div",{className:"sticky top-0 z-20 backdrop-blur-xl bg-white/10 border-b border-white/30",children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>r("settings"),className:"p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(bt,{className:"w-6 h-6 text-[#222]"})}),i.jsx("h2",{className:"text-[#9333ea] font-semibold text-xl",children:"Safety Tips"})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[i.jsxs("div",{className:"backdrop-blur-xl bg-gradient-to-br from-purple-500/10 to-purple-600/10 rounded-3xl border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] p-6",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center mb-4",children:i.jsx(Hn,{className:"w-6 h-6 text-white"})}),i.jsx("h3",{className:"text-[#222] font-semibold text-lg mb-2",children:"Stay Safe on Snag"}),i.jsx("p",{className:"text-[#666]",children:"Follow these guidelines to ensure safe and successful transactions with fellow students on campus."})]}),i.jsx("div",{className:"space-y-4",children:e.map((t,n)=>i.jsx("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center flex-shrink-0",children:t.icon}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-[#222] font-medium mb-1",children:t.title}),i.jsx("p",{className:"text-[#666] text-sm leading-relaxed",children:t.description})]})]})},n))}),i.jsx("div",{className:"backdrop-blur-xl bg-red-50/50 border border-red-200/50 rounded-3xl p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(Uv,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-red-900 font-medium mb-1",children:"Emergency Contact"}),i.jsx("p",{className:"text-red-700 text-sm",children:"If you feel unsafe or witness illegal activity, contact Campus Security immediately at (555) 123-4567"})]})]})})]})]})}const hw=["Furniture","Kitchen Supplies","Dorm Decor","Electronics","Clothing","Textbooks","Move-Out Essentials","Cleaning Supplies","Organization","International Student Essentials","Seasonal Items","Halloween","Winter Gear","Plants","Fitness","Gaming","Laundry","Lifestyle"];function WO({navigateTo:r}){const{darkMode:e}=St(),[t,n]=_.useState({name:"Ryan Mehta",username:"@ryanmehta",email:"ryan.mehta@university.edu",bio:"Computer Science major | Love vintage fashion and tech gadgets",campus:"Main Campus",graduationYear:"2025"}),[o,l]=_.useState(["Electronics","Clothing","Textbooks"]),[u,h]=_.useState(""),[p,m]=_.useState([]),[v,x]=_.useState(""),[w,k]=_.useState(""),[R,E]=_.useState(!1),T=W=>{o.includes(W)?l(o.filter(X=>X!==W)):l([...o,W])},O=()=>{const W=u.trim();W&&!p.includes(W)&&!hw.includes(W)&&(m([...p,W]),l([...o,W]),h(""))},B=W=>{m(p.filter(X=>X!==W)),l(o.filter(X=>X!==W))},$=[...hw,...p],F=()=>{if(E(!0),!t.name.trim()){x("Please enter your full name");return}if(!t.bio.trim()||t.bio.trim().length<10){k("Please add at least one sentence");return}nt.success("Profile updated successfully!"),setTimeout(()=>{r("profile")},500)};return i.jsxs("div",{className:`min-h-screen ${e?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"} pb-24`,children:[i.jsx("div",{className:`sticky top-0 z-20 backdrop-blur-xl ${e?"bg-black/70 border-white/10":"bg-white/10 border-white/30"} border-b`,children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>r("settings"),className:`p-2 rounded-full ${e?"hover:bg-white/10":"hover:bg-white/50"} transition-colors`,children:i.jsx(bt,{className:`w-6 h-6 ${e?"text-white":"text-[#222]"}`})}),i.jsx("h2",{className:`${e?"text-white":"text-[#9333ea]"} font-semibold text-xl flex-1`,children:"Edit Profile"}),i.jsxs("button",{onClick:F,className:"px-4 py-2 rounded-full bg-purple-600 text-white hover:bg-purple-700 transition-colors flex items-center gap-2",children:[i.jsx(Tw,{className:"w-4 h-4"}),"Save"]})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[i.jsx("div",{className:`backdrop-blur-xl ${e?"bg-white/10 border-white/20":"bg-white/10 border-white/30"} rounded-3xl border shadow-[0_8px_24px_rgba(139,92,246,0.12)] p-6`,children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:"https://api.dicebear.com/7.x/avataaars/svg?seed=Ryan",alt:"Profile",className:"w-24 h-24 rounded-full bg-purple-100"}),i.jsx("button",{className:"absolute bottom-0 right-0 w-8 h-8 rounded-full bg-purple-600 text-white flex items-center justify-center hover:bg-purple-700 transition-colors",children:i.jsx(ww,{className:"w-4 h-4"})})]}),i.jsx("p",{className:`${e?"text-gray-400":"text-[#666]"} text-sm mt-3`,children:"Click to change photo"})]})}),i.jsxs("div",{className:`backdrop-blur-xl ${e?"bg-white/10 border-white/20":"bg-white/10 border-white/30"} rounded-3xl border shadow-[0_8px_24px_rgba(139,92,246,0.12)] p-4 space-y-4`,children:[i.jsx(xc,{label:"Full Name",value:t.name,onChange:W=>{n({...t,name:W}),x("")},darkMode:e,error:R?v:""}),i.jsx("div",{className:`border-t ${e?"border-white/20":"border-purple-100/40"}`}),i.jsx(xc,{label:"Username",value:t.username,onChange:W=>n({...t,username:W}),darkMode:e}),i.jsx("div",{className:`border-t ${e?"border-white/20":"border-purple-100/40"}`}),i.jsx(xc,{label:"Email",value:t.email,onChange:W=>n({...t,email:W}),type:"email",darkMode:e}),i.jsx("div",{className:`border-t ${e?"border-white/20":"border-purple-100/40"}`}),i.jsx(qO,{label:"Bio",value:t.bio,onChange:W=>{n({...t,bio:W}),k("")},darkMode:e,error:R?w:""})]}),i.jsxs("div",{className:`backdrop-blur-xl ${e?"bg-white/10 border-white/20":"bg-white/10 border-white/30"} rounded-3xl border shadow-[0_8px_24px_rgba(139,92,246,0.12)] p-4 space-y-4`,children:[i.jsx(xc,{label:"Campus",value:t.campus,onChange:W=>n({...t,campus:W}),darkMode:e}),i.jsx("div",{className:`border-t ${e?"border-white/20":"border-purple-100/40"}`}),i.jsx(xc,{label:"Graduation Year",value:t.graduationYear,onChange:W=>n({...t,graduationYear:W}),darkMode:e})]}),i.jsxs("div",{className:`backdrop-blur-xl ${e?"bg-white/10 border-white/20":"bg-white/10 border-white/30"} rounded-3xl border shadow-[0_8px_24px_rgba(139,92,246,0.12)] p-4`,children:[i.jsx("label",{className:`${e?"text-gray-400":"text-[#666]"} text-sm block mb-4`,children:"Your Interests"}),i.jsxs("div",{className:"flex gap-2 mb-4",children:[i.jsx("input",{type:"text",placeholder:"Add custom tag",value:u,onChange:W=>h(W.target.value),onKeyPress:W=>{W.key==="Enter"&&(W.preventDefault(),O())},className:`flex-1 ${e?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"bg-white/50 border-purple-100/50 text-[#222]"} border rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500`}),i.jsx("button",{onClick:O,disabled:!u.trim(),className:"px-4 py-2 rounded-xl bg-purple-600 text-white hover:bg-purple-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center gap-2",children:i.jsx(Zs,{className:"w-4 h-4"})})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:$.map(W=>{const X=o.includes(W),I=p.includes(W);return i.jsxs("button",{onClick:()=>T(W),className:`relative px-3 py-1.5 rounded-full transition-all text-sm ${X?"bg-purple-600 text-white border-purple-600":e?"bg-white/5 text-white/80 border-white/10 hover:bg-white/10 hover:border-white/20":"bg-white/60 text-gray-700 border-purple-200/50 hover:bg-white/80 hover:border-purple-300"} border ${I?"pr-7":""}`,children:[W,I&&i.jsx("button",{onClick:S=>{S.stopPropagation(),B(W)},className:"absolute right-1.5 top-1/2 -translate-y-1/2",children:i.jsx(Sn,{className:"w-3 h-3"})})]},W)})})]})]})]})}function xc({label:r,value:e,onChange:t,type:n="text",darkMode:o,error:l}){return i.jsxs("div",{children:[i.jsx("label",{className:`${o?"text-gray-400":"text-[#666]"} text-sm block mb-2`,children:r}),i.jsx("input",{type:n,value:e,onChange:u=>t(u.target.value),className:`w-full ${o?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"bg-white/50 border-purple-100/50 text-[#222]"} ${l?"border-2 border-red-500":"border"} rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500`}),l&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:l})]})}function qO({label:r,value:e,onChange:t,darkMode:n,error:o}){return i.jsxs("div",{children:[i.jsx("label",{className:`${n?"text-gray-400":"text-[#666]"} text-sm block mb-2`,children:r}),i.jsx("textarea",{value:e,onChange:l=>t(l.target.value),rows:3,className:`w-full ${n?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"bg-white/50 border-purple-100/50 text-[#222]"} ${o?"border-2 border-red-500":"border"} rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none`}),o&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:o})]})}function GO({navigateTo:r}){const[e,t]=_.useState(""),[n,o]=_.useState(""),[l,u]=_.useState(""),[h,p]=_.useState(!1),[m,v]=_.useState(!1),[x,w]=_.useState(!1),k=()=>{if(!e||!n||!l){nt.error("Please fill in all fields");return}if(n!==l){nt.error("New passwords do not match");return}if(n.length<8){nt.error("Password must be at least 8 characters");return}nt.success("Password changed successfully!"),setTimeout(()=>{r("settings")},500)};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100 pb-24",children:[i.jsx("div",{className:"sticky top-0 z-20 backdrop-blur-xl bg-white/10 border-b border-white/30",children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>r("settings"),className:"p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(bt,{className:"w-6 h-6 text-[#222]"})}),i.jsx("h2",{className:"text-[#9333ea] font-semibold text-xl flex-1",children:"Change Password"}),i.jsxs("button",{onClick:k,className:"px-4 py-2 rounded-full bg-purple-600 text-white hover:bg-purple-700 transition-colors flex items-center gap-2",children:[i.jsx(Tw,{className:"w-4 h-4"}),"Save"]})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[i.jsx("div",{className:"backdrop-blur-xl bg-purple-50/50 border border-purple-200/50 rounded-3xl p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(PS,{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-purple-900 font-medium mb-1",children:"Password Requirements"}),i.jsx("p",{className:"text-purple-700 text-sm",children:"Your password must be at least 8 characters long and include a mix of letters, numbers, and symbols."})]})]})}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] p-4 space-y-4",children:[i.jsx(dm,{label:"Current Password",value:e,onChange:t,show:h,onToggleShow:()=>p(!h)}),i.jsx("div",{className:"border-t border-purple-100/40"}),i.jsx(dm,{label:"New Password",value:n,onChange:o,show:m,onToggleShow:()=>v(!m)}),i.jsx("div",{className:"border-t border-purple-100/40"}),i.jsx(dm,{label:"Confirm New Password",value:l,onChange:u,show:x,onToggleShow:()=>w(!x)})]}),i.jsx("div",{className:"text-center",children:i.jsx("button",{className:"text-purple-600 hover:text-purple-700 text-sm",children:"Forgot your current password?"})})]})]})}function dm({label:r,value:e,onChange:t,show:n,onToggleShow:o}){return i.jsxs("div",{children:[i.jsx("label",{className:"text-[#666] text-sm block mb-2",children:r}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:n?"text":"password",value:e,onChange:l=>t(l.target.value),className:"w-full bg-white/50 border border-purple-100/50 rounded-xl px-4 py-2 pr-12 text-[#222] focus:outline-none focus:ring-2 focus:ring-purple-500"}),i.jsx("button",{type:"button",onClick:o,className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#999] hover:text-[#666] transition-colors",children:n?i.jsx(Yd,{className:"w-5 h-5"}):i.jsx(Ho,{className:"w-5 h-5"})})]})]})}function KO({navigateTo:r}){const[e,t]=_.useState("en"),n=[{code:"en",name:"English",nativeName:"English",flag:""},{code:"ko",name:"Korean",nativeName:"",flag:""},{code:"es",name:"Spanish",nativeName:"Espaol",flag:""},{code:"zh",name:"Chinese",nativeName:"",flag:""},{code:"ja",name:"Japanese",nativeName:"",flag:""},{code:"fr",name:"French",nativeName:"Franais",flag:""},{code:"de",name:"German",nativeName:"Deutsch",flag:""},{code:"pt",name:"Portuguese",nativeName:"Portugus",flag:""},{code:"it",name:"Italian",nativeName:"Italiano",flag:""},{code:"ru",name:"Russian",nativeName:"",flag:""},{code:"ar",name:"Arabic",nativeName:"",flag:""},{code:"hi",name:"Hindi",nativeName:"",flag:""}],o=l=>{t(l);const u=n.find(h=>h.code===l);nt.success(`Language changed to ${u?.name}`)};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100 pb-24",children:[i.jsx("div",{className:"sticky top-0 z-20 backdrop-blur-xl bg-white/10 border-b border-white/30",children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>r("settings"),className:"p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(bt,{className:"w-6 h-6 text-[#222]"})}),i.jsx("h2",{className:"text-[#9333ea] font-semibold text-xl",children:"Language"})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[i.jsx("div",{className:"backdrop-blur-xl bg-purple-50/50 border border-purple-200/50 rounded-3xl p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(Ew,{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-purple-900 font-medium mb-1",children:"App Language"}),i.jsx("p",{className:"text-purple-700 text-sm",children:"Select your preferred language. The app will restart to apply changes."})]})]})}),i.jsx("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] overflow-hidden",children:n.map((l,u)=>i.jsxs("button",{onClick:()=>o(l.code),className:`w-full px-4 py-4 flex items-center gap-3 text-left hover:bg-white/50 transition-colors ${u!==n.length-1?"border-b border-purple-100/40":""}`,children:[i.jsx("span",{className:"text-2xl flex-shrink-0",children:l.flag}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-[#222] font-medium",children:l.name}),i.jsx("p",{className:"text-[#666] text-sm",children:l.nativeName})]}),e===l.code&&i.jsx("div",{className:"w-6 h-6 rounded-full bg-purple-600 flex items-center justify-center",children:i.jsx(_w,{className:"w-4 h-4 text-white"})})]},l.code))})]})]})}function YO({navigateTo:r}){const[e,t]=_.useState(""),[n,o]=_.useState(null),l=[{category:"Getting Started",question:"How do I create my first listing?",answer:'Tap the purple + button at the bottom of your screen, fill in the item details including photos, price, and description, then tap "Publish Listing". Your item will be visible to all students on your campus immediately.'},{category:"Getting Started",question:"What are Snag Credits and how do they work?",answer:"Snag Credits are our campus currency. You earn credits by selling items, and can spend them on purchases. 1 credit equals approximately $1. Credits help maintain fairness and trust within the community."},{category:"Barter Mode",question:"How does Barter Mode work?",answer:"Toggle Barter Mode on when creating a listing to trade items instead of using credits. Other students can offer their items in exchange, and you can accept, counter, or decline offers."},{category:"Barter Mode",question:"Can I use both credits and barter?",answer:"Each listing can be either credit-based or barter-based, but not both. However, you can have multiple listings using different payment methods."},{category:"Safety",question:"Where should I meet buyers/sellers?",answer:"Always meet in public, well-lit campus locations. We recommend designated meeting spots like the Student Union entrance, Library lobby, or Campus Center. Never meet in private locations."},{category:"Safety",question:"What are Trust Badges?",answer:"Trust Badges are earned through verified transactions, student verification, and positive community interactions. They help identify reliable sellers and buyers. Verified students have confirmed their .edu email address."},{category:"Account",question:"How do I verify my student status?",answer:"Go to Settings > Edit Profile and verify your university email address. You'll receive a verification link to confirm your student status and earn your first Trust Badge."},{category:"Account",question:"Can I block or report users?",answer:`Yes! Go to any user's profile, tap the three dots, and select "Block User" or "Report User". You can manage blocked users in Settings > Privacy & Safety > Blocked Users.`},{category:"Transactions",question:"What happens after I confirm a purchase?",answer:"After confirming, you'll schedule a meeting time and location with the seller. Credits are held in escrow and released after you confirm receiving the item in good condition."},{category:"Transactions",question:"Can I cancel a transaction?",answer:'You can cancel before meeting. Go to Notifications, find the meeting confirmation, and tap "Cancel Meeting". Credits will be returned immediately. Frequent cancellations may affect your Trust Score.'}],u=l.filter(p=>p.question.toLowerCase().includes(e.toLowerCase())||p.answer.toLowerCase().includes(e.toLowerCase())||p.category.toLowerCase().includes(e.toLowerCase())),h=[...new Set(l.map(p=>p.category))];return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100 pb-24",children:[i.jsx("div",{className:"sticky top-0 z-20 backdrop-blur-xl bg-white/10 border-b border-white/30",children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>r("settings"),className:"p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(bt,{className:"w-6 h-6 text-[#222]"})}),i.jsx("h2",{className:"text-[#9333ea] font-semibold text-xl",children:"Help Center"})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Zo,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[#999]"}),i.jsx("input",{type:"text",placeholder:"Search for help...",value:e,onChange:p=>t(p.target.value),className:"w-full backdrop-blur-xl bg-white/10 border border-white/30 rounded-full pl-12 pr-4 py-3 text-[#222] placeholder:text-[#999] focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),h.map(p=>{const m=u.filter(v=>v.category===p);return m.length===0?null:i.jsxs("div",{children:[i.jsx("h3",{className:"text-[#555] font-medium text-sm px-2 mb-3",children:p}),i.jsx("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] overflow-hidden",children:m.map((v,x)=>{const w=l.indexOf(v),k=n===w;return i.jsxs("div",{children:[i.jsxs("button",{onClick:()=>o(k?null:w),className:"w-full px-4 py-4 flex items-start gap-3 text-left hover:bg-white/50 transition-colors",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-[#222] font-medium",children:v.question}),k&&i.jsx("p",{className:"text-[#666] text-sm mt-2 leading-relaxed",children:v.answer})]}),i.jsx("div",{className:"flex-shrink-0 mt-1",children:k?i.jsx(Nw,{className:"w-5 h-5 text-[#999]"}):i.jsx(rg,{className:"w-5 h-5 text-[#999]"})})]}),x!==m.length-1&&i.jsx("div",{className:"border-b border-purple-100/40"})]},w)})})]},p)}),i.jsxs("div",{className:"backdrop-blur-xl bg-purple-50/50 border border-purple-200/50 rounded-3xl p-4 text-center",children:[i.jsx("h3",{className:"text-purple-900 font-medium mb-2",children:"Still need help?"}),i.jsx("p",{className:"text-purple-700 text-sm mb-4",children:"Can't find what you're looking for? Send us your feedback and we'll get back to you."}),i.jsx("button",{onClick:()=>r("send-feedback"),className:"w-full py-3 rounded-full bg-purple-600 text-white hover:bg-purple-700 transition-colors",children:"Contact Support"})]})]})]})}function QO({navigateTo:r}){const[e,t]=_.useState("general"),[n,o]=_.useState(""),[l,u]=_.useState(""),h=[{id:"general",label:"General Feedback",emoji:""},{id:"bug",label:"Report a Bug",emoji:""},{id:"feature",label:"Feature Request",emoji:""},{id:"safety",label:"Safety Concern",emoji:""}],p=()=>{if(!n||!l){nt.error("Please fill in all fields");return}nt.success("Feedback sent successfully! We'll get back to you soon."),setTimeout(()=>{r("settings")},500)};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100 pb-24",children:[i.jsx("div",{className:"sticky top-0 z-20 backdrop-blur-xl bg-white/10 border-b border-white/30",children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>r("settings"),className:"p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(bt,{className:"w-6 h-6 text-[#222]"})}),i.jsx("h2",{className:"text-[#9333ea] font-semibold text-xl flex-1",children:"Send Feedback"}),i.jsxs("button",{onClick:p,className:"px-4 py-2 rounded-full bg-purple-600 text-white hover:bg-purple-700 transition-colors flex items-center gap-2",children:[i.jsx(ek,{className:"w-4 h-4"}),"Send"]})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[i.jsx("div",{className:"backdrop-blur-xl bg-purple-50/50 border border-purple-200/50 rounded-3xl p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(Sw,{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-purple-900 font-medium mb-1",children:"We'd love to hear from you!"}),i.jsx("p",{className:"text-purple-700 text-sm",children:"Your feedback helps us make Snag better for everyone in the campus community."})]})]})}),i.jsxs("div",{children:[i.jsx("label",{className:"text-[#666] text-sm block mb-3 px-2",children:"Feedback Type"}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:h.map(m=>i.jsxs("button",{onClick:()=>t(m.id),className:`backdrop-blur-xl rounded-2xl border p-4 transition-all ${e===m.id?"bg-purple-100/50 border-purple-300 shadow-[0_4px_16px_rgba(139,92,246,0.2)]":"bg-white/10 border-white/30 hover:bg-white/20"}`,children:[i.jsx("div",{className:"text-2xl mb-2",children:m.emoji}),i.jsx("div",{className:"text-[#222] text-sm font-medium",children:m.label})]},m.id))})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] p-4",children:[i.jsx("label",{className:"text-[#666] text-sm block mb-2",children:"Subject"}),i.jsx("input",{type:"text",value:n,onChange:m=>o(m.target.value),placeholder:"Brief summary of your feedback",className:"w-full bg-white/50 border border-purple-100/50 rounded-xl px-4 py-2 text-[#222] placeholder:text-[#999] focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] p-4",children:[i.jsx("label",{className:"text-[#666] text-sm block mb-2",children:"Message"}),i.jsx("textarea",{value:l,onChange:m=>u(m.target.value),placeholder:"Tell us more about your feedback...",rows:8,className:"w-full bg-white/50 border border-purple-100/50 rounded-xl px-4 py-3 text-[#222] placeholder:text-[#999] focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none"}),i.jsxs("p",{className:"text-[#999] text-xs mt-2",children:[l.length,"/1000 characters"]})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] p-4",children:[i.jsx("label",{className:"text-[#666] text-sm block mb-2",children:"Your Email (Optional)"}),i.jsx("input",{type:"email",placeholder:"your.email@university.edu",className:"w-full bg-white/50 border border-purple-100/50 rounded-xl px-4 py-2 text-[#222] placeholder:text-[#999] focus:outline-none focus:ring-2 focus:ring-purple-500"}),i.jsx("p",{className:"text-[#999] text-xs mt-2",children:"We'll use this to follow up if needed"})]})]})]})}function XO({navigateTo:r,user:e}){const{darkMode:t}=St(),[n,o]=_.useState(null),[l,u]=_.useState([]),[h,p]=_.useState(!0);return _.useEffect(()=>{async function m(){try{if(!e?.id)return;const v=pr(It,"users",e.id),x=await su(v);if(x.exists()){const w={id:x.id,...x.data()};o(w);const k=w.myListings||[];if(k.length>0){const R=ix(wl(It,"listings"),E_("id","in",k.slice(0,10))),T=(await cx(R)).docs.map(O=>({id:O.id,...O.data()}));u(T)}}}catch(v){console.error("Error loading seller profile:",v)}finally{p(!1)}}m()},[e?.id]),h?i.jsx("div",{className:"p-6 text-center",children:"Loading..."}):n?(console.log(n),i.jsxs("div",{className:`min-h-screen ${t?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"}`,children:[i.jsx("div",{className:`sticky top-0 z-20 backdrop-blur-xl ${t?"bg-black/70":"bg-white/10"} border-b`,children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsx("button",{onClick:()=>r("home"),className:"p-2 rounded-full hover:bg-white/10 transition",children:i.jsx(bt,{className:"w-6 h-6"})})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[i.jsx("div",{className:`backdrop-blur-xl rounded-3xl p-6 border shadow-lg ${t?"bg-white/10":"bg-white/70"}`,children:i.jsxs("div",{className:"flex flex-col items-center text-center",children:[i.jsx(Wn,{className:"w-24 h-24 mb-4",children:i.jsx(qn,{className:"bg-purple-500 text-white text-3xl",children:n.name?.charAt(0)})}),i.jsx("h2",{className:"text-2xl font-semibold",children:n.name}),n.verified&&i.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center mt-1",children:i.jsx(En,{className:"w-4 h-4 text-white"})}),i.jsx("p",{className:"text-sm opacity-80 mt-3",children:n.bio||"Campus student selling items"}),i.jsxs("div",{className:"flex gap-6 mt-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1",children:[i.jsx(Cw,{className:"w-5 h-5 text-yellow-500",fill:"currentColor"}),i.jsx("span",{className:"text-xl font-semibold",children:n.trustScore})]}),i.jsx("p",{className:"text-xs opacity-70",children:"Trust"})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1",children:[i.jsx(Et,{className:"w-5 h-5 text-purple-500"}),i.jsx("span",{className:"text-xl font-semibold",children:n.trades})]}),i.jsx("p",{className:"text-xs opacity-70",children:"Trades"})]})]})]})}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold px-2 mb-3",children:["Active Listings (",l.length,")"]}),i.jsx("div",{className:"space-y-3",children:l.map(m=>i.jsxs("button",{onClick:()=>r("item-detail",{...m,seller:n}),className:"w-full backdrop-blur-xl border rounded-2xl p-3 flex gap-3 hover:shadow-lg",children:[i.jsx("div",{className:"w-20 h-20 rounded-xl overflow-hidden",children:i.jsx("img",{src:m.images[0],className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"text-left flex-1",children:[i.jsx("h4",{className:"font-semibold",children:m.title}),m.isTrade?i.jsxs(Pr,{className:"bg-purple-600 text-white flex gap-1 w-fit mt-1",children:[i.jsx(Et,{className:"w-3 h-3"}),"Trade"]}):i.jsxs("p",{className:"opacity-70",children:[m.credits," credits"]})]})]},m.id))})]})]})]})):i.jsx("div",{className:"p-6 text-center",children:"Seller not found."})}const fw=[{id:1,name:"Move-Out Sale 2025",description:"Graduating seniors selling everything!",activePosts:128,coverImage:"https://images.unsplash.com/photo-1580480055273-228ff5388ef8?w=400",isJoined:!0},{id:2,name:"Textbook Exchange",description:"Trade or sell textbooks for all majors",activePosts:94,coverImage:"https://images.unsplash.com/photo-1456513080510-7bf3a84b82f8?w=400",isJoined:!0},{id:3,name:"Tech & Electronics",description:"Laptops, phones, headphones, and more",activePosts:67,coverImage:"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400",isJoined:!1},{id:4,name:"Dorm Furniture",description:"Chairs, desks, shelves for dorm rooms",activePosts:52,coverImage:"https://images.unsplash.com/photo-1580480055273-228ff5388ef8?w=400",isJoined:!1},{id:5,name:"Winter Apparel",description:"Coats, boots, and cold weather gear",activePosts:41,coverImage:"https://images.unsplash.com/photo-1539533018447-63fcce2678e3?w=400",isJoined:!1},{id:6,name:"Free Stuff",description:"Items being given away for free!",activePosts:33,coverImage:"https://images.unsplash.com/photo-1532012197267-da84d127e765?w=400",isJoined:!1}];function JO({navigateTo:r,userCircles:e}){const{darkMode:t}=St(),[n,o]=_.useState(""),u=[...e,...fw].filter(x=>x.isJoined),h=fw,p=x=>{if(!n.trim())return x;const w=n.toLowerCase();return x.filter(k=>k.name.toLowerCase().includes(w)||k.description.toLowerCase().includes(w)||k.category&&k.category.toLowerCase().includes(w))},m=p(u),v=p(h);return i.jsxs("div",{className:`min-h-screen ${t?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"} pb-24`,children:[i.jsx("div",{className:`sticky top-0 z-20 backdrop-blur-xl ${t?"bg-black/70 border-white/10":"bg-white/10 border-white/30"} border-b`,children:i.jsxs("div",{className:"max-w-md mx-auto px-4 py-4",children:[i.jsx("h1",{className:`${t?"text-white":"text-[#9333ea]"} font-semibold text-xl mb-4`,children:"Circles"}),i.jsxs("div",{className:"relative",children:[i.jsx(Zo,{className:`absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 ${t?"text-gray-400":"text-[#888]"}`}),i.jsx("input",{type:"text",placeholder:"Search circles...",value:n,onChange:x=>o(x.target.value),className:`w-full pl-12 pr-4 py-3 rounded-full backdrop-blur-xl ${t?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"bg-white/80 border-white/60 text-[#222] placeholder:text-[#888]"} border shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-400/50`})]})]})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[i.jsxs("button",{onClick:()=>r("create-circle"),className:"w-full py-4 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] flex items-center justify-center gap-2 mx-auto",children:[i.jsx(Zs,{className:"w-5 h-5",strokeWidth:2.5}),i.jsx("span",{children:"Create a Circle"})]}),m.length>0&&i.jsxs("div",{children:[i.jsx("h2",{className:`${t?"text-white":"text-[#222]"} font-semibold text-lg mb-3 px-2`,children:"Your Circles"}),i.jsx("div",{className:"space-y-3",children:m.map(x=>i.jsx(pw,{circle:x,navigateTo:r,darkMode:t},x.id))})]}),i.jsxs("div",{children:[i.jsx("h2",{className:`${t?"text-white":"text-[#222]"} font-semibold text-lg mb-3 px-2`,children:"All Circles"}),v.length>0?i.jsx("div",{className:"space-y-3",children:v.map(x=>i.jsx(pw,{circle:x,navigateTo:r,darkMode:t},x.id))}):i.jsx("div",{className:`backdrop-blur-2xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-2xl border p-8 text-center`,children:i.jsx("p",{className:`${t?"text-gray-400":"text-[#888]"}`,children:"No circles match your search."})})]})]})]})}function pw({circle:r,navigateTo:e,darkMode:t}){return i.jsx("button",{onClick:()=>e("circle-feed",r),className:`w-full backdrop-blur-2xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-2xl border shadow-[0_4px_16px_rgba(139,92,246,0.08)] overflow-hidden hover:shadow-[0_8px_24px_rgba(139,92,246,0.15)] transition-all active:scale-[0.98]`,children:i.jsxs("div",{className:"flex items-center gap-3 p-3",children:[i.jsx("div",{className:"w-20 h-20 rounded-xl overflow-hidden flex-shrink-0",children:i.jsx("img",{src:r.coverImage,alt:r.name,className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"flex-1 text-left",children:[i.jsx("h3",{className:`${t?"text-white":"text-[#222]"} font-semibold text-sm mb-1`,children:r.name}),i.jsx("p",{className:`${t?"text-gray-400":"text-[#555]"} text-xs mb-2 line-clamp-1`,children:r.description}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Rr,{className:"w-3.5 h-3.5 text-purple-500"}),i.jsxs("span",{className:`${t?"text-gray-400":"text-[#999]"} text-xs`,children:[r.activePosts," active posts"]})]})]}),r.isJoined&&i.jsx("div",{className:`${t?"bg-purple-500/20":"bg-purple-100/60"} rounded-full px-3 py-1 border ${t?"border-purple-500/40":"border-purple-200/60"}`,children:i.jsx("span",{className:"text-purple-600 text-xs font-medium",children:"Following"})})]})})}const mw=[{id:1,title:"Calculus Textbook",description:"Like new condition",credits:15,images:["https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?w=400"],tags:["Textbooks"],seller:{name:"Sarah K.",verified:!0,trustScore:4.8,trades:24},isTrade:!1},{id:2,title:"Mini Fridge",description:"Perfect for dorm",credits:0,images:["https://images.unsplash.com/photo-1584568694244-14fbdf83bd30?w=400"],tags:["Dorm"],seller:{name:"Alex P.",verified:!0,trustScore:5,trades:18},isTrade:!0},{id:3,title:"Desk Chair",description:"Ergonomic, great condition",credits:25,images:["https://images.unsplash.com/photo-1580480055273-228ff5388ef8?w=400"],tags:["Furniture"],seller:{name:"Mike R.",verified:!0,trustScore:4.9,trades:31},isTrade:!1}];function ZO({navigateTo:r,circle:e,customTags:t=[],onAddCustomTag:n,onRemoveCustomTag:o}){const{darkMode:l}=St(),[u,h]=_.useState(e.isJoined||!1),[p,m]=_.useState("list"),[v,x]=_.useState([]),[w,k]=_.useState(""),E=[...["Textbooks","Furniture","Electronics","Dorm","Apparel"],...t],T=F=>{v.includes(F)?x(v.filter(W=>W!==F)):x([...v,F])},O=()=>{w.trim()&&n&&(n(w.trim()),k(""))},B=v.length>0?mw.filter(F=>F.tags.some(W=>v.includes(W))):mw,$=e.activePosts===0;return i.jsxs("div",{className:`min-h-screen ${l?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"} pb-8`,children:[i.jsx("div",{className:`sticky top-0 z-20 backdrop-blur-xl ${l?"bg-black/70 border-white/10":"bg-white/10 border-white/30"} border-b`,children:i.jsxs("div",{className:"max-w-md mx-auto px-4 py-4",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("button",{onClick:()=>r("circles-home"),className:`p-2 rounded-full ${l?"hover:bg-white/10":"hover:bg-white/50"} transition-colors`,children:i.jsx(bt,{className:`w-6 h-6 ${l?"text-white":"text-[#222]"}`})}),i.jsx("h2",{className:`${l?"text-white":"text-[#9333ea]"} font-semibold text-xl flex-1`,children:e.name}),i.jsx("button",{onClick:()=>r("circle-about",e),className:`p-2 rounded-full ${l?"hover:bg-white/10":"hover:bg-white/50"} transition-colors`,children:i.jsx(NS,{className:`w-6 h-6 ${l?"text-white":"text-[#222]"}`})})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("p",{className:`${l?"text-gray-400":"text-[#555]"} text-sm mb-3`,children:e.description}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:`${l?"text-gray-400":"text-[#999]"} text-sm`,children:[e.activePosts," posts"]}),i.jsx("button",{onClick:()=>h(!u),className:`px-4 py-2 rounded-full font-medium text-sm transition-all ${u?`${l?"bg-white/10 border-white/20 text-white":"bg-white/60 border-white/60 text-[#555]"} border`:"bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-md"}`,children:u?"Following":"Join Circle"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2 mb-3 no-scrollbar",children:[E.map(F=>i.jsx("button",{onClick:()=>T(F),className:`px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap transition-all ${v.includes(F)?"bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-md":`${l?"bg-white/10 border-white/20 text-gray-300":"bg-white/60 border-white/60 text-[#555]"} border`}`,children:F},F)),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",value:w,onChange:F=>k(F.target.value),placeholder:"Add new tag",className:`px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap transition-all ${l?"bg-white/10 border-white/20 text-gray-300":"bg-white/60 border-white/60 text-[#555]"} border`}),i.jsx("button",{onClick:O,className:`absolute right-2 top-1.5 p-1.5 rounded-full transition-colors ${l?"text-gray-400":"text-[#555]"}`,children:i.jsx(Et,{className:"w-3.5 h-3.5"})})]})]}),i.jsx("div",{className:"flex items-center justify-end gap-1",children:i.jsxs("div",{className:`flex items-center gap-1 ${l?"bg-white/10 border-white/20":"bg-white/60 border-white/60"} border rounded-full p-0.5`,children:[i.jsx("button",{onClick:()=>m("list"),className:`p-1.5 rounded-full transition-colors ${p==="list"?"bg-purple-600 text-white":`${l?"text-gray-400":"text-[#555]"}`}`,children:i.jsx(ig,{className:"w-3.5 h-3.5"})}),i.jsx("button",{onClick:()=>m("grid"),className:`p-1.5 rounded-full transition-colors ${p==="grid"?"bg-purple-600 text-white":`${l?"text-gray-400":"text-[#555]"}`}`,children:i.jsx(sg,{className:"w-3.5 h-3.5"})})]})})]})}),i.jsx("div",{className:"max-w-md mx-auto px-4 mt-4",children:$?i.jsx("div",{className:"flex flex-col items-center justify-center py-12 space-y-4",children:i.jsxs("div",{className:`backdrop-blur-xl ${l?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-8 border shadow-[0_8px_24px_rgba(139,92,246,0.12)] text-center space-y-4`,children:[i.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center",children:i.jsx("span",{className:"text-3xl",children:""})}),i.jsx("h3",{className:`${l?"text-white":"text-[#222]"} font-semibold text-lg`,children:"No posts yet"}),i.jsx("p",{className:`${l?"text-gray-400":"text-[#555]"} text-sm`,children:"Be the first to add a post to this circle!"}),i.jsx("button",{onClick:()=>r("create",{prefilledCircle:e}),className:"w-full py-3 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] flex items-center justify-center mx-auto",children:"Post in This Circle"})]})}):p==="list"?i.jsx("div",{className:"space-y-3",children:B.map(F=>i.jsx(eL,{item:F,navigateTo:r,darkMode:l,circleName:e.name},F.id))}):i.jsx("div",{className:"grid grid-cols-2 gap-3",children:B.map(F=>i.jsx(tL,{item:F,navigateTo:r,darkMode:l},F.id))})})]})}function eL({item:r,navigateTo:e,darkMode:t,circleName:n}){return i.jsxs("button",{onClick:()=>e("item-detail",{...r,circle:n}),className:`w-full backdrop-blur-2xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-2xl border shadow-[0_4px_16px_rgba(139,92,246,0.08)] overflow-hidden hover:shadow-[0_8px_24px_rgba(139,92,246,0.15)] transition-all active:scale-[0.98]`,children:[i.jsxs("div",{className:"relative h-40",children:[i.jsx("img",{src:r.images[0],alt:r.title,className:"w-full h-full object-cover"}),r.isTrade&&i.jsx("div",{className:"absolute top-2 left-2",children:i.jsxs(Pr,{className:"backdrop-blur-xl bg-gradient-to-r from-purple-500 to-purple-600 text-white border-0 shadow-lg font-medium flex items-center gap-1.5 py-1",children:[i.jsx(Et,{className:"w-3.5 h-3.5"}),i.jsx("span",{className:"text-xs",children:"Trade"})]})}),!r.isTrade&&i.jsx("div",{className:"absolute top-2 right-2",children:i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-white/20":"bg-white/90"} rounded-full px-2.5 py-1 border ${t?"border-white/30":"border-white/60"} shadow-md flex items-center gap-1`,children:[i.jsx(Kt,{className:"w-3.5 h-3.5 text-yellow-500"}),i.jsx("span",{className:`${t?"text-white":"text-[#222]"} text-sm font-medium`,children:r.credits})]})})]}),i.jsxs("div",{className:"p-3 text-left",children:[i.jsx("h3",{className:`${t?"text-white":"text-[#222]"} font-semibold text-sm mb-2 line-clamp-2`,children:r.title}),i.jsxs("button",{onClick:o=>{o.stopPropagation(),e("user-profile",r.seller)},className:"flex items-center gap-1.5 mb-2 hover:opacity-80 transition-opacity",children:[i.jsx(Wn,{className:"w-5 h-5",children:i.jsx(qn,{className:"bg-gradient-to-br from-purple-400 to-purple-500 text-white text-[10px] font-medium",children:r.seller.name.charAt(0)})}),i.jsx("span",{className:`${t?"text-gray-400":"text-[#555]"} text-xs`,children:r.seller.name}),r.seller.verified&&i.jsx("div",{className:"w-3.5 h-3.5 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center",children:i.jsx("span",{className:"text-white text-[8px]",children:""})}),i.jsxs("span",{className:`${t?"text-gray-500":"text-[#999]"} text-xs`,children:[" ",r.seller.trustScore," "]})]}),i.jsx("div",{className:`${t?"bg-purple-500/20 border-purple-500/40":"bg-purple-100/60 border-purple-200/60"} rounded-full px-2 py-0.5 border inline-flex items-center gap-1 w-fit`,children:i.jsxs("span",{className:"text-purple-600 text-[10px] font-medium",children:["Circle: ",n]})})]})]})}function tL({item:r,navigateTo:e,darkMode:t}){return i.jsxs("button",{onClick:()=>e("item-detail",r),className:`backdrop-blur-2xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-2xl border shadow-[0_4px_16px_rgba(139,92,246,0.08)] overflow-hidden hover:shadow-[0_8px_24px_rgba(139,92,246,0.15)] transition-all active:scale-[0.98]`,children:[i.jsxs("div",{className:"relative aspect-square",children:[i.jsx("img",{src:r.images[0],alt:r.title,className:"w-full h-full object-cover"}),r.isTrade&&i.jsx("div",{className:"absolute top-2 left-2",children:i.jsxs(Pr,{className:"backdrop-blur-xl bg-gradient-to-r from-purple-500 to-purple-600 text-white border-0 shadow-md font-medium flex items-center gap-1 py-0.5 px-2",children:[i.jsx(Et,{className:"w-3 h-3"}),i.jsx("span",{className:"text-[10px]",children:"Trade"})]})}),!r.isTrade&&i.jsx("div",{className:"absolute top-2 right-2",children:i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-white/20":"bg-white/90"} rounded-full px-2 py-0.5 border ${t?"border-white/30":"border-white/60"} shadow-md flex items-center gap-0.5`,children:[i.jsx(Kt,{className:"w-3 h-3 text-yellow-500"}),i.jsx("span",{className:`${t?"text-white":"text-[#222]"} text-xs font-medium`,children:r.credits})]})})]}),i.jsxs("div",{className:"p-2.5",children:[i.jsx("h3",{className:`${t?"text-white":"text-[#222]"} font-semibold text-xs mb-1 line-clamp-2`,children:r.title}),i.jsx("div",{className:"flex items-center gap-1",children:i.jsxs("span",{className:`${t?"text-gray-400":"text-[#999]"} text-[10px]`,children:[r.seller.trustScore," "]})})]})]})}const rL=[{id:1,title:"Calculus Textbook",image:"https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?w=400",credits:15},{id:2,title:"Mini Fridge",image:"https://images.unsplash.com/photo-1584568694244-14fbdf83bd30?w=400",credits:0},{id:3,title:"Desk Chair",image:"https://images.unsplash.com/photo-1580480055273-228ff5388ef8?w=400",credits:25}];function nL({navigateTo:r,circle:e}){const{darkMode:t}=St(),[n,o]=_.useState(e.isJoined||!1),l=["Textbooks","Furniture","Electronics","Dorm"];return i.jsxs("div",{className:`min-h-screen ${t?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"}`,children:[i.jsx("div",{className:`sticky top-0 z-20 backdrop-blur-xl ${t?"bg-black/70 border-white/10":"bg-white/10 border-white/30"} border-b`,children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>r("circle-feed",e),className:`p-2 rounded-full ${t?"hover:bg-white/10":"hover:bg-white/50"} transition-colors`,children:i.jsx(bt,{className:`w-6 h-6 ${t?"text-white":"text-[#222]"}`})}),i.jsx("h2",{className:`${t?"text-white":"text-[#9333ea]"} font-semibold text-xl`,children:"About Circle"})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-6 border shadow-[0_8px_24px_rgba(139,92,246,0.12)]`,children:[i.jsx("div",{className:"w-full h-32 rounded-2xl overflow-hidden mb-4",children:i.jsx("img",{src:e.coverImage,alt:e.name,className:"w-full h-full object-cover"})}),i.jsx("h1",{className:`${t?"text-white":"text-[#222]"} font-semibold text-2xl mb-2`,children:e.name}),i.jsx("p",{className:`${t?"text-gray-400":"text-[#555]"} text-sm mb-4`,children:e.description}),i.jsxs("div",{className:"flex items-center gap-1 mb-4",children:[i.jsx(Rr,{className:"w-4 h-4 text-purple-500"}),i.jsxs("span",{className:`${t?"text-gray-400":"text-[#999]"} text-sm`,children:[e.activePosts," active posts"]})]}),i.jsx("button",{onClick:()=>o(!n),className:`w-full py-3 rounded-2xl font-semibold transition-all flex items-center justify-center mx-auto ${n?`${t?"bg-white/10 border-white/20 text-white":"bg-white/60 border-white/60 text-[#555]"} border`:"bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-md"}`,children:n?"Following":"Join Circle"})]}),i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-6 border shadow-[0_8px_24px_rgba(139,92,246,0.12)]`,children:[i.jsx("h3",{className:`${t?"text-white":"text-[#222]"} font-semibold text-lg mb-3`,children:"Description"}),i.jsxs("p",{className:`${t?"text-gray-300":"text-[#555]"} text-sm leading-relaxed`,children:["This circle is a community space for students to buy, sell, and trade items related to ",e.name.toLowerCase(),". Join to discover great deals, connect with other students, and make sustainable choices by giving items a second life!"]})]}),i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-6 border shadow-[0_8px_24px_rgba(139,92,246,0.12)]`,children:[i.jsx("h3",{className:`${t?"text-white":"text-[#222]"} font-semibold text-lg mb-3`,children:"Guidelines"}),i.jsxs("ul",{className:`${t?"text-gray-300":"text-[#555]"} text-sm space-y-2`,children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-500 font-medium",children:""}),i.jsx("span",{children:"Only post items relevant to this circle's category"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-500 font-medium",children:""}),i.jsx("span",{children:"Be honest about item condition and include clear photos"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-500 font-medium",children:""}),i.jsx("span",{children:"Meet in safe, public campus locations"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-500 font-medium",children:""}),i.jsx("span",{children:"Respect other members and communicate promptly"})]})]})]}),i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-6 border shadow-[0_8px_24px_rgba(139,92,246,0.12)]`,children:[i.jsx("h3",{className:`${t?"text-white":"text-[#222]"} font-semibold text-lg mb-3`,children:"Popular Tags"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(u=>i.jsx("div",{className:`${t?"bg-purple-500/20 border-purple-500/40":"bg-purple-100/60 border-purple-200/60"} rounded-full px-3 py-1.5 border`,children:i.jsx("span",{className:"text-purple-600 text-xs font-medium",children:u})},u))})]}),i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-6 border shadow-[0_8px_24px_rgba(139,92,246,0.12)]`,children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(Iw,{className:"w-5 h-5 text-purple-500"}),i.jsx("h3",{className:`${t?"text-white":"text-[#222]"} font-semibold text-lg`,children:"Popular Listings"})]}),i.jsx("div",{className:"grid grid-cols-3 gap-3",children:rL.map(u=>i.jsxs("button",{onClick:()=>r("item-detail",u),className:`backdrop-blur-xl ${t?"bg-white/10 border-white/20":"bg-white/60 border-white/60"} rounded-xl border overflow-hidden hover:scale-105 transition-transform active:scale-95`,children:[i.jsx("div",{className:"aspect-square",children:i.jsx("img",{src:u.image,alt:u.title,className:"w-full h-full object-cover"})}),i.jsx("div",{className:"p-2",children:i.jsx("p",{className:`${t?"text-white":"text-[#222]"} text-xs font-medium line-clamp-1`,children:u.title})})]},u.id))})]})]})]})}const sL=["Move-Out","Textbooks","Clothing","Tech","Furniture","Kitchen","Sports","Art","Other"];function iL({navigateTo:r,onCreate:e}){const{darkMode:t}=St(),[n,o]=_.useState(""),[l,u]=_.useState(""),[h,p]=_.useState(""),[m,v]=_.useState(""),[x,w]=_.useState(""),[k,R]=_.useState(""),[E,T]=_.useState(""),[O,B]=_.useState(!1),$=()=>{if(B(!0),!n.trim()){w("Please enter a circle name");return}if(!l.trim()){R("Please enter a description");return}if(!h){T("Please select a category");return}const W={id:Date.now(),name:n,description:l,category:h,coverImage:m||"https://images.unsplash.com/photo-1557683316-973673baf926?w=400",activePosts:0,isJoined:!0};nt.success("Circle created successfully!"),e(W)},F=()=>{v("https://images.unsplash.com/photo-1557683316-973673baf926?w=400"),nt.success("Image added!")};return i.jsxs("div",{className:`min-h-screen ${t?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"}`,children:[i.jsx("div",{className:`sticky top-0 z-20 backdrop-blur-xl ${t?"bg-black/70 border-white/10":"bg-white/10 border-white/30"} border-b`,children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>r("circles-home"),className:`p-2 rounded-full ${t?"hover:bg-white/10":"hover:bg-white/50"} transition-colors`,children:i.jsx(bt,{className:`w-6 h-6 ${t?"text-white":"text-[#222]"}`})}),i.jsx("h2",{className:`${t?"text-white":"text-[#9333ea]"} font-semibold text-xl`,children:"Create a Circle"})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6 pb-32",children:[i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-6 border shadow-[0_8px_24px_rgba(139,92,246,0.12)]`,children:[i.jsx(Ar,{htmlFor:"circle-name",className:`${t?"text-white":"text-[#222]"} font-semibold mb-2 block`,children:"Circle Name"}),i.jsx(Ct,{id:"circle-name",value:n,onChange:W=>o(W.target.value),placeholder:"e.g., Move-Out Sale 2025",className:`backdrop-blur-xl ${t?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"bg-white/80 border-purple-200/60 text-[#222] placeholder:text-[#888]"} rounded-2xl focus-visible:ring-purple-400/50`}),O&&x&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:x})]}),i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-6 border shadow-[0_8px_24px_rgba(139,92,246,0.12)]`,children:[i.jsx(Ar,{htmlFor:"description",className:`${t?"text-white":"text-[#222]"} font-semibold mb-2 block`,children:"Description"}),i.jsx(Uc,{id:"description",value:l,onChange:W=>u(W.target.value),placeholder:"Describe what this circle is about...",className:`min-h-32 backdrop-blur-xl ${t?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"bg-white/80 border-purple-200/60 text-[#222] placeholder:text-[#888]"} rounded-2xl resize-none focus-visible:ring-purple-400/50`}),O&&k&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:k})]}),i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-6 border shadow-[0_8px_24px_rgba(139,92,246,0.12)]`,children:[i.jsx(Ar,{className:`${t?"text-white":"text-[#222]"} font-semibold mb-2 block`,children:"Category"}),i.jsxs(YN,{value:h,onValueChange:p,children:[i.jsx(XN,{className:`backdrop-blur-xl ${t?"bg-white/10 border-white/20 text-white":"bg-white/80 border-purple-200/60 text-[#222]"} rounded-2xl focus:ring-purple-400/50`,children:i.jsx(QN,{placeholder:"Select a category"})}),i.jsx(JN,{children:sL.map(W=>i.jsx(Ga,{value:W,children:W},W))})]}),O&&E&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:E})]}),i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-6 border shadow-[0_8px_24px_rgba(139,92,246,0.12)]`,children:[i.jsx(Ar,{className:`${t?"text-white":"text-[#222]"} font-semibold mb-3 block`,children:"Cover Image (Optional)"}),m?i.jsxs("div",{className:"relative w-full h-40 rounded-2xl overflow-hidden mb-3",children:[i.jsx("img",{src:m,alt:"Cover",className:"w-full h-full object-cover"}),i.jsx("button",{onClick:()=>v(""),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2 hover:bg-red-600 transition-colors",children:""})]}):i.jsxs("button",{onClick:F,className:`w-full h-40 ${t?"bg-white/10 border-white/20":"bg-white/80 border-purple-200/60"} rounded-2xl border-2 border-dashed hover:border-purple-500 transition-all flex flex-col items-center justify-center gap-3`,children:[i.jsx(Aw,{className:"w-8 h-8 text-purple-500"}),i.jsx("span",{className:"text-purple-600 font-medium",children:"Add Cover Image"})]})]})]}),i.jsx("div",{className:`fixed bottom-0 left-0 right-0 backdrop-blur-2xl ${t?"bg-black/70 border-white/10":"bg-white/70 border-white/40"} border-t p-4`,children:i.jsx("div",{className:"max-w-md mx-auto",children:i.jsx("button",{onClick:$,className:"w-full py-4 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] flex items-center justify-center mx-auto",children:"Create Circle"})})})]})}function oL({navigateTo:r}){const{darkMode:e}=St(),[t,n]=_.useState("light"),o=t==="dark";return i.jsxs("div",{className:`min-h-screen ${e?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"} pb-24`,children:[i.jsx("div",{className:`sticky top-0 z-20 backdrop-blur-xl ${e?"bg-black/70 border-white/10":"bg-white/10 border-white/30"} border-b`,children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:`${e?"text-white":"text-[#9333ea]"} font-semibold text-xl`,children:"UI Panel"}),i.jsx("p",{className:`${e?"text-gray-400":"text-[#888]"} text-sm mt-1`,children:"Complete Design System"})]}),i.jsxs("div",{className:`flex gap-2 p-1 rounded-full ${e?"bg-white/10":"bg-white/60"}`,children:[i.jsx("button",{onClick:()=>n("light"),className:`px-4 py-2 rounded-full text-sm transition-all ${t==="light"?"bg-purple-600 text-white shadow-lg":e?"text-gray-400 hover:text-white":"text-[#888] hover:text-[#222]"}`,children:"Light"}),i.jsx("button",{onClick:()=>n("dark"),className:`px-4 py-2 rounded-full text-sm transition-all ${t==="dark"?"bg-purple-600 text-white shadow-lg":e?"text-gray-400 hover:text-white":"text-[#888] hover:text-[#222]"}`,children:"Dark"})]})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-8",children:[i.jsx(bn,{title:"Input Fields",darkMode:e,children:i.jsx(wn,{isDark:o,children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mb-2`,children:"Standard Input"}),i.jsx(Ct,{placeholder:"Enter text...",className:`backdrop-blur-xl ${o?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"bg-white/80 border-purple-200/60 text-[#222] placeholder:text-[#888]"} rounded-2xl`})]}),i.jsxs("div",{children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mb-2`,children:"Title Input"}),i.jsx(Ct,{placeholder:"Item title...",className:`backdrop-blur-xl ${o?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"bg-white/80 border-purple-200/60 text-[#222] placeholder:text-[#888]"} rounded-2xl`})]}),i.jsxs("div",{children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mb-2`,children:"Description Field"}),i.jsx(Uc,{placeholder:"Describe your item...",className:`min-h-24 backdrop-blur-xl ${o?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"bg-white/80 border-purple-200/60 text-[#222] placeholder:text-[#888]"} rounded-2xl resize-none`})]}),i.jsxs("div",{children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mb-2`,children:"Time Input (HH:MM AM/PM)"}),i.jsx(Ct,{placeholder:"e.g., 2:30 PM",className:`backdrop-blur-xl ${o?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"bg-white/80 border-purple-200/60 text-[#222] placeholder:text-[#888]"} rounded-2xl`})]}),i.jsxs("div",{children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mb-2`,children:"Date Input (MM/DD/YYYY)"}),i.jsx(Ct,{placeholder:"e.g., 12/25/2024",className:`backdrop-blur-xl ${o?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"bg-white/80 border-purple-200/60 text-[#222] placeholder:text-[#888]"} rounded-2xl`})]}),i.jsxs("div",{children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mb-2`,children:"Search Bar (No Errors)"}),i.jsxs("div",{className:"relative",children:[i.jsx(Zo,{className:`absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 ${o?"text-gray-400":"text-[#888]"}`}),i.jsx("input",{type:"text",placeholder:"Search...",className:`w-full pl-12 pr-4 py-3 rounded-full backdrop-blur-xl ${o?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"bg-white/80 border-white/60 text-[#222] placeholder:text-[#888]"} border shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-400/50`})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mb-2`,children:"Error State - Red Border"}),i.jsx(Ct,{placeholder:"Enter text...",className:`backdrop-blur-xl ${o?"bg-white/10 text-white placeholder:text-gray-400":"bg-white/80 text-[#222] placeholder:text-[#888]"} rounded-2xl border-2 border-red-500`}),i.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Please enter a valid title."})]}),i.jsxs("div",{children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mb-2`,children:"Error State - Description"}),i.jsx(Uc,{placeholder:"Describe your item...",className:`min-h-24 backdrop-blur-xl ${o?"bg-white/10 text-white placeholder:text-gray-400":"bg-white/80 text-[#222] placeholder:text-[#888]"} rounded-2xl resize-none border-2 border-red-500`}),i.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Add at least 50 words."})]})]})})}),i.jsx(bn,{title:"Buttons (Center-Aligned)",darkMode:e,children:i.jsx(wn,{isDark:o,children:i.jsxs("div",{className:"space-y-3",children:[i.jsx("button",{className:"w-full py-4 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] mx-auto flex items-center justify-center",children:"Primary Button"}),i.jsx("button",{className:`w-full py-4 rounded-2xl backdrop-blur-xl ${o?"bg-white/10 border-white/20 text-white":"bg-white/80 border-purple-200/60 text-purple-700"} border shadow-sm transition-transform active:scale-[0.98] mx-auto flex items-center justify-center`,children:"Secondary Button"}),i.jsxs("button",{className:"w-full py-3 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] mx-auto flex items-center justify-center gap-2",children:[i.jsx(ys,{className:"w-5 h-5"}),"Snag Now"]}),i.jsxs("button",{className:"w-full py-3 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] mx-auto flex items-center justify-center gap-2",children:[i.jsx(Et,{className:"w-5 h-5"}),"Offer to Trade"]}),i.jsxs("button",{className:"w-full py-3 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] mx-auto flex items-center justify-center gap-2",children:[i.jsx(Zs,{className:"w-5 h-5",strokeWidth:2.5}),"Create Circle"]}),i.jsx("button",{className:"w-full py-3 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] mx-auto flex items-center justify-center",children:"Post in This Circle"}),i.jsx("button",{className:`w-full py-3 rounded-2xl backdrop-blur-xl ${o?"bg-white/10 border-white/20 text-white":"bg-white/80 border-purple-200/60 text-purple-700"} border shadow-sm transition-transform active:scale-[0.98] mx-auto flex items-center justify-center`,children:"View Full Listing"}),i.jsx("button",{className:"w-full py-3 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] mx-auto flex items-center justify-center",children:"Got It"}),i.jsx("button",{className:"w-full py-3 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] mx-auto flex items-center justify-center",children:"Continue"}),i.jsx("button",{className:`px-6 py-2 rounded-full ${o?"text-white hover:bg-white/10":"text-[#9333ea] hover:bg-white/50"} transition-colors mx-auto flex items-center justify-center`,children:"Back"}),i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("button",{className:"px-6 py-2 rounded-full bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-lg transition-transform active:scale-95",children:"Following"}),i.jsx("button",{className:`px-6 py-2 rounded-full ${o?"bg-white/10 border-white/20 text-white":"bg-white/80 border-purple-200/60 text-purple-700"} border transition-transform active:scale-95`,children:"Join Circle"})]})]})})}),i.jsx(bn,{title:"Cards",darkMode:e,children:i.jsx(wn,{isDark:o,children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm`,children:"Listing Card"}),i.jsxs("div",{className:`backdrop-blur-2xl ${o?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-2xl border shadow-[0_4px_16px_rgba(139,92,246,0.08)] overflow-hidden`,children:[i.jsxs("div",{className:"aspect-[4/3] bg-gradient-to-br from-purple-100 to-lavender-100 flex items-center justify-center relative",children:[i.jsx("span",{className:"text-purple-400 text-sm",children:"Image"}),i.jsx("div",{className:"absolute top-3 right-3",children:i.jsxs("div",{className:`backdrop-blur-xl ${o?"bg-white/20 border-white/30":"bg-white/90 border-white/60"} rounded-full px-3 py-1.5 border shadow-md flex items-center gap-1.5`,children:[i.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gradient-to-br from-yellow-400 to-yellow-500"}),i.jsx("span",{className:`text-xs ${o?"text-white":"text-[#222]"}`,children:"15 Cr"})]})})]}),i.jsxs("div",{className:"p-3",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("button",{className:`${o?"text-white hover:text-purple-400":"text-[#222] hover:text-purple-600"} text-sm transition-colors`,children:"@username"}),i.jsx(En,{className:"w-3.5 h-3.5 text-purple-500"})]}),i.jsx("h3",{className:`${o?"text-white":"text-[#222]"} font-semibold text-sm mb-1`,children:"Vintage Desk Chair"}),i.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[i.jsx("span",{className:`px-2 py-0.5 rounded-full ${o?"bg-white/10 text-gray-300":"bg-purple-100/60 text-purple-700"} text-xs`,children:"Furniture"}),i.jsx("span",{className:`px-2 py-0.5 rounded-full ${o?"bg-white/10 text-gray-300":"bg-purple-100/60 text-purple-700"} text-xs`,children:"Dorm"})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(nl,{className:`w-3.5 h-3.5 ${o?"text-gray-400":"text-[#999]"}`}),i.jsx("span",{className:`${o?"text-gray-400":"text-[#999]"} text-xs`,children:"12:00 PM  2:00 PM"})]})]})]}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Circle Card"}),i.jsx("div",{className:`backdrop-blur-2xl ${o?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-2xl border shadow-[0_4px_16px_rgba(139,92,246,0.08)] overflow-hidden`,children:i.jsxs("div",{className:"flex items-center gap-3 p-3",children:[i.jsx("div",{className:"w-20 h-20 rounded-xl overflow-hidden flex-shrink-0 bg-gradient-to-br from-purple-100 to-lavender-100",children:i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx("span",{className:"text-purple-400 text-xs",children:"Cover"})})}),i.jsxs("div",{className:"flex-1 text-left",children:[i.jsx("h3",{className:`${o?"text-white":"text-[#222]"} font-semibold text-sm mb-1`,children:"Move-Out Sale 2025"}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#555]"} text-xs mb-2 line-clamp-1`,children:"Graduating seniors selling everything!"}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Rr,{className:"w-3.5 h-3.5 text-purple-500"}),i.jsx("span",{className:`${o?"text-gray-400":"text-[#999]"} text-xs`,children:"128 active posts"})]})]}),i.jsx("div",{className:"px-3 py-1 rounded-full bg-gradient-to-r from-purple-500 to-purple-600 text-white text-xs",children:"Following"})]})}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Empty State Card"}),i.jsx("div",{className:`backdrop-blur-2xl ${o?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-2xl border shadow-[0_4px_16px_rgba(139,92,246,0.08)] p-8`,children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-purple-100 mx-auto mb-3 flex items-center justify-center",children:i.jsx(ys,{className:"w-8 h-8 text-purple-500"})}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm`,children:"No posts yet"})]})})]})})}),i.jsx(bn,{title:"Navigation Components",darkMode:e,children:i.jsx(wn,{isDark:o,children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mb-3`,children:"Bottom Navigation Bar"}),i.jsx("div",{className:`backdrop-blur-2xl ${o?"bg-white/10 border-white/20":"bg-white/60 border-white/40"} rounded-2xl border shadow-lg p-4`,children:i.jsxs("div",{className:"flex items-center justify-around",children:[i.jsxs("div",{className:"flex flex-col items-center gap-1 text-purple-500",children:[i.jsx(Uo,{className:"w-6 h-6 drop-shadow-[0_0_8px_rgba(139,92,246,0.6)]"}),i.jsx("span",{className:"text-[10px]",children:"Home"})]}),i.jsxs("div",{className:`flex flex-col items-center gap-1 ${o?"text-gray-400":"text-gray-500"}`,children:[i.jsx(Rr,{className:"w-6 h-6"}),i.jsx("span",{className:"text-[10px]",children:"Circles"})]}),i.jsx("div",{className:"relative -mt-4 w-14 h-14 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 shadow-[0_8px_24px_rgba(139,92,246,0.4)] flex items-center justify-center",children:i.jsx(Zs,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{className:`flex flex-col items-center gap-1 ${o?"text-gray-400":"text-gray-500"}`,children:[i.jsx(Rr,{className:"w-6 h-6"}),i.jsx("span",{className:"text-[10px]",children:"Profile"})]}),i.jsxs("div",{className:`flex flex-col items-center gap-1 ${o?"text-gray-400":"text-gray-500"}`,children:[i.jsx(Wr,{className:"w-6 h-6"}),i.jsx("span",{className:"text-[10px]",children:"Settings"})]})]})}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Active vs Inactive States"}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("div",{className:"flex flex-col items-center gap-1 text-purple-500",children:[i.jsx(Uo,{className:"w-6 h-6 drop-shadow-[0_0_8px_rgba(139,92,246,0.6)]"}),i.jsx("span",{className:"text-[10px]",children:"Active"})]}),i.jsxs("div",{className:`flex flex-col items-center gap-1 ${o?"text-gray-400":"text-gray-500"}`,children:[i.jsx(Uo,{className:"w-6 h-6"}),i.jsx("span",{className:"text-[10px]",children:"Inactive"})]})]})]})})}),i.jsx(bn,{title:"Tag System Components",darkMode:e,children:i.jsx(wn,{isDark:o,children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm`,children:"Default Tags"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("span",{className:`px-3 py-1.5 rounded-full ${o?"bg-white/10 border-white/20 text-gray-300":"bg-purple-100/60 border-purple-200/60 text-purple-700"} border text-sm`,children:"Textbook"}),i.jsx("span",{className:`px-3 py-1.5 rounded-full ${o?"bg-white/10 border-white/20 text-gray-300":"bg-purple-100/60 border-purple-200/60 text-purple-700"} border text-sm`,children:"Furniture"}),i.jsx("span",{className:`px-3 py-1.5 rounded-full ${o?"bg-white/10 border-white/20 text-gray-300":"bg-purple-100/60 border-purple-200/60 text-purple-700"} border text-sm`,children:"Apparel"})]}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Active/Selected Tags"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("span",{className:"px-3 py-1.5 rounded-full bg-gradient-to-r from-purple-500 to-purple-600 text-white text-sm shadow-lg",children:"Textbook"}),i.jsx("span",{className:"px-3 py-1.5 rounded-full bg-gradient-to-r from-purple-500 to-purple-600 text-white text-sm shadow-lg",children:"Furniture"})]}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Custom Tag"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:i.jsx("span",{className:`px-3 py-1.5 rounded-full ${o?"bg-purple-500/20 border-purple-400/40 text-purple-300":"bg-purple-200/60 border-purple-300/60 text-purple-700"} border text-sm`,children:"Custom Tag"})}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Add New Tag Button"}),i.jsxs("button",{className:`px-3 py-1.5 rounded-full ${o?"bg-white/10 border-white/20 text-white":"bg-white/80 border-purple-200/60 text-purple-700"} border text-sm hover:border-purple-500 transition-colors flex items-center gap-1.5`,children:[i.jsx(Zs,{className:"w-4 h-4"}),"Add Tag"]})]})})}),i.jsx(bn,{title:"Circle System Components",darkMode:e,children:i.jsx(wn,{isDark:o,children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm`,children:"Circle Header"}),i.jsxs("div",{className:`backdrop-blur-2xl ${o?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-2xl border shadow-[0_4px_16px_rgba(139,92,246,0.08)] overflow-hidden`,children:[i.jsx("div",{className:"h-32 bg-gradient-to-br from-purple-100 to-lavender-100 flex items-center justify-center",children:i.jsx("span",{className:"text-purple-400",children:"Cover Image"})}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{children:[i.jsx("h2",{className:`${o?"text-white":"text-[#222]"} font-semibold text-lg mb-1`,children:"Circle Name"}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#555]"} text-sm`,children:"Circle description goes here"})]}),i.jsx("button",{className:"px-4 py-2 rounded-full bg-gradient-to-r from-purple-500 to-purple-600 text-white text-sm shadow-lg",children:"Following"})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(Rr,{className:"w-4 h-4 text-purple-500"}),i.jsx("span",{className:`${o?"text-gray-400":"text-[#999]"} text-sm`,children:"128 active posts"})]})]})]}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Join/Following Toggle"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{className:"px-6 py-2 rounded-full bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-lg transition-transform active:scale-95",children:"Following"}),i.jsx("button",{className:`px-6 py-2 rounded-full ${o?"bg-white/10 border-white/20 text-white":"bg-white/80 border-purple-200/60 text-purple-700"} border transition-transform active:scale-95`,children:"Join Circle"})]})]})})}),i.jsx(bn,{title:"Notification System",darkMode:e,children:i.jsx(wn,{isDark:o,children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm`,children:"Notification Bell with Badge"}),i.jsxs("div",{className:"relative inline-block",children:[i.jsx(rl,{className:`w-6 h-6 ${o?"text-white":"text-[#222]"}`}),i.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 rounded-full bg-red-500 border-2 border-white"})]}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Notification Row"}),i.jsx("div",{className:`backdrop-blur-2xl ${o?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-2xl border shadow-[0_4px_16px_rgba(139,92,246,0.08)] p-4`,children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center flex-shrink-0",children:i.jsx(ys,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:`${o?"text-white":"text-[#222]"} font-semibold text-sm mb-1`,children:"New listing posted"}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#555]"} text-xs mb-1`,children:"Check out this new item in your feed"}),i.jsx("span",{className:`${o?"text-gray-500":"text-[#999]"} text-xs`,children:"2 hours ago"})]})]})}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Event Types"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsx("p",{className:`${o?"text-gray-300":"text-[#555]"}`,children:" New listing posted"}),i.jsx("p",{className:`${o?"text-gray-300":"text-[#555]"}`,children:" Offer on your trade"}),i.jsx("p",{className:`${o?"text-gray-300":"text-[#555]"}`,children:" Offer accepted / counter-offer"}),i.jsx("p",{className:`${o?"text-gray-300":"text-[#555]"}`,children:" Meeting confirmed"}),i.jsx("p",{className:`${o?"text-gray-300":"text-[#555]"}`,children:" Meeting reminder"}),i.jsx("p",{className:`${o?"text-gray-300":"text-[#555]"}`,children:" New Circle post (if following)"})]})]})})}),i.jsx(bn,{title:"Profile View Components",darkMode:e,children:i.jsx(wn,{isDark:o,children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm`,children:"Profile Header"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Wn,{className:"w-16 h-16",children:i.jsx(qn,{className:"bg-gradient-to-br from-purple-400 to-purple-500 text-white",children:"RM"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:`${o?"text-white":"text-[#222]"} font-semibold`,children:"Ryan Mehta"}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#555]"} text-sm`,children:"@ryanmehta"})]}),i.jsx(En,{className:"w-5 h-5 text-purple-500"})]}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Bio Block"}),i.jsx("div",{className:`${o?"text-gray-300":"text-[#555]"} text-sm`,children:"Computer Science major | Love vintage fashion and tech gadgets"}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Trust Score Bar"}),i.jsxs("div",{className:`backdrop-blur-2xl ${o?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-2xl border shadow-[0_4px_16px_rgba(139,92,246,0.08)] p-4`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:`${o?"text-white":"text-[#222]"} font-semibold text-sm`,children:"Trust Score"}),i.jsx("span",{className:"text-purple-500 font-semibold",children:"92%"})]}),i.jsx("div",{className:"w-full h-2 bg-purple-100 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-purple-600",style:{width:"92%"}})})]})]})})}),i.jsx(bn,{title:"Modal Components",darkMode:e,children:i.jsx(wn,{isDark:o,children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm`,children:"Confirmation Modal"}),i.jsxs("div",{className:`backdrop-blur-2xl ${o?"bg-black/90 border-white/20":"bg-white/95 border-white/60"} rounded-3xl border shadow-[0_16px_48px_rgba(0,0,0,0.3)] p-6 text-center`,children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 mx-auto mb-4 flex items-center justify-center",children:i.jsx(En,{className:"w-8 h-8 text-white"})}),i.jsx("h3",{className:`${o?"text-white":"text-[#222]"} font-semibold text-lg mb-2`,children:"Success!"}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#555]"} text-sm mb-4`,children:"Your action was completed successfully"}),i.jsx("button",{className:"w-full py-3 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98]",children:"Got It"})]}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Error Modal"}),i.jsxs("div",{className:`backdrop-blur-2xl ${o?"bg-black/90 border-white/20":"bg-white/95 border-white/60"} rounded-3xl border shadow-[0_16px_48px_rgba(0,0,0,0.3)] p-6 text-center`,children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-red-500 mx-auto mb-4 flex items-center justify-center",children:i.jsx(Sn,{className:"w-8 h-8 text-white"})}),i.jsx("h3",{className:`${o?"text-white":"text-[#222]"} font-semibold text-lg mb-2`,children:"Error"}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#555]"} text-sm mb-4`,children:"Please check your inputs and try again"}),i.jsx("button",{className:"w-full py-3 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98]",children:"OK"})]})]})})}),i.jsx(bn,{title:"Universal Elements",darkMode:e,children:i.jsx(wn,{isDark:o,children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm`,children:"Section Header"}),i.jsx("h2",{className:`${o?"text-white":"text-[#222]"} font-semibold text-lg`,children:"Section Title"}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Divider"}),i.jsx("div",{className:`border-t ${o?"border-white/20":"border-purple-100/40"}`}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Default Avatar"}),i.jsx(Wn,{className:"w-12 h-12",children:i.jsx(qn,{className:"bg-gradient-to-br from-purple-400 to-purple-500 text-white",children:"AB"})}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Back Arrow"}),i.jsx("button",{className:`p-2 rounded-full ${o?"hover:bg-white/10":"hover:bg-white/50"} transition-colors`,children:i.jsx(bt,{className:`w-6 h-6 ${o?"text-white":"text-[#222]"}`})}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Close Icon"}),i.jsx("button",{className:`p-2 rounded-full ${o?"hover:bg-white/10":"hover:bg-white/50"} transition-colors`,children:i.jsx(Sn,{className:`w-6 h-6 ${o?"text-white":"text-[#222]"}`})}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Placeholder Image"}),i.jsx("div",{className:"w-full h-40 bg-gradient-to-br from-purple-100 to-lavender-100 rounded-2xl flex items-center justify-center",children:i.jsx("span",{className:"text-purple-400",children:"Image Placeholder"})})]})})}),i.jsx(bn,{title:"Toggles & Switches",darkMode:e,children:i.jsx(wn,{isDark:o,children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm`,children:"Trade Toggle"}),i.jsxs("div",{className:`flex items-center justify-between backdrop-blur-xl ${o?"bg-white/10 border-white/20":"bg-gradient-to-r from-purple-100/60 to-lavender-100/60 border-white/60"} rounded-3xl px-4 py-3 border shadow-sm`,children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center",children:i.jsx(Et,{className:"w-4 h-4 text-white"})}),i.jsx("span",{className:`${o?"text-white":"text-[#222]"}`,children:"Trade Mode"})]}),i.jsx(Nh,{})]}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Dark Mode Toggle"}),i.jsxs("div",{className:`flex items-center justify-between backdrop-blur-xl ${o?"bg-white/10 border-white/20":"bg-white/80 border-purple-200/60"} rounded-3xl px-4 py-3 border shadow-sm`,children:[i.jsx("span",{className:`${o?"text-white":"text-[#222]"}`,children:"Dark Mode"}),i.jsx(Nh,{})]})]})})}),i.jsx(bn,{title:"Liquid Glass Effects Reference",darkMode:e,children:i.jsx(wn,{isDark:o,children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:`backdrop-blur-2xl ${o?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-4 border shadow-[0_8px_24px_rgba(139,92,246,0.12)]`,children:[i.jsx("p",{className:`${o?"text-white":"text-[#222]"} mb-1`,children:"Standard Glass Panel"}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm`,children:o?"bg-white/10, border-white/20":"bg-white/70, border-white/60"})]}),i.jsxs("div",{className:`backdrop-blur-xl ${o?"bg-white/10 border-white/20":"bg-white/80 border-white/60"} rounded-3xl p-4 border shadow-sm`,children:[i.jsx("p",{className:`${o?"text-white":"text-[#222]"} mb-1`,children:"Solid Glass Panel"}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm`,children:o?"bg-white/10, border-white/20":"bg-white/80, border-white/60"})]}),i.jsxs("div",{className:`backdrop-blur-xl ${o?"bg-purple-500/20 border-purple-400/40":"bg-gradient-to-r from-purple-100/60 to-lavender-100/60 border-purple-200/60"} rounded-3xl p-4 border shadow-sm`,children:[i.jsx("p",{className:`${o?"text-white":"text-[#222]"} mb-1`,children:"Gradient Glass Panel"}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm`,children:o?"bg-purple-500/20":"from-purple-100/60 to-lavender-100/60"})]})]})})})]})]})}function bn({title:r,children:e,darkMode:t}){return i.jsxs("section",{children:[i.jsx("h2",{className:`${t?"text-white":"text-[#9333ea]"} font-semibold text-lg mb-4`,children:r}),e]})}function wn({isDark:r,children:e}){return i.jsx("div",{className:`backdrop-blur-2xl ${r?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-6 border shadow-[0_8px_24px_rgba(139,92,246,0.12)]`,children:e})}function aL({navigateTo:r}){const{darkMode:e}=St(),[t,n]=_.useState(""),[o,l]=_.useState(""),[u,h]=_.useState(!1),[p,m]=_.useState(""),[v,x]=_.useState(""),w=$=>{const F=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return!$||!F.test($)?(m("Please enter a valid email."),!1):(m(""),!0)},k=$=>!$||$.length<8?(x("Password must be at least 8 characters."),!1):(x(""),!0),R=$=>{const F=$.target.value;n(F),p&&w(F)},E=$=>{const F=$.target.value;l(F),v&&k(F)},{setCredits:T}=dx(),O=async()=>{const $=w(t),F=k(o);if(!(!$||!F))try{const X=(await p4(Nn,t,o)).user;console.log(" Logged in user:",X.uid);const I=await su(pr(It,"users",X.uid));if(I.exists()){const S=I.data();console.log(" User profile:",S),S.credits!==void 0&&T(S.credits)}r("home")}catch(W){console.error(" Login failed:",W.message),W.code==="auth/invalid-credential"||W.code==="auth/wrong-password"?x("Incorrect email or password."):W.code==="auth/user-not-found"?m("No account found with this email."):x("Login failed. Try again later.")}},B=()=>{r("home")};return i.jsx("div",{className:`min-h-screen ${e?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"} px-6 pt-20 pb-12`,children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("div",{className:"flex justify-center mb-12",children:i.jsx(zn,{size:80})}),i.jsxs("div",{className:"mb-6",children:[i.jsx(Ct,{type:"email",placeholder:"Enter your email",value:t,onChange:R,onBlur:()=>t&&w(t),className:`${e?"bg-white/5 border-white/10 text-white placeholder:text-white/40":"bg-white/60 border-purple-200/50"} backdrop-blur-xl ${p?"border-red-500":""}`}),p&&i.jsx("p",{className:"text-red-500 mt-2",children:p})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Ct,{type:u?"text":"password",placeholder:"Enter your password",value:o,onChange:E,onBlur:()=>o&&k(o),className:`${e?"bg-white/5 border-white/10 text-white placeholder:text-white/40":"bg-white/60 border-purple-200/50"} backdrop-blur-xl pr-12 ${v?"border-red-500":""}`}),i.jsx("button",{type:"button",onClick:()=>h(!u),className:`absolute right-3 top-1/2 -translate-y-1/2 ${e?"text-white/60 hover:text-white/80":"text-gray-600 hover:text-gray-800"} transition-colors`,children:u?i.jsx(Yd,{className:"w-5 h-5"}):i.jsx(Ho,{className:"w-5 h-5"})})]}),v&&i.jsx("p",{className:"text-red-500 mt-2",children:v})]}),i.jsx("div",{className:"text-right mb-8",children:i.jsx("button",{onClick:()=>r("forgot-password"),className:`${e?"text-purple-400 hover:text-purple-300":"text-purple-600 hover:text-purple-700"}`,children:"Forgot Password?"})}),i.jsx("div",{className:"flex justify-center mb-6",children:i.jsx("button",{onClick:O,className:"w-full bg-purple-600 hover:bg-purple-700 text-white px-8 py-3 rounded-xl transition-all shadow-lg",children:"Login"})}),i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs("span",{className:e?"text-white/60":"text-gray-600",children:["Don't have an account?"," "]}),i.jsx("button",{onClick:()=>r("signup"),className:`${e?"text-purple-400 hover:text-purple-300":"text-purple-600 hover:text-purple-700"}`,children:"Sign Up"})]}),i.jsx("div",{className:"flex justify-center",children:i.jsx("button",{onClick:B,className:`${e?"text-white/60 hover:text-white/80 border-white/20 hover:border-white/30":"text-gray-600 hover:text-gray-800 border-gray-300 hover:border-gray-400"} border px-8 py-3 rounded-xl transition-all w-full`,children:"Continue as Guest"})})]})})}function lL({navigateTo:r}){const{darkMode:e}=St(),[t,n]=_.useState(""),[o,l]=_.useState(""),[u,h]=_.useState(""),[p,m]=_.useState(""),[v,x]=_.useState(!1),[w,k]=_.useState(!1),[R,E]=_.useState(""),[T,O]=_.useState(""),[B,$]=_.useState(""),[F,W]=_.useState(""),X=le=>!le||le.trim().length===0?(E("Please enter your full name."),!1):(E(""),!0),I=le=>{const ee=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return!le||!ee.test(le)?(O("Enter a valid email."),!1):(O(""),!0)},S=le=>!le||le.length<8?($("Password must be at least 8 characters."),!1):($(""),!0),P=le=>!le||le!==u?(W("Passwords do not match."),!1):(W(""),!0),D=le=>{const ee=le.target.value;n(ee),R&&X(ee)},M=le=>{const ee=le.target.value;l(ee),T&&I(ee)},L=le=>{const ee=le.target.value;h(ee),B&&S(ee),p&&P(p)},A=le=>{const ee=le.target.value;m(ee),F&&P(ee)},ne=async()=>{const le=X(t),ee=I(o),G=S(u),U=P(p);if(!(!le||!ee||!G||!U))try{const se=(await f4(Nn,o,u)).user;await g4(se,{displayName:t}),await FP(pr(It,"users",se.uid),{name:t,email:o,credits:40,trustScore:4.5,trades:0,createdAt:new Date}),console.log(" User created and stored:",se.uid),r("select-interests",{uid:se.uid,fullName:t,email:o})}catch(ie){console.error(" Signup failed:",ie.message),ie.code==="auth/email-already-in-use"?O("That email is already registered."):ie.code==="auth/weak-password"?$("Password should be at least 6 characters."):O("Failed to create account. Try again later.")}};return i.jsx("div",{className:`min-h-screen ${e?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"} px-6 pt-16 pb-12`,children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("div",{className:"flex justify-center mb-12",children:i.jsx(zn,{size:80})}),i.jsxs("div",{className:"mb-6",children:[i.jsx(Ct,{type:"text",placeholder:"Full Name",value:t,onChange:D,onBlur:()=>t&&X(t),className:`${e?"bg-white/5 border-white/10 text-white placeholder:text-white/40":"bg-white/60 border-purple-200/50"} backdrop-blur-xl ${R?"border-red-500":""}`}),R&&i.jsx("p",{className:"text-red-500 mt-2",children:R})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx(Ct,{type:"email",placeholder:"Email address",value:o,onChange:M,onBlur:()=>o&&I(o),className:`${e?"bg-white/5 border-white/10 text-white placeholder:text-white/40":"bg-white/60 border-purple-200/50"} backdrop-blur-xl ${T?"border-red-500":""}`}),T&&i.jsx("p",{className:"text-red-500 mt-2",children:T})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Ct,{type:v?"text":"password",placeholder:"Create password",value:u,onChange:L,onBlur:()=>u&&S(u),className:`${e?"bg-white/5 border-white/10 text-white placeholder:text-white/40":"bg-white/60 border-purple-200/50"} backdrop-blur-xl pr-12 ${B?"border-red-500":""}`}),i.jsx("button",{type:"button",onClick:()=>x(!v),className:`absolute right-3 top-1/2 -translate-y-1/2 ${e?"text-white/60 hover:text-white/80":"text-gray-600 hover:text-gray-800"} transition-colors`,children:v?i.jsx(Yd,{className:"w-5 h-5"}):i.jsx(Ho,{className:"w-5 h-5"})})]}),B&&i.jsx("p",{className:"text-red-500 mt-2",children:B})]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Ct,{type:w?"text":"password",placeholder:"Confirm password",value:p,onChange:A,onBlur:()=>p&&P(p),className:`${e?"bg-white/5 border-white/10 text-white placeholder:text-white/40":"bg-white/60 border-purple-200/50"} backdrop-blur-xl pr-12 ${F?"border-red-500":""}`}),i.jsx("button",{type:"button",onClick:()=>k(!w),className:`absolute right-3 top-1/2 -translate-y-1/2 ${e?"text-white/60 hover:text-white/80":"text-gray-600 hover:text-gray-800"} transition-colors`,children:w?i.jsx(Yd,{className:"w-5 h-5"}):i.jsx(Ho,{className:"w-5 h-5"})})]}),F&&i.jsx("p",{className:"text-red-500 mt-2",children:F})]}),i.jsx("div",{className:"flex justify-center mb-6",children:i.jsx("button",{onClick:ne,className:"w-full bg-purple-600 hover:bg-purple-700 text-white px-8 py-3 rounded-xl transition-all shadow-lg",children:"Next"})}),i.jsxs("div",{className:"text-center",children:[i.jsxs("span",{className:e?"text-white/60":"text-gray-600",children:["Already have an account?"," "]}),i.jsx("button",{onClick:()=>r("login"),className:`${e?"text-purple-400 hover:text-purple-300":"text-purple-600 hover:text-purple-700"}`,children:"Login"})]})]})})}const gw=["Furniture","Kitchen Supplies","Dorm Decor","Electronics","Clothing","Textbooks","Move-Out Essentials","Cleaning Supplies","Organization","International Student Essentials","Seasonal Items","Halloween","Winter Gear","Plants","Fitness","Gaming","Laundry","Lifestyle"];function cL({navigateTo:r,userData:e}){const{darkMode:t}=St(),[n,o]=_.useState([]),[l,u]=_.useState(""),[h,p]=_.useState([]),m=E=>{n.includes(E)?o(n.filter(T=>T!==E)):o([...n,E])},v=()=>{const E=l.trim();E&&!h.includes(E)&&!gw.includes(E)&&(p([...h,E]),o([...n,E]),u(""))},x=E=>{p(h.filter(T=>T!==E)),o(n.filter(T=>T!==E))},w=()=>{const E={...e,interests:n};r("review-profile",E)},k=()=>{const E={...e,interests:[]};r("review-profile",E)},R=[...gw,...h];return i.jsx("div",{className:`min-h-screen ${t?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"} px-6 pt-12 pb-24`,children:i.jsxs("div",{className:"max-w-2xl mx-auto",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:`mb-2 ${t?"text-white":"text-gray-900"}`,children:"Select Your Interests"}),i.jsx("p",{className:t?"text-white/60":"text-gray-600",children:"Choose topics that relate to your needs on campus."})]}),i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Ct,{type:"text",placeholder:"Add custom tag",value:l,onChange:E=>u(E.target.value),onKeyPress:E=>{E.key==="Enter"&&(E.preventDefault(),v())},className:`${t?"bg-white/5 border-white/10 text-white placeholder:text-white/40":"bg-white/60 border-purple-200/50"} backdrop-blur-xl flex-1`}),i.jsxs("button",{onClick:v,disabled:!l.trim(),className:`${t?"bg-purple-600 hover:bg-purple-700 disabled:bg-white/5 disabled:text-white/30":"bg-purple-600 hover:bg-purple-700 disabled:bg-gray-200 disabled:text-gray-400"} text-white px-4 py-2 rounded-xl transition-all disabled:cursor-not-allowed flex items-center gap-2`,children:[i.jsx(Zs,{className:"w-4 h-4"}),"Add"]})]})}),i.jsx("div",{className:"mb-8 max-h-[50vh] overflow-y-auto no-scrollbar",children:i.jsx("div",{className:"flex flex-wrap gap-3",children:R.map(E=>{const T=n.includes(E),O=h.includes(E);return i.jsxs("button",{onClick:()=>m(E),className:`relative px-4 py-2 rounded-full transition-all ${T?"bg-purple-600 text-white border-purple-600":t?"bg-white/5 text-white/80 border-white/10 hover:bg-white/10 hover:border-white/20":"bg-white/60 text-gray-700 border-purple-200/50 hover:bg-white/80 hover:border-purple-300"} border backdrop-blur-xl ${O?"pr-8":""}`,children:[E,O&&i.jsx("button",{onClick:B=>{B.stopPropagation(),x(E)},className:"absolute right-2 top-1/2 -translate-y-1/2",children:i.jsx(Sn,{className:"w-3 h-3"})})]},E)})})}),n.length>0&&i.jsxs("div",{className:`text-center mb-6 ${t?"text-white/60":"text-gray-600"}`,children:[n.length," ",n.length===1?"interest":"interests"," selected"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("button",{onClick:w,className:"w-full bg-purple-600 hover:bg-purple-700 text-white px-8 py-3 rounded-xl transition-all shadow-lg",children:"Continue"})}),i.jsx("div",{className:"flex justify-center",children:i.jsx("button",{onClick:k,className:`w-full ${t?"text-white/60 hover:text-white/80 border-white/20 hover:border-white/30":"text-gray-600 hover:text-gray-800 border-gray-300 hover:border-gray-400"} border px-8 py-3 rounded-xl transition-all`,children:"Skip for now"})})]})]})})}function uL({navigateTo:r,userData:e}){const{darkMode:t}=St(),{fullName:n="",email:o="",interests:l=[]}=e||{},u=()=>{r("home")};return i.jsx("div",{className:`min-h-screen ${t?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"} px-6 pt-12 pb-24`,children:i.jsxs("div",{className:"max-w-2xl mx-auto",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:`mb-2 ${t?"text-white":"text-gray-900"}`,children:"Review Profile Information"}),i.jsx("p",{className:t?"text-white/60":"text-gray-600",children:"Make sure everything looks good before finishing setup."})]}),i.jsxs("div",{className:"space-y-4 mb-8",children:[i.jsxs("div",{className:`${t?"bg-white/5 border-white/10":"bg-white/60 border-purple-200/50"} backdrop-blur-xl rounded-2xl p-6 border`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h3",{className:t?"text-white":"text-gray-900",children:"Name"}),i.jsx("button",{onClick:()=>r("signup"),className:`${t?"text-purple-400 hover:text-purple-300":"text-purple-600 hover:text-purple-700"}`,children:"Edit"})]}),i.jsx("p",{className:t?"text-white/80":"text-gray-700",children:n||"Not provided"})]}),i.jsxs("div",{className:`${t?"bg-white/5 border-white/10":"bg-white/60 border-purple-200/50"} backdrop-blur-xl rounded-2xl p-6 border`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h3",{className:t?"text-white":"text-gray-900",children:"Email"}),i.jsx("button",{onClick:()=>r("signup"),className:`${t?"text-purple-400 hover:text-purple-300":"text-purple-600 hover:text-purple-700"}`,children:"Edit"})]}),i.jsx("p",{className:t?"text-white/80":"text-gray-700",children:o||"Not provided"})]}),i.jsxs("div",{className:`${t?"bg-white/5 border-white/10":"bg-white/60 border-purple-200/50"} backdrop-blur-xl rounded-2xl p-6 border`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx("h3",{className:t?"text-white":"text-gray-900",children:"Interests"}),i.jsx("button",{onClick:()=>r("select-interests",e),className:`${t?"text-purple-400 hover:text-purple-300":"text-purple-600 hover:text-purple-700"}`,children:"Edit"})]}),l.length>0?i.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(h=>i.jsx("span",{className:`${t?"bg-purple-600/20 text-purple-300 border-purple-500/30":"bg-purple-100 text-purple-700 border-purple-300"} px-3 py-1 rounded-full border`,children:h},h))}):i.jsx("p",{className:t?"text-white/60":"text-gray-600",children:"No interests selected"})]})]}),i.jsx("div",{className:"flex justify-center",children:i.jsx("button",{onClick:u,className:"w-full bg-purple-600 hover:bg-purple-700 text-white px-8 py-3 rounded-xl transition-all shadow-lg",children:"Finish Setup"})})]})})}function dL({navigateTo:r}){const{darkMode:e}=St(),[t,n]=_.useState(""),[o,l]=_.useState(""),[u,h]=_.useState(!1),p=w=>{const k=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return!w||!k.test(w)?(l("Enter a valid email."),!1):(l(""),!0)},m=w=>{const k=w.target.value;n(k),o&&p(k)},v=()=>{p(t)&&h(!0)},x=()=>{h(!1),r("login")};return u?i.jsx("div",{className:`min-h-screen ${e?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"} px-6 flex items-center justify-center`,children:i.jsx("div",{className:`${e?"bg-white/5 border-white/10":"bg-white/80 border-purple-200/50"} backdrop-blur-xl rounded-3xl p-8 border max-w-md w-full`,children:i.jsxs("div",{className:"flex flex-col items-center text-center",children:[i.jsx("div",{className:"bg-purple-600 rounded-full p-4 mb-6",children:i.jsx(En,{className:"w-12 h-12 text-white"})}),i.jsx("h2",{className:`mb-3 ${e?"text-white":"text-gray-900"}`,children:"Check Your Email"}),i.jsxs("p",{className:`mb-8 ${e?"text-white/60":"text-gray-600"}`,children:["We've sent you a reset link to ",t]}),i.jsx("button",{onClick:x,className:"w-full bg-purple-600 hover:bg-purple-700 text-white px-8 py-3 rounded-xl transition-all shadow-lg",children:"Back to Login"})]})})}):i.jsx("div",{className:`min-h-screen ${e?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"} px-6 pt-12 pb-12`,children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsxs("button",{onClick:()=>r("login"),className:`mb-8 flex items-center gap-2 ${e?"text-white/60 hover:text-white/80":"text-gray-600 hover:text-gray-800"} transition-colors`,children:[i.jsx(bt,{className:"w-5 h-5"}),"Back to Login"]}),i.jsx("div",{className:"flex justify-center mb-12",children:i.jsx(zn,{size:80})}),i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:`mb-2 ${e?"text-white":"text-gray-900"}`,children:"Forgot Password?"}),i.jsx("p",{className:e?"text-white/60":"text-gray-600",children:"Enter your email and we'll send you a reset link."})]}),i.jsxs("div",{className:"mb-8",children:[i.jsx(Ct,{type:"email",placeholder:"Enter your email",value:t,onChange:m,onBlur:()=>t&&p(t),className:`${e?"bg-white/5 border-white/10 text-white placeholder:text-white/40":"bg-white/60 border-purple-200/50"} backdrop-blur-xl ${o?"border-red-500":""}`}),o&&i.jsx("p",{className:"text-red-500 mt-2",children:o})]}),i.jsx("div",{className:"flex justify-center",children:i.jsx("button",{onClick:v,className:"w-full bg-purple-600 hover:bg-purple-700 text-white px-8 py-3 rounded-xl transition-all shadow-lg",children:"Send Reset Link"})})]})})}function hL({navigateTo:r,userData:e}){const{darkMode:t}=St(),[n,o]=_.useState(["","","","","",""]),[l,u]=_.useState(""),[h,p]=_.useState(0),m=_.useRef([]);_.useEffect(()=>{m.current[0]?.focus()},[]),_.useEffect(()=>{if(h>0){const E=setTimeout(()=>p(h-1),1e3);return()=>clearTimeout(E)}},[h]);const v=(E,T)=>{if(T&&!/^\d$/.test(T))return;const O=[...n];O[E]=T,o(O),u(""),T&&E<5&&m.current[E+1]?.focus()},x=(E,T)=>{T.key==="Backspace"&&!n[E]&&E>0&&m.current[E-1]?.focus()},w=E=>{E.preventDefault();const T=E.clipboardData.getData("text").slice(0,6);if(/^\d+$/.test(T)){const O=T.split("").concat(Array(6-T.length).fill(""));o(O.slice(0,6)),u("");const B=Math.min(T.length,5);m.current[B]?.focus()}},k=()=>{const E=n.join("");if(E.length<6){u("Please enter the complete 6-digit code.");return}E==="123456"?u("Invalid or expired code. Please try again."):r("select-interests",e)},R=()=>{h>0||(p(60),o(["","","","","",""]),u(""),m.current[0]?.focus())};return i.jsx("div",{className:`min-h-screen ${t?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"} px-6 pt-12 pb-12`,children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsxs("button",{onClick:()=>r("signup"),className:`mb-8 flex items-center gap-2 ${t?"text-white/60 hover:text-white/80":"text-gray-600 hover:text-gray-800"} transition-colors`,children:[i.jsx(bt,{className:"w-5 h-5"}),"Back"]}),i.jsx("div",{className:"flex justify-center mb-12",children:i.jsx(zn,{size:80})}),i.jsxs("div",{className:"mb-8 text-center",children:[i.jsx("h1",{className:`mb-2 ${t?"text-white":"text-gray-900"}`,children:"Verify Your Email"}),i.jsx("p",{className:t?"text-white/60":"text-gray-600",children:"Enter the 6-digit code we emailed you."})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("div",{className:"flex gap-3 justify-center mb-4",children:n.map((E,T)=>i.jsx("input",{ref:O=>m.current[T]=O,type:"text",inputMode:"numeric",maxLength:1,value:E,onChange:O=>v(T,O.target.value),onKeyDown:O=>x(T,O),onPaste:T===0?w:void 0,className:`w-12 h-14 text-center ${t?"bg-white/5 border-white/10 text-white":"bg-white/60 border-purple-200/50 text-gray-900"} backdrop-blur-xl border rounded-xl focus:outline-none focus:ring-2 ${t?"focus:ring-purple-500":"focus:ring-purple-600"} ${l?"border-red-500":""} transition-all`},T))}),l&&i.jsx("p",{className:"text-red-500 text-center",children:l})]}),i.jsx("div",{className:"text-center mb-8",children:h>0?i.jsxs("p",{className:t?"text-white/60":"text-gray-600",children:["Resend code in ",h,"s"]}):i.jsx("button",{onClick:R,className:`${t?"text-purple-400 hover:text-purple-300":"text-purple-600 hover:text-purple-700"}`,children:"Resend code"})}),i.jsx("div",{className:"flex justify-center",children:i.jsx("button",{onClick:k,className:"w-full bg-purple-600 hover:bg-purple-700 text-white px-8 py-3 rounded-xl transition-all shadow-lg",children:"Verify"})})]})})}const fL=({...r})=>i.jsx(z9,{theme:"light",className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...r}),pL=Lw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Dd({className:r,variant:e,size:t,asChild:n=!1,...o}){const l=n?Dw:"button";return i.jsx(l,{"data-slot":"button",className:Qt(pL({variant:e,size:t,className:r})),...o})}function mL({navigateTo:r}){const[e,t]=_.useState(!1),n=l=>{const u=document.getElementById(l);u&&(u.scrollIntoView({behavior:"smooth"}),t(!1))},o=()=>{r("login")};return i.jsxs("div",{className:"landing-page",children:[i.jsxs("nav",{className:"landing-nav",children:[i.jsxs("div",{className:"landing-nav-inner",children:[i.jsx("div",{className:"landing-nav-left",children:i.jsx(zn,{size:28})}),i.jsxs("div",{className:"landing-nav-center",children:[i.jsx("button",{onClick:()=>n("about"),className:"landing-nav-link",children:"About"}),i.jsx("span",{className:"landing-nav-dot",children:""}),i.jsx("button",{onClick:()=>n("how-it-works"),className:"landing-nav-link",children:"How It Works"}),i.jsx("span",{className:"landing-nav-dot",children:""}),i.jsx("button",{onClick:()=>n("circles"),className:"landing-nav-link",children:"Circles"}),i.jsx("span",{className:"landing-nav-dot",children:""}),i.jsx("button",{onClick:()=>n("footer"),className:"landing-nav-link",children:"Contact"})]}),i.jsxs("div",{className:"landing-nav-right",children:[i.jsx(Dd,{onClick:o,className:"landing-hero-primary-btn",children:"Get Started"}),i.jsx("button",{className:"landing-nav-menu-btn",onClick:()=>t(!e),children:e?i.jsx(Sn,{size:22}):i.jsx(OS,{size:22})})]})]}),e&&i.jsxs("div",{className:"landing-nav-mobile",children:[i.jsx("button",{onClick:()=>n("about"),className:"landing-nav-mobile-link",children:"About"}),i.jsx("button",{onClick:()=>n("how-it-works"),className:"landing-nav-mobile-link",children:"How It Works"}),i.jsx("button",{onClick:()=>n("circles"),className:"landing-nav-mobile-link",children:"Circles"}),i.jsx("button",{onClick:()=>n("footer"),className:"landing-nav-mobile-link",children:"Contact"})]})]}),i.jsx("section",{className:"landing-hero",children:i.jsxs("div",{className:"landing-hero-inner",children:[i.jsxs("div",{className:"landing-hero-left",children:[i.jsx("h1",{className:"landing-hero-title",children:"Turn Extras Into Essentials."}),i.jsx("p",{className:"landing-hero-subtitle",children:"A campus-first marketplace built to help students trade smarter, declutter faster, and create a circular economy."}),i.jsxs("div",{className:"landing-hero-actions",children:[i.jsx(Dd,{onClick:o,className:"landing-hero-primary-btn",children:"Get Started"}),i.jsx("button",{onClick:()=>n("circles"),className:"landing-hero-secondary-link",children:"Explore Snag Circles"})]})]}),i.jsx("div",{className:"landing-hero-right",children:i.jsx("div",{className:"landing-hero-device-shell",children:i.jsx(As,{src:"https://images.unsplash.com/photo-1722834228772-01d16b9bf83b?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxzbWFydHBob25lJTIwc2NyZWVuJTIwaW50ZXJmYWNlfGVufDF8fHx8MTc2Mjk5ODgwOXww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",alt:"Snag App Interface",className:"landing-hero-device-image"})})})]})}),i.jsx("section",{id:"about",className:"landing-section landing-about",children:i.jsxs("div",{className:"landing-section-inner landing-about-inner",children:[i.jsx("div",{className:"landing-section-heading",children:i.jsx("h2",{className:"landing-heading-xl center",children:"Built by Students at the University of Illinois Chicago"})}),i.jsxs("div",{className:"landing-about-grid",children:[i.jsx("div",{className:"landing-about-card",children:i.jsx("p",{children:"Snag was created by UIC students who saw how much time, money, and effort gets wasted during move-out season, semester turnovers, and campus life transitions. We're building a sustainable, student-first marketplace that redefines how items move across campus."})}),i.jsx("div",{className:"landing-about-image-card",children:i.jsx(As,{src:"https://images.unsplash.com/photo-1758270705518-b61b40527e76?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxzdHVkZW50JTIwdGVhbSUyMHVuaXZlcnNpdHl8ZW58MXx8fHwxNjMwMDU1NTl8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",alt:"UIC Students",className:"landing-about-image"})})]}),i.jsx("div",{className:"landing-founders-grid",children:gL.map((l,u)=>i.jsxs("div",{className:"landing-founder-card",children:[i.jsx("div",{className:"landing-founder-avatar",children:l.initials}),i.jsx("h3",{children:l.name}),i.jsx("p",{children:"Co-Creator of Snag"})]},u))})]})}),i.jsx("section",{id:"how-it-works",className:"landing-section",children:i.jsxs("div",{className:"landing-section-inner",children:[i.jsx("h2",{className:"landing-heading-xl center",children:"How Snag Works"}),i.jsxs("div",{className:"landing-how-grid",children:[i.jsxs("div",{className:"landing-how-card",children:[i.jsx("div",{className:"landing-how-icon",children:i.jsx(Aw,{size:32})}),i.jsx("h3",{children:"Post in Seconds"}),i.jsx("p",{children:"Snap a photo, add a few details, choose a pickup spot  done."})]}),i.jsxs("div",{className:"landing-how-card",children:[i.jsx("div",{className:"landing-how-icon",children:i.jsx(Hn,{size:32})}),i.jsx("h3",{children:"Safe & Verified"}),i.jsx("p",{children:"Meet at campus-approved spots, view trust scores, and stay protected."})]}),i.jsxs("div",{className:"landing-how-card",children:[i.jsx("div",{className:"landing-how-icon",children:i.jsx(Et,{size:32})}),i.jsx("h3",{children:"Smart Trading"}),i.jsx("p",{children:"Use credits or essentials to trade  no cash required."})]})]})]})}),i.jsx("section",{id:"circles",className:"landing-section landing-circles",children:i.jsxs("div",{className:"landing-section-inner",children:[i.jsxs("div",{className:"landing-section-heading center",children:[i.jsx("h2",{className:"landing-heading-xl center",children:"Snag Circles  Trade in Groups That Matter"}),i.jsx("p",{className:"landing-section-subtitle center",children:"Join public circles or create your own to trade within clubs, dorm floors, majors, or interest groups. Keep exchanges relevant, fast, and trusted."})]}),i.jsx("div",{className:"landing-circles-grid",children:xL.map((l,u)=>i.jsxs("div",{className:"landing-circle-card",children:[i.jsx("div",{className:`landing-circle-icon ${l.colorClass}`,children:i.jsx(l.icon,{size:22})}),i.jsx("h4",{children:l.name}),i.jsxs("p",{children:[l.members," members"]})]},u))}),i.jsx("div",{className:"landing-circles-cta",children:i.jsx(Dd,{onClick:o,className:"landing-hero-primary-btn",children:"Explore Circles"})})]})}),i.jsx("section",{className:"landing-section landing-sustain",children:i.jsx("div",{className:"landing-section-inner",children:i.jsxs("div",{className:"landing-sustain-card",children:[i.jsx("h2",{className:"landing-heading-xl center",children:"Why Snag Matters"}),i.jsx("p",{className:"landing-section-subtitle center",children:"Every item traded, reused, or repurposed reduces waste and lightens your move-out load. We aim to solve the growing problem of waste on college campuses by helping students exchange what they no longer need with those who do."}),i.jsxs("div",{className:"landing-sustain-icons",children:[i.jsxs("div",{className:"landing-sustain-icon-block",children:[i.jsx("div",{className:"landing-sustain-icon",children:i.jsx(QS,{size:32})}),i.jsx("span",{children:"Reuse"})]}),i.jsxs("div",{className:"landing-sustain-icon-block",children:[i.jsx("div",{className:"landing-sustain-icon",children:i.jsx(dk,{size:32})}),i.jsx("span",{children:"Reduce"})]}),i.jsxs("div",{className:"landing-sustain-icon-block",children:[i.jsx("div",{className:"landing-sustain-icon",children:i.jsx(TS,{size:32})}),i.jsx("span",{children:"Rethink"})]})]})]})})}),i.jsx("section",{className:"landing-section landing-final-cta",children:i.jsxs("div",{className:"landing-final-card",children:[i.jsx("h2",{children:"Join thousands of students building a circular campus economy."}),i.jsx(Dd,{onClick:o,className:"landing-final-button",children:"Get Started"})]})}),i.jsxs("footer",{id:"footer",className:"landing-footer",children:[i.jsxs("div",{className:"landing-footer-inner",children:[i.jsx("div",{className:"landing-footer-left",children:i.jsx(zn,{size:24})}),i.jsxs("div",{className:"landing-footer-links",children:[i.jsx("button",{children:"About"}),i.jsx("span",{children:""}),i.jsx("button",{children:"Contact"}),i.jsx("span",{children:""}),i.jsx("button",{children:"Terms"}),i.jsx("span",{children:""}),i.jsx("button",{children:"Privacy"})]}),i.jsxs("div",{className:"landing-footer-social",children:[i.jsx("button",{children:i.jsx(jS,{size:18})}),i.jsx("button",{children:i.jsx(IS,{size:18})})]})]}),i.jsx("div",{className:"landing-footer-bottom",children:" 2025 Snag  Made by students, for students."})]})]})}const gL=[{initials:"HB",name:"Humza Bukhari"},{initials:"JL",name:"Joshua Luce"},{initials:"JM",name:"Joonyoung Ma"},{initials:"YN",name:"Yamaan Nandolia"}],xL=[{name:"Dorm 3A",members:45,icon:Rr,colorClass:"circle-blue"},{name:"Film Club",members:28,icon:Rr,colorClass:"circle-pink"},{name:"Movers Circle",members:156,icon:Rr,colorClass:"circle-green"},{name:"UIUC Carpool",members:92,icon:Rr,colorClass:"circle-orange"},{name:"CS Majors",members:203,icon:Rr,colorClass:"circle-purple"},{name:"Study Abroad",members:67,icon:Rr,colorClass:"circle-indigo"}];function vL(){const[r,e]=_.useState("landing"),[t,n]=_.useState(null),[o,l]=_.useState(""),[u,h]=_.useState(!1),[p,m]=_.useState(null),[v,x]=_.useState([]),[w]=_.useState({id:"user_1",name:"Ryan Mehta"}),[k,R]=_.useState([]),[E,T]=_.useState([]),[O,B]=_.useState({isOpen:!1,icon:void 0,title:"",message:""}),[$,F]=_.useState({isOpen:!1,listing:null}),[W,X]=_.useState([{id:1,type:"meeting",title:"Meeting confirmed",message:"Your meeting for Desk Chair at Student Union Entrance",time:"1 hour ago",unread:!0},{id:2,type:"barter",title:"New barter offer received",message:"Emma L. wants to trade for your Vintage Denim Jacket",time:"3 hours ago",unread:!0}]),[I,S]=_.useState(2);_.useEffect(()=>{if(u){const re=setTimeout(()=>{h(!1),e("home")},2500);return()=>clearTimeout(re)}},[u]);const P=(re,oe,me,we)=>{const ce={id:Date.now(),type:re,title:oe,message:me,time:"Just now",unread:!0,listingData:we};X(pe=>[ce,...pe]),S(pe=>pe+1)},D=(re,oe,me)=>{B({isOpen:!0,icon:re,title:oe,message:me})},M=re=>{re.type==="listing"&&re.listingData&&F({isOpen:!0,listing:re.listingData})},L=re=>{const oe={...re,id:Date.now(),sellerId:w.id,seller:{name:w.name,verified:!0},status:"active",views:0,images:[re.image],postedTime:"Just now",isBarter:!1};x(me=>[oe,...me]),m(oe),P("listing","Listing published","Your item is now visible to all campus students",oe),D(i.jsx(ys,{className:"w-8 h-8 text-white"}),"Listing Published!","Your item is now visible to all students")},A=()=>{P("barter","Barter confirmed","Your trade has been accepted! Schedule a meetup to exchange items."),D(i.jsx(Et,{className:"w-8 h-8 text-white"}),"Barter Confirmed!","Your trade has been accepted"),e("home")},ne=re=>{R(oe=>[re,...oe]),n(re),e("circle-feed")},le=re=>{const oe=re.trim();oe&&!E.includes(oe)&&T(me=>[...me,oe])},ee=re=>{T(oe=>oe.filter(me=>me!==re))},G=(re,oe)=>{re==="confirmation"&&(P("meeting","Meeting confirmed",`Your meeting at ${o||"Main Library Lobby"} has been scheduled`),D(i.jsx(jh,{className:"w-8 h-8 text-white"}),"Meeting Confirmed!",`Your meetup is scheduled at ${o||"Main Library Lobby"}`)),re==="notifications"&&(X(me=>me.map(we=>({...we,unread:!1}))),S(0)),e(re),oe&&n(oe)},U=re=>{l(re)};if(u)return i.jsx($O,{});const ie=()=>{switch(r){case"landing":return i.jsx(mL,{navigateTo:G});case"login":return i.jsx(aL,{navigateTo:G});case"signup":return i.jsx(lL,{navigateTo:G});case"select-interests":return i.jsx(cL,{navigateTo:G,userData:t});case"review-profile":return i.jsx(uL,{navigateTo:G,userData:t});case"forgot-password":return i.jsx(dL,{navigateTo:G});case"verify-email":return i.jsx(hL,{navigateTo:G,userData:t});case"home":return i.jsx(Mb,{navigateTo:G,notificationCount:I,customTags:E,onAddCustomTag:le,onRemoveCustomTag:ee});case"trade":return i.jsx(T3,{navigateTo:G,customTags:E,onAddCustomTag:le,onRemoveCustomTag:ee});case"circles-home":return i.jsx(JO,{navigateTo:G,userCircles:k});case"circle-feed":return i.jsx(ZO,{navigateTo:G,circle:t,customTags:E,onAddCustomTag:le,onRemoveCustomTag:ee});case"circle-about":return i.jsx(nL,{navigateTo:G,circle:t});case"create-circle":return i.jsx(iL,{navigateTo:G,onCreate:ne});case"user-profile":return i.jsx(XO,{navigateTo:G,user:t});case"create":return i.jsx(W9,{navigateTo:G,onPublish:L,prefilledCircle:t?.prefilledCircle,customTags:E,onAddCustomTag:le});case"profile":return i.jsx(vO,{navigateTo:G,myListings:v});case"settings":return i.jsx(jO,{navigateTo:G});case"notifications":return i.jsx(kO,{navigateTo:G,notifications:W,onNotificationClick:M});case"item-detail":return i.jsx(IO,{item:t,navigateTo:G});case"meeting":return i.jsx(AO,{item:t,navigateTo:G,onSelectSpot:U});case"barter-offer":return i.jsx(RO,{item:t,navigateTo:G});case"counter-offer":return i.jsx(PO,{item:t,counterOffer:{title:"Vintage Leather Jacket",description:"Size L, excellent condition",image:"https://images.unsplash.com/photo-1551028719-00167b16eac5?w=400",credits:5},navigateTo:G,onConfirm:A});case"confirmation":return i.jsx(DO,{item:t,meetingSpot:o,navigateTo:G});case"full-listing-view":return i.jsx(LO,{listing:t,navigateTo:G,currentUser:w});case"my-listings":return i.jsx(VO,{navigateTo:G,myListings:v});case"style-guide":return i.jsx(UO,{navigateTo:G});case"privacy-settings":return i.jsx(BO,{navigateTo:G});case"blocked-users":return i.jsx(zO,{navigateTo:G});case"safety-tips":return i.jsx(HO,{navigateTo:G});case"edit-profile":return i.jsx(WO,{navigateTo:G});case"change-password":return i.jsx(GO,{navigateTo:G});case"language-settings":return i.jsx(KO,{navigateTo:G});case"help-center":return i.jsx(YO,{navigateTo:G});case"send-feedback":return i.jsx(QO,{navigateTo:G});case"component-library":return i.jsx(oL,{navigateTo:G});default:return i.jsx(Mb,{navigateTo:G,notificationCount:I})}},z=["home","circles-home","profile","settings"].includes(r),{darkMode:te}=St();return i.jsxs("div",{className:`relative w-full min-h-screen ${te?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"}`,children:[i.jsx("div",{className:z?"pb-24":"",children:ie()}),z&&i.jsx(FO,{activeScreen:r,navigateTo:G}),i.jsx(MO,{isOpen:O.isOpen,onClose:()=>B({...O,isOpen:!1}),icon:O.icon,title:O.title,message:O.message}),i.jsx(OO,{isOpen:$.isOpen,onClose:()=>F({isOpen:!1,listing:null}),listing:$.listing,onViewListing:()=>{F({isOpen:!1,listing:null}),n($.listing),e("full-listing-view")}}),i.jsx(fL,{position:"top-center"})]})}function yL(){return i.jsx(RT,{children:i.jsx(v3,{children:i.jsx(vL,{})})})}Lj.createRoot(document.getElementById("root")).render(i.jsx(yL,{}));
