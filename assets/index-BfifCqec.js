function Pj(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in r)){const l=Object.getOwnPropertyDescriptor(n,o);l&&Object.defineProperty(r,o,l.get?l:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function _w(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Vp={exports:{}},vc={},$p={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly;function Dj(){if(Ly)return Ke;Ly=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),x=Symbol.iterator;function w(F){return F===null||typeof F!="object"?null:(F=x&&F[x]||F["@@iterator"],typeof F=="function"?F:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,E={};function T(F,J,re){this.props=F,this.context=J,this.refs=E,this.updater=re||k}T.prototype.isReactComponent={},T.prototype.setState=function(F,J){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,J,"setState")},T.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function O(){}O.prototype=T.prototype;function B(F,J,re){this.props=F,this.context=J,this.refs=E,this.updater=re||k}var U=B.prototype=new O;U.constructor=B,P(U,T.prototype),U.isPureReactComponent=!0;var H=Array.isArray,W=Object.prototype.hasOwnProperty,Z={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function S(F,J,re){var te,he={},ve=null,le=null;if(J!=null)for(te in J.ref!==void 0&&(le=J.ref),J.key!==void 0&&(ve=""+J.key),J)W.call(J,te)&&!R.hasOwnProperty(te)&&(he[te]=J[te]);var pe=arguments.length-2;if(pe===1)he.children=re;else if(1<pe){for(var Ie=Array(pe),Pe=0;Pe<pe;Pe++)Ie[Pe]=arguments[Pe+2];he.children=Ie}if(F&&F.defaultProps)for(te in pe=F.defaultProps,pe)he[te]===void 0&&(he[te]=pe[te]);return{$$typeof:r,type:F,key:ve,ref:le,props:he,_owner:Z.current}}function M(F,J){return{$$typeof:r,type:F.type,key:J,ref:F.ref,props:F.props,_owner:F._owner}}function V(F){return typeof F=="object"&&F!==null&&F.$$typeof===r}function D(F){var J={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(re){return J[re]})}var I=/\/+/g;function C(F,J){return typeof F=="object"&&F!==null&&F.key!=null?D(""+F.key):J.toString(36)}function de(F,J,re,te,he){var ve=typeof F;(ve==="undefined"||ve==="boolean")&&(F=null);var le=!1;if(F===null)le=!0;else switch(ve){case"string":case"number":le=!0;break;case"object":switch(F.$$typeof){case r:case e:le=!0}}if(le)return le=F,he=he(le),F=te===""?"."+C(le,0):te,H(he)?(re="",F!=null&&(re=F.replace(I,"$&/")+"/"),de(he,J,re,"",function(Pe){return Pe})):he!=null&&(V(he)&&(he=M(he,re+(!he.key||le&&le.key===he.key?"":(""+he.key).replace(I,"$&/")+"/")+F)),J.push(he)),1;if(le=0,te=te===""?".":te+":",H(F))for(var pe=0;pe<F.length;pe++){ve=F[pe];var Ie=te+C(ve,pe);le+=de(ve,J,re,Ie,he)}else if(Ie=w(F),typeof Ie=="function")for(F=Ie.call(F),pe=0;!(ve=F.next()).done;)ve=ve.value,Ie=te+C(ve,pe++),le+=de(ve,J,re,Ie,he);else if(ve==="object")throw J=String(F),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return le}function oe(F,J,re){if(F==null)return F;var te=[],he=0;return de(F,te,"","",function(ve){return J.call(re,ve,he++)}),te}function K(F){if(F._status===-1){var J=F._result;J=J(),J.then(function(re){(F._status===0||F._status===-1)&&(F._status=1,F._result=re)},function(re){(F._status===0||F._status===-1)&&(F._status=2,F._result=re)}),F._status===-1&&(F._status=0,F._result=J)}if(F._status===1)return F._result.default;throw F._result}var q={current:null},$={transition:null},se={ReactCurrentDispatcher:q,ReactCurrentBatchConfig:$,ReactCurrentOwner:Z};function ie(){throw Error("act(...) is not supported in production builds of React.")}return Ke.Children={map:oe,forEach:function(F,J,re){oe(F,function(){J.apply(this,arguments)},re)},count:function(F){var J=0;return oe(F,function(){J++}),J},toArray:function(F){return oe(F,function(J){return J})||[]},only:function(F){if(!V(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Ke.Component=T,Ke.Fragment=t,Ke.Profiler=o,Ke.PureComponent=B,Ke.StrictMode=n,Ke.Suspense=p,Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,Ke.act=ie,Ke.cloneElement=function(F,J,re){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var te=P({},F.props),he=F.key,ve=F.ref,le=F._owner;if(J!=null){if(J.ref!==void 0&&(ve=J.ref,le=Z.current),J.key!==void 0&&(he=""+J.key),F.type&&F.type.defaultProps)var pe=F.type.defaultProps;for(Ie in J)W.call(J,Ie)&&!R.hasOwnProperty(Ie)&&(te[Ie]=J[Ie]===void 0&&pe!==void 0?pe[Ie]:J[Ie])}var Ie=arguments.length-2;if(Ie===1)te.children=re;else if(1<Ie){pe=Array(Ie);for(var Pe=0;Pe<Ie;Pe++)pe[Pe]=arguments[Pe+2];te.children=pe}return{$$typeof:r,type:F.type,key:he,ref:ve,props:te,_owner:le}},Ke.createContext=function(F){return F={$$typeof:u,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:l,_context:F},F.Consumer=F},Ke.createElement=S,Ke.createFactory=function(F){var J=S.bind(null,F);return J.type=F,J},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(F){return{$$typeof:h,render:F}},Ke.isValidElement=V,Ke.lazy=function(F){return{$$typeof:y,_payload:{_status:-1,_result:F},_init:K}},Ke.memo=function(F,J){return{$$typeof:m,type:F,compare:J===void 0?null:J}},Ke.startTransition=function(F){var J=$.transition;$.transition={};try{F()}finally{$.transition=J}},Ke.unstable_act=ie,Ke.useCallback=function(F,J){return q.current.useCallback(F,J)},Ke.useContext=function(F){return q.current.useContext(F)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(F){return q.current.useDeferredValue(F)},Ke.useEffect=function(F,J){return q.current.useEffect(F,J)},Ke.useId=function(){return q.current.useId()},Ke.useImperativeHandle=function(F,J,re){return q.current.useImperativeHandle(F,J,re)},Ke.useInsertionEffect=function(F,J){return q.current.useInsertionEffect(F,J)},Ke.useLayoutEffect=function(F,J){return q.current.useLayoutEffect(F,J)},Ke.useMemo=function(F,J){return q.current.useMemo(F,J)},Ke.useReducer=function(F,J,re){return q.current.useReducer(F,J,re)},Ke.useRef=function(F){return q.current.useRef(F)},Ke.useState=function(F){return q.current.useState(F)},Ke.useSyncExternalStore=function(F,J,re){return q.current.useSyncExternalStore(F,J,re)},Ke.useTransition=function(){return q.current.useTransition()},Ke.version="18.3.1",Ke}var Vy;function Rh(){return Vy||(Vy=1,$p.exports=Dj()),$p.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $y;function Mj(){if($y)return vc;$y=1;var r=Rh(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(h,p,m){var y,x={},w=null,k=null;m!==void 0&&(w=""+m),p.key!==void 0&&(w=""+p.key),p.ref!==void 0&&(k=p.ref);for(y in p)n.call(p,y)&&!l.hasOwnProperty(y)&&(x[y]=p[y]);if(h&&h.defaultProps)for(y in p=h.defaultProps,p)x[y]===void 0&&(x[y]=p[y]);return{$$typeof:e,type:h,key:w,ref:k,props:x,_owner:o.current}}return vc.Fragment=t,vc.jsx=u,vc.jsxs=u,vc}var Fy;function Oj(){return Fy||(Fy=1,Vp.exports=Mj()),Vp.exports}var i=Oj(),_d={},Fp={exports:{}},Hr={},Up={exports:{}},Bp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uy;function Lj(){return Uy||(Uy=1,(function(r){function e($,se){var ie=$.length;$.push(se);e:for(;0<ie;){var F=ie-1>>>1,J=$[F];if(0<o(J,se))$[F]=se,$[ie]=J,ie=F;else break e}}function t($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var se=$[0],ie=$.pop();if(ie!==se){$[0]=ie;e:for(var F=0,J=$.length,re=J>>>1;F<re;){var te=2*(F+1)-1,he=$[te],ve=te+1,le=$[ve];if(0>o(he,ie))ve<J&&0>o(le,he)?($[F]=le,$[ve]=ie,F=ve):($[F]=he,$[te]=ie,F=te);else if(ve<J&&0>o(le,ie))$[F]=le,$[ve]=ie,F=ve;else break e}}return se}function o($,se){var ie=$.sortIndex-se.sortIndex;return ie!==0?ie:$.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();r.unstable_now=function(){return u.now()-h}}var p=[],m=[],y=1,x=null,w=3,k=!1,P=!1,E=!1,T=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U($){for(var se=t(m);se!==null;){if(se.callback===null)n(m);else if(se.startTime<=$)n(m),se.sortIndex=se.expirationTime,e(p,se);else break;se=t(m)}}function H($){if(E=!1,U($),!P)if(t(p)!==null)P=!0,K(W);else{var se=t(m);se!==null&&q(H,se.startTime-$)}}function W($,se){P=!1,E&&(E=!1,O(S),S=-1),k=!0;var ie=w;try{for(U(se),x=t(p);x!==null&&(!(x.expirationTime>se)||$&&!D());){var F=x.callback;if(typeof F=="function"){x.callback=null,w=x.priorityLevel;var J=F(x.expirationTime<=se);se=r.unstable_now(),typeof J=="function"?x.callback=J:x===t(p)&&n(p),U(se)}else n(p);x=t(p)}if(x!==null)var re=!0;else{var te=t(m);te!==null&&q(H,te.startTime-se),re=!1}return re}finally{x=null,w=ie,k=!1}}var Z=!1,R=null,S=-1,M=5,V=-1;function D(){return!(r.unstable_now()-V<M)}function I(){if(R!==null){var $=r.unstable_now();V=$;var se=!0;try{se=R(!0,$)}finally{se?C():(Z=!1,R=null)}}else Z=!1}var C;if(typeof B=="function")C=function(){B(I)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,oe=de.port2;de.port1.onmessage=I,C=function(){oe.postMessage(null)}}else C=function(){T(I,0)};function K($){R=$,Z||(Z=!0,C())}function q($,se){S=T(function(){$(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_continueExecution=function(){P||k||(P=!0,K(W))},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_getFirstCallbackNode=function(){return t(p)},r.unstable_next=function($){switch(w){case 1:case 2:case 3:var se=3;break;default:se=w}var ie=w;w=se;try{return $()}finally{w=ie}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function($,se){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ie=w;w=$;try{return se()}finally{w=ie}},r.unstable_scheduleCallback=function($,se,ie){var F=r.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?F+ie:F):ie=F,$){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=ie+J,$={id:y++,callback:se,priorityLevel:$,startTime:ie,expirationTime:J,sortIndex:-1},ie>F?($.sortIndex=ie,e(m,$),t(p)===null&&$===t(m)&&(E?(O(S),S=-1):E=!0,q(H,ie-F))):($.sortIndex=J,e(p,$),P||k||(P=!0,K(W))),$},r.unstable_shouldYield=D,r.unstable_wrapCallback=function($){var se=w;return function(){var ie=w;w=se;try{return $.apply(this,arguments)}finally{w=ie}}}})(Bp)),Bp}var By;function Vj(){return By||(By=1,Up.exports=Lj()),Up.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zy;function $j(){if(zy)return Hr;zy=1;var r=Rh(),e=Vj();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,o={};function l(s,a){u(s,a),u(s+"Capture",a)}function u(s,a){for(o[s]=a,s=0;s<a.length;s++)n.add(a[s])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},x={};function w(s){return p.call(x,s)?!0:p.call(y,s)?!1:m.test(s)?x[s]=!0:(y[s]=!0,!1)}function k(s,a,c,f){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function P(s,a,c,f){if(a===null||typeof a>"u"||k(s,a,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function E(s,a,c,f,g,v,j){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=s,this.type=a,this.sanitizeURL=v,this.removeEmptyString=j}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){T[s]=new E(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];T[a]=new E(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){T[s]=new E(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){T[s]=new E(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){T[s]=new E(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){T[s]=new E(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){T[s]=new E(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){T[s]=new E(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){T[s]=new E(s,5,!1,s.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function B(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(O,B);T[a]=new E(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(O,B);T[a]=new E(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(O,B);T[a]=new E(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){T[s]=new E(s,1,!1,s.toLowerCase(),null,!1,!1)}),T.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){T[s]=new E(s,1,!1,s.toLowerCase(),null,!0,!0)});function U(s,a,c,f){var g=T.hasOwnProperty(a)?T[a]:null;(g!==null?g.type!==0:f||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(P(a,c,g,f)&&(c=null),f||g===null?w(a)&&(c===null?s.removeAttribute(a):s.setAttribute(a,""+c)):g.mustUseProperty?s[g.propertyName]=c===null?g.type===3?!1:"":c:(a=g.attributeName,f=g.attributeNamespace,c===null?s.removeAttribute(a):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,f?s.setAttributeNS(f,a,c):s.setAttribute(a,c))))}var H=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,W=Symbol.for("react.element"),Z=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),D=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),q=Symbol.for("react.offscreen"),$=Symbol.iterator;function se(s){return s===null||typeof s!="object"?null:(s=$&&s[$]||s["@@iterator"],typeof s=="function"?s:null)}var ie=Object.assign,F;function J(s){if(F===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);F=a&&a[1]||""}return`
`+F+s}var re=!1;function te(s,a){if(!s||re)return"";re=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ee){var f=ee}Reflect.construct(s,[],a)}else{try{a.call()}catch(ee){f=ee}s.call(a.prototype)}else{try{throw Error()}catch(ee){f=ee}s()}}catch(ee){if(ee&&f&&typeof ee.stack=="string"){for(var g=ee.stack.split(`
`),v=f.stack.split(`
`),j=g.length-1,L=v.length-1;1<=j&&0<=L&&g[j]!==v[L];)L--;for(;1<=j&&0<=L;j--,L--)if(g[j]!==v[L]){if(j!==1||L!==1)do if(j--,L--,0>L||g[j]!==v[L]){var z=`
`+g[j].replace(" at new "," at ");return s.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",s.displayName)),z}while(1<=j&&0<=L);break}}}finally{re=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?J(s):""}function he(s){switch(s.tag){case 5:return J(s.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return s=te(s.type,!1),s;case 11:return s=te(s.type.render,!1),s;case 1:return s=te(s.type,!0),s;default:return""}}function ve(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case R:return"Fragment";case Z:return"Portal";case M:return"Profiler";case S:return"StrictMode";case C:return"Suspense";case de:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case D:return(s.displayName||"Context")+".Consumer";case V:return(s._context.displayName||"Context")+".Provider";case I:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case oe:return a=s.displayName||null,a!==null?a:ve(s.type)||"Memo";case K:a=s._payload,s=s._init;try{return ve(s(a))}catch{}}return null}function le(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(a);case 8:return a===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function pe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ie(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Pe(s){var a=Ie(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),f=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,v=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(j){f=""+j,v.call(this,j)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(j){f=""+j},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function ze(s){s._valueTracker||(s._valueTracker=Pe(s))}function We(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),f="";return s&&(f=Ie(s)?s.checked?"true":"false":s.value),s=f,s!==c?(a.setValue(s),!0):!1}function mt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function $t(s,a){var c=a.checked;return ie({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function dn(s,a){var c=a.defaultValue==null?"":a.defaultValue,f=a.checked!=null?a.checked:a.defaultChecked;c=pe(a.value!=null?a.value:c),s._wrapperState={initialChecked:f,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function gr(s,a){a=a.checked,a!=null&&U(s,"checked",a,!1)}function be(s,a){gr(s,a);var c=pe(a.value),f=a.type;if(c!=null)f==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(f==="submit"||f==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?qe(s,a.type,c):a.hasOwnProperty("defaultValue")&&qe(s,a.type,pe(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function Ye(s,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var f=a.type;if(!(f!=="submit"&&f!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,c||a===s.value||(s.value=a),s.defaultValue=a}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function qe(s,a,c){(a!=="number"||mt(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var ct=Array.isArray;function Zt(s,a,c,f){if(s=s.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=a.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&f&&(s[c].defaultSelected=!0)}else{for(c=""+pe(c),a=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,f&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function ut(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return ie({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function or(s,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(ct(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}s._wrapperState={initialValue:pe(c)}}function ar(s,a){var c=pe(a.value),f=pe(a.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),a.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),f!=null&&(s.defaultValue=""+f)}function Yr(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Jn(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mi(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Jn(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Tn,gi=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,f,g){MSApp.execUnsafeLocalFunction(function(){return s(a,c,f,g)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(Tn=Tn||document.createElement("div"),Tn.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Tn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Lr(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var Cn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},In=["Webkit","ms","Moz","O"];Object.keys(Cn).forEach(function(s){In.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Cn[a]=Cn[s]})});function Zn(s,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||Cn.hasOwnProperty(s)&&Cn[s]?(""+a).trim():a+"px"}function xi(s,a){s=s.style;for(var c in a)if(a.hasOwnProperty(c)){var f=c.indexOf("--")===0,g=Zn(c,a[c],f);c==="float"&&(c="cssFloat"),f?s.setProperty(c,g):s[c]=g}}var yi=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vr(s,a){if(a){if(yi[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function vi(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hn=null;function Tr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var An=null,Rn=null,gt=null;function bi(s){if(s=sc(s)){if(typeof An!="function")throw Error(t(280));var a=s.stateNode;a&&(a=Lu(a),An(s.stateNode,s.type,a))}}function Oe(s){Rn?gt?gt.push(s):gt=[s]:Rn=s}function dt(){if(Rn){var s=Rn,a=gt;if(gt=Rn=null,bi(s),a)for(s=0;s<a.length;s++)bi(a[s])}}function Pt(s,a){return s(a)}function er(){}var Cr=!1;function Ct(s,a,c){if(Cr)return s(a,c);Cr=!0;try{return Pt(s,a,c)}finally{Cr=!1,(Rn!==null||gt!==null)&&(er(),dt())}}function Ft(s,a){var c=s.stateNode;if(c===null)return null;var f=Lu(c);if(f===null)return null;c=f[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(s=s.type,f=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!f;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var Qr=!1;if(h)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){Qr=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch{Qr=!1}function xr(s,a,c,f,g,v,j,L,z){var ee=Array.prototype.slice.call(arguments,3);try{a.apply(c,ee)}catch(fe){this.onError(fe)}}var fn=!1,tr=null,xo=!1,pn=null,mu={onError:function(s){fn=!0,tr=s}};function gu(s,a,c,f,g,v,j,L,z){fn=!1,tr=null,xr.apply(mu,arguments)}function Rl(s,a,c,f,g,v,j,L,z){if(gu.apply(this,arguments),fn){if(fn){var ee=tr;fn=!1,tr=null}else throw Error(t(198));xo||(xo=!0,pn=ee)}}function Pn(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function Pl(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function xu(s){if(Pn(s)!==s)throw Error(t(188))}function yu(s){var a=s.alternate;if(!a){if(a=Pn(s),a===null)throw Error(t(188));return a!==s?null:s}for(var c=s,f=a;;){var g=c.return;if(g===null)break;var v=g.alternate;if(v===null){if(f=g.return,f!==null){c=f;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===c)return xu(g),s;if(v===f)return xu(g),a;v=v.sibling}throw Error(t(188))}if(c.return!==f.return)c=g,f=v;else{for(var j=!1,L=g.child;L;){if(L===c){j=!0,c=g,f=v;break}if(L===f){j=!0,f=g,c=v;break}L=L.sibling}if(!j){for(L=v.child;L;){if(L===c){j=!0,c=v,f=g;break}if(L===f){j=!0,f=v,c=g;break}L=L.sibling}if(!j)throw Error(t(189))}}if(c.alternate!==f)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:a}function vu(s){return s=yu(s),s!==null?yo(s):null}function yo(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=yo(s);if(a!==null)return a;s=s.sibling}return null}var Dl=e.unstable_scheduleCallback,ua=e.unstable_cancelCallback,vo=e.unstable_shouldYield,Vs=e.unstable_requestPaint,xt=e.unstable_now,mf=e.unstable_getCurrentPriorityLevel,da=e.unstable_ImmediatePriority,Ml=e.unstable_UserBlockingPriority,bo=e.unstable_NormalPriority,Ol=e.unstable_LowPriority,ha=e.unstable_IdlePriority,wo=null,Xr=null;function bu(s){if(Xr&&typeof Xr.onCommitFiberRoot=="function")try{Xr.onCommitFiberRoot(wo,s,void 0,(s.current.flags&128)===128)}catch{}}var Jr=Math.clz32?Math.clz32:_o,es=Math.log,mn=Math.LN2;function _o(s){return s>>>=0,s===0?32:31-(es(s)/mn|0)|0}var ts=64,wi=4194304;function st(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function $s(s,a){var c=s.pendingLanes;if(c===0)return 0;var f=0,g=s.suspendedLanes,v=s.pingedLanes,j=c&268435455;if(j!==0){var L=j&~g;L!==0?f=st(L):(v&=j,v!==0&&(f=st(v)))}else j=c&~g,j!==0?f=st(j):v!==0&&(f=st(v));if(f===0)return 0;if(a!==0&&a!==f&&(a&g)===0&&(g=f&-f,v=a&-a,g>=v||g===16&&(v&4194240)!==0))return a;if((f&4)!==0&&(f|=c&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=f;0<a;)c=31-Jr(a),g=1<<c,f|=s[c],a&=~g;return f}function No(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Eo(s,a){for(var c=s.suspendedLanes,f=s.pingedLanes,g=s.expirationTimes,v=s.pendingLanes;0<v;){var j=31-Jr(v),L=1<<j,z=g[j];z===-1?((L&c)===0||(L&f)!==0)&&(g[j]=No(L,a)):z<=a&&(s.expiredLanes|=L),v&=~L}}function Ll(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Vl(){var s=ts;return ts<<=1,(ts&4194240)===0&&(ts=64),s}function $l(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function jo(s,a,c){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-Jr(a),s[a]=c}function gf(s,a){var c=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var f=s.eventTimes;for(s=s.expirationTimes;0<c;){var g=31-Jr(c),v=1<<g;a[g]=0,f[g]=-1,s[g]=-1,c&=~v}}function Fl(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var f=31-Jr(c),g=1<<f;g&a|s[f]&a&&(s[f]|=a),c&=~g}}var Ze=0;function rs(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Ul,fa,Bl,zl,Hl,ns=!1,pa=[],ss=null,is=null,lr=null,So=new Map,Fs=new Map,Zr=[],wu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _i(s,a){switch(s){case"focusin":case"focusout":ss=null;break;case"dragenter":case"dragleave":is=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":So.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fs.delete(a.pointerId)}}function Dn(s,a,c,f,g,v){return s===null||s.nativeEvent!==v?(s={blockedOn:a,domEventName:c,eventSystemFlags:f,nativeEvent:v,targetContainers:[g]},a!==null&&(a=sc(a),a!==null&&fa(a)),s):(s.eventSystemFlags|=f,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function _u(s,a,c,f,g){switch(a){case"focusin":return ss=Dn(ss,s,a,c,f,g),!0;case"dragenter":return is=Dn(is,s,a,c,f,g),!0;case"mouseover":return lr=Dn(lr,s,a,c,f,g),!0;case"pointerover":var v=g.pointerId;return So.set(v,Dn(So.get(v)||null,s,a,c,f,g)),!0;case"gotpointercapture":return v=g.pointerId,Fs.set(v,Dn(Fs.get(v)||null,s,a,c,f,g)),!0}return!1}function ma(s){var a=Io(s.target);if(a!==null){var c=Pn(a);if(c!==null){if(a=c.tag,a===13){if(a=Pl(c),a!==null){s.blockedOn=a,Hl(s.priority,function(){Bl(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function ht(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=ga(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var f=new c.constructor(c.type,c);hn=f,c.target.dispatchEvent(f),hn=null}else return a=sc(c),a!==null&&fa(a),s.blockedOn=c,!1;a.shift()}return!0}function Nu(s,a,c){ht(s)&&c.delete(a)}function xf(){ns=!1,ss!==null&&ht(ss)&&(ss=null),is!==null&&ht(is)&&(is=null),lr!==null&&ht(lr)&&(lr=null),So.forEach(Nu),Fs.forEach(Nu)}function Ni(s,a){s.blockedOn===a&&(s.blockedOn=null,ns||(ns=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,xf)))}function Ei(s){function a(g){return Ni(g,s)}if(0<pa.length){Ni(pa[0],s);for(var c=1;c<pa.length;c++){var f=pa[c];f.blockedOn===s&&(f.blockedOn=null)}}for(ss!==null&&Ni(ss,s),is!==null&&Ni(is,s),lr!==null&&Ni(lr,s),So.forEach(a),Fs.forEach(a),c=0;c<Zr.length;c++)f=Zr[c],f.blockedOn===s&&(f.blockedOn=null);for(;0<Zr.length&&(c=Zr[0],c.blockedOn===null);)ma(c),c.blockedOn===null&&Zr.shift()}var Us=H.ReactCurrentBatchConfig,Bs=!0;function os(s,a,c,f){var g=Ze,v=Us.transition;Us.transition=null;try{Ze=1,Wl(s,a,c,f)}finally{Ze=g,Us.transition=v}}function Eu(s,a,c,f){var g=Ze,v=Us.transition;Us.transition=null;try{Ze=4,Wl(s,a,c,f)}finally{Ze=g,Us.transition=v}}function Wl(s,a,c,f){if(Bs){var g=ga(s,a,c,f);if(g===null)Tf(s,a,f,as,c),_i(s,f);else if(_u(g,s,a,c,f))f.stopPropagation();else if(_i(s,f),a&4&&-1<wu.indexOf(s)){for(;g!==null;){var v=sc(g);if(v!==null&&Ul(v),v=ga(s,a,c,f),v===null&&Tf(s,a,f,as,c),v===g)break;g=v}g!==null&&f.stopPropagation()}else Tf(s,a,f,null,c)}}var as=null;function ga(s,a,c,f){if(as=null,s=Tr(f),s=Io(s),s!==null)if(a=Pn(s),a===null)s=null;else if(c=a.tag,c===13){if(s=Pl(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return as=s,null}function xa(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mf()){case da:return 1;case Ml:return 4;case bo:case Ol:return 16;case ha:return 536870912;default:return 16}default:return 16}}var en=null,ya=null,zs=null;function ju(){if(zs)return zs;var s,a=ya,c=a.length,f,g="value"in en?en.value:en.textContent,v=g.length;for(s=0;s<c&&a[s]===g[s];s++);var j=c-s;for(f=1;f<=j&&a[c-f]===g[v-f];f++);return zs=g.slice(s,1<f?1-f:void 0)}function ko(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function ls(){return!0}function ql(){return!1}function yr(s){function a(c,f,g,v,j){this._reactName=c,this._targetInst=g,this.type=f,this.nativeEvent=v,this.target=j,this.currentTarget=null;for(var L in s)s.hasOwnProperty(L)&&(c=s[L],this[L]=c?c(v):v[L]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?ls:ql,this.isPropagationStopped=ql,this}return ie(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),a}var cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},To=yr(cs),ji=ie({},cs,{view:0,detail:0}),va=yr(ji),ba,wa,tn,Co=ie({},ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ue,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==tn&&(tn&&s.type==="mousemove"?(ba=s.screenX-tn.screenX,wa=s.screenY-tn.screenY):wa=ba=0,tn=s),ba)},movementY:function(s){return"movementY"in s?s.movementY:wa}}),Gl=yr(Co),Su=ie({},Co,{dataTransfer:0}),ku=yr(Su),_a=ie({},ji,{relatedTarget:0}),cr=yr(_a),Tu=ie({},cs,{animationName:0,elapsedTime:0,pseudoElement:0}),Cu=yr(Tu),Si=ie({},cs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),d=yr(Si),b=ie({},cs,{data:0}),N=yr(b),A={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Q={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ne={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ye(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=ne[s])?!!a[s]:!1}function Ue(){return ye}var Dt=ie({},ji,{key:function(s){if(s.key){var a=A[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=ko(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Q[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ue,charCode:function(s){return s.type==="keypress"?ko(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ko(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),at=yr(Dt),Bt=ie({},Co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rn=yr(Bt),Hs=ie({},ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ue}),us=yr(Hs),ds=ie({},cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Na=yr(ds),Kl=ie({},Co,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),kE=yr(Kl),TE=[9,13,27,32],yf=h&&"CompositionEvent"in window,Yl=null;h&&"documentMode"in document&&(Yl=document.documentMode);var CE=h&&"TextEvent"in window&&!Yl,Cx=h&&(!yf||Yl&&8<Yl&&11>=Yl),Ix=" ",Ax=!1;function Rx(s,a){switch(s){case"keyup":return TE.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Px(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ea=!1;function IE(s,a){switch(s){case"compositionend":return Px(a);case"keypress":return a.which!==32?null:(Ax=!0,Ix);case"textInput":return s=a.data,s===Ix&&Ax?null:s;default:return null}}function AE(s,a){if(Ea)return s==="compositionend"||!yf&&Rx(s,a)?(s=ju(),zs=ya=en=null,Ea=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Cx&&a.locale!=="ko"?null:a.data;default:return null}}var RE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dx(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!RE[s.type]:a==="textarea"}function Mx(s,a,c,f){Oe(f),a=Du(a,"onChange"),0<a.length&&(c=new To("onChange","change",null,c,f),s.push({event:c,listeners:a}))}var Ql=null,Xl=null;function PE(s){Zx(s,0)}function Iu(s){var a=Ca(s);if(We(a))return s}function DE(s,a){if(s==="change")return a}var Ox=!1;if(h){var vf;if(h){var bf="oninput"in document;if(!bf){var Lx=document.createElement("div");Lx.setAttribute("oninput","return;"),bf=typeof Lx.oninput=="function"}vf=bf}else vf=!1;Ox=vf&&(!document.documentMode||9<document.documentMode)}function Vx(){Ql&&(Ql.detachEvent("onpropertychange",$x),Xl=Ql=null)}function $x(s){if(s.propertyName==="value"&&Iu(Xl)){var a=[];Mx(a,Xl,s,Tr(s)),Ct(PE,a)}}function ME(s,a,c){s==="focusin"?(Vx(),Ql=a,Xl=c,Ql.attachEvent("onpropertychange",$x)):s==="focusout"&&Vx()}function OE(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Iu(Xl)}function LE(s,a){if(s==="click")return Iu(a)}function VE(s,a){if(s==="input"||s==="change")return Iu(a)}function $E(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Mn=typeof Object.is=="function"?Object.is:$E;function Jl(s,a){if(Mn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),f=Object.keys(a);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var g=c[f];if(!p.call(a,g)||!Mn(s[g],a[g]))return!1}return!0}function Fx(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ux(s,a){var c=Fx(s);s=0;for(var f;c;){if(c.nodeType===3){if(f=s+c.textContent.length,s<=a&&f>=a)return{node:c,offset:a-s};s=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Fx(c)}}function Bx(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Bx(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function zx(){for(var s=window,a=mt();a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=mt(s.document)}return a}function wf(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function FE(s){var a=zx(),c=s.focusedElem,f=s.selectionRange;if(a!==c&&c&&c.ownerDocument&&Bx(c.ownerDocument.documentElement,c)){if(f!==null&&wf(c)){if(a=f.start,s=f.end,s===void 0&&(s=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(s,c.value.length);else if(s=(a=c.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var g=c.textContent.length,v=Math.min(f.start,g);f=f.end===void 0?v:Math.min(f.end,g),!s.extend&&v>f&&(g=f,f=v,v=g),g=Ux(c,v);var j=Ux(c,f);g&&j&&(s.rangeCount!==1||s.anchorNode!==g.node||s.anchorOffset!==g.offset||s.focusNode!==j.node||s.focusOffset!==j.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),s.removeAllRanges(),v>f?(s.addRange(a),s.extend(j.node,j.offset)):(a.setEnd(j.node,j.offset),s.addRange(a)))}}for(a=[],s=c;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)s=a[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var UE=h&&"documentMode"in document&&11>=document.documentMode,ja=null,_f=null,Zl=null,Nf=!1;function Hx(s,a,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Nf||ja==null||ja!==mt(f)||(f=ja,"selectionStart"in f&&wf(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Zl&&Jl(Zl,f)||(Zl=f,f=Du(_f,"onSelect"),0<f.length&&(a=new To("onSelect","select",null,a,c),s.push({event:a,listeners:f}),a.target=ja)))}function Au(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var Sa={animationend:Au("Animation","AnimationEnd"),animationiteration:Au("Animation","AnimationIteration"),animationstart:Au("Animation","AnimationStart"),transitionend:Au("Transition","TransitionEnd")},Ef={},Wx={};h&&(Wx=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function Ru(s){if(Ef[s])return Ef[s];if(!Sa[s])return s;var a=Sa[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in Wx)return Ef[s]=a[c];return s}var qx=Ru("animationend"),Gx=Ru("animationiteration"),Kx=Ru("animationstart"),Yx=Ru("transitionend"),Qx=new Map,Xx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ki(s,a){Qx.set(s,a),l(a,[s])}for(var jf=0;jf<Xx.length;jf++){var Sf=Xx[jf],BE=Sf.toLowerCase(),zE=Sf[0].toUpperCase()+Sf.slice(1);ki(BE,"on"+zE)}ki(qx,"onAnimationEnd"),ki(Gx,"onAnimationIteration"),ki(Kx,"onAnimationStart"),ki("dblclick","onDoubleClick"),ki("focusin","onFocus"),ki("focusout","onBlur"),ki(Yx,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ec="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HE=new Set("cancel close invalid load scroll toggle".split(" ").concat(ec));function Jx(s,a,c){var f=s.type||"unknown-event";s.currentTarget=c,Rl(f,a,void 0,s),s.currentTarget=null}function Zx(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var f=s[c],g=f.event;f=f.listeners;e:{var v=void 0;if(a)for(var j=f.length-1;0<=j;j--){var L=f[j],z=L.instance,ee=L.currentTarget;if(L=L.listener,z!==v&&g.isPropagationStopped())break e;Jx(g,L,ee),v=z}else for(j=0;j<f.length;j++){if(L=f[j],z=L.instance,ee=L.currentTarget,L=L.listener,z!==v&&g.isPropagationStopped())break e;Jx(g,L,ee),v=z}}}if(xo)throw s=pn,xo=!1,pn=null,s}function yt(s,a){var c=a[Df];c===void 0&&(c=a[Df]=new Set);var f=s+"__bubble";c.has(f)||(e0(a,s,2,!1),c.add(f))}function kf(s,a,c){var f=0;a&&(f|=4),e0(c,s,f,a)}var Pu="_reactListening"+Math.random().toString(36).slice(2);function tc(s){if(!s[Pu]){s[Pu]=!0,n.forEach(function(c){c!=="selectionchange"&&(HE.has(c)||kf(c,!1,s),kf(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Pu]||(a[Pu]=!0,kf("selectionchange",!1,a))}}function e0(s,a,c,f){switch(xa(a)){case 1:var g=os;break;case 4:g=Eu;break;default:g=Wl}c=g.bind(null,a,c,s),g=void 0,!Qr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),f?g!==void 0?s.addEventListener(a,c,{capture:!0,passive:g}):s.addEventListener(a,c,!0):g!==void 0?s.addEventListener(a,c,{passive:g}):s.addEventListener(a,c,!1)}function Tf(s,a,c,f,g){var v=f;if((a&1)===0&&(a&2)===0&&f!==null)e:for(;;){if(f===null)return;var j=f.tag;if(j===3||j===4){var L=f.stateNode.containerInfo;if(L===g||L.nodeType===8&&L.parentNode===g)break;if(j===4)for(j=f.return;j!==null;){var z=j.tag;if((z===3||z===4)&&(z=j.stateNode.containerInfo,z===g||z.nodeType===8&&z.parentNode===g))return;j=j.return}for(;L!==null;){if(j=Io(L),j===null)return;if(z=j.tag,z===5||z===6){f=v=j;continue e}L=L.parentNode}}f=f.return}Ct(function(){var ee=v,fe=Tr(c),me=[];e:{var ue=Qx.get(s);if(ue!==void 0){var _e=To,je=s;switch(s){case"keypress":if(ko(c)===0)break e;case"keydown":case"keyup":_e=at;break;case"focusin":je="focus",_e=cr;break;case"focusout":je="blur",_e=cr;break;case"beforeblur":case"afterblur":_e=cr;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_e=Gl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_e=ku;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_e=us;break;case qx:case Gx:case Kx:_e=Cu;break;case Yx:_e=Na;break;case"scroll":_e=va;break;case"wheel":_e=kE;break;case"copy":case"cut":case"paste":_e=d;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_e=rn}var Ce=(a&4)!==0,Mt=!Ce&&s==="scroll",Y=Ce?ue!==null?ue+"Capture":null:ue;Ce=[];for(var G=ee,X;G!==null;){X=G;var ge=X.stateNode;if(X.tag===5&&ge!==null&&(X=ge,Y!==null&&(ge=Ft(G,Y),ge!=null&&Ce.push(rc(G,ge,X)))),Mt)break;G=G.return}0<Ce.length&&(ue=new _e(ue,je,null,c,fe),me.push({event:ue,listeners:Ce}))}}if((a&7)===0){e:{if(ue=s==="mouseover"||s==="pointerover",_e=s==="mouseout"||s==="pointerout",ue&&c!==hn&&(je=c.relatedTarget||c.fromElement)&&(Io(je)||je[Ws]))break e;if((_e||ue)&&(ue=fe.window===fe?fe:(ue=fe.ownerDocument)?ue.defaultView||ue.parentWindow:window,_e?(je=c.relatedTarget||c.toElement,_e=ee,je=je?Io(je):null,je!==null&&(Mt=Pn(je),je!==Mt||je.tag!==5&&je.tag!==6)&&(je=null)):(_e=null,je=ee),_e!==je)){if(Ce=Gl,ge="onMouseLeave",Y="onMouseEnter",G="mouse",(s==="pointerout"||s==="pointerover")&&(Ce=rn,ge="onPointerLeave",Y="onPointerEnter",G="pointer"),Mt=_e==null?ue:Ca(_e),X=je==null?ue:Ca(je),ue=new Ce(ge,G+"leave",_e,c,fe),ue.target=Mt,ue.relatedTarget=X,ge=null,Io(fe)===ee&&(Ce=new Ce(Y,G+"enter",je,c,fe),Ce.target=X,Ce.relatedTarget=Mt,ge=Ce),Mt=ge,_e&&je)t:{for(Ce=_e,Y=je,G=0,X=Ce;X;X=ka(X))G++;for(X=0,ge=Y;ge;ge=ka(ge))X++;for(;0<G-X;)Ce=ka(Ce),G--;for(;0<X-G;)Y=ka(Y),X--;for(;G--;){if(Ce===Y||Y!==null&&Ce===Y.alternate)break t;Ce=ka(Ce),Y=ka(Y)}Ce=null}else Ce=null;_e!==null&&t0(me,ue,_e,Ce,!1),je!==null&&Mt!==null&&t0(me,Mt,je,Ce,!0)}}e:{if(ue=ee?Ca(ee):window,_e=ue.nodeName&&ue.nodeName.toLowerCase(),_e==="select"||_e==="input"&&ue.type==="file")var Ae=DE;else if(Dx(ue))if(Ox)Ae=VE;else{Ae=OE;var De=ME}else(_e=ue.nodeName)&&_e.toLowerCase()==="input"&&(ue.type==="checkbox"||ue.type==="radio")&&(Ae=LE);if(Ae&&(Ae=Ae(s,ee))){Mx(me,Ae,c,fe);break e}De&&De(s,ue,ee),s==="focusout"&&(De=ue._wrapperState)&&De.controlled&&ue.type==="number"&&qe(ue,"number",ue.value)}switch(De=ee?Ca(ee):window,s){case"focusin":(Dx(De)||De.contentEditable==="true")&&(ja=De,_f=ee,Zl=null);break;case"focusout":Zl=_f=ja=null;break;case"mousedown":Nf=!0;break;case"contextmenu":case"mouseup":case"dragend":Nf=!1,Hx(me,c,fe);break;case"selectionchange":if(UE)break;case"keydown":case"keyup":Hx(me,c,fe)}var Me;if(yf)e:{switch(s){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else Ea?Rx(s,c)&&($e="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&($e="onCompositionStart");$e&&(Cx&&c.locale!=="ko"&&(Ea||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&Ea&&(Me=ju()):(en=fe,ya="value"in en?en.value:en.textContent,Ea=!0)),De=Du(ee,$e),0<De.length&&($e=new N($e,s,null,c,fe),me.push({event:$e,listeners:De}),Me?$e.data=Me:(Me=Px(c),Me!==null&&($e.data=Me)))),(Me=CE?IE(s,c):AE(s,c))&&(ee=Du(ee,"onBeforeInput"),0<ee.length&&(fe=new N("onBeforeInput","beforeinput",null,c,fe),me.push({event:fe,listeners:ee}),fe.data=Me))}Zx(me,a)})}function rc(s,a,c){return{instance:s,listener:a,currentTarget:c}}function Du(s,a){for(var c=a+"Capture",f=[];s!==null;){var g=s,v=g.stateNode;g.tag===5&&v!==null&&(g=v,v=Ft(s,c),v!=null&&f.unshift(rc(s,v,g)),v=Ft(s,a),v!=null&&f.push(rc(s,v,g))),s=s.return}return f}function ka(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function t0(s,a,c,f,g){for(var v=a._reactName,j=[];c!==null&&c!==f;){var L=c,z=L.alternate,ee=L.stateNode;if(z!==null&&z===f)break;L.tag===5&&ee!==null&&(L=ee,g?(z=Ft(c,v),z!=null&&j.unshift(rc(c,z,L))):g||(z=Ft(c,v),z!=null&&j.push(rc(c,z,L)))),c=c.return}j.length!==0&&s.push({event:a,listeners:j})}var WE=/\r\n?/g,qE=/\u0000|\uFFFD/g;function r0(s){return(typeof s=="string"?s:""+s).replace(WE,`
`).replace(qE,"")}function Mu(s,a,c){if(a=r0(a),r0(s)!==a&&c)throw Error(t(425))}function Ou(){}var Cf=null,If=null;function Af(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Rf=typeof setTimeout=="function"?setTimeout:void 0,GE=typeof clearTimeout=="function"?clearTimeout:void 0,n0=typeof Promise=="function"?Promise:void 0,KE=typeof queueMicrotask=="function"?queueMicrotask:typeof n0<"u"?function(s){return n0.resolve(null).then(s).catch(YE)}:Rf;function YE(s){setTimeout(function(){throw s})}function Pf(s,a){var c=a,f=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(f===0){s.removeChild(g),Ei(a);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=g}while(c);Ei(a)}function Ti(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function s0(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}var Ta=Math.random().toString(36).slice(2),hs="__reactFiber$"+Ta,nc="__reactProps$"+Ta,Ws="__reactContainer$"+Ta,Df="__reactEvents$"+Ta,QE="__reactListeners$"+Ta,XE="__reactHandles$"+Ta;function Io(s){var a=s[hs];if(a)return a;for(var c=s.parentNode;c;){if(a=c[Ws]||c[hs]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=s0(s);s!==null;){if(c=s[hs])return c;s=s0(s)}return a}s=c,c=s.parentNode}return null}function sc(s){return s=s[hs]||s[Ws],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ca(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Lu(s){return s[nc]||null}var Mf=[],Ia=-1;function Ci(s){return{current:s}}function vt(s){0>Ia||(s.current=Mf[Ia],Mf[Ia]=null,Ia--)}function ft(s,a){Ia++,Mf[Ia]=s.current,s.current=a}var Ii={},vr=Ci(Ii),$r=Ci(!1),Ao=Ii;function Aa(s,a){var c=s.type.contextTypes;if(!c)return Ii;var f=s.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===a)return f.__reactInternalMemoizedMaskedChildContext;var g={},v;for(v in c)g[v]=a[v];return f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=g),g}function Fr(s){return s=s.childContextTypes,s!=null}function Vu(){vt($r),vt(vr)}function i0(s,a,c){if(vr.current!==Ii)throw Error(t(168));ft(vr,a),ft($r,c)}function o0(s,a,c){var f=s.stateNode;if(a=a.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var g in f)if(!(g in a))throw Error(t(108,le(s)||"Unknown",g));return ie({},c,f)}function $u(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ii,Ao=vr.current,ft(vr,s),ft($r,$r.current),!0}function a0(s,a,c){var f=s.stateNode;if(!f)throw Error(t(169));c?(s=o0(s,a,Ao),f.__reactInternalMemoizedMergedChildContext=s,vt($r),vt(vr),ft(vr,s)):vt($r),ft($r,c)}var qs=null,Fu=!1,Of=!1;function l0(s){qs===null?qs=[s]:qs.push(s)}function JE(s){Fu=!0,l0(s)}function Ai(){if(!Of&&qs!==null){Of=!0;var s=0,a=Ze;try{var c=qs;for(Ze=1;s<c.length;s++){var f=c[s];do f=f(!0);while(f!==null)}qs=null,Fu=!1}catch(g){throw qs!==null&&(qs=qs.slice(s+1)),Dl(da,Ai),g}finally{Ze=a,Of=!1}}return null}var Ra=[],Pa=0,Uu=null,Bu=0,gn=[],xn=0,Ro=null,Gs=1,Ks="";function Po(s,a){Ra[Pa++]=Bu,Ra[Pa++]=Uu,Uu=s,Bu=a}function c0(s,a,c){gn[xn++]=Gs,gn[xn++]=Ks,gn[xn++]=Ro,Ro=s;var f=Gs;s=Ks;var g=32-Jr(f)-1;f&=~(1<<g),c+=1;var v=32-Jr(a)+g;if(30<v){var j=g-g%5;v=(f&(1<<j)-1).toString(32),f>>=j,g-=j,Gs=1<<32-Jr(a)+g|c<<g|f,Ks=v+s}else Gs=1<<v|c<<g|f,Ks=s}function Lf(s){s.return!==null&&(Po(s,1),c0(s,1,0))}function Vf(s){for(;s===Uu;)Uu=Ra[--Pa],Ra[Pa]=null,Bu=Ra[--Pa],Ra[Pa]=null;for(;s===Ro;)Ro=gn[--xn],gn[xn]=null,Ks=gn[--xn],gn[xn]=null,Gs=gn[--xn],gn[xn]=null}var nn=null,sn=null,_t=!1,On=null;function u0(s,a){var c=wn(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=s,a=s.deletions,a===null?(s.deletions=[c],s.flags|=16):a.push(c)}function d0(s,a){switch(s.tag){case 5:var c=s.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,nn=s,sn=Ti(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,nn=s,sn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=Ro!==null?{id:Gs,overflow:Ks}:null,s.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=wn(18,null,null,0),c.stateNode=a,c.return=s,s.child=c,nn=s,sn=null,!0):!1;default:return!1}}function $f(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Ff(s){if(_t){var a=sn;if(a){var c=a;if(!d0(s,a)){if($f(s))throw Error(t(418));a=Ti(c.nextSibling);var f=nn;a&&d0(s,a)?u0(f,c):(s.flags=s.flags&-4097|2,_t=!1,nn=s)}}else{if($f(s))throw Error(t(418));s.flags=s.flags&-4097|2,_t=!1,nn=s}}}function h0(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;nn=s}function zu(s){if(s!==nn)return!1;if(!_t)return h0(s),_t=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Af(s.type,s.memoizedProps)),a&&(a=sn)){if($f(s))throw f0(),Error(t(418));for(;a;)u0(s,a),a=Ti(a.nextSibling)}if(h0(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(a===0){sn=Ti(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}s=s.nextSibling}sn=null}}else sn=nn?Ti(s.stateNode.nextSibling):null;return!0}function f0(){for(var s=sn;s;)s=Ti(s.nextSibling)}function Da(){sn=nn=null,_t=!1}function Uf(s){On===null?On=[s]:On.push(s)}var ZE=H.ReactCurrentBatchConfig;function ic(s,a,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var f=c.stateNode}if(!f)throw Error(t(147,s));var g=f,v=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===v?a.ref:(a=function(j){var L=g.refs;j===null?delete L[v]:L[v]=j},a._stringRef=v,a)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function Hu(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function p0(s){var a=s._init;return a(s._payload)}function m0(s){function a(Y,G){if(s){var X=Y.deletions;X===null?(Y.deletions=[G],Y.flags|=16):X.push(G)}}function c(Y,G){if(!s)return null;for(;G!==null;)a(Y,G),G=G.sibling;return null}function f(Y,G){for(Y=new Map;G!==null;)G.key!==null?Y.set(G.key,G):Y.set(G.index,G),G=G.sibling;return Y}function g(Y,G){return Y=$i(Y,G),Y.index=0,Y.sibling=null,Y}function v(Y,G,X){return Y.index=X,s?(X=Y.alternate,X!==null?(X=X.index,X<G?(Y.flags|=2,G):X):(Y.flags|=2,G)):(Y.flags|=1048576,G)}function j(Y){return s&&Y.alternate===null&&(Y.flags|=2),Y}function L(Y,G,X,ge){return G===null||G.tag!==6?(G=Rp(X,Y.mode,ge),G.return=Y,G):(G=g(G,X),G.return=Y,G)}function z(Y,G,X,ge){var Ae=X.type;return Ae===R?fe(Y,G,X.props.children,ge,X.key):G!==null&&(G.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===K&&p0(Ae)===G.type)?(ge=g(G,X.props),ge.ref=ic(Y,G,X),ge.return=Y,ge):(ge=pd(X.type,X.key,X.props,null,Y.mode,ge),ge.ref=ic(Y,G,X),ge.return=Y,ge)}function ee(Y,G,X,ge){return G===null||G.tag!==4||G.stateNode.containerInfo!==X.containerInfo||G.stateNode.implementation!==X.implementation?(G=Pp(X,Y.mode,ge),G.return=Y,G):(G=g(G,X.children||[]),G.return=Y,G)}function fe(Y,G,X,ge,Ae){return G===null||G.tag!==7?(G=Uo(X,Y.mode,ge,Ae),G.return=Y,G):(G=g(G,X),G.return=Y,G)}function me(Y,G,X){if(typeof G=="string"&&G!==""||typeof G=="number")return G=Rp(""+G,Y.mode,X),G.return=Y,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case W:return X=pd(G.type,G.key,G.props,null,Y.mode,X),X.ref=ic(Y,null,G),X.return=Y,X;case Z:return G=Pp(G,Y.mode,X),G.return=Y,G;case K:var ge=G._init;return me(Y,ge(G._payload),X)}if(ct(G)||se(G))return G=Uo(G,Y.mode,X,null),G.return=Y,G;Hu(Y,G)}return null}function ue(Y,G,X,ge){var Ae=G!==null?G.key:null;if(typeof X=="string"&&X!==""||typeof X=="number")return Ae!==null?null:L(Y,G,""+X,ge);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case W:return X.key===Ae?z(Y,G,X,ge):null;case Z:return X.key===Ae?ee(Y,G,X,ge):null;case K:return Ae=X._init,ue(Y,G,Ae(X._payload),ge)}if(ct(X)||se(X))return Ae!==null?null:fe(Y,G,X,ge,null);Hu(Y,X)}return null}function _e(Y,G,X,ge,Ae){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return Y=Y.get(X)||null,L(G,Y,""+ge,Ae);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case W:return Y=Y.get(ge.key===null?X:ge.key)||null,z(G,Y,ge,Ae);case Z:return Y=Y.get(ge.key===null?X:ge.key)||null,ee(G,Y,ge,Ae);case K:var De=ge._init;return _e(Y,G,X,De(ge._payload),Ae)}if(ct(ge)||se(ge))return Y=Y.get(X)||null,fe(G,Y,ge,Ae,null);Hu(G,ge)}return null}function je(Y,G,X,ge){for(var Ae=null,De=null,Me=G,$e=G=0,sr=null;Me!==null&&$e<X.length;$e++){Me.index>$e?(sr=Me,Me=null):sr=Me.sibling;var nt=ue(Y,Me,X[$e],ge);if(nt===null){Me===null&&(Me=sr);break}s&&Me&&nt.alternate===null&&a(Y,Me),G=v(nt,G,$e),De===null?Ae=nt:De.sibling=nt,De=nt,Me=sr}if($e===X.length)return c(Y,Me),_t&&Po(Y,$e),Ae;if(Me===null){for(;$e<X.length;$e++)Me=me(Y,X[$e],ge),Me!==null&&(G=v(Me,G,$e),De===null?Ae=Me:De.sibling=Me,De=Me);return _t&&Po(Y,$e),Ae}for(Me=f(Y,Me);$e<X.length;$e++)sr=_e(Me,Y,$e,X[$e],ge),sr!==null&&(s&&sr.alternate!==null&&Me.delete(sr.key===null?$e:sr.key),G=v(sr,G,$e),De===null?Ae=sr:De.sibling=sr,De=sr);return s&&Me.forEach(function(Fi){return a(Y,Fi)}),_t&&Po(Y,$e),Ae}function Ce(Y,G,X,ge){var Ae=se(X);if(typeof Ae!="function")throw Error(t(150));if(X=Ae.call(X),X==null)throw Error(t(151));for(var De=Ae=null,Me=G,$e=G=0,sr=null,nt=X.next();Me!==null&&!nt.done;$e++,nt=X.next()){Me.index>$e?(sr=Me,Me=null):sr=Me.sibling;var Fi=ue(Y,Me,nt.value,ge);if(Fi===null){Me===null&&(Me=sr);break}s&&Me&&Fi.alternate===null&&a(Y,Me),G=v(Fi,G,$e),De===null?Ae=Fi:De.sibling=Fi,De=Fi,Me=sr}if(nt.done)return c(Y,Me),_t&&Po(Y,$e),Ae;if(Me===null){for(;!nt.done;$e++,nt=X.next())nt=me(Y,nt.value,ge),nt!==null&&(G=v(nt,G,$e),De===null?Ae=nt:De.sibling=nt,De=nt);return _t&&Po(Y,$e),Ae}for(Me=f(Y,Me);!nt.done;$e++,nt=X.next())nt=_e(Me,Y,$e,nt.value,ge),nt!==null&&(s&&nt.alternate!==null&&Me.delete(nt.key===null?$e:nt.key),G=v(nt,G,$e),De===null?Ae=nt:De.sibling=nt,De=nt);return s&&Me.forEach(function(Rj){return a(Y,Rj)}),_t&&Po(Y,$e),Ae}function Mt(Y,G,X,ge){if(typeof X=="object"&&X!==null&&X.type===R&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case W:e:{for(var Ae=X.key,De=G;De!==null;){if(De.key===Ae){if(Ae=X.type,Ae===R){if(De.tag===7){c(Y,De.sibling),G=g(De,X.props.children),G.return=Y,Y=G;break e}}else if(De.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===K&&p0(Ae)===De.type){c(Y,De.sibling),G=g(De,X.props),G.ref=ic(Y,De,X),G.return=Y,Y=G;break e}c(Y,De);break}else a(Y,De);De=De.sibling}X.type===R?(G=Uo(X.props.children,Y.mode,ge,X.key),G.return=Y,Y=G):(ge=pd(X.type,X.key,X.props,null,Y.mode,ge),ge.ref=ic(Y,G,X),ge.return=Y,Y=ge)}return j(Y);case Z:e:{for(De=X.key;G!==null;){if(G.key===De)if(G.tag===4&&G.stateNode.containerInfo===X.containerInfo&&G.stateNode.implementation===X.implementation){c(Y,G.sibling),G=g(G,X.children||[]),G.return=Y,Y=G;break e}else{c(Y,G);break}else a(Y,G);G=G.sibling}G=Pp(X,Y.mode,ge),G.return=Y,Y=G}return j(Y);case K:return De=X._init,Mt(Y,G,De(X._payload),ge)}if(ct(X))return je(Y,G,X,ge);if(se(X))return Ce(Y,G,X,ge);Hu(Y,X)}return typeof X=="string"&&X!==""||typeof X=="number"?(X=""+X,G!==null&&G.tag===6?(c(Y,G.sibling),G=g(G,X),G.return=Y,Y=G):(c(Y,G),G=Rp(X,Y.mode,ge),G.return=Y,Y=G),j(Y)):c(Y,G)}return Mt}var Ma=m0(!0),g0=m0(!1),Wu=Ci(null),qu=null,Oa=null,Bf=null;function zf(){Bf=Oa=qu=null}function Hf(s){var a=Wu.current;vt(Wu),s._currentValue=a}function Wf(s,a,c){for(;s!==null;){var f=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,f!==null&&(f.childLanes|=a)):f!==null&&(f.childLanes&a)!==a&&(f.childLanes|=a),s===c)break;s=s.return}}function La(s,a){qu=s,Bf=Oa=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(Ur=!0),s.firstContext=null)}function yn(s){var a=s._currentValue;if(Bf!==s)if(s={context:s,memoizedValue:a,next:null},Oa===null){if(qu===null)throw Error(t(308));Oa=s,qu.dependencies={lanes:0,firstContext:s}}else Oa=Oa.next=s;return a}var Do=null;function qf(s){Do===null?Do=[s]:Do.push(s)}function x0(s,a,c,f){var g=a.interleaved;return g===null?(c.next=c,qf(a)):(c.next=g.next,g.next=c),a.interleaved=c,Ys(s,f)}function Ys(s,a){s.lanes|=a;var c=s.alternate;for(c!==null&&(c.lanes|=a),c=s,s=s.return;s!==null;)s.childLanes|=a,c=s.alternate,c!==null&&(c.childLanes|=a),c=s,s=s.return;return c.tag===3?c.stateNode:null}var Ri=!1;function Gf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function y0(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Qs(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Pi(s,a,c){var f=s.updateQueue;if(f===null)return null;if(f=f.shared,(rt&2)!==0){var g=f.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),f.pending=a,Ys(s,c)}return g=f.interleaved,g===null?(a.next=a,qf(f)):(a.next=g.next,g.next=a),f.interleaved=a,Ys(s,c)}function Gu(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var f=a.lanes;f&=s.pendingLanes,c|=f,a.lanes=c,Fl(s,c)}}function v0(s,a){var c=s.updateQueue,f=s.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var g=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var j={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};v===null?g=v=j:v=v.next=j,c=c.next}while(c!==null);v===null?g=v=a:v=v.next=a}else g=v=a;c={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:f.shared,effects:f.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}function Ku(s,a,c,f){var g=s.updateQueue;Ri=!1;var v=g.firstBaseUpdate,j=g.lastBaseUpdate,L=g.shared.pending;if(L!==null){g.shared.pending=null;var z=L,ee=z.next;z.next=null,j===null?v=ee:j.next=ee,j=z;var fe=s.alternate;fe!==null&&(fe=fe.updateQueue,L=fe.lastBaseUpdate,L!==j&&(L===null?fe.firstBaseUpdate=ee:L.next=ee,fe.lastBaseUpdate=z))}if(v!==null){var me=g.baseState;j=0,fe=ee=z=null,L=v;do{var ue=L.lane,_e=L.eventTime;if((f&ue)===ue){fe!==null&&(fe=fe.next={eventTime:_e,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var je=s,Ce=L;switch(ue=a,_e=c,Ce.tag){case 1:if(je=Ce.payload,typeof je=="function"){me=je.call(_e,me,ue);break e}me=je;break e;case 3:je.flags=je.flags&-65537|128;case 0:if(je=Ce.payload,ue=typeof je=="function"?je.call(_e,me,ue):je,ue==null)break e;me=ie({},me,ue);break e;case 2:Ri=!0}}L.callback!==null&&L.lane!==0&&(s.flags|=64,ue=g.effects,ue===null?g.effects=[L]:ue.push(L))}else _e={eventTime:_e,lane:ue,tag:L.tag,payload:L.payload,callback:L.callback,next:null},fe===null?(ee=fe=_e,z=me):fe=fe.next=_e,j|=ue;if(L=L.next,L===null){if(L=g.shared.pending,L===null)break;ue=L,L=ue.next,ue.next=null,g.lastBaseUpdate=ue,g.shared.pending=null}}while(!0);if(fe===null&&(z=me),g.baseState=z,g.firstBaseUpdate=ee,g.lastBaseUpdate=fe,a=g.shared.interleaved,a!==null){g=a;do j|=g.lane,g=g.next;while(g!==a)}else v===null&&(g.shared.lanes=0);Lo|=j,s.lanes=j,s.memoizedState=me}}function b0(s,a,c){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var f=s[a],g=f.callback;if(g!==null){if(f.callback=null,f=c,typeof g!="function")throw Error(t(191,g));g.call(f)}}}var oc={},fs=Ci(oc),ac=Ci(oc),lc=Ci(oc);function Mo(s){if(s===oc)throw Error(t(174));return s}function Kf(s,a){switch(ft(lc,a),ft(ac,s),ft(fs,oc),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:mi(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=mi(a,s)}vt(fs),ft(fs,a)}function Va(){vt(fs),vt(ac),vt(lc)}function w0(s){Mo(lc.current);var a=Mo(fs.current),c=mi(a,s.type);a!==c&&(ft(ac,s),ft(fs,c))}function Yf(s){ac.current===s&&(vt(fs),vt(ac))}var Et=Ci(0);function Yu(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Qf=[];function Xf(){for(var s=0;s<Qf.length;s++)Qf[s]._workInProgressVersionPrimary=null;Qf.length=0}var Qu=H.ReactCurrentDispatcher,Jf=H.ReactCurrentBatchConfig,Oo=0,jt=null,Gt=null,rr=null,Xu=!1,cc=!1,uc=0,ej=0;function br(){throw Error(t(321))}function Zf(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!Mn(s[c],a[c]))return!1;return!0}function ep(s,a,c,f,g,v){if(Oo=v,jt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Qu.current=s===null||s.memoizedState===null?sj:ij,s=c(f,g),cc){v=0;do{if(cc=!1,uc=0,25<=v)throw Error(t(301));v+=1,rr=Gt=null,a.updateQueue=null,Qu.current=oj,s=c(f,g)}while(cc)}if(Qu.current=ed,a=Gt!==null&&Gt.next!==null,Oo=0,rr=Gt=jt=null,Xu=!1,a)throw Error(t(300));return s}function tp(){var s=uc!==0;return uc=0,s}function ps(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rr===null?jt.memoizedState=rr=s:rr=rr.next=s,rr}function vn(){if(Gt===null){var s=jt.alternate;s=s!==null?s.memoizedState:null}else s=Gt.next;var a=rr===null?jt.memoizedState:rr.next;if(a!==null)rr=a,Gt=s;else{if(s===null)throw Error(t(310));Gt=s,s={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},rr===null?jt.memoizedState=rr=s:rr=rr.next=s}return rr}function dc(s,a){return typeof a=="function"?a(s):a}function rp(s){var a=vn(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var f=Gt,g=f.baseQueue,v=c.pending;if(v!==null){if(g!==null){var j=g.next;g.next=v.next,v.next=j}f.baseQueue=g=v,c.pending=null}if(g!==null){v=g.next,f=f.baseState;var L=j=null,z=null,ee=v;do{var fe=ee.lane;if((Oo&fe)===fe)z!==null&&(z=z.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),f=ee.hasEagerState?ee.eagerState:s(f,ee.action);else{var me={lane:fe,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};z===null?(L=z=me,j=f):z=z.next=me,jt.lanes|=fe,Lo|=fe}ee=ee.next}while(ee!==null&&ee!==v);z===null?j=f:z.next=L,Mn(f,a.memoizedState)||(Ur=!0),a.memoizedState=f,a.baseState=j,a.baseQueue=z,c.lastRenderedState=f}if(s=c.interleaved,s!==null){g=s;do v=g.lane,jt.lanes|=v,Lo|=v,g=g.next;while(g!==s)}else g===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function np(s){var a=vn(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var f=c.dispatch,g=c.pending,v=a.memoizedState;if(g!==null){c.pending=null;var j=g=g.next;do v=s(v,j.action),j=j.next;while(j!==g);Mn(v,a.memoizedState)||(Ur=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),c.lastRenderedState=v}return[v,f]}function _0(){}function N0(s,a){var c=jt,f=vn(),g=a(),v=!Mn(f.memoizedState,g);if(v&&(f.memoizedState=g,Ur=!0),f=f.queue,sp(S0.bind(null,c,f,s),[s]),f.getSnapshot!==a||v||rr!==null&&rr.memoizedState.tag&1){if(c.flags|=2048,hc(9,j0.bind(null,c,f,g,a),void 0,null),nr===null)throw Error(t(349));(Oo&30)!==0||E0(c,a,g)}return g}function E0(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=jt.updateQueue,a===null?(a={lastEffect:null,stores:null},jt.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function j0(s,a,c,f){a.value=c,a.getSnapshot=f,k0(a)&&T0(s)}function S0(s,a,c){return c(function(){k0(a)&&T0(s)})}function k0(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!Mn(s,c)}catch{return!0}}function T0(s){var a=Ys(s,1);a!==null&&Fn(a,s,1,-1)}function C0(s){var a=ps();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dc,lastRenderedState:s},a.queue=s,s=s.dispatch=nj.bind(null,jt,s),[a.memoizedState,s]}function hc(s,a,c,f){return s={tag:s,create:a,destroy:c,deps:f,next:null},a=jt.updateQueue,a===null?(a={lastEffect:null,stores:null},jt.updateQueue=a,a.lastEffect=s.next=s):(c=a.lastEffect,c===null?a.lastEffect=s.next=s:(f=c.next,c.next=s,s.next=f,a.lastEffect=s)),s}function I0(){return vn().memoizedState}function Ju(s,a,c,f){var g=ps();jt.flags|=s,g.memoizedState=hc(1|a,c,void 0,f===void 0?null:f)}function Zu(s,a,c,f){var g=vn();f=f===void 0?null:f;var v=void 0;if(Gt!==null){var j=Gt.memoizedState;if(v=j.destroy,f!==null&&Zf(f,j.deps)){g.memoizedState=hc(a,c,v,f);return}}jt.flags|=s,g.memoizedState=hc(1|a,c,v,f)}function A0(s,a){return Ju(8390656,8,s,a)}function sp(s,a){return Zu(2048,8,s,a)}function R0(s,a){return Zu(4,2,s,a)}function P0(s,a){return Zu(4,4,s,a)}function D0(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function M0(s,a,c){return c=c!=null?c.concat([s]):null,Zu(4,4,D0.bind(null,a,s),c)}function ip(){}function O0(s,a){var c=vn();a=a===void 0?null:a;var f=c.memoizedState;return f!==null&&a!==null&&Zf(a,f[1])?f[0]:(c.memoizedState=[s,a],s)}function L0(s,a){var c=vn();a=a===void 0?null:a;var f=c.memoizedState;return f!==null&&a!==null&&Zf(a,f[1])?f[0]:(s=s(),c.memoizedState=[s,a],s)}function V0(s,a,c){return(Oo&21)===0?(s.baseState&&(s.baseState=!1,Ur=!0),s.memoizedState=c):(Mn(c,a)||(c=Vl(),jt.lanes|=c,Lo|=c,s.baseState=!0),a)}function tj(s,a){var c=Ze;Ze=c!==0&&4>c?c:4,s(!0);var f=Jf.transition;Jf.transition={};try{s(!1),a()}finally{Ze=c,Jf.transition=f}}function $0(){return vn().memoizedState}function rj(s,a,c){var f=Li(s);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},F0(s))U0(a,c);else if(c=x0(s,a,c,f),c!==null){var g=Ar();Fn(c,s,f,g),B0(c,a,f)}}function nj(s,a,c){var f=Li(s),g={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(F0(s))U0(a,g);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null))try{var j=a.lastRenderedState,L=v(j,c);if(g.hasEagerState=!0,g.eagerState=L,Mn(L,j)){var z=a.interleaved;z===null?(g.next=g,qf(a)):(g.next=z.next,z.next=g),a.interleaved=g;return}}catch{}finally{}c=x0(s,a,g,f),c!==null&&(g=Ar(),Fn(c,s,f,g),B0(c,a,f))}}function F0(s){var a=s.alternate;return s===jt||a!==null&&a===jt}function U0(s,a){cc=Xu=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function B0(s,a,c){if((c&4194240)!==0){var f=a.lanes;f&=s.pendingLanes,c|=f,a.lanes=c,Fl(s,c)}}var ed={readContext:yn,useCallback:br,useContext:br,useEffect:br,useImperativeHandle:br,useInsertionEffect:br,useLayoutEffect:br,useMemo:br,useReducer:br,useRef:br,useState:br,useDebugValue:br,useDeferredValue:br,useTransition:br,useMutableSource:br,useSyncExternalStore:br,useId:br,unstable_isNewReconciler:!1},sj={readContext:yn,useCallback:function(s,a){return ps().memoizedState=[s,a===void 0?null:a],s},useContext:yn,useEffect:A0,useImperativeHandle:function(s,a,c){return c=c!=null?c.concat([s]):null,Ju(4194308,4,D0.bind(null,a,s),c)},useLayoutEffect:function(s,a){return Ju(4194308,4,s,a)},useInsertionEffect:function(s,a){return Ju(4,2,s,a)},useMemo:function(s,a){var c=ps();return a=a===void 0?null:a,s=s(),c.memoizedState=[s,a],s},useReducer:function(s,a,c){var f=ps();return a=c!==void 0?c(a):a,f.memoizedState=f.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},f.queue=s,s=s.dispatch=rj.bind(null,jt,s),[f.memoizedState,s]},useRef:function(s){var a=ps();return s={current:s},a.memoizedState=s},useState:C0,useDebugValue:ip,useDeferredValue:function(s){return ps().memoizedState=s},useTransition:function(){var s=C0(!1),a=s[0];return s=tj.bind(null,s[1]),ps().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,c){var f=jt,g=ps();if(_t){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),nr===null)throw Error(t(349));(Oo&30)!==0||E0(f,a,c)}g.memoizedState=c;var v={value:c,getSnapshot:a};return g.queue=v,A0(S0.bind(null,f,v,s),[s]),f.flags|=2048,hc(9,j0.bind(null,f,v,c,a),void 0,null),c},useId:function(){var s=ps(),a=nr.identifierPrefix;if(_t){var c=Ks,f=Gs;c=(f&~(1<<32-Jr(f)-1)).toString(32)+c,a=":"+a+"R"+c,c=uc++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=ej++,a=":"+a+"r"+c.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},ij={readContext:yn,useCallback:O0,useContext:yn,useEffect:sp,useImperativeHandle:M0,useInsertionEffect:R0,useLayoutEffect:P0,useMemo:L0,useReducer:rp,useRef:I0,useState:function(){return rp(dc)},useDebugValue:ip,useDeferredValue:function(s){var a=vn();return V0(a,Gt.memoizedState,s)},useTransition:function(){var s=rp(dc)[0],a=vn().memoizedState;return[s,a]},useMutableSource:_0,useSyncExternalStore:N0,useId:$0,unstable_isNewReconciler:!1},oj={readContext:yn,useCallback:O0,useContext:yn,useEffect:sp,useImperativeHandle:M0,useInsertionEffect:R0,useLayoutEffect:P0,useMemo:L0,useReducer:np,useRef:I0,useState:function(){return np(dc)},useDebugValue:ip,useDeferredValue:function(s){var a=vn();return Gt===null?a.memoizedState=s:V0(a,Gt.memoizedState,s)},useTransition:function(){var s=np(dc)[0],a=vn().memoizedState;return[s,a]},useMutableSource:_0,useSyncExternalStore:N0,useId:$0,unstable_isNewReconciler:!1};function Ln(s,a){if(s&&s.defaultProps){a=ie({},a),s=s.defaultProps;for(var c in s)a[c]===void 0&&(a[c]=s[c]);return a}return a}function op(s,a,c,f){a=s.memoizedState,c=c(f,a),c=c==null?a:ie({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var td={isMounted:function(s){return(s=s._reactInternals)?Pn(s)===s:!1},enqueueSetState:function(s,a,c){s=s._reactInternals;var f=Ar(),g=Li(s),v=Qs(f,g);v.payload=a,c!=null&&(v.callback=c),a=Pi(s,v,g),a!==null&&(Fn(a,s,g,f),Gu(a,s,g))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var f=Ar(),g=Li(s),v=Qs(f,g);v.tag=1,v.payload=a,c!=null&&(v.callback=c),a=Pi(s,v,g),a!==null&&(Fn(a,s,g,f),Gu(a,s,g))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=Ar(),f=Li(s),g=Qs(c,f);g.tag=2,a!=null&&(g.callback=a),a=Pi(s,g,f),a!==null&&(Fn(a,s,f,c),Gu(a,s,f))}};function z0(s,a,c,f,g,v,j){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(f,v,j):a.prototype&&a.prototype.isPureReactComponent?!Jl(c,f)||!Jl(g,v):!0}function H0(s,a,c){var f=!1,g=Ii,v=a.contextType;return typeof v=="object"&&v!==null?v=yn(v):(g=Fr(a)?Ao:vr.current,f=a.contextTypes,v=(f=f!=null)?Aa(s,g):Ii),a=new a(c,v),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=td,s.stateNode=a,a._reactInternals=s,f&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=g,s.__reactInternalMemoizedMaskedChildContext=v),a}function W0(s,a,c,f){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,f),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,f),a.state!==s&&td.enqueueReplaceState(a,a.state,null)}function ap(s,a,c,f){var g=s.stateNode;g.props=c,g.state=s.memoizedState,g.refs={},Gf(s);var v=a.contextType;typeof v=="object"&&v!==null?g.context=yn(v):(v=Fr(a)?Ao:vr.current,g.context=Aa(s,v)),g.state=s.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(op(s,a,v,c),g.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&td.enqueueReplaceState(g,g.state,null),Ku(s,c,g,f),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308)}function $a(s,a){try{var c="",f=a;do c+=he(f),f=f.return;while(f);var g=c}catch(v){g=`
Error generating stack: `+v.message+`
`+v.stack}return{value:s,source:a,stack:g,digest:null}}function lp(s,a,c){return{value:s,source:null,stack:c??null,digest:a??null}}function cp(s,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var aj=typeof WeakMap=="function"?WeakMap:Map;function q0(s,a,c){c=Qs(-1,c),c.tag=3,c.payload={element:null};var f=a.value;return c.callback=function(){ld||(ld=!0,Ep=f),cp(s,a)},c}function G0(s,a,c){c=Qs(-1,c),c.tag=3;var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var g=a.value;c.payload=function(){return f(g)},c.callback=function(){cp(s,a)}}var v=s.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(c.callback=function(){cp(s,a),typeof f!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var j=a.stack;this.componentDidCatch(a.value,{componentStack:j!==null?j:""})}),c}function K0(s,a,c){var f=s.pingCache;if(f===null){f=s.pingCache=new aj;var g=new Set;f.set(a,g)}else g=f.get(a),g===void 0&&(g=new Set,f.set(a,g));g.has(c)||(g.add(c),s=wj.bind(null,s,a,c),a.then(s,s))}function Y0(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function Q0(s,a,c,f,g){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=Qs(-1,1),a.tag=2,Pi(c,a,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=g,s)}var lj=H.ReactCurrentOwner,Ur=!1;function Ir(s,a,c,f){a.child=s===null?g0(a,null,c,f):Ma(a,s.child,c,f)}function X0(s,a,c,f,g){c=c.render;var v=a.ref;return La(a,g),f=ep(s,a,c,f,v,g),c=tp(),s!==null&&!Ur?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Xs(s,a,g)):(_t&&c&&Lf(a),a.flags|=1,Ir(s,a,f,g),a.child)}function J0(s,a,c,f,g){if(s===null){var v=c.type;return typeof v=="function"&&!Ap(v)&&v.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=v,Z0(s,a,v,f,g)):(s=pd(c.type,null,f,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(v=s.child,(s.lanes&g)===0){var j=v.memoizedProps;if(c=c.compare,c=c!==null?c:Jl,c(j,f)&&s.ref===a.ref)return Xs(s,a,g)}return a.flags|=1,s=$i(v,f),s.ref=a.ref,s.return=a,a.child=s}function Z0(s,a,c,f,g){if(s!==null){var v=s.memoizedProps;if(Jl(v,f)&&s.ref===a.ref)if(Ur=!1,a.pendingProps=f=v,(s.lanes&g)!==0)(s.flags&131072)!==0&&(Ur=!0);else return a.lanes=s.lanes,Xs(s,a,g)}return up(s,a,c,f,g)}function ey(s,a,c){var f=a.pendingProps,g=f.children,v=s!==null?s.memoizedState:null;if(f.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(Ua,on),on|=c;else{if((c&1073741824)===0)return s=v!==null?v.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,ft(Ua,on),on|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=v!==null?v.baseLanes:c,ft(Ua,on),on|=f}else v!==null?(f=v.baseLanes|c,a.memoizedState=null):f=c,ft(Ua,on),on|=f;return Ir(s,a,g,c),a.child}function ty(s,a){var c=a.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function up(s,a,c,f,g){var v=Fr(c)?Ao:vr.current;return v=Aa(a,v),La(a,g),c=ep(s,a,c,f,v,g),f=tp(),s!==null&&!Ur?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~g,Xs(s,a,g)):(_t&&f&&Lf(a),a.flags|=1,Ir(s,a,c,g),a.child)}function ry(s,a,c,f,g){if(Fr(c)){var v=!0;$u(a)}else v=!1;if(La(a,g),a.stateNode===null)nd(s,a),H0(a,c,f),ap(a,c,f,g),f=!0;else if(s===null){var j=a.stateNode,L=a.memoizedProps;j.props=L;var z=j.context,ee=c.contextType;typeof ee=="object"&&ee!==null?ee=yn(ee):(ee=Fr(c)?Ao:vr.current,ee=Aa(a,ee));var fe=c.getDerivedStateFromProps,me=typeof fe=="function"||typeof j.getSnapshotBeforeUpdate=="function";me||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(L!==f||z!==ee)&&W0(a,j,f,ee),Ri=!1;var ue=a.memoizedState;j.state=ue,Ku(a,f,j,g),z=a.memoizedState,L!==f||ue!==z||$r.current||Ri?(typeof fe=="function"&&(op(a,c,fe,f),z=a.memoizedState),(L=Ri||z0(a,c,L,f,ue,z,ee))?(me||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(a.flags|=4194308)):(typeof j.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=f,a.memoizedState=z),j.props=f,j.state=z,j.context=ee,f=L):(typeof j.componentDidMount=="function"&&(a.flags|=4194308),f=!1)}else{j=a.stateNode,y0(s,a),L=a.memoizedProps,ee=a.type===a.elementType?L:Ln(a.type,L),j.props=ee,me=a.pendingProps,ue=j.context,z=c.contextType,typeof z=="object"&&z!==null?z=yn(z):(z=Fr(c)?Ao:vr.current,z=Aa(a,z));var _e=c.getDerivedStateFromProps;(fe=typeof _e=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(L!==me||ue!==z)&&W0(a,j,f,z),Ri=!1,ue=a.memoizedState,j.state=ue,Ku(a,f,j,g);var je=a.memoizedState;L!==me||ue!==je||$r.current||Ri?(typeof _e=="function"&&(op(a,c,_e,f),je=a.memoizedState),(ee=Ri||z0(a,c,ee,f,ue,je,z)||!1)?(fe||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(f,je,z),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(f,je,z)),typeof j.componentDidUpdate=="function"&&(a.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof j.componentDidUpdate!="function"||L===s.memoizedProps&&ue===s.memoizedState||(a.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&ue===s.memoizedState||(a.flags|=1024),a.memoizedProps=f,a.memoizedState=je),j.props=f,j.state=je,j.context=z,f=ee):(typeof j.componentDidUpdate!="function"||L===s.memoizedProps&&ue===s.memoizedState||(a.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||L===s.memoizedProps&&ue===s.memoizedState||(a.flags|=1024),f=!1)}return dp(s,a,c,f,v,g)}function dp(s,a,c,f,g,v){ty(s,a);var j=(a.flags&128)!==0;if(!f&&!j)return g&&a0(a,c,!1),Xs(s,a,v);f=a.stateNode,lj.current=a;var L=j&&typeof c.getDerivedStateFromError!="function"?null:f.render();return a.flags|=1,s!==null&&j?(a.child=Ma(a,s.child,null,v),a.child=Ma(a,null,L,v)):Ir(s,a,L,v),a.memoizedState=f.state,g&&a0(a,c,!0),a.child}function ny(s){var a=s.stateNode;a.pendingContext?i0(s,a.pendingContext,a.pendingContext!==a.context):a.context&&i0(s,a.context,!1),Kf(s,a.containerInfo)}function sy(s,a,c,f,g){return Da(),Uf(g),a.flags|=256,Ir(s,a,c,f),a.child}var hp={dehydrated:null,treeContext:null,retryLane:0};function fp(s){return{baseLanes:s,cachePool:null,transitions:null}}function iy(s,a,c){var f=a.pendingProps,g=Et.current,v=!1,j=(a.flags&128)!==0,L;if((L=j)||(L=s!==null&&s.memoizedState===null?!1:(g&2)!==0),L?(v=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(g|=1),ft(Et,g&1),s===null)return Ff(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(j=f.children,s=f.fallback,v?(f=a.mode,v=a.child,j={mode:"hidden",children:j},(f&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=j):v=md(j,f,0,null),s=Uo(s,f,c,null),v.return=a,s.return=a,v.sibling=s,a.child=v,a.child.memoizedState=fp(c),a.memoizedState=hp,s):pp(a,j));if(g=s.memoizedState,g!==null&&(L=g.dehydrated,L!==null))return cj(s,a,j,f,L,g,c);if(v){v=f.fallback,j=a.mode,g=s.child,L=g.sibling;var z={mode:"hidden",children:f.children};return(j&1)===0&&a.child!==g?(f=a.child,f.childLanes=0,f.pendingProps=z,a.deletions=null):(f=$i(g,z),f.subtreeFlags=g.subtreeFlags&14680064),L!==null?v=$i(L,v):(v=Uo(v,j,c,null),v.flags|=2),v.return=a,f.return=a,f.sibling=v,a.child=f,f=v,v=a.child,j=s.child.memoizedState,j=j===null?fp(c):{baseLanes:j.baseLanes|c,cachePool:null,transitions:j.transitions},v.memoizedState=j,v.childLanes=s.childLanes&~c,a.memoizedState=hp,f}return v=s.child,s=v.sibling,f=$i(v,{mode:"visible",children:f.children}),(a.mode&1)===0&&(f.lanes=c),f.return=a,f.sibling=null,s!==null&&(c=a.deletions,c===null?(a.deletions=[s],a.flags|=16):c.push(s)),a.child=f,a.memoizedState=null,f}function pp(s,a){return a=md({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function rd(s,a,c,f){return f!==null&&Uf(f),Ma(a,s.child,null,c),s=pp(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function cj(s,a,c,f,g,v,j){if(c)return a.flags&256?(a.flags&=-257,f=lp(Error(t(422))),rd(s,a,j,f)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(v=f.fallback,g=a.mode,f=md({mode:"visible",children:f.children},g,0,null),v=Uo(v,g,j,null),v.flags|=2,f.return=a,v.return=a,f.sibling=v,a.child=f,(a.mode&1)!==0&&Ma(a,s.child,null,j),a.child.memoizedState=fp(j),a.memoizedState=hp,v);if((a.mode&1)===0)return rd(s,a,j,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var L=f.dgst;return f=L,v=Error(t(419)),f=lp(v,f,void 0),rd(s,a,j,f)}if(L=(j&s.childLanes)!==0,Ur||L){if(f=nr,f!==null){switch(j&-j){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(f.suspendedLanes|j))!==0?0:g,g!==0&&g!==v.retryLane&&(v.retryLane=g,Ys(s,g),Fn(f,s,g,-1))}return Ip(),f=lp(Error(t(421))),rd(s,a,j,f)}return g.data==="$?"?(a.flags|=128,a.child=s.child,a=_j.bind(null,s),g._reactRetry=a,null):(s=v.treeContext,sn=Ti(g.nextSibling),nn=a,_t=!0,On=null,s!==null&&(gn[xn++]=Gs,gn[xn++]=Ks,gn[xn++]=Ro,Gs=s.id,Ks=s.overflow,Ro=a),a=pp(a,f.children),a.flags|=4096,a)}function oy(s,a,c){s.lanes|=a;var f=s.alternate;f!==null&&(f.lanes|=a),Wf(s.return,a,c)}function mp(s,a,c,f,g){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:g}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=c,v.tailMode=g)}function ay(s,a,c){var f=a.pendingProps,g=f.revealOrder,v=f.tail;if(Ir(s,a,f.children,c),f=Et.current,(f&2)!==0)f=f&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&oy(s,c,a);else if(s.tag===19)oy(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}f&=1}if(ft(Et,f),(a.mode&1)===0)a.memoizedState=null;else switch(g){case"forwards":for(c=a.child,g=null;c!==null;)s=c.alternate,s!==null&&Yu(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),mp(a,!1,g,c,v);break;case"backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&Yu(s)===null){a.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}mp(a,!0,c,null,v);break;case"together":mp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function nd(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Xs(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),Lo|=a.lanes,(c&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,c=$i(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=$i(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function uj(s,a,c){switch(a.tag){case 3:ny(a),Da();break;case 5:w0(a);break;case 1:Fr(a.type)&&$u(a);break;case 4:Kf(a,a.stateNode.containerInfo);break;case 10:var f=a.type._context,g=a.memoizedProps.value;ft(Wu,f._currentValue),f._currentValue=g;break;case 13:if(f=a.memoizedState,f!==null)return f.dehydrated!==null?(ft(Et,Et.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?iy(s,a,c):(ft(Et,Et.current&1),s=Xs(s,a,c),s!==null?s.sibling:null);ft(Et,Et.current&1);break;case 19:if(f=(c&a.childLanes)!==0,(s.flags&128)!==0){if(f)return ay(s,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ft(Et,Et.current),f)break;return null;case 22:case 23:return a.lanes=0,ey(s,a,c)}return Xs(s,a,c)}var ly,gp,cy,uy;ly=function(s,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},gp=function(){},cy=function(s,a,c,f){var g=s.memoizedProps;if(g!==f){s=a.stateNode,Mo(fs.current);var v=null;switch(c){case"input":g=$t(s,g),f=$t(s,f),v=[];break;case"select":g=ie({},g,{value:void 0}),f=ie({},f,{value:void 0}),v=[];break;case"textarea":g=ut(s,g),f=ut(s,f),v=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(s.onclick=Ou)}Vr(c,f);var j;c=null;for(ee in g)if(!f.hasOwnProperty(ee)&&g.hasOwnProperty(ee)&&g[ee]!=null)if(ee==="style"){var L=g[ee];for(j in L)L.hasOwnProperty(j)&&(c||(c={}),c[j]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(o.hasOwnProperty(ee)?v||(v=[]):(v=v||[]).push(ee,null));for(ee in f){var z=f[ee];if(L=g?.[ee],f.hasOwnProperty(ee)&&z!==L&&(z!=null||L!=null))if(ee==="style")if(L){for(j in L)!L.hasOwnProperty(j)||z&&z.hasOwnProperty(j)||(c||(c={}),c[j]="");for(j in z)z.hasOwnProperty(j)&&L[j]!==z[j]&&(c||(c={}),c[j]=z[j])}else c||(v||(v=[]),v.push(ee,c)),c=z;else ee==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,L=L?L.__html:void 0,z!=null&&L!==z&&(v=v||[]).push(ee,z)):ee==="children"?typeof z!="string"&&typeof z!="number"||(v=v||[]).push(ee,""+z):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(o.hasOwnProperty(ee)?(z!=null&&ee==="onScroll"&&yt("scroll",s),v||L===z||(v=[])):(v=v||[]).push(ee,z))}c&&(v=v||[]).push("style",c);var ee=v;(a.updateQueue=ee)&&(a.flags|=4)}},uy=function(s,a,c,f){c!==f&&(a.flags|=4)};function fc(s,a){if(!_t)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:f.sibling=null}}function wr(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,f=0;if(a)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=f,s.childLanes=c,a}function dj(s,a,c){var f=a.pendingProps;switch(Vf(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wr(a),null;case 1:return Fr(a.type)&&Vu(),wr(a),null;case 3:return f=a.stateNode,Va(),vt($r),vt(vr),Xf(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(s===null||s.child===null)&&(zu(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,On!==null&&(kp(On),On=null))),gp(s,a),wr(a),null;case 5:Yf(a);var g=Mo(lc.current);if(c=a.type,s!==null&&a.stateNode!=null)cy(s,a,c,f,g),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!f){if(a.stateNode===null)throw Error(t(166));return wr(a),null}if(s=Mo(fs.current),zu(a)){f=a.stateNode,c=a.type;var v=a.memoizedProps;switch(f[hs]=a,f[nc]=v,s=(a.mode&1)!==0,c){case"dialog":yt("cancel",f),yt("close",f);break;case"iframe":case"object":case"embed":yt("load",f);break;case"video":case"audio":for(g=0;g<ec.length;g++)yt(ec[g],f);break;case"source":yt("error",f);break;case"img":case"image":case"link":yt("error",f),yt("load",f);break;case"details":yt("toggle",f);break;case"input":dn(f,v),yt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!v.multiple},yt("invalid",f);break;case"textarea":or(f,v),yt("invalid",f)}Vr(c,v),g=null;for(var j in v)if(v.hasOwnProperty(j)){var L=v[j];j==="children"?typeof L=="string"?f.textContent!==L&&(v.suppressHydrationWarning!==!0&&Mu(f.textContent,L,s),g=["children",L]):typeof L=="number"&&f.textContent!==""+L&&(v.suppressHydrationWarning!==!0&&Mu(f.textContent,L,s),g=["children",""+L]):o.hasOwnProperty(j)&&L!=null&&j==="onScroll"&&yt("scroll",f)}switch(c){case"input":ze(f),Ye(f,v,!0);break;case"textarea":ze(f),Yr(f);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(f.onclick=Ou)}f=g,a.updateQueue=f,f!==null&&(a.flags|=4)}else{j=g.nodeType===9?g:g.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Jn(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=j.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof f.is=="string"?s=j.createElement(c,{is:f.is}):(s=j.createElement(c),c==="select"&&(j=s,f.multiple?j.multiple=!0:f.size&&(j.size=f.size))):s=j.createElementNS(s,c),s[hs]=a,s[nc]=f,ly(s,a,!1,!1),a.stateNode=s;e:{switch(j=vi(c,f),c){case"dialog":yt("cancel",s),yt("close",s),g=f;break;case"iframe":case"object":case"embed":yt("load",s),g=f;break;case"video":case"audio":for(g=0;g<ec.length;g++)yt(ec[g],s);g=f;break;case"source":yt("error",s),g=f;break;case"img":case"image":case"link":yt("error",s),yt("load",s),g=f;break;case"details":yt("toggle",s),g=f;break;case"input":dn(s,f),g=$t(s,f),yt("invalid",s);break;case"option":g=f;break;case"select":s._wrapperState={wasMultiple:!!f.multiple},g=ie({},f,{value:void 0}),yt("invalid",s);break;case"textarea":or(s,f),g=ut(s,f),yt("invalid",s);break;default:g=f}Vr(c,g),L=g;for(v in L)if(L.hasOwnProperty(v)){var z=L[v];v==="style"?xi(s,z):v==="dangerouslySetInnerHTML"?(z=z?z.__html:void 0,z!=null&&gi(s,z)):v==="children"?typeof z=="string"?(c!=="textarea"||z!=="")&&Lr(s,z):typeof z=="number"&&Lr(s,""+z):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(o.hasOwnProperty(v)?z!=null&&v==="onScroll"&&yt("scroll",s):z!=null&&U(s,v,z,j))}switch(c){case"input":ze(s),Ye(s,f,!1);break;case"textarea":ze(s),Yr(s);break;case"option":f.value!=null&&s.setAttribute("value",""+pe(f.value));break;case"select":s.multiple=!!f.multiple,v=f.value,v!=null?Zt(s,!!f.multiple,v,!1):f.defaultValue!=null&&Zt(s,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(s.onclick=Ou)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return wr(a),null;case 6:if(s&&a.stateNode!=null)uy(s,a,s.memoizedProps,f);else{if(typeof f!="string"&&a.stateNode===null)throw Error(t(166));if(c=Mo(lc.current),Mo(fs.current),zu(a)){if(f=a.stateNode,c=a.memoizedProps,f[hs]=a,(v=f.nodeValue!==c)&&(s=nn,s!==null))switch(s.tag){case 3:Mu(f.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Mu(f.nodeValue,c,(s.mode&1)!==0)}v&&(a.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[hs]=a,a.stateNode=f}return wr(a),null;case 13:if(vt(Et),f=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(_t&&sn!==null&&(a.mode&1)!==0&&(a.flags&128)===0)f0(),Da(),a.flags|=98560,v=!1;else if(v=zu(a),f!==null&&f.dehydrated!==null){if(s===null){if(!v)throw Error(t(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[hs]=a}else Da(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;wr(a),v=!1}else On!==null&&(kp(On),On=null),v=!0;if(!v)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(f=f!==null,f!==(s!==null&&s.memoizedState!==null)&&f&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(Et.current&1)!==0?Kt===0&&(Kt=3):Ip())),a.updateQueue!==null&&(a.flags|=4),wr(a),null);case 4:return Va(),gp(s,a),s===null&&tc(a.stateNode.containerInfo),wr(a),null;case 10:return Hf(a.type._context),wr(a),null;case 17:return Fr(a.type)&&Vu(),wr(a),null;case 19:if(vt(Et),v=a.memoizedState,v===null)return wr(a),null;if(f=(a.flags&128)!==0,j=v.rendering,j===null)if(f)fc(v,!1);else{if(Kt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(j=Yu(s),j!==null){for(a.flags|=128,fc(v,!1),f=j.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),a.subtreeFlags=0,f=c,c=a.child;c!==null;)v=c,s=f,v.flags&=14680066,j=v.alternate,j===null?(v.childLanes=0,v.lanes=s,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=j.childLanes,v.lanes=j.lanes,v.child=j.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=j.memoizedProps,v.memoizedState=j.memoizedState,v.updateQueue=j.updateQueue,v.type=j.type,s=j.dependencies,v.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return ft(Et,Et.current&1|2),a.child}s=s.sibling}v.tail!==null&&xt()>Ba&&(a.flags|=128,f=!0,fc(v,!1),a.lanes=4194304)}else{if(!f)if(s=Yu(j),s!==null){if(a.flags|=128,f=!0,c=s.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),fc(v,!0),v.tail===null&&v.tailMode==="hidden"&&!j.alternate&&!_t)return wr(a),null}else 2*xt()-v.renderingStartTime>Ba&&c!==1073741824&&(a.flags|=128,f=!0,fc(v,!1),a.lanes=4194304);v.isBackwards?(j.sibling=a.child,a.child=j):(c=v.last,c!==null?c.sibling=j:a.child=j,v.last=j)}return v.tail!==null?(a=v.tail,v.rendering=a,v.tail=a.sibling,v.renderingStartTime=xt(),a.sibling=null,c=Et.current,ft(Et,f?c&1|2:c&1),a):(wr(a),null);case 22:case 23:return Cp(),f=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==f&&(a.flags|=8192),f&&(a.mode&1)!==0?(on&1073741824)!==0&&(wr(a),a.subtreeFlags&6&&(a.flags|=8192)):wr(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function hj(s,a){switch(Vf(a),a.tag){case 1:return Fr(a.type)&&Vu(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Va(),vt($r),vt(vr),Xf(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return Yf(a),null;case 13:if(vt(Et),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Da()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return vt(Et),null;case 4:return Va(),null;case 10:return Hf(a.type._context),null;case 22:case 23:return Cp(),null;case 24:return null;default:return null}}var sd=!1,_r=!1,fj=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function Fa(s,a){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){It(s,a,f)}else c.current=null}function xp(s,a,c){try{c()}catch(f){It(s,a,f)}}var dy=!1;function pj(s,a){if(Cf=Bs,s=zx(),wf(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var g=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break e}var j=0,L=-1,z=-1,ee=0,fe=0,me=s,ue=null;t:for(;;){for(var _e;me!==c||g!==0&&me.nodeType!==3||(L=j+g),me!==v||f!==0&&me.nodeType!==3||(z=j+f),me.nodeType===3&&(j+=me.nodeValue.length),(_e=me.firstChild)!==null;)ue=me,me=_e;for(;;){if(me===s)break t;if(ue===c&&++ee===g&&(L=j),ue===v&&++fe===f&&(z=j),(_e=me.nextSibling)!==null)break;me=ue,ue=me.parentNode}me=_e}c=L===-1||z===-1?null:{start:L,end:z}}else c=null}c=c||{start:0,end:0}}else c=null;for(If={focusedElem:s,selectionRange:c},Bs=!1,Ee=a;Ee!==null;)if(a=Ee,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Ee=s;else for(;Ee!==null;){a=Ee;try{var je=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(je!==null){var Ce=je.memoizedProps,Mt=je.memoizedState,Y=a.stateNode,G=Y.getSnapshotBeforeUpdate(a.elementType===a.type?Ce:Ln(a.type,Ce),Mt);Y.__reactInternalSnapshotBeforeUpdate=G}break;case 3:var X=a.stateNode.containerInfo;X.nodeType===1?X.textContent="":X.nodeType===9&&X.documentElement&&X.removeChild(X.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ge){It(a,a.return,ge)}if(s=a.sibling,s!==null){s.return=a.return,Ee=s;break}Ee=a.return}return je=dy,dy=!1,je}function pc(s,a,c){var f=a.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&s)===s){var v=g.destroy;g.destroy=void 0,v!==void 0&&xp(a,c,v)}g=g.next}while(g!==f)}}function id(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&s)===s){var f=c.create;c.destroy=f()}c=c.next}while(c!==a)}}function yp(s){var a=s.ref;if(a!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof a=="function"?a(s):a.current=s}}function hy(s){var a=s.alternate;a!==null&&(s.alternate=null,hy(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[hs],delete a[nc],delete a[Df],delete a[QE],delete a[XE])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function fy(s){return s.tag===5||s.tag===3||s.tag===4}function py(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||fy(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function vp(s,a,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(s,a):c.insertBefore(s,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(s,c)):(a=c,a.appendChild(s)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Ou));else if(f!==4&&(s=s.child,s!==null))for(vp(s,a,c),s=s.sibling;s!==null;)vp(s,a,c),s=s.sibling}function bp(s,a,c){var f=s.tag;if(f===5||f===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(f!==4&&(s=s.child,s!==null))for(bp(s,a,c),s=s.sibling;s!==null;)bp(s,a,c),s=s.sibling}var ur=null,Vn=!1;function Di(s,a,c){for(c=c.child;c!==null;)my(s,a,c),c=c.sibling}function my(s,a,c){if(Xr&&typeof Xr.onCommitFiberUnmount=="function")try{Xr.onCommitFiberUnmount(wo,c)}catch{}switch(c.tag){case 5:_r||Fa(c,a);case 6:var f=ur,g=Vn;ur=null,Di(s,a,c),ur=f,Vn=g,ur!==null&&(Vn?(s=ur,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):ur.removeChild(c.stateNode));break;case 18:ur!==null&&(Vn?(s=ur,c=c.stateNode,s.nodeType===8?Pf(s.parentNode,c):s.nodeType===1&&Pf(s,c),Ei(s)):Pf(ur,c.stateNode));break;case 4:f=ur,g=Vn,ur=c.stateNode.containerInfo,Vn=!0,Di(s,a,c),ur=f,Vn=g;break;case 0:case 11:case 14:case 15:if(!_r&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var v=g,j=v.destroy;v=v.tag,j!==void 0&&((v&2)!==0||(v&4)!==0)&&xp(c,a,j),g=g.next}while(g!==f)}Di(s,a,c);break;case 1:if(!_r&&(Fa(c,a),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch(L){It(c,a,L)}Di(s,a,c);break;case 21:Di(s,a,c);break;case 22:c.mode&1?(_r=(f=_r)||c.memoizedState!==null,Di(s,a,c),_r=f):Di(s,a,c);break;default:Di(s,a,c)}}function gy(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new fj),a.forEach(function(f){var g=Nj.bind(null,s,f);c.has(f)||(c.add(f),f.then(g,g))})}}function $n(s,a){var c=a.deletions;if(c!==null)for(var f=0;f<c.length;f++){var g=c[f];try{var v=s,j=a,L=j;e:for(;L!==null;){switch(L.tag){case 5:ur=L.stateNode,Vn=!1;break e;case 3:ur=L.stateNode.containerInfo,Vn=!0;break e;case 4:ur=L.stateNode.containerInfo,Vn=!0;break e}L=L.return}if(ur===null)throw Error(t(160));my(v,j,g),ur=null,Vn=!1;var z=g.alternate;z!==null&&(z.return=null),g.return=null}catch(ee){It(g,a,ee)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)xy(a,s),a=a.sibling}function xy(s,a){var c=s.alternate,f=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if($n(a,s),ms(s),f&4){try{pc(3,s,s.return),id(3,s)}catch(Ce){It(s,s.return,Ce)}try{pc(5,s,s.return)}catch(Ce){It(s,s.return,Ce)}}break;case 1:$n(a,s),ms(s),f&512&&c!==null&&Fa(c,c.return);break;case 5:if($n(a,s),ms(s),f&512&&c!==null&&Fa(c,c.return),s.flags&32){var g=s.stateNode;try{Lr(g,"")}catch(Ce){It(s,s.return,Ce)}}if(f&4&&(g=s.stateNode,g!=null)){var v=s.memoizedProps,j=c!==null?c.memoizedProps:v,L=s.type,z=s.updateQueue;if(s.updateQueue=null,z!==null)try{L==="input"&&v.type==="radio"&&v.name!=null&&gr(g,v),vi(L,j);var ee=vi(L,v);for(j=0;j<z.length;j+=2){var fe=z[j],me=z[j+1];fe==="style"?xi(g,me):fe==="dangerouslySetInnerHTML"?gi(g,me):fe==="children"?Lr(g,me):U(g,fe,me,ee)}switch(L){case"input":be(g,v);break;case"textarea":ar(g,v);break;case"select":var ue=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!v.multiple;var _e=v.value;_e!=null?Zt(g,!!v.multiple,_e,!1):ue!==!!v.multiple&&(v.defaultValue!=null?Zt(g,!!v.multiple,v.defaultValue,!0):Zt(g,!!v.multiple,v.multiple?[]:"",!1))}g[nc]=v}catch(Ce){It(s,s.return,Ce)}}break;case 6:if($n(a,s),ms(s),f&4){if(s.stateNode===null)throw Error(t(162));g=s.stateNode,v=s.memoizedProps;try{g.nodeValue=v}catch(Ce){It(s,s.return,Ce)}}break;case 3:if($n(a,s),ms(s),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Ei(a.containerInfo)}catch(Ce){It(s,s.return,Ce)}break;case 4:$n(a,s),ms(s);break;case 13:$n(a,s),ms(s),g=s.child,g.flags&8192&&(v=g.memoizedState!==null,g.stateNode.isHidden=v,!v||g.alternate!==null&&g.alternate.memoizedState!==null||(Np=xt())),f&4&&gy(s);break;case 22:if(fe=c!==null&&c.memoizedState!==null,s.mode&1?(_r=(ee=_r)||fe,$n(a,s),_r=ee):$n(a,s),ms(s),f&8192){if(ee=s.memoizedState!==null,(s.stateNode.isHidden=ee)&&!fe&&(s.mode&1)!==0)for(Ee=s,fe=s.child;fe!==null;){for(me=Ee=fe;Ee!==null;){switch(ue=Ee,_e=ue.child,ue.tag){case 0:case 11:case 14:case 15:pc(4,ue,ue.return);break;case 1:Fa(ue,ue.return);var je=ue.stateNode;if(typeof je.componentWillUnmount=="function"){f=ue,c=ue.return;try{a=f,je.props=a.memoizedProps,je.state=a.memoizedState,je.componentWillUnmount()}catch(Ce){It(f,c,Ce)}}break;case 5:Fa(ue,ue.return);break;case 22:if(ue.memoizedState!==null){by(me);continue}}_e!==null?(_e.return=ue,Ee=_e):by(me)}fe=fe.sibling}e:for(fe=null,me=s;;){if(me.tag===5){if(fe===null){fe=me;try{g=me.stateNode,ee?(v=g.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(L=me.stateNode,z=me.memoizedProps.style,j=z!=null&&z.hasOwnProperty("display")?z.display:null,L.style.display=Zn("display",j))}catch(Ce){It(s,s.return,Ce)}}}else if(me.tag===6){if(fe===null)try{me.stateNode.nodeValue=ee?"":me.memoizedProps}catch(Ce){It(s,s.return,Ce)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===s)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===s)break e;for(;me.sibling===null;){if(me.return===null||me.return===s)break e;fe===me&&(fe=null),me=me.return}fe===me&&(fe=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:$n(a,s),ms(s),f&4&&gy(s);break;case 21:break;default:$n(a,s),ms(s)}}function ms(s){var a=s.flags;if(a&2){try{e:{for(var c=s.return;c!==null;){if(fy(c)){var f=c;break e}c=c.return}throw Error(t(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(Lr(g,""),f.flags&=-33);var v=py(s);bp(s,v,g);break;case 3:case 4:var j=f.stateNode.containerInfo,L=py(s);vp(s,L,j);break;default:throw Error(t(161))}}catch(z){It(s,s.return,z)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function mj(s,a,c){Ee=s,yy(s)}function yy(s,a,c){for(var f=(s.mode&1)!==0;Ee!==null;){var g=Ee,v=g.child;if(g.tag===22&&f){var j=g.memoizedState!==null||sd;if(!j){var L=g.alternate,z=L!==null&&L.memoizedState!==null||_r;L=sd;var ee=_r;if(sd=j,(_r=z)&&!ee)for(Ee=g;Ee!==null;)j=Ee,z=j.child,j.tag===22&&j.memoizedState!==null?wy(g):z!==null?(z.return=j,Ee=z):wy(g);for(;v!==null;)Ee=v,yy(v),v=v.sibling;Ee=g,sd=L,_r=ee}vy(s)}else(g.subtreeFlags&8772)!==0&&v!==null?(v.return=g,Ee=v):vy(s)}}function vy(s){for(;Ee!==null;){var a=Ee;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:_r||id(5,a);break;case 1:var f=a.stateNode;if(a.flags&4&&!_r)if(c===null)f.componentDidMount();else{var g=a.elementType===a.type?c.memoizedProps:Ln(a.type,c.memoizedProps);f.componentDidUpdate(g,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var v=a.updateQueue;v!==null&&b0(a,v,f);break;case 3:var j=a.updateQueue;if(j!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}b0(a,j,c)}break;case 5:var L=a.stateNode;if(c===null&&a.flags&4){c=L;var z=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":z.autoFocus&&c.focus();break;case"img":z.src&&(c.src=z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ee=a.alternate;if(ee!==null){var fe=ee.memoizedState;if(fe!==null){var me=fe.dehydrated;me!==null&&Ei(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}_r||a.flags&512&&yp(a)}catch(ue){It(a,a.return,ue)}}if(a===s){Ee=null;break}if(c=a.sibling,c!==null){c.return=a.return,Ee=c;break}Ee=a.return}}function by(s){for(;Ee!==null;){var a=Ee;if(a===s){Ee=null;break}var c=a.sibling;if(c!==null){c.return=a.return,Ee=c;break}Ee=a.return}}function wy(s){for(;Ee!==null;){var a=Ee;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{id(4,a)}catch(z){It(a,c,z)}break;case 1:var f=a.stateNode;if(typeof f.componentDidMount=="function"){var g=a.return;try{f.componentDidMount()}catch(z){It(a,g,z)}}var v=a.return;try{yp(a)}catch(z){It(a,v,z)}break;case 5:var j=a.return;try{yp(a)}catch(z){It(a,j,z)}}}catch(z){It(a,a.return,z)}if(a===s){Ee=null;break}var L=a.sibling;if(L!==null){L.return=a.return,Ee=L;break}Ee=a.return}}var gj=Math.ceil,od=H.ReactCurrentDispatcher,wp=H.ReactCurrentOwner,bn=H.ReactCurrentBatchConfig,rt=0,nr=null,zt=null,dr=0,on=0,Ua=Ci(0),Kt=0,mc=null,Lo=0,ad=0,_p=0,gc=null,Br=null,Np=0,Ba=1/0,Js=null,ld=!1,Ep=null,Mi=null,cd=!1,Oi=null,ud=0,xc=0,jp=null,dd=-1,hd=0;function Ar(){return(rt&6)!==0?xt():dd!==-1?dd:dd=xt()}function Li(s){return(s.mode&1)===0?1:(rt&2)!==0&&dr!==0?dr&-dr:ZE.transition!==null?(hd===0&&(hd=Vl()),hd):(s=Ze,s!==0||(s=window.event,s=s===void 0?16:xa(s.type)),s)}function Fn(s,a,c,f){if(50<xc)throw xc=0,jp=null,Error(t(185));jo(s,c,f),((rt&2)===0||s!==nr)&&(s===nr&&((rt&2)===0&&(ad|=c),Kt===4&&Vi(s,dr)),zr(s,f),c===1&&rt===0&&(a.mode&1)===0&&(Ba=xt()+500,Fu&&Ai()))}function zr(s,a){var c=s.callbackNode;Eo(s,a);var f=$s(s,s===nr?dr:0);if(f===0)c!==null&&ua(c),s.callbackNode=null,s.callbackPriority=0;else if(a=f&-f,s.callbackPriority!==a){if(c!=null&&ua(c),a===1)s.tag===0?JE(Ny.bind(null,s)):l0(Ny.bind(null,s)),KE(function(){(rt&6)===0&&Ai()}),c=null;else{switch(rs(f)){case 1:c=da;break;case 4:c=Ml;break;case 16:c=bo;break;case 536870912:c=ha;break;default:c=bo}c=Ay(c,_y.bind(null,s))}s.callbackPriority=a,s.callbackNode=c}}function _y(s,a){if(dd=-1,hd=0,(rt&6)!==0)throw Error(t(327));var c=s.callbackNode;if(za()&&s.callbackNode!==c)return null;var f=$s(s,s===nr?dr:0);if(f===0)return null;if((f&30)!==0||(f&s.expiredLanes)!==0||a)a=fd(s,f);else{a=f;var g=rt;rt|=2;var v=jy();(nr!==s||dr!==a)&&(Js=null,Ba=xt()+500,$o(s,a));do try{vj();break}catch(L){Ey(s,L)}while(!0);zf(),od.current=v,rt=g,zt!==null?a=0:(nr=null,dr=0,a=Kt)}if(a!==0){if(a===2&&(g=Ll(s),g!==0&&(f=g,a=Sp(s,g))),a===1)throw c=mc,$o(s,0),Vi(s,f),zr(s,xt()),c;if(a===6)Vi(s,f);else{if(g=s.current.alternate,(f&30)===0&&!xj(g)&&(a=fd(s,f),a===2&&(v=Ll(s),v!==0&&(f=v,a=Sp(s,v))),a===1))throw c=mc,$o(s,0),Vi(s,f),zr(s,xt()),c;switch(s.finishedWork=g,s.finishedLanes=f,a){case 0:case 1:throw Error(t(345));case 2:Fo(s,Br,Js);break;case 3:if(Vi(s,f),(f&130023424)===f&&(a=Np+500-xt(),10<a)){if($s(s,0)!==0)break;if(g=s.suspendedLanes,(g&f)!==f){Ar(),s.pingedLanes|=s.suspendedLanes&g;break}s.timeoutHandle=Rf(Fo.bind(null,s,Br,Js),a);break}Fo(s,Br,Js);break;case 4:if(Vi(s,f),(f&4194240)===f)break;for(a=s.eventTimes,g=-1;0<f;){var j=31-Jr(f);v=1<<j,j=a[j],j>g&&(g=j),f&=~v}if(f=g,f=xt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*gj(f/1960))-f,10<f){s.timeoutHandle=Rf(Fo.bind(null,s,Br,Js),f);break}Fo(s,Br,Js);break;case 5:Fo(s,Br,Js);break;default:throw Error(t(329))}}}return zr(s,xt()),s.callbackNode===c?_y.bind(null,s):null}function Sp(s,a){var c=gc;return s.current.memoizedState.isDehydrated&&($o(s,a).flags|=256),s=fd(s,a),s!==2&&(a=Br,Br=c,a!==null&&kp(a)),s}function kp(s){Br===null?Br=s:Br.push.apply(Br,s)}function xj(s){for(var a=s;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var g=c[f],v=g.getSnapshot;g=g.value;try{if(!Mn(v(),g))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Vi(s,a){for(a&=~_p,a&=~ad,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var c=31-Jr(a),f=1<<c;s[c]=-1,a&=~f}}function Ny(s){if((rt&6)!==0)throw Error(t(327));za();var a=$s(s,0);if((a&1)===0)return zr(s,xt()),null;var c=fd(s,a);if(s.tag!==0&&c===2){var f=Ll(s);f!==0&&(a=f,c=Sp(s,f))}if(c===1)throw c=mc,$o(s,0),Vi(s,a),zr(s,xt()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Fo(s,Br,Js),zr(s,xt()),null}function Tp(s,a){var c=rt;rt|=1;try{return s(a)}finally{rt=c,rt===0&&(Ba=xt()+500,Fu&&Ai())}}function Vo(s){Oi!==null&&Oi.tag===0&&(rt&6)===0&&za();var a=rt;rt|=1;var c=bn.transition,f=Ze;try{if(bn.transition=null,Ze=1,s)return s()}finally{Ze=f,bn.transition=c,rt=a,(rt&6)===0&&Ai()}}function Cp(){on=Ua.current,vt(Ua)}function $o(s,a){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,GE(c)),zt!==null)for(c=zt.return;c!==null;){var f=c;switch(Vf(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&Vu();break;case 3:Va(),vt($r),vt(vr),Xf();break;case 5:Yf(f);break;case 4:Va();break;case 13:vt(Et);break;case 19:vt(Et);break;case 10:Hf(f.type._context);break;case 22:case 23:Cp()}c=c.return}if(nr=s,zt=s=$i(s.current,null),dr=on=a,Kt=0,mc=null,_p=ad=Lo=0,Br=gc=null,Do!==null){for(a=0;a<Do.length;a++)if(c=Do[a],f=c.interleaved,f!==null){c.interleaved=null;var g=f.next,v=c.pending;if(v!==null){var j=v.next;v.next=g,f.next=j}c.pending=f}Do=null}return s}function Ey(s,a){do{var c=zt;try{if(zf(),Qu.current=ed,Xu){for(var f=jt.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}Xu=!1}if(Oo=0,rr=Gt=jt=null,cc=!1,uc=0,wp.current=null,c===null||c.return===null){Kt=1,mc=a,zt=null;break}e:{var v=s,j=c.return,L=c,z=a;if(a=dr,L.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var ee=z,fe=L,me=fe.tag;if((fe.mode&1)===0&&(me===0||me===11||me===15)){var ue=fe.alternate;ue?(fe.updateQueue=ue.updateQueue,fe.memoizedState=ue.memoizedState,fe.lanes=ue.lanes):(fe.updateQueue=null,fe.memoizedState=null)}var _e=Y0(j);if(_e!==null){_e.flags&=-257,Q0(_e,j,L,v,a),_e.mode&1&&K0(v,ee,a),a=_e,z=ee;var je=a.updateQueue;if(je===null){var Ce=new Set;Ce.add(z),a.updateQueue=Ce}else je.add(z);break e}else{if((a&1)===0){K0(v,ee,a),Ip();break e}z=Error(t(426))}}else if(_t&&L.mode&1){var Mt=Y0(j);if(Mt!==null){(Mt.flags&65536)===0&&(Mt.flags|=256),Q0(Mt,j,L,v,a),Uf($a(z,L));break e}}v=z=$a(z,L),Kt!==4&&(Kt=2),gc===null?gc=[v]:gc.push(v),v=j;do{switch(v.tag){case 3:v.flags|=65536,a&=-a,v.lanes|=a;var Y=q0(v,z,a);v0(v,Y);break e;case 1:L=z;var G=v.type,X=v.stateNode;if((v.flags&128)===0&&(typeof G.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(Mi===null||!Mi.has(X)))){v.flags|=65536,a&=-a,v.lanes|=a;var ge=G0(v,L,a);v0(v,ge);break e}}v=v.return}while(v!==null)}ky(c)}catch(Ae){a=Ae,zt===c&&c!==null&&(zt=c=c.return);continue}break}while(!0)}function jy(){var s=od.current;return od.current=ed,s===null?ed:s}function Ip(){(Kt===0||Kt===3||Kt===2)&&(Kt=4),nr===null||(Lo&268435455)===0&&(ad&268435455)===0||Vi(nr,dr)}function fd(s,a){var c=rt;rt|=2;var f=jy();(nr!==s||dr!==a)&&(Js=null,$o(s,a));do try{yj();break}catch(g){Ey(s,g)}while(!0);if(zf(),rt=c,od.current=f,zt!==null)throw Error(t(261));return nr=null,dr=0,Kt}function yj(){for(;zt!==null;)Sy(zt)}function vj(){for(;zt!==null&&!vo();)Sy(zt)}function Sy(s){var a=Iy(s.alternate,s,on);s.memoizedProps=s.pendingProps,a===null?ky(s):zt=a,wp.current=null}function ky(s){var a=s;do{var c=a.alternate;if(s=a.return,(a.flags&32768)===0){if(c=dj(c,a,on),c!==null){zt=c;return}}else{if(c=hj(c,a),c!==null){c.flags&=32767,zt=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Kt=6,zt=null;return}}if(a=a.sibling,a!==null){zt=a;return}zt=a=s}while(a!==null);Kt===0&&(Kt=5)}function Fo(s,a,c){var f=Ze,g=bn.transition;try{bn.transition=null,Ze=1,bj(s,a,c,f)}finally{bn.transition=g,Ze=f}return null}function bj(s,a,c,f){do za();while(Oi!==null);if((rt&6)!==0)throw Error(t(327));c=s.finishedWork;var g=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var v=c.lanes|c.childLanes;if(gf(s,v),s===nr&&(zt=nr=null,dr=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||cd||(cd=!0,Ay(bo,function(){return za(),null})),v=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||v){v=bn.transition,bn.transition=null;var j=Ze;Ze=1;var L=rt;rt|=4,wp.current=null,pj(s,c),xy(c,s),FE(If),Bs=!!Cf,If=Cf=null,s.current=c,mj(c),Vs(),rt=L,Ze=j,bn.transition=v}else s.current=c;if(cd&&(cd=!1,Oi=s,ud=g),v=s.pendingLanes,v===0&&(Mi=null),bu(c.stateNode),zr(s,xt()),a!==null)for(f=s.onRecoverableError,c=0;c<a.length;c++)g=a[c],f(g.value,{componentStack:g.stack,digest:g.digest});if(ld)throw ld=!1,s=Ep,Ep=null,s;return(ud&1)!==0&&s.tag!==0&&za(),v=s.pendingLanes,(v&1)!==0?s===jp?xc++:(xc=0,jp=s):xc=0,Ai(),null}function za(){if(Oi!==null){var s=rs(ud),a=bn.transition,c=Ze;try{if(bn.transition=null,Ze=16>s?16:s,Oi===null)var f=!1;else{if(s=Oi,Oi=null,ud=0,(rt&6)!==0)throw Error(t(331));var g=rt;for(rt|=4,Ee=s.current;Ee!==null;){var v=Ee,j=v.child;if((Ee.flags&16)!==0){var L=v.deletions;if(L!==null){for(var z=0;z<L.length;z++){var ee=L[z];for(Ee=ee;Ee!==null;){var fe=Ee;switch(fe.tag){case 0:case 11:case 15:pc(8,fe,v)}var me=fe.child;if(me!==null)me.return=fe,Ee=me;else for(;Ee!==null;){fe=Ee;var ue=fe.sibling,_e=fe.return;if(hy(fe),fe===ee){Ee=null;break}if(ue!==null){ue.return=_e,Ee=ue;break}Ee=_e}}}var je=v.alternate;if(je!==null){var Ce=je.child;if(Ce!==null){je.child=null;do{var Mt=Ce.sibling;Ce.sibling=null,Ce=Mt}while(Ce!==null)}}Ee=v}}if((v.subtreeFlags&2064)!==0&&j!==null)j.return=v,Ee=j;else e:for(;Ee!==null;){if(v=Ee,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:pc(9,v,v.return)}var Y=v.sibling;if(Y!==null){Y.return=v.return,Ee=Y;break e}Ee=v.return}}var G=s.current;for(Ee=G;Ee!==null;){j=Ee;var X=j.child;if((j.subtreeFlags&2064)!==0&&X!==null)X.return=j,Ee=X;else e:for(j=G;Ee!==null;){if(L=Ee,(L.flags&2048)!==0)try{switch(L.tag){case 0:case 11:case 15:id(9,L)}}catch(Ae){It(L,L.return,Ae)}if(L===j){Ee=null;break e}var ge=L.sibling;if(ge!==null){ge.return=L.return,Ee=ge;break e}Ee=L.return}}if(rt=g,Ai(),Xr&&typeof Xr.onPostCommitFiberRoot=="function")try{Xr.onPostCommitFiberRoot(wo,s)}catch{}f=!0}return f}finally{Ze=c,bn.transition=a}}return!1}function Ty(s,a,c){a=$a(c,a),a=q0(s,a,1),s=Pi(s,a,1),a=Ar(),s!==null&&(jo(s,1,a),zr(s,a))}function It(s,a,c){if(s.tag===3)Ty(s,s,c);else for(;a!==null;){if(a.tag===3){Ty(a,s,c);break}else if(a.tag===1){var f=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Mi===null||!Mi.has(f))){s=$a(c,s),s=G0(a,s,1),a=Pi(a,s,1),s=Ar(),a!==null&&(jo(a,1,s),zr(a,s));break}}a=a.return}}function wj(s,a,c){var f=s.pingCache;f!==null&&f.delete(a),a=Ar(),s.pingedLanes|=s.suspendedLanes&c,nr===s&&(dr&c)===c&&(Kt===4||Kt===3&&(dr&130023424)===dr&&500>xt()-Np?$o(s,0):_p|=c),zr(s,a)}function Cy(s,a){a===0&&((s.mode&1)===0?a=1:(a=wi,wi<<=1,(wi&130023424)===0&&(wi=4194304)));var c=Ar();s=Ys(s,a),s!==null&&(jo(s,a,c),zr(s,c))}function _j(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),Cy(s,c)}function Nj(s,a){var c=0;switch(s.tag){case 13:var f=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:f=s.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(a),Cy(s,c)}var Iy;Iy=function(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps||$r.current)Ur=!0;else{if((s.lanes&c)===0&&(a.flags&128)===0)return Ur=!1,uj(s,a,c);Ur=(s.flags&131072)!==0}else Ur=!1,_t&&(a.flags&1048576)!==0&&c0(a,Bu,a.index);switch(a.lanes=0,a.tag){case 2:var f=a.type;nd(s,a),s=a.pendingProps;var g=Aa(a,vr.current);La(a,c),g=ep(null,a,f,s,g,c);var v=tp();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Fr(f)?(v=!0,$u(a)):v=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Gf(a),g.updater=td,a.stateNode=g,g._reactInternals=a,ap(a,f,s,c),a=dp(null,a,f,!0,v,c)):(a.tag=0,_t&&v&&Lf(a),Ir(null,a,g,c),a=a.child),a;case 16:f=a.elementType;e:{switch(nd(s,a),s=a.pendingProps,g=f._init,f=g(f._payload),a.type=f,g=a.tag=jj(f),s=Ln(f,s),g){case 0:a=up(null,a,f,s,c);break e;case 1:a=ry(null,a,f,s,c);break e;case 11:a=X0(null,a,f,s,c);break e;case 14:a=J0(null,a,f,Ln(f.type,s),c);break e}throw Error(t(306,f,""))}return a;case 0:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:Ln(f,g),up(s,a,f,g,c);case 1:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:Ln(f,g),ry(s,a,f,g,c);case 3:e:{if(ny(a),s===null)throw Error(t(387));f=a.pendingProps,v=a.memoizedState,g=v.element,y0(s,a),Ku(a,f,null,c);var j=a.memoizedState;if(f=j.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){g=$a(Error(t(423)),a),a=sy(s,a,f,c,g);break e}else if(f!==g){g=$a(Error(t(424)),a),a=sy(s,a,f,c,g);break e}else for(sn=Ti(a.stateNode.containerInfo.firstChild),nn=a,_t=!0,On=null,c=g0(a,null,f,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Da(),f===g){a=Xs(s,a,c);break e}Ir(s,a,f,c)}a=a.child}return a;case 5:return w0(a),s===null&&Ff(a),f=a.type,g=a.pendingProps,v=s!==null?s.memoizedProps:null,j=g.children,Af(f,g)?j=null:v!==null&&Af(f,v)&&(a.flags|=32),ty(s,a),Ir(s,a,j,c),a.child;case 6:return s===null&&Ff(a),null;case 13:return iy(s,a,c);case 4:return Kf(a,a.stateNode.containerInfo),f=a.pendingProps,s===null?a.child=Ma(a,null,f,c):Ir(s,a,f,c),a.child;case 11:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:Ln(f,g),X0(s,a,f,g,c);case 7:return Ir(s,a,a.pendingProps,c),a.child;case 8:return Ir(s,a,a.pendingProps.children,c),a.child;case 12:return Ir(s,a,a.pendingProps.children,c),a.child;case 10:e:{if(f=a.type._context,g=a.pendingProps,v=a.memoizedProps,j=g.value,ft(Wu,f._currentValue),f._currentValue=j,v!==null)if(Mn(v.value,j)){if(v.children===g.children&&!$r.current){a=Xs(s,a,c);break e}}else for(v=a.child,v!==null&&(v.return=a);v!==null;){var L=v.dependencies;if(L!==null){j=v.child;for(var z=L.firstContext;z!==null;){if(z.context===f){if(v.tag===1){z=Qs(-1,c&-c),z.tag=2;var ee=v.updateQueue;if(ee!==null){ee=ee.shared;var fe=ee.pending;fe===null?z.next=z:(z.next=fe.next,fe.next=z),ee.pending=z}}v.lanes|=c,z=v.alternate,z!==null&&(z.lanes|=c),Wf(v.return,c,a),L.lanes|=c;break}z=z.next}}else if(v.tag===10)j=v.type===a.type?null:v.child;else if(v.tag===18){if(j=v.return,j===null)throw Error(t(341));j.lanes|=c,L=j.alternate,L!==null&&(L.lanes|=c),Wf(j,c,a),j=v.sibling}else j=v.child;if(j!==null)j.return=v;else for(j=v;j!==null;){if(j===a){j=null;break}if(v=j.sibling,v!==null){v.return=j.return,j=v;break}j=j.return}v=j}Ir(s,a,g.children,c),a=a.child}return a;case 9:return g=a.type,f=a.pendingProps.children,La(a,c),g=yn(g),f=f(g),a.flags|=1,Ir(s,a,f,c),a.child;case 14:return f=a.type,g=Ln(f,a.pendingProps),g=Ln(f.type,g),J0(s,a,f,g,c);case 15:return Z0(s,a,a.type,a.pendingProps,c);case 17:return f=a.type,g=a.pendingProps,g=a.elementType===f?g:Ln(f,g),nd(s,a),a.tag=1,Fr(f)?(s=!0,$u(a)):s=!1,La(a,c),H0(a,f,g),ap(a,f,g,c),dp(null,a,f,!0,s,c);case 19:return ay(s,a,c);case 22:return ey(s,a,c)}throw Error(t(156,a.tag))};function Ay(s,a){return Dl(s,a)}function Ej(s,a,c,f){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(s,a,c,f){return new Ej(s,a,c,f)}function Ap(s){return s=s.prototype,!(!s||!s.isReactComponent)}function jj(s){if(typeof s=="function")return Ap(s)?1:0;if(s!=null){if(s=s.$$typeof,s===I)return 11;if(s===oe)return 14}return 2}function $i(s,a){var c=s.alternate;return c===null?(c=wn(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function pd(s,a,c,f,g,v){var j=2;if(f=s,typeof s=="function")Ap(s)&&(j=1);else if(typeof s=="string")j=5;else e:switch(s){case R:return Uo(c.children,g,v,a);case S:j=8,g|=8;break;case M:return s=wn(12,c,a,g|2),s.elementType=M,s.lanes=v,s;case C:return s=wn(13,c,a,g),s.elementType=C,s.lanes=v,s;case de:return s=wn(19,c,a,g),s.elementType=de,s.lanes=v,s;case q:return md(c,g,v,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case V:j=10;break e;case D:j=9;break e;case I:j=11;break e;case oe:j=14;break e;case K:j=16,f=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=wn(j,c,a,g),a.elementType=s,a.type=f,a.lanes=v,a}function Uo(s,a,c,f){return s=wn(7,s,f,a),s.lanes=c,s}function md(s,a,c,f){return s=wn(22,s,f,a),s.elementType=q,s.lanes=c,s.stateNode={isHidden:!1},s}function Rp(s,a,c){return s=wn(6,s,null,a),s.lanes=c,s}function Pp(s,a,c){return a=wn(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function Sj(s,a,c,f,g){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$l(0),this.expirationTimes=$l(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$l(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Dp(s,a,c,f,g,v,j,L,z){return s=new Sj(s,a,c,L,z),a===1?(a=1,v===!0&&(a|=8)):a=0,v=wn(3,null,null,a),s.current=v,v.stateNode=s,v.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gf(v),s}function kj(s,a,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:f==null?null:""+f,children:s,containerInfo:a,implementation:c}}function Ry(s){if(!s)return Ii;s=s._reactInternals;e:{if(Pn(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Fr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(Fr(c))return o0(s,c,a)}return a}function Py(s,a,c,f,g,v,j,L,z){return s=Dp(c,f,!0,s,g,v,j,L,z),s.context=Ry(null),c=s.current,f=Ar(),g=Li(c),v=Qs(f,g),v.callback=a??null,Pi(c,v,g),s.current.lanes=g,jo(s,g,f),zr(s,f),s}function gd(s,a,c,f){var g=a.current,v=Ar(),j=Li(g);return c=Ry(c),a.context===null?a.context=c:a.pendingContext=c,a=Qs(v,j),a.payload={element:s},f=f===void 0?null:f,f!==null&&(a.callback=f),s=Pi(g,a,j),s!==null&&(Fn(s,g,j,v),Gu(s,g,j)),j}function xd(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Dy(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function Mp(s,a){Dy(s,a),(s=s.alternate)&&Dy(s,a)}function Tj(){return null}var My=typeof reportError=="function"?reportError:function(s){console.error(s)};function Op(s){this._internalRoot=s}yd.prototype.render=Op.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));gd(s,a,null,null)},yd.prototype.unmount=Op.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Vo(function(){gd(null,s,null,null)}),a[Ws]=null}};function yd(s){this._internalRoot=s}yd.prototype.unstable_scheduleHydration=function(s){if(s){var a=zl();s={blockedOn:null,target:s,priority:a};for(var c=0;c<Zr.length&&a!==0&&a<Zr[c].priority;c++);Zr.splice(c,0,s),c===0&&ma(s)}};function Lp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function vd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Oy(){}function Cj(s,a,c,f,g){if(g){if(typeof f=="function"){var v=f;f=function(){var ee=xd(j);v.call(ee)}}var j=Py(a,f,s,0,null,!1,!1,"",Oy);return s._reactRootContainer=j,s[Ws]=j.current,tc(s.nodeType===8?s.parentNode:s),Vo(),j}for(;g=s.lastChild;)s.removeChild(g);if(typeof f=="function"){var L=f;f=function(){var ee=xd(z);L.call(ee)}}var z=Dp(s,0,!1,null,null,!1,!1,"",Oy);return s._reactRootContainer=z,s[Ws]=z.current,tc(s.nodeType===8?s.parentNode:s),Vo(function(){gd(a,z,c,f)}),z}function bd(s,a,c,f,g){var v=c._reactRootContainer;if(v){var j=v;if(typeof g=="function"){var L=g;g=function(){var z=xd(j);L.call(z)}}gd(a,j,s,g)}else j=Cj(c,a,s,g,f);return xd(j)}Ul=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var c=st(a.pendingLanes);c!==0&&(Fl(a,c|1),zr(a,xt()),(rt&6)===0&&(Ba=xt()+500,Ai()))}break;case 13:Vo(function(){var f=Ys(s,1);if(f!==null){var g=Ar();Fn(f,s,1,g)}}),Mp(s,1)}},fa=function(s){if(s.tag===13){var a=Ys(s,134217728);if(a!==null){var c=Ar();Fn(a,s,134217728,c)}Mp(s,134217728)}},Bl=function(s){if(s.tag===13){var a=Li(s),c=Ys(s,a);if(c!==null){var f=Ar();Fn(c,s,a,f)}Mp(s,a)}},zl=function(){return Ze},Hl=function(s,a){var c=Ze;try{return Ze=s,a()}finally{Ze=c}},An=function(s,a,c){switch(a){case"input":if(be(s,c),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var f=c[a];if(f!==s&&f.form===s.form){var g=Lu(f);if(!g)throw Error(t(90));We(f),be(f,g)}}}break;case"textarea":ar(s,c);break;case"select":a=c.value,a!=null&&Zt(s,!!c.multiple,a,!1)}},Pt=Tp,er=Vo;var Ij={usingClientEntryPoint:!1,Events:[sc,Ca,Lu,Oe,dt,Tp]},yc={findFiberByHostInstance:Io,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Aj={bundleType:yc.bundleType,version:yc.version,rendererPackageName:yc.rendererPackageName,rendererConfig:yc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=vu(s),s===null?null:s.stateNode},findFiberByHostInstance:yc.findFiberByHostInstance||Tj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wd.isDisabled&&wd.supportsFiber)try{wo=wd.inject(Aj),Xr=wd}catch{}}return Hr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ij,Hr.createPortal=function(s,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lp(a))throw Error(t(200));return kj(s,a,null,c)},Hr.createRoot=function(s,a){if(!Lp(s))throw Error(t(299));var c=!1,f="",g=My;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=Dp(s,1,!1,null,null,c,!1,f,g),s[Ws]=a.current,tc(s.nodeType===8?s.parentNode:s),new Op(a)},Hr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=vu(a),s=s===null?null:s.stateNode,s},Hr.flushSync=function(s){return Vo(s)},Hr.hydrate=function(s,a,c){if(!vd(a))throw Error(t(200));return bd(null,s,a,!0,c)},Hr.hydrateRoot=function(s,a,c){if(!Lp(s))throw Error(t(405));var f=c!=null&&c.hydratedSources||null,g=!1,v="",j=My;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onRecoverableError!==void 0&&(j=c.onRecoverableError)),a=Py(a,null,s,1,c??null,g,!1,v,j),s[Ws]=a.current,tc(s),f)for(s=0;s<f.length;s++)c=f[s],g=c._getVersion,g=g(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,g]:a.mutableSourceEagerHydrationData.push(c,g);return new yd(a)},Hr.render=function(s,a,c){if(!vd(a))throw Error(t(200));return bd(null,s,a,!1,c)},Hr.unmountComponentAtNode=function(s){if(!vd(s))throw Error(t(40));return s._reactRootContainer?(Vo(function(){bd(null,null,s,!1,function(){s._reactRootContainer=null,s[Ws]=null})}),!0):!1},Hr.unstable_batchedUpdates=Tp,Hr.unstable_renderSubtreeIntoContainer=function(s,a,c,f){if(!vd(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return bd(s,a,c,!1,f)},Hr.version="18.3.1-next-f1338f8080-20240426",Hr}var Hy;function Nw(){if(Hy)return Fp.exports;Hy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Fp.exports=$j(),Fp.exports}var Wy;function Fj(){if(Wy)return _d;Wy=1;var r=Nw();return _d.createRoot=r.createRoot,_d.hydrateRoot=r.hydrateRoot,_d}var Uj=Fj(),_=Rh();const xe=_w(_),ag=Pj({__proto__:null,default:xe},[_]);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zj=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),qy=r=>{const e=zj(r);return e.charAt(0).toUpperCase()+e.slice(1)},Ew=(...r)=>r.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=_.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:o="",children:l,iconNode:u,...h},p)=>_.createElement("svg",{ref:p,...Hj,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:Ew("lucide",o),...h},[...u.map(([m,y])=>_.createElement(m,y)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=(r,e)=>{const t=_.forwardRef(({className:n,...o},l)=>_.createElement(Wj,{ref:l,iconNode:e,className:Ew(`lucide-${Bj(qy(r))}`,`lucide-${r}`,n),...o}));return t.displayName=qy(r),t};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=[["path",{d:"M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3",key:"irtipd"}],["path",{d:"M3 16a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"1qyhux"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]],Bd=Te("armchair",qj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],St=Te("arrow-left-right",Gj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],wt=Te("arrow-left",Kj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]],jw=Te("beaker",Yj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],al=Te("bell",Qj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ym=Te("book-open",Xj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Zj=Te("briefcase",Jj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ph=Te("calendar",eS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Sw=Te("camera",tS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],nS=Te("check-check",rS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],kw=Te("check",sS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],lg=Te("chevron-down",iS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],aS=Te("chevron-left",oS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Tw=Te("chevron-right",lS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Cw=Te("chevron-up",cS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],jn=Te("circle-check-big",uS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],hS=Te("circle-help",dS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],ll=Te("clock",fS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Sr=Te("coins",pS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],rh=Te("eye-off",mS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Yo=Te("eye",gS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],yS=Te("funnel",xS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Iw=Te("globe",vS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],wS=Te("graduation-cap",bS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],cg=Te("grid-3x3",_S);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Wo=Te("house",NS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],jS=Te("image",ES);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],kS=Te("info",SS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],CS=Te("instagram",TS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]],Aw=Te("laptop",IS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],RS=Te("lightbulb",AS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],DS=Te("linkedin",PS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],ug=Te("list",MS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],LS=Te("lock",OS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Kr=Te("map-pin",VS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],FS=Te("menu",$S);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],BS=Te("message-circle",US);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Rw=Te("message-square",zS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],WS=Te("moon",HS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],GS=Te("music",qS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],bs=Te("package",KS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]],Pw=Te("paintbrush",YS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],XS=Te("party-popper",QS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ni=Te("plus",JS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=[["path",{d:"M7 19H4.815a1.83 1.83 0 0 1-1.57-.881 1.785 1.785 0 0 1-.004-1.784L7.196 9.5",key:"x6z5xu"}],["path",{d:"M11 19h8.203a1.83 1.83 0 0 0 1.556-.89 1.784 1.784 0 0 0 0-1.775l-1.226-2.12",key:"1x4zh5"}],["path",{d:"m14 16-3 3 3 3",key:"f6jyew"}],["path",{d:"M8.293 13.596 7.196 9.5 3.1 10.598",key:"wf1obh"}],["path",{d:"m9.344 5.811 1.093-1.892A1.83 1.83 0 0 1 11.985 3a1.784 1.784 0 0 1 1.546.888l3.943 6.843",key:"9tzpgr"}],["path",{d:"m13.378 9.633 4.096 1.098 1.097-4.096",key:"1oe83g"}]],ek=Te("recycle",ZS);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Dw=Te("save",tk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],sa=Te("search",rk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],sk=Te("send",nk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ok=Te("settings",ik);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ws=Te("shield",ak);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],vm=Te("shirt",lk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],uk=Te("shopping-bag",ck);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],hk=Te("sparkles",dk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Mw=Te("star",fk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],mk=Te("target",pk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Ow=Te("trending-up",gk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Gy=Te("triangle-alert",xk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Lw=Te("upload",yk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],bk=Te("user-x",vk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],bm=Te("user",wk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Pr=Te("users",_k);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],Vw=Te("utensils-crossed",Nk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],kn=Te("x",Ek);function jk({value:r,onChange:e}){return i.jsx("div",{className:"relative backdrop-blur-xl bg-white/60 border border-white/60 rounded-full p-1 shadow-sm",children:i.jsxs("div",{className:"relative flex items-center",children:[i.jsx("div",{className:`absolute top-1 h-[calc(100%-8px)] w-[calc(50%-4px)] rounded-full bg-gradient-to-br from-purple-500 to-purple-600 shadow-md transition-all duration-300 ${r==="credits"?"left-1":"left-[calc(50%+3px)]"}`,style:{boxShadow:"0 4px 12px rgba(139, 92, 246, 0.3)"}}),i.jsxs("button",{onClick:()=>e("credits"),className:"relative z-10 flex-1 flex items-center justify-center gap-2 px-4 py-2.5 transition-all",children:[i.jsx(Sr,{className:`w-4 h-4 transition-colors ${r==="credits"?"text-white":"text-[#555]"}`}),i.jsx("span",{className:`text-sm font-medium transition-all ${r==="credits"?"text-white font-semibold":"text-[#555] opacity-60"}`,children:"Credits"})]}),i.jsxs("button",{onClick:()=>e("trade"),className:"relative z-10 flex-1 flex items-center justify-center gap-2 px-4 py-2.5 transition-all",children:[i.jsx(St,{className:`w-4 h-4 transition-colors ${r==="trade"?"text-white":"text-[#555]"}`}),i.jsx("span",{className:`text-sm font-medium transition-all ${r==="trade"?"text-white font-semibold":"text-[#555] opacity-60"}`,children:"Trade"})]})]})})}function Ky(r,e){if(typeof r=="function")return r(e);r!=null&&(r.current=e)}function Yc(...r){return e=>{let t=!1;const n=r.map(o=>{const l=Ky(o,e);return!t&&typeof l=="function"&&(t=!0),l});if(t)return()=>{for(let o=0;o<n.length;o++){const l=n[o];typeof l=="function"?l():Ky(r[o],null)}}}}function Lt(...r){return _.useCallback(Yc(...r),r)}var Sk=Symbol.for("react.lazy"),nh=ag[" use ".trim().toString()];function kk(r){return typeof r=="object"&&r!==null&&"then"in r}function $w(r){return r!=null&&typeof r=="object"&&"$$typeof"in r&&r.$$typeof===Sk&&"_payload"in r&&kk(r._payload)}function dg(r){const e=Tk(r),t=_.forwardRef((n,o)=>{let{children:l,...u}=n;$w(l)&&typeof nh=="function"&&(l=nh(l._payload));const h=_.Children.toArray(l),p=h.find(Ik);if(p){const m=p.props.children,y=h.map(x=>x===p?_.Children.count(m)>1?_.Children.only(null):_.isValidElement(m)?m.props.children:null:x);return i.jsx(e,{...u,ref:o,children:_.isValidElement(m)?_.cloneElement(m,void 0,y):null})}return i.jsx(e,{...u,ref:o,children:l})});return t.displayName=`${r}.Slot`,t}var Fw=dg("Slot");function Tk(r){const e=_.forwardRef((t,n)=>{let{children:o,...l}=t;if($w(o)&&typeof nh=="function"&&(o=nh(o._payload)),_.isValidElement(o)){const u=Rk(o),h=Ak(l,o.props);return o.type!==_.Fragment&&(h.ref=n?Yc(n,u):u),_.cloneElement(o,h)}return _.Children.count(o)>1?_.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var Ck=Symbol("radix.slottable");function Ik(r){return _.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===Ck}function Ak(r,e){const t={...e};for(const n in e){const o=r[n],l=e[n];/^on[A-Z]/.test(n)?o&&l?t[n]=(...h)=>{const p=l(...h);return o(...h),p}:o&&(t[n]=o):n==="style"?t[n]={...o,...l}:n==="className"&&(t[n]=[o,l].filter(Boolean).join(" "))}return{...r,...t}}function Rk(r){let e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}function Uw(r){var e,t,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(t=Uw(r[e]))&&(n&&(n+=" "),n+=t)}else for(t in r)r[t]&&(n&&(n+=" "),n+=t);return n}function Bw(){for(var r,e,t=0,n="",o=arguments.length;t<o;t++)(r=arguments[t])&&(e=Uw(r))&&(n&&(n+=" "),n+=e);return n}const Yy=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,Qy=Bw,zw=(r,e)=>t=>{var n;if(e?.variants==null)return Qy(r,t?.class,t?.className);const{variants:o,defaultVariants:l}=e,u=Object.keys(o).map(m=>{const y=t?.[m],x=l?.[m];if(y===null)return null;const w=Yy(y)||Yy(x);return o[m][w]}),h=t&&Object.entries(t).reduce((m,y)=>{let[x,w]=y;return w===void 0||(m[x]=w),m},{}),p=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((m,y)=>{let{class:x,className:w,...k}=y;return Object.entries(k).every(P=>{let[E,T]=P;return Array.isArray(T)?T.includes({...l,...h}[E]):{...l,...h}[E]===T})?[...m,x,w]:m},[]);return Qy(r,u,p,t?.class,t?.className)},Pk=(r,e)=>{const t=new Array(r.length+e.length);for(let n=0;n<r.length;n++)t[n]=r[n];for(let n=0;n<e.length;n++)t[r.length+n]=e[n];return t},Dk=(r,e)=>({classGroupId:r,validator:e}),Hw=(r=new Map,e=null,t)=>({nextPart:r,validators:e,classGroupId:t}),sh="-",Xy=[],Mk="arbitrary..",Ok=r=>{const e=Vk(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:n}=r;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return Lk(u);const h=u.split(sh),p=h[0]===""&&h.length>1?1:0;return Ww(h,p,e)},getConflictingClassGroupIds:(u,h)=>{if(h){const p=n[u],m=t[u];return p?m?Pk(m,p):p:m||Xy}return t[u]||Xy}}},Ww=(r,e,t)=>{if(r.length-e===0)return t.classGroupId;const o=r[e],l=t.nextPart.get(o);if(l){const m=Ww(r,e+1,l);if(m)return m}const u=t.validators;if(u===null)return;const h=e===0?r.join(sh):r.slice(e).join(sh),p=u.length;for(let m=0;m<p;m++){const y=u[m];if(y.validator(h))return y.classGroupId}},Lk=r=>r.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=r.slice(1,-1),t=e.indexOf(":"),n=e.slice(0,t);return n?Mk+n:void 0})(),Vk=r=>{const{theme:e,classGroups:t}=r;return $k(t,e)},$k=(r,e)=>{const t=Hw();for(const n in r){const o=r[n];hg(o,t,n,e)}return t},hg=(r,e,t,n)=>{const o=r.length;for(let l=0;l<o;l++){const u=r[l];Fk(u,e,t,n)}},Fk=(r,e,t,n)=>{if(typeof r=="string"){Uk(r,e,t);return}if(typeof r=="function"){Bk(r,e,t,n);return}zk(r,e,t,n)},Uk=(r,e,t)=>{const n=r===""?e:qw(e,r);n.classGroupId=t},Bk=(r,e,t,n)=>{if(Hk(r)){hg(r(n),e,t,n);return}e.validators===null&&(e.validators=[]),e.validators.push(Dk(t,r))},zk=(r,e,t,n)=>{const o=Object.entries(r),l=o.length;for(let u=0;u<l;u++){const[h,p]=o[u];hg(p,qw(e,h),t,n)}},qw=(r,e)=>{let t=r;const n=e.split(sh),o=n.length;for(let l=0;l<o;l++){const u=n[l];let h=t.nextPart.get(u);h||(h=Hw(),t.nextPart.set(u,h)),t=h}return t},Hk=r=>"isThemeGetter"in r&&r.isThemeGetter===!0,Wk=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),n=Object.create(null);const o=(l,u)=>{t[l]=u,e++,e>r&&(e=0,n=t,t=Object.create(null))};return{get(l){let u=t[l];if(u!==void 0)return u;if((u=n[l])!==void 0)return o(l,u),u},set(l,u){l in t?t[l]=u:o(l,u)}}},wm="!",Jy=":",qk=[],Zy=(r,e,t,n,o)=>({modifiers:r,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:n,isExternal:o}),Gk=r=>{const{prefix:e,experimentalParseClassName:t}=r;let n=o=>{const l=[];let u=0,h=0,p=0,m;const y=o.length;for(let E=0;E<y;E++){const T=o[E];if(u===0&&h===0){if(T===Jy){l.push(o.slice(p,E)),p=E+1;continue}if(T==="/"){m=E;continue}}T==="["?u++:T==="]"?u--:T==="("?h++:T===")"&&h--}const x=l.length===0?o:o.slice(p);let w=x,k=!1;x.endsWith(wm)?(w=x.slice(0,-1),k=!0):x.startsWith(wm)&&(w=x.slice(1),k=!0);const P=m&&m>p?m-p:void 0;return Zy(l,k,w,P)};if(e){const o=e+Jy,l=n;n=u=>u.startsWith(o)?l(u.slice(o.length)):Zy(qk,!1,u,void 0,!0)}if(t){const o=n;n=l=>t({className:l,parseClassName:o})}return n},Kk=r=>{const e=new Map;return r.orderSensitiveModifiers.forEach((t,n)=>{e.set(t,1e6+n)}),t=>{const n=[];let o=[];for(let l=0;l<t.length;l++){const u=t[l],h=u[0]==="[",p=e.has(u);h||p?(o.length>0&&(o.sort(),n.push(...o),o=[]),n.push(u)):o.push(u)}return o.length>0&&(o.sort(),n.push(...o)),n}},Yk=r=>({cache:Wk(r.cacheSize),parseClassName:Gk(r),sortModifiers:Kk(r),...Ok(r)}),Qk=/\s+/,Xk=(r,e)=>{const{parseClassName:t,getClassGroupId:n,getConflictingClassGroupIds:o,sortModifiers:l}=e,u=[],h=r.trim().split(Qk);let p="";for(let m=h.length-1;m>=0;m-=1){const y=h[m],{isExternal:x,modifiers:w,hasImportantModifier:k,baseClassName:P,maybePostfixModifierPosition:E}=t(y);if(x){p=y+(p.length>0?" "+p:p);continue}let T=!!E,O=n(T?P.substring(0,E):P);if(!O){if(!T){p=y+(p.length>0?" "+p:p);continue}if(O=n(P),!O){p=y+(p.length>0?" "+p:p);continue}T=!1}const B=w.length===0?"":w.length===1?w[0]:l(w).join(":"),U=k?B+wm:B,H=U+O;if(u.indexOf(H)>-1)continue;u.push(H);const W=o(O,T);for(let Z=0;Z<W.length;++Z){const R=W[Z];u.push(U+R)}p=y+(p.length>0?" "+p:p)}return p},Jk=(...r)=>{let e=0,t,n,o="";for(;e<r.length;)(t=r[e++])&&(n=Gw(t))&&(o&&(o+=" "),o+=n);return o},Gw=r=>{if(typeof r=="string")return r;let e,t="";for(let n=0;n<r.length;n++)r[n]&&(e=Gw(r[n]))&&(t&&(t+=" "),t+=e);return t},Zk=(r,...e)=>{let t,n,o,l;const u=p=>{const m=e.reduce((y,x)=>x(y),r());return t=Yk(m),n=t.cache.get,o=t.cache.set,l=h,h(p)},h=p=>{const m=n(p);if(m)return m;const y=Xk(p,t);return o(p,y),y};return l=u,(...p)=>l(Jk(...p))},eT=[],Yt=r=>{const e=t=>t[r]||eT;return e.isThemeGetter=!0,e},Kw=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Yw=/^\((?:(\w[\w-]*):)?(.+)\)$/i,tT=/^\d+\/\d+$/,rT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,sT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,iT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,oT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ha=r=>tT.test(r),Ge=r=>!!r&&!Number.isNaN(Number(r)),Ui=r=>!!r&&Number.isInteger(Number(r)),zp=r=>r.endsWith("%")&&Ge(r.slice(0,-1)),Zs=r=>rT.test(r),aT=()=>!0,lT=r=>nT.test(r)&&!sT.test(r),Qw=()=>!1,cT=r=>iT.test(r),uT=r=>oT.test(r),dT=r=>!Se(r)&&!ke(r),hT=r=>yl(r,Zw,Qw),Se=r=>Kw.test(r),Bo=r=>yl(r,e1,lT),Hp=r=>yl(r,xT,Ge),ev=r=>yl(r,Xw,Qw),fT=r=>yl(r,Jw,uT),Nd=r=>yl(r,t1,cT),ke=r=>Yw.test(r),bc=r=>vl(r,e1),pT=r=>vl(r,yT),tv=r=>vl(r,Xw),mT=r=>vl(r,Zw),gT=r=>vl(r,Jw),Ed=r=>vl(r,t1,!0),yl=(r,e,t)=>{const n=Kw.exec(r);return n?n[1]?e(n[1]):t(n[2]):!1},vl=(r,e,t=!1)=>{const n=Yw.exec(r);return n?n[1]?e(n[1]):t:!1},Xw=r=>r==="position"||r==="percentage",Jw=r=>r==="image"||r==="url",Zw=r=>r==="length"||r==="size"||r==="bg-size",e1=r=>r==="length",xT=r=>r==="number",yT=r=>r==="family-name",t1=r=>r==="shadow",vT=()=>{const r=Yt("color"),e=Yt("font"),t=Yt("text"),n=Yt("font-weight"),o=Yt("tracking"),l=Yt("leading"),u=Yt("breakpoint"),h=Yt("container"),p=Yt("spacing"),m=Yt("radius"),y=Yt("shadow"),x=Yt("inset-shadow"),w=Yt("text-shadow"),k=Yt("drop-shadow"),P=Yt("blur"),E=Yt("perspective"),T=Yt("aspect"),O=Yt("ease"),B=Yt("animate"),U=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],W=()=>[...H(),ke,Se],Z=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto","contain","none"],S=()=>[ke,Se,p],M=()=>[Ha,"full","auto",...S()],V=()=>[Ui,"none","subgrid",ke,Se],D=()=>["auto",{span:["full",Ui,ke,Se]},Ui,ke,Se],I=()=>[Ui,"auto",ke,Se],C=()=>["auto","min","max","fr",ke,Se],de=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],oe=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...S()],q=()=>[Ha,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],$=()=>[r,ke,Se],se=()=>[...H(),tv,ev,{position:[ke,Se]}],ie=()=>["no-repeat",{repeat:["","x","y","space","round"]}],F=()=>["auto","cover","contain",mT,hT,{size:[ke,Se]}],J=()=>[zp,bc,Bo],re=()=>["","none","full",m,ke,Se],te=()=>["",Ge,bc,Bo],he=()=>["solid","dashed","dotted","double"],ve=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],le=()=>[Ge,zp,tv,ev],pe=()=>["","none",P,ke,Se],Ie=()=>["none",Ge,ke,Se],Pe=()=>["none",Ge,ke,Se],ze=()=>[Ge,ke,Se],We=()=>[Ha,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Zs],breakpoint:[Zs],color:[aT],container:[Zs],"drop-shadow":[Zs],ease:["in","out","in-out"],font:[dT],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Zs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Zs],shadow:[Zs],spacing:["px",Ge],text:[Zs],"text-shadow":[Zs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ha,Se,ke,T]}],container:["container"],columns:[{columns:[Ge,Se,ke,h]}],"break-after":[{"break-after":U()}],"break-before":[{"break-before":U()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:W()}],overflow:[{overflow:Z()}],"overflow-x":[{"overflow-x":Z()}],"overflow-y":[{"overflow-y":Z()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[Ui,"auto",ke,Se]}],basis:[{basis:[Ha,"full","auto",h,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ge,Ha,"auto","initial","none",Se]}],grow:[{grow:["",Ge,ke,Se]}],shrink:[{shrink:["",Ge,ke,Se]}],order:[{order:[Ui,"first","last","none",ke,Se]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:D()}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:D()}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":C()}],"auto-rows":[{"auto-rows":C()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...de(),"normal"]}],"justify-items":[{"justify-items":[...oe(),"normal"]}],"justify-self":[{"justify-self":["auto",...oe()]}],"align-content":[{content:["normal",...de()]}],"align-items":[{items:[...oe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...oe(),{baseline:["","last"]}]}],"place-content":[{"place-content":de()}],"place-items":[{"place-items":[...oe(),"baseline"]}],"place-self":[{"place-self":["auto",...oe()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[h,"screen",...q()]}],"min-w":[{"min-w":[h,"screen","none",...q()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[u]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",t,bc,Bo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,ke,Hp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",zp,Se]}],"font-family":[{font:[pT,Se,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,ke,Se]}],"line-clamp":[{"line-clamp":[Ge,"none",ke,Hp]}],leading:[{leading:[l,...S()]}],"list-image":[{"list-image":["none",ke,Se]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ke,Se]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...he(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ge,"from-font","auto",ke,Bo]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[Ge,"auto",ke,Se]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ke,Se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ke,Se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:se()}],"bg-repeat":[{bg:ie()}],"bg-size":[{bg:F()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ui,ke,Se],radial:["",ke,Se],conic:[Ui,ke,Se]},gT,fT]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:J()}],"gradient-via-pos":[{via:J()}],"gradient-to-pos":[{to:J()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:re()}],"rounded-s":[{"rounded-s":re()}],"rounded-e":[{"rounded-e":re()}],"rounded-t":[{"rounded-t":re()}],"rounded-r":[{"rounded-r":re()}],"rounded-b":[{"rounded-b":re()}],"rounded-l":[{"rounded-l":re()}],"rounded-ss":[{"rounded-ss":re()}],"rounded-se":[{"rounded-se":re()}],"rounded-ee":[{"rounded-ee":re()}],"rounded-es":[{"rounded-es":re()}],"rounded-tl":[{"rounded-tl":re()}],"rounded-tr":[{"rounded-tr":re()}],"rounded-br":[{"rounded-br":re()}],"rounded-bl":[{"rounded-bl":re()}],"border-w":[{border:te()}],"border-w-x":[{"border-x":te()}],"border-w-y":[{"border-y":te()}],"border-w-s":[{"border-s":te()}],"border-w-e":[{"border-e":te()}],"border-w-t":[{"border-t":te()}],"border-w-r":[{"border-r":te()}],"border-w-b":[{"border-b":te()}],"border-w-l":[{"border-l":te()}],"divide-x":[{"divide-x":te()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":te()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...he(),"hidden","none"]}],"divide-style":[{divide:[...he(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...he(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ge,ke,Se]}],"outline-w":[{outline:["",Ge,bc,Bo]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",y,Ed,Nd]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",x,Ed,Nd]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:te()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[Ge,Bo]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":te()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",w,Ed,Nd]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[Ge,ke,Se]}],"mix-blend":[{"mix-blend":[...ve(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ve()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ge]}],"mask-image-linear-from-pos":[{"mask-linear-from":le()}],"mask-image-linear-to-pos":[{"mask-linear-to":le()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":le()}],"mask-image-t-to-pos":[{"mask-t-to":le()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":le()}],"mask-image-r-to-pos":[{"mask-r-to":le()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":le()}],"mask-image-b-to-pos":[{"mask-b-to":le()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":le()}],"mask-image-l-to-pos":[{"mask-l-to":le()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":le()}],"mask-image-x-to-pos":[{"mask-x-to":le()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":le()}],"mask-image-y-to-pos":[{"mask-y-to":le()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[ke,Se]}],"mask-image-radial-from-pos":[{"mask-radial-from":le()}],"mask-image-radial-to-pos":[{"mask-radial-to":le()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":H()}],"mask-image-conic-pos":[{"mask-conic":[Ge]}],"mask-image-conic-from-pos":[{"mask-conic-from":le()}],"mask-image-conic-to-pos":[{"mask-conic-to":le()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:se()}],"mask-repeat":[{mask:ie()}],"mask-size":[{mask:F()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ke,Se]}],filter:[{filter:["","none",ke,Se]}],blur:[{blur:pe()}],brightness:[{brightness:[Ge,ke,Se]}],contrast:[{contrast:[Ge,ke,Se]}],"drop-shadow":[{"drop-shadow":["","none",k,Ed,Nd]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",Ge,ke,Se]}],"hue-rotate":[{"hue-rotate":[Ge,ke,Se]}],invert:[{invert:["",Ge,ke,Se]}],saturate:[{saturate:[Ge,ke,Se]}],sepia:[{sepia:["",Ge,ke,Se]}],"backdrop-filter":[{"backdrop-filter":["","none",ke,Se]}],"backdrop-blur":[{"backdrop-blur":pe()}],"backdrop-brightness":[{"backdrop-brightness":[Ge,ke,Se]}],"backdrop-contrast":[{"backdrop-contrast":[Ge,ke,Se]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ge,ke,Se]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ge,ke,Se]}],"backdrop-invert":[{"backdrop-invert":["",Ge,ke,Se]}],"backdrop-opacity":[{"backdrop-opacity":[Ge,ke,Se]}],"backdrop-saturate":[{"backdrop-saturate":[Ge,ke,Se]}],"backdrop-sepia":[{"backdrop-sepia":["",Ge,ke,Se]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ke,Se]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ge,"initial",ke,Se]}],ease:[{ease:["linear","initial",O,ke,Se]}],delay:[{delay:[Ge,ke,Se]}],animate:[{animate:["none",B,ke,Se]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,ke,Se]}],"perspective-origin":[{"perspective-origin":W()}],rotate:[{rotate:Ie()}],"rotate-x":[{"rotate-x":Ie()}],"rotate-y":[{"rotate-y":Ie()}],"rotate-z":[{"rotate-z":Ie()}],scale:[{scale:Pe()}],"scale-x":[{"scale-x":Pe()}],"scale-y":[{"scale-y":Pe()}],"scale-z":[{"scale-z":Pe()}],"scale-3d":["scale-3d"],skew:[{skew:ze()}],"skew-x":[{"skew-x":ze()}],"skew-y":[{"skew-y":ze()}],transform:[{transform:[ke,Se,"","none","gpu","cpu"]}],"transform-origin":[{origin:W()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:We()}],"translate-x":[{"translate-x":We()}],"translate-y":[{"translate-y":We()}],"translate-z":[{"translate-z":We()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ke,Se]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ke,Se]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[Ge,bc,Bo,Hp]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},bT=Zk(vT);function Xt(...r){return bT(Bw(r))}const wT=zw("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium",{variants:{variant:{default:"bg-primary text-white",outline:"border"}},defaultVariants:{variant:"default"}});function Dr({className:r,variant:e,asChild:t=!1,...n}){const o=t?Fw:"span";return i.jsx(o,{className:Xt(wT({variant:e}),r),...n})}function _T(r,e=[]){let t=[];function n(l,u){const h=_.createContext(u);h.displayName=l+"Context";const p=t.length;t=[...t,u];const m=x=>{const{scope:w,children:k,...P}=x,E=w?.[r]?.[p]||h,T=_.useMemo(()=>P,Object.values(P));return i.jsx(E.Provider,{value:T,children:k})};m.displayName=l+"Provider";function y(x,w){const k=w?.[r]?.[p]||h,P=_.useContext(k);if(P)return P;if(u!==void 0)return u;throw new Error(`\`${x}\` must be used within \`${l}\``)}return[m,y]}const o=()=>{const l=t.map(u=>_.createContext(u));return function(h){const p=h?.[r]||l;return _.useMemo(()=>({[`__scope${r}`]:{...h,[r]:p}}),[h,p])}};return o.scopeName=r,[n,NT(o,...e)]}function NT(...r){const e=r[0];if(r.length===1)return e;const t=()=>{const n=r.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const u=n.reduce((h,{useScope:p,scopeName:m})=>{const x=p(l)[`__scope${m}`];return{...h,...x}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}function ai(r){const e=_.useRef(r);return _.useEffect(()=>{e.current=r}),_.useMemo(()=>(...t)=>e.current?.(...t),[])}var Jt=globalThis?.document?_.useLayoutEffect:()=>{},Qc=Nw();const r1=_w(Qc);var ET=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fg=ET.reduce((r,e)=>{const t=dg(`Primitive.${e}`),n=_.forwardRef((o,l)=>{const{asChild:u,...h}=o,p=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(p,{...h,ref:l})});return n.displayName=`Primitive.${e}`,{...r,[e]:n}},{}),Wp={exports:{}},qp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function jT(){if(rv)return qp;rv=1;var r=Rh();function e(x,w){return x===w&&(x!==0||1/x===1/w)||x!==x&&w!==w}var t=typeof Object.is=="function"?Object.is:e,n=r.useState,o=r.useEffect,l=r.useLayoutEffect,u=r.useDebugValue;function h(x,w){var k=w(),P=n({inst:{value:k,getSnapshot:w}}),E=P[0].inst,T=P[1];return l(function(){E.value=k,E.getSnapshot=w,p(E)&&T({inst:E})},[x,k,w]),o(function(){return p(E)&&T({inst:E}),x(function(){p(E)&&T({inst:E})})},[x]),u(k),k}function p(x){var w=x.getSnapshot;x=x.value;try{var k=w();return!t(x,k)}catch{return!0}}function m(x,w){return w()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:h;return qp.useSyncExternalStore=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:y,qp}var nv;function ST(){return nv||(nv=1,Wp.exports=jT()),Wp.exports}var kT=ST();function TT(){return kT.useSyncExternalStore(CT,()=>!0,()=>!1)}function CT(){return()=>{}}var pg="Avatar",[IT]=_T(pg),[AT,n1]=IT(pg),s1=_.forwardRef((r,e)=>{const{__scopeAvatar:t,...n}=r,[o,l]=_.useState("idle");return i.jsx(AT,{scope:t,imageLoadingStatus:o,onImageLoadingStatusChange:l,children:i.jsx(fg.span,{...n,ref:e})})});s1.displayName=pg;var i1="AvatarImage",RT=_.forwardRef((r,e)=>{const{__scopeAvatar:t,src:n,onLoadingStatusChange:o=()=>{},...l}=r,u=n1(i1,t),h=PT(n,l),p=ai(m=>{o(m),u.onImageLoadingStatusChange(m)});return Jt(()=>{h!=="idle"&&p(h)},[h,p]),h==="loaded"?i.jsx(fg.img,{...l,ref:e,src:n}):null});RT.displayName=i1;var o1="AvatarFallback",a1=_.forwardRef((r,e)=>{const{__scopeAvatar:t,delayMs:n,...o}=r,l=n1(o1,t),[u,h]=_.useState(n===void 0);return _.useEffect(()=>{if(n!==void 0){const p=window.setTimeout(()=>h(!0),n);return()=>window.clearTimeout(p)}},[n]),u&&l.imageLoadingStatus!=="loaded"?i.jsx(fg.span,{...o,ref:e}):null});a1.displayName=o1;function sv(r,e){return r?e?(r.src!==e&&(r.src=e),r.complete&&r.naturalWidth>0?"loaded":"loading"):"error":"idle"}function PT(r,{referrerPolicy:e,crossOrigin:t}){const n=TT(),o=_.useRef(null),l=n?(o.current||(o.current=new window.Image),o.current):null,[u,h]=_.useState(()=>sv(l,r));return Jt(()=>{h(sv(l,r))},[l,r]),Jt(()=>{const p=x=>()=>{h(x)};if(!l)return;const m=p("loaded"),y=p("error");return l.addEventListener("load",m),l.addEventListener("error",y),e&&(l.referrerPolicy=e),typeof t=="string"&&(l.crossOrigin=t),()=>{l.removeEventListener("load",m),l.removeEventListener("error",y)}},[l,t,e]),u}var DT=s1,MT=a1;function qn({className:r,...e}){return i.jsx(DT,{"data-slot":"avatar",className:Xt("relative flex size-10 shrink-0 overflow-hidden rounded-full",r),...e})}function Gn({className:r,...e}){return i.jsx(MT,{"data-slot":"avatar-fallback",className:Xt("bg-muted flex size-full items-center justify-center rounded-full",r),...e})}const l1=_.createContext(void 0);function OT({children:r}){const[e,t]=_.useState(()=>localStorage.getItem("darkMode")==="true");_.useEffect(()=>{localStorage.setItem("darkMode",e.toString())},[e]);const n=()=>t(o=>!o);return i.jsx(l1.Provider,{value:{darkMode:e,toggleDarkMode:n},children:r})}function Tt(){const r=_.useContext(l1);if(r===void 0)throw new Error("useDarkMode must be used within a DarkModeProvider");return r}const LT=()=>{};var iv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let o=r.charCodeAt(n);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},VT=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const o=r[t++];if(o<128)e[n++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[n++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],u=r[t++],h=r[t++],p=((o&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[n++]=String.fromCharCode(55296+(p>>10)),e[n++]=String.fromCharCode(56320+(p&1023))}else{const l=r[t++],u=r[t++];e[n++]=String.fromCharCode((o&15)<<12|(l&63)<<6|u&63)}}return e.join("")},u1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let o=0;o<r.length;o+=3){const l=r[o],u=o+1<r.length,h=u?r[o+1]:0,p=o+2<r.length,m=p?r[o+2]:0,y=l>>2,x=(l&3)<<4|h>>4;let w=(h&15)<<2|m>>6,k=m&63;p||(k=64,u||(w=64)),n.push(t[y],t[x],t[w],t[k])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(c1(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):VT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],h=o<r.length?t[r.charAt(o)]:0;++o;const m=o<r.length?t[r.charAt(o)]:64;++o;const x=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||h==null||m==null||x==null)throw new $T;const w=l<<2|h>>4;if(n.push(w),m!==64){const k=h<<4&240|m>>2;if(n.push(k),x!==64){const P=m<<6&192|x;n.push(P)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class $T extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FT=function(r){const e=c1(r);return u1.encodeByteArray(e,!0)},ih=function(r){return FT(r).replace(/\./g,"")},d1=function(r){try{return u1.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT=()=>UT().__FIREBASE_DEFAULTS__,zT=()=>{if(typeof process>"u"||typeof iv>"u")return;const r=iv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},HT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&d1(r[1]);return e&&JSON.parse(e)},Dh=()=>{try{return LT()||BT()||zT()||HT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},h1=r=>Dh()?.emulatorHosts?.[r],f1=r=>{const e=h1(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},p1=()=>Dh()?.config,m1=r=>Dh()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mg(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${n}`,aud:n,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...r};return[ih(JSON.stringify(t)),ih(JSON.stringify(u)),""].join(".")}const Cc={};function qT(){const r={prod:[],emulator:[]};for(const e of Object.keys(Cc))Cc[e]?r.emulator.push(e):r.prod.push(e);return r}function GT(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let ov=!1;function gg(r,e){if(typeof window>"u"||typeof document>"u"||!ia(window.location.host)||Cc[r]===e||Cc[r]||ov)return;Cc[r]=e;function t(w){return`__firebase__banner__${w}`}const n="__firebase__banner",l=qT().prod.length>0;function u(){const w=document.getElementById(n);w&&w.remove()}function h(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,k){w.setAttribute("width","24"),w.setAttribute("id",k),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function m(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{ov=!0,u()},w}function y(w,k){w.setAttribute("id",k),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function x(){const w=GT(n),k=t("text"),P=document.getElementById(k)||document.createElement("span"),E=t("learnmore"),T=document.getElementById(E)||document.createElement("a"),O=t("preprendIcon"),B=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const U=w.element;h(U),y(T,E);const H=m();p(B,O),U.append(B,P,T,H),document.body.appendChild(U)}l?(P.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kr())}function YT(){const r=Dh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XT(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function JT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZT(){const r=kr();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function eC(){return!YT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tC(){try{return typeof indexedDB=="object"}catch{return!1}}function rC(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(n);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC="FirebaseError";class Ms extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=nC,Object.setPrototypeOf(this,Ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xc.prototype.create)}}class Xc{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],u=l?sC(l,n):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new Ms(o,h,n)}}function sC(r,e){return r.replace(iC,(t,n)=>{const o=e[n];return o!=null?String(o):`<${n}?>`})}const iC=/\{\$([^}]+)}/g;function oC(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function eo(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const o of t){if(!n.includes(o))return!1;const l=r[o],u=e[o];if(av(l)&&av(u)){if(!eo(l,u))return!1}else if(l!==u)return!1}for(const o of n)if(!t.includes(o))return!1;return!0}function av(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function _c(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[o,l]=n.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Nc(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function aC(r,e){const t=new lC(r,e);return t.subscribe.bind(t)}class lC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let o;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");cC(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:n},o.next===void 0&&(o.next=Gp),o.error===void 0&&(o.error=Gp),o.complete===void 0&&(o.complete=Gp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cC(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Gp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(r){return r&&r._delegate?r._delegate:r}class to{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new WT;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&n.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(n)return null;throw o}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hC(e))try{this.getOrInitializeService({instanceIdentifier:zo})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});n.resolve(l)}catch{}}}}clearInstance(e=zo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zo){return this.instances.has(e)}getOptions(e=zo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);n===h&&u.resolve(o)}return o}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(n)??new Set;o.add(e),this.onInitCallbacks.set(n,o);const l=this.instances.get(n);return l&&e(l,n),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const o of n)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:dC(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=zo){return this.component?this.component.multipleInstances?e:zo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dC(r){return r===zo?void 0:r}function hC(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new uC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Qe||(Qe={}));const pC={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},mC=Qe.INFO,gC={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},xC=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),o=gC[e];if(o)console[o](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xg{constructor(e){this.name=e,this._logLevel=mC,this._logHandler=xC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const yC=(r,e)=>e.some(t=>r instanceof t);let lv,cv;function vC(){return lv||(lv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bC(){return cv||(cv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const x1=new WeakMap,_m=new WeakMap,y1=new WeakMap,Kp=new WeakMap,yg=new WeakMap;function wC(r){const e=new Promise((t,n)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",u)},l=()=>{t(Qi(r.result)),o()},u=()=>{n(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&x1.set(t,r)}).catch(()=>{}),yg.set(e,r),e}function _C(r){if(_m.has(r))return;const e=new Promise((t,n)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",u),r.removeEventListener("abort",u)},l=()=>{t(),o()},u=()=>{n(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",u),r.addEventListener("abort",u)});_m.set(r,e)}let Nm={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return _m.get(r);if(e==="objectStoreNames")return r.objectStoreNames||y1.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Qi(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function NC(r){Nm=r(Nm)}function EC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(Yp(this),e,...t);return y1.set(n,e.sort?e.sort():[e]),Qi(n)}:bC().includes(r)?function(...e){return r.apply(Yp(this),e),Qi(x1.get(this))}:function(...e){return Qi(r.apply(Yp(this),e))}}function jC(r){return typeof r=="function"?EC(r):(r instanceof IDBTransaction&&_C(r),yC(r,vC())?new Proxy(r,Nm):r)}function Qi(r){if(r instanceof IDBRequest)return wC(r);if(Kp.has(r))return Kp.get(r);const e=jC(r);return e!==r&&(Kp.set(r,e),yg.set(e,r)),e}const Yp=r=>yg.get(r);function SC(r,e,{blocked:t,upgrade:n,blocking:o,terminated:l}={}){const u=indexedDB.open(r,e),h=Qi(u);return n&&u.addEventListener("upgradeneeded",p=>{n(Qi(u.result),p.oldVersion,p.newVersion,Qi(u.transaction),p)}),t&&u.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),h.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const kC=["get","getKey","getAll","getAllKeys","count"],TC=["put","add","delete","clear"],Qp=new Map;function uv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Qp.get(e))return Qp.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,o=TC.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(o||kC.includes(t)))return;const l=async function(u,...h){const p=this.transaction(u,o?"readwrite":"readonly");let m=p.store;return n&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),o&&p.done]))[0]};return Qp.set(e,l),l}NC(r=>({...r,get:(e,t,n)=>uv(e,t)||r.get(e,t,n),has:(e,t)=>!!uv(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(IC(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function IC(r){return r.getComponent()?.type==="VERSION"}const Em="@firebase/app",dv="0.14.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li=new xg("@firebase/app"),AC="@firebase/app-compat",RC="@firebase/analytics-compat",PC="@firebase/analytics",DC="@firebase/app-check-compat",MC="@firebase/app-check",OC="@firebase/auth",LC="@firebase/auth-compat",VC="@firebase/database",$C="@firebase/data-connect",FC="@firebase/database-compat",UC="@firebase/functions",BC="@firebase/functions-compat",zC="@firebase/installations",HC="@firebase/installations-compat",WC="@firebase/messaging",qC="@firebase/messaging-compat",GC="@firebase/performance",KC="@firebase/performance-compat",YC="@firebase/remote-config",QC="@firebase/remote-config-compat",XC="@firebase/storage",JC="@firebase/storage-compat",ZC="@firebase/firestore",eI="@firebase/ai",tI="@firebase/firestore-compat",rI="firebase",nI="12.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="[DEFAULT]",sI={[Em]:"fire-core",[AC]:"fire-core-compat",[PC]:"fire-analytics",[RC]:"fire-analytics-compat",[MC]:"fire-app-check",[DC]:"fire-app-check-compat",[OC]:"fire-auth",[LC]:"fire-auth-compat",[VC]:"fire-rtdb",[$C]:"fire-data-connect",[FC]:"fire-rtdb-compat",[UC]:"fire-fn",[BC]:"fire-fn-compat",[zC]:"fire-iid",[HC]:"fire-iid-compat",[WC]:"fire-fcm",[qC]:"fire-fcm-compat",[GC]:"fire-perf",[KC]:"fire-perf-compat",[YC]:"fire-rc",[QC]:"fire-rc-compat",[XC]:"fire-gcs",[JC]:"fire-gcs-compat",[ZC]:"fire-fst",[tI]:"fire-fst-compat",[eI]:"fire-vertex","fire-js":"fire-js",[rI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=new Map,iI=new Map,Sm=new Map;function hv(r,e){try{r.container.addComponent(e)}catch(t){li.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Qo(r){const e=r.name;if(Sm.has(e))return li.debug(`There were multiple attempts to register component ${e}.`),!1;Sm.set(e,r);for(const t of oh.values())hv(t,r);for(const t of iI.values())hv(t,r);return!0}function Mh(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function ln(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xi=new Xc("app","Firebase",oI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new to("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=nI;function v1(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n={name:jm,automaticDataCollectionEnabled:!0,...e},o=n.name;if(typeof o!="string"||!o)throw Xi.create("bad-app-name",{appName:String(o)});if(t||(t=p1()),!t)throw Xi.create("no-options");const l=oh.get(o);if(l){if(eo(t,l.options)&&eo(n,l.config))return l;throw Xi.create("duplicate-app",{appName:o})}const u=new fC(o);for(const p of Sm.values())u.addComponent(p);const h=new aI(t,n,u);return oh.set(o,h),h}function vg(r=jm){const e=oh.get(r);if(!e&&r===jm&&p1())return v1();if(!e)throw Xi.create("no-app",{appName:r});return e}function _s(r,e,t){let n=sI[r]??r;t&&(n+=`-${t}`);const o=n.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${n}" with version "${e}":`];o&&u.push(`library name "${n}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),li.warn(u.join(" "));return}Qo(new to(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI="firebase-heartbeat-database",cI=1,Mc="firebase-heartbeat-store";let Xp=null;function b1(){return Xp||(Xp=SC(lI,cI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Mc)}catch(t){console.warn(t)}}}}).catch(r=>{throw Xi.create("idb-open",{originalErrorMessage:r.message})})),Xp}async function uI(r){try{const t=(await b1()).transaction(Mc),n=await t.objectStore(Mc).get(w1(r));return await t.done,n}catch(e){if(e instanceof Ms)li.warn(e.message);else{const t=Xi.create("idb-get",{originalErrorMessage:e?.message});li.warn(t.message)}}}async function fv(r,e){try{const n=(await b1()).transaction(Mc,"readwrite");await n.objectStore(Mc).put(e,w1(r)),await n.done}catch(t){if(t instanceof Ms)li.warn(t.message);else{const n=Xi.create("idb-set",{originalErrorMessage:t?.message});li.warn(n.message)}}}function w1(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=1024,hI=30;class fI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new mI(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=pv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(o=>o.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats.length>hI){const o=gI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){li.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=pv(),{heartbeatsToSend:t,unsentEntries:n}=pI(this._heartbeatsCache.heartbeats),o=ih(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return li.warn(e),""}}}function pv(){return new Date().toISOString().substring(0,10)}function pI(r,e=dI){const t=[];let n=r.slice();for(const o of r){const l=t.find(u=>u.agent===o.agent);if(l){if(l.dates.push(o.date),mv(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),mv(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class mI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tC()?rC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await uI(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return fv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return fv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function mv(r){return ih(JSON.stringify({version:2,heartbeats:r})).length}function gI(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(r){Qo(new to("platform-logger",e=>new CC(e),"PRIVATE")),Qo(new to("heartbeat",e=>new fI(e),"PRIVATE")),_s(Em,dv,r),_s(Em,dv,"esm2020"),_s("fire-js","")}xI("");var yI="firebase",vI="12.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_s(yI,vI,"app");function _1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bI=_1,N1=new Xc("auth","Firebase",_1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new xg("@firebase/auth");function wI(r,...e){ah.logLevel<=Qe.WARN&&ah.warn(`Auth (${oa}): ${r}`,...e)}function zd(r,...e){ah.logLevel<=Qe.ERROR&&ah.error(`Auth (${oa}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(r,...e){throw bg(r,...e)}function Ns(r,...e){return bg(r,...e)}function E1(r,e,t){const n={...bI(),[e]:t};return new Xc("auth","Firebase",n).create(e,{appName:r.name})}function si(r){return E1(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bg(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return N1.create(r,...e)}function Le(r,e,...t){if(!r)throw bg(e,...t)}function ti(r){const e="INTERNAL ASSERTION FAILED: "+r;throw zd(e),new Error(e)}function ci(r,e){r||ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function km(){return typeof self<"u"&&self.location?.href||""}function _I(){return gv()==="http:"||gv()==="https:"}function gv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_I()||XT()||"connection"in navigator)?navigator.onLine:!0}function EI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,t){this.shortDelay=e,this.longDelay=t,ci(t>e,"Short delay should be less than long delay!"),this.isMobile=KT()||JT()}get(){return NI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(r,e){ci(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kI=new Zc(3e4,6e4);function uo(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function pi(r,e,t,n,o={}){return S1(r,o,async()=>{let l={},u={};n&&(e==="GET"?u=n:l={body:JSON.stringify(n)});const h=Jc({key:r.config.apiKey,...u}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const m={method:e,headers:p,...l};return QT()||(m.referrerPolicy="no-referrer"),r.emulatorConfig&&ia(r.emulatorConfig.host)&&(m.credentials="include"),j1.fetch()(await k1(r,r.config.apiHost,t,h),m)})}async function S1(r,e,t){r._canInitEmulator=!1;const n={...jI,...e};try{const o=new CI(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw jd(r,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[p,m]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw jd(r,"credential-already-in-use",u);if(p==="EMAIL_EXISTS")throw jd(r,"email-already-in-use",u);if(p==="USER_DISABLED")throw jd(r,"user-disabled",u);const y=n[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw E1(r,y,m);Kn(r,y)}}catch(o){if(o instanceof Ms)throw o;Kn(r,"network-request-failed",{message:String(o)})}}async function eu(r,e,t,n,o={}){const l=await pi(r,e,t,n,o);return"mfaPendingCredential"in l&&Kn(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function k1(r,e,t,n){const o=`${e}${t}?${n}`,l=r,u=l.config.emulator?wg(r.config,o):`${r.config.apiScheme}://${o}`;return SI.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function TI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class CI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(Ns(this.auth,"network-request-failed")),kI.get())})}}function jd(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const o=Ns(r,e,n);return o.customData._tokenResponse=t,o}function xv(r){return r!==void 0&&r.enterprise!==void 0}class II{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return TI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function AI(r,e){return pi(r,"GET","/v2/recaptchaConfig",uo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RI(r,e){return pi(r,"POST","/v1/accounts:delete",e)}async function lh(r,e){return pi(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function PI(r,e=!1){const t=Vt(r),n=await t.getIdToken(e),o=_g(n);Le(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,u=l?.sign_in_provider;return{claims:o,token:n,authTime:Ic(Jp(o.auth_time)),issuedAtTime:Ic(Jp(o.iat)),expirationTime:Ic(Jp(o.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Jp(r){return Number(r)*1e3}function _g(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return zd("JWT malformed, contained fewer than 3 sections"),null;try{const o=d1(t);return o?JSON.parse(o):(zd("Failed to decode base64 JWT payload"),null)}catch(o){return zd("Caught error parsing JWT payload as JSON",o?.toString()),null}}function yv(r){const e=_g(r);return Le(e,"internal-error"),Le(typeof e.exp<"u","internal-error"),Le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof Ms&&DI(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function DI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ic(this.lastLoginAt),this.creationTime=Ic(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ch(r){const e=r.auth,t=await r.getIdToken(),n=await cl(r,lh(e,{idToken:t}));Le(n?.users.length,e,"internal-error");const o=n.users[0];r._notifyReloadListener(o);const l=o.providerUserInfo?.length?T1(o.providerUserInfo):[],u=LI(r.providerData,l),h=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!u?.length,m=h?p:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Tm(o.createdAt,o.lastLoginAt),isAnonymous:m};Object.assign(r,y)}async function OI(r){const e=Vt(r);await ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function LI(r,e){return[...r.filter(n=>!e.some(o=>o.providerId===n.providerId)),...e]}function T1(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VI(r,e){const t=await S1(r,{},async()=>{const n=Jc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,u=await k1(r,o,"/v1/token",`key=${l}`),h=await r._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:h,body:n};return r.emulatorConfig&&ia(r.emulatorConfig.host)&&(p.credentials="include"),j1.fetch()(u,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function $I(r,e){return pi(r,"POST","/v2/accounts:revokeToken",uo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Le(e.idToken,"internal-error"),Le(typeof e.idToken<"u","internal-error"),Le(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Le(e.length!==0,"internal-error");const t=yv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Le(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:o,expiresIn:l}=await VI(e,t);this.updateTokensAndExpiration(n,o,Number(l))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:o,expirationTime:l}=t,u=new el;return n&&(Le(typeof n=="string","internal-error",{appName:e}),u.refreshToken=n),o&&(Le(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),l&&(Le(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new el,this.toJSON())}_performRefresh(){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(r,e){Le(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Bn{constructor({uid:e,auth:t,stsTokenManager:n,...o}){this.providerId="firebase",this.proactiveRefresh=new MI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Tm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await cl(this,this.stsTokenManager.getToken(this.auth,e));return Le(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return PI(this,e)}reload(){return OI(this)}_assign(e){this!==e&&(Le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Bn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ch(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ln(this.auth.app))return Promise.reject(si(this.auth));const e=await this.getIdToken();return await cl(this,RI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,o=t.email??void 0,l=t.phoneNumber??void 0,u=t.photoURL??void 0,h=t.tenantId??void 0,p=t._redirectEventId??void 0,m=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:x,emailVerified:w,isAnonymous:k,providerData:P,stsTokenManager:E}=t;Le(x&&E,e,"internal-error");const T=el.fromJSON(this.name,E);Le(typeof x=="string",e,"internal-error"),Bi(n,e.name),Bi(o,e.name),Le(typeof w=="boolean",e,"internal-error"),Le(typeof k=="boolean",e,"internal-error"),Bi(l,e.name),Bi(u,e.name),Bi(h,e.name),Bi(p,e.name),Bi(m,e.name),Bi(y,e.name);const O=new Bn({uid:x,auth:e,email:o,emailVerified:w,displayName:n,isAnonymous:k,photoURL:u,phoneNumber:l,tenantId:h,stsTokenManager:T,createdAt:m,lastLoginAt:y});return P&&Array.isArray(P)&&(O.providerData=P.map(B=>({...B}))),p&&(O._redirectEventId=p),O}static async _fromIdTokenResponse(e,t,n=!1){const o=new el;o.updateFromServerResponse(t);const l=new Bn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:n});return await ch(l),l}static async _fromGetAccountInfoResponse(e,t,n){const o=t.users[0];Le(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?T1(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!l?.length,h=new el;h.updateFromIdToken(n);const p=new Bn({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Tm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv=new Map;function ri(r){ci(r instanceof Function,"Expected a class definition");let e=vv.get(r);return e?(ci(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,vv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}C1.type="NONE";const bv=C1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(r,e,t){return`firebase:${r}:${e}:${t}`}class tl{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:o,name:l}=this.auth;this.fullUserKey=Hd(this.userKey,o.apiKey,l),this.fullPersistenceKey=Hd("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await lh(this.auth,{idToken:e}).catch(()=>{});return t?Bn._fromGetAccountInfoResponse(this.auth,t,e):null}return Bn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new tl(ri(bv),e,n);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=o[0]||ri(bv);const u=Hd(n,e.config.apiKey,e.name);let h=null;for(const m of t)try{const y=await m._get(u);if(y){let x;if(typeof y=="string"){const w=await lh(e,{idToken:y}).catch(()=>{});if(!w)break;x=await Bn._fromGetAccountInfoResponse(e,w,y)}else x=Bn._fromJSON(e,y);m!==l&&(h=x),l=m;break}}catch{}const p=o.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new tl(l,e,n):(l=p[0],h&&await l._set(u,h.toJSON()),await Promise.all(t.map(async m=>{if(m!==l)try{await m._remove(u)}catch{}})),new tl(l,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(P1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(I1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(M1(e))return"Blackberry";if(O1(e))return"Webos";if(A1(e))return"Safari";if((e.includes("chrome/")||R1(e))&&!e.includes("edge/"))return"Chrome";if(D1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if(n?.length===2)return n[1]}return"Other"}function I1(r=kr()){return/firefox\//i.test(r)}function A1(r=kr()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function R1(r=kr()){return/crios\//i.test(r)}function P1(r=kr()){return/iemobile/i.test(r)}function D1(r=kr()){return/android/i.test(r)}function M1(r=kr()){return/blackberry/i.test(r)}function O1(r=kr()){return/webos/i.test(r)}function Ng(r=kr()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function FI(r=kr()){return Ng(r)&&!!window.navigator?.standalone}function UI(){return ZT()&&document.documentMode===10}function L1(r=kr()){return Ng(r)||D1(r)||O1(r)||M1(r)||/windows phone/i.test(r)||P1(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(r,e=[]){let t;switch(r){case"Browser":t=wv(kr());break;case"Worker":t=`${wv(kr())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${oa}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=l=>new Promise((u,h)=>{try{const p=e(l);u(p)}catch(p){h(p)}});n.onAbort=t,this.queue.push(n);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zI(r,e={}){return pi(r,"GET","/v2/passwordPolicy",uo(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=6;class WI{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??HI,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let o=0;o<e.length;o++)n=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(e,t,n,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _v(this),this.idTokenSubscription=new _v(this),this.beforeStateQueue=new BI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=N1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ri(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await tl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await lh(this,{idToken:e}),n=await Bn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ln(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=n?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&h?.user&&(n=h.user,o=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(n)}catch(l){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ch(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=EI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ln(this.app))return Promise.reject(si(this));const t=e?Vt(e):null;return t&&Le(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ln(this.app)?Promise.reject(si(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ln(this.app)?Promise.reject(si(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ri(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zI(this),t=new WI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xc("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await $I(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ri(e)||this._popupRedirectResolver;Le(t,this,"argument-error"),this.redirectPersistenceManager=await tl.create(this,[ri(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Le(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,n,o);return()=>{u=!0,p()}}else{const p=e.addObserver(t);return()=>{u=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=V1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&wI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function aa(r){return Vt(r)}class _v{constructor(e){this.auth=e,this.observer=null,this.addObserver=aC(t=>this.observer=t)}get next(){return Le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GI(r){Oh=r}function $1(r){return Oh.loadJS(r)}function KI(){return Oh.recaptchaEnterpriseScript}function YI(){return Oh.gapiScript}function QI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class XI{constructor(){this.enterprise=new JI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class JI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const ZI="recaptcha-enterprise",F1="NO_RECAPTCHA";class e5{constructor(e){this.type=ZI,this.auth=aa(e)}async verify(e="verify",t=!1){async function n(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,h)=>{AI(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new II(p);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,u(m.siteKey)}}).catch(p=>{h(p)})})}function o(l,u,h){const p=window.grecaptcha;xv(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(m=>{u(m)}).catch(()=>{u(F1)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new XI().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{n(this.auth).then(h=>{if(!t&&xv(window.grecaptcha))o(h,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let p=KI();p.length!==0&&(p+=h),$1(p).then(()=>{o(h,l,u)}).catch(m=>{u(m)})}}).catch(h=>{u(h)})})}}async function Nv(r,e,t,n=!1,o=!1){const l=new e5(r);let u;if(o)u=F1;else try{u=await l.verify(t)}catch{u=await l.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const p=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const p=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return n?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Cm(r,e,t,n,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Nv(r,e,t,t==="getOobCode");return n(r,l)}else return n(r,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Nv(r,e,t,t==="getOobCode");return n(r,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(r,e){const t=Mh(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(eo(l,e??{}))return o;Kn(o,"already-initialized")}return t.initialize({options:e})}function r5(r,e){const t=e?.persistence||[],n=(Array.isArray(t)?t:[t]).map(ri);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e?.popupRedirectResolver)}function n5(r,e,t){const n=aa(r);Le(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const o=!1,l=U1(e),{host:u,port:h}=s5(e),p=h===null?"":`:${h}`,m={url:`${l}//${u}${p}/`},y=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!n._canInitEmulator){Le(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Le(eo(m,n.config.emulator)&&eo(y,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=m,n.emulatorConfig=y,n.settings.appVerificationDisabledForTesting=!0,ia(u)?(mg(`${l}//${u}${p}`),gg("Auth",!0)):i5()}function U1(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function s5(r){const e=U1(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(n);if(o){const l=o[1];return{host:l,port:Ev(n.substr(l.length+1))}}else{const[l,u]=n.split(":");return{host:l,port:Ev(u)}}}function Ev(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function i5(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ti("not implemented")}_getIdTokenResponse(e){return ti("not implemented")}_linkToIdToken(e,t){return ti("not implemented")}_getReauthenticationResolver(e){return ti("not implemented")}}async function o5(r,e){return pi(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a5(r,e){return eu(r,"POST","/v1/accounts:signInWithPassword",uo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l5(r,e){return eu(r,"POST","/v1/accounts:signInWithEmailLink",uo(r,e))}async function c5(r,e){return eu(r,"POST","/v1/accounts:signInWithEmailLink",uo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends Eg{constructor(e,t,n,o=null){super("password",n),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Oc(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Oc(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cm(e,t,"signInWithPassword",a5);case"emailLink":return l5(e,{email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cm(e,n,"signUpPassword",o5);case"emailLink":return c5(e,{idToken:t,email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rl(r,e){return eu(r,"POST","/v1/accounts:signInWithIdp",uo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5="http://localhost";class Xo extends Eg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Xo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Kn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:o,...l}=t;if(!n||!o)return null;const u=new Xo(n,o);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return rl(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,rl(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,rl(e,t)}buildRequest(){const e={requestUri:u5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Jc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d5(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function h5(r){const e=_c(Nc(r)).link,t=e?_c(Nc(e)).deep_link_id:null,n=_c(Nc(r)).deep_link_id;return(n?_c(Nc(n)).link:null)||n||t||e||r}class jg{constructor(e){const t=_c(Nc(e)),n=t.apiKey??null,o=t.oobCode??null,l=d5(t.mode??null);Le(n&&o&&l,"argument-error"),this.apiKey=n,this.operation=l,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=h5(e);try{return new jg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(){this.providerId=bl.PROVIDER_ID}static credential(e,t){return Oc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=jg.parseLink(t);return Le(n,"argument-error"),Oc._fromEmailAndCode(e,n.code,n.tenantId)}}bl.PROVIDER_ID="password";bl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends B1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends tu{constructor(){super("facebook.com")}static credential(e){return Xo._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Xo._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Wi.credential(t,n)}catch{return null}}}Wi.GOOGLE_SIGN_IN_METHOD="google.com";Wi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends tu{constructor(){super("github.com")}static credential(e){return Xo._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.GITHUB_SIGN_IN_METHOD="github.com";qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends tu{constructor(){super("twitter.com")}static credential(e,t){return Xo._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Gi.credential(t,n)}catch{return null}}}Gi.TWITTER_SIGN_IN_METHOD="twitter.com";Gi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f5(r,e){return eu(r,"POST","/v1/accounts:signUp",uo(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,o=!1){const l=await Bn._fromIdTokenResponse(e,n,o),u=jv(n);return new Jo({user:l,providerId:u,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const o=jv(n);return new Jo({user:e,providerId:o,_tokenResponse:n,operationType:t})}}function jv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh extends Ms{constructor(e,t,n,o){super(t.code,t.message),this.operationType=n,this.user=o,Object.setPrototypeOf(this,uh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,o){return new uh(e,t,n,o)}}function z1(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?uh._fromErrorAndOperation(r,l,e,n):l})}async function p5(r,e,t=!1){const n=await cl(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Jo._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m5(r,e,t=!1){const{auth:n}=r;if(ln(n.app))return Promise.reject(si(n));const o="reauthenticate";try{const l=await cl(r,z1(n,o,e,r),t);Le(l.idToken,n,"internal-error");const u=_g(l.idToken);Le(u,n,"internal-error");const{sub:h}=u;return Le(r.uid===h,n,"user-mismatch"),Jo._forOperation(r,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&Kn(n,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H1(r,e,t=!1){if(ln(r.app))return Promise.reject(si(r));const n="signIn",o=await z1(r,n,e),l=await Jo._fromIdTokenResponse(r,n,o);return t||await r._updateCurrentUser(l.user),l}async function g5(r,e){return H1(aa(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W1(r){const e=aa(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function x5(r,e,t){if(ln(r.app))return Promise.reject(si(r));const n=aa(r),u=await Cm(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",f5).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&W1(r),p}),h=await Jo._fromIdTokenResponse(n,"signIn",u);return await n._updateCurrentUser(h.user),h}function y5(r,e,t){return ln(r.app)?Promise.reject(si(r)):g5(Vt(r),bl.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&W1(r),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v5(r,e){return pi(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b5(r,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const n=Vt(r),l={idToken:await n.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await cl(n,v5(n.auth,l));n.displayName=u.displayName||null,n.photoURL=u.photoUrl||null;const h=n.providerData.find(({providerId:p})=>p==="password");h&&(h.displayName=n.displayName,h.photoURL=n.photoURL),await n._updateTokensIfNecessary(u)}function w5(r,e,t,n){return Vt(r).onIdTokenChanged(e,t,n)}function _5(r,e,t){return Vt(r).beforeAuthStateChanged(e,t)}const dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(dh,"1"),this.storage.removeItem(dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5=1e3,E5=10;class G1 extends q1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=L1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),o=this.localCache[t];n!==o&&e(t,o,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,p)=>{this.notifyListeners(u,p)});return}const n=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(n);!t&&this.localCache[n]===u||this.notifyListeners(n,u)},l=this.storage.getItem(n);UI()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,E5):o()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const o of Array.from(n))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},N5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}G1.type="LOCAL";const j5=G1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1 extends q1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}K1.type="SESSION";const Y1=K1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S5(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const n=new Lh(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:o,data:l}=t.data,u=this.handlersMap[o];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:o});const h=Array.from(u).map(async m=>m(t.origin,l)),p=await S5(h);t.ports[0].postMessage({status:"done",eventId:n,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,u;return new Promise((h,p)=>{const m=Sg("",20);o.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},n);u={messageChannel:o,onMessage(x){const w=x;if(w.data.eventId===m)switch(w.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(w.data.response);break;default:clearTimeout(y),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(){return window}function T5(r){Es().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(){return typeof Es().WorkerGlobalScope<"u"&&typeof Es().importScripts=="function"}async function C5(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function I5(){return navigator?.serviceWorker?.controller||null}function A5(){return Q1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="firebaseLocalStorageDb",R5=1,hh="firebaseLocalStorage",J1="fbase_key";class ru{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Vh(r,e){return r.transaction([hh],e?"readwrite":"readonly").objectStore(hh)}function P5(){const r=indexedDB.deleteDatabase(X1);return new ru(r).toPromise()}function Im(){const r=indexedDB.open(X1,R5);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(hh,{keyPath:J1})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(hh)?e(n):(n.close(),await P5(),e(await Im()))})})}async function Sv(r,e,t){const n=Vh(r,!0).put({[J1]:e,value:t});return new ru(n).toPromise()}async function D5(r,e){const t=Vh(r,!1).get(e),n=await new ru(t).toPromise();return n===void 0?null:n.value}function kv(r,e){const t=Vh(r,!0).delete(e);return new ru(t).toPromise()}const M5=800,O5=3;class Z1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Im(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>O5)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Q1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lh._getInstance(A5()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await C5(),!this.activeServiceWorker)return;this.sender=new k5(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||I5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Im();return await Sv(e,dh,"1"),await kv(e,dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Sv(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>D5(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>kv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Vh(o,!1).getAll();return new ru(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)n.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!n.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const o of Array.from(n))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),M5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Z1.type="LOCAL";const L5=Z1;new Zc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V5(r,e){return e?ri(e):(Le(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg extends Eg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return rl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return rl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function $5(r){return H1(r.auth,new kg(r),r.bypassAuthState)}function F5(r){const{auth:e,user:t}=r;return Le(t,e,"internal-error"),m5(t,new kg(r),r.bypassAuthState)}async function U5(r){const{auth:e,user:t}=r;return Le(t,e,"internal-error"),p5(t,new kg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e,t,n,o,l=!1){this.auth=e,this.resolver=n,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:o,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const p={auth:this.auth,requestUri:t,sessionId:n,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $5;case"linkViaPopup":case"linkViaRedirect":return U5;case"reauthViaPopup":case"reauthViaRedirect":return F5;default:Kn(this.auth,"internal-error")}}resolve(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5=new Zc(2e3,1e4);class Za extends e2{constructor(e,t,n,o,l){super(e,t,o,l),this.provider=n,this.authWindow=null,this.pollId=null,Za.currentPopupAction&&Za.currentPopupAction.cancel(),Za.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Le(e,this.auth,"internal-error"),e}async onExecution(){ci(this.filter.length===1,"Popup operations only handle one event");const e=Sg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ns(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ns(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Za.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ns(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,B5.get())};e()}}Za.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5="pendingRedirect",Wd=new Map;class H5 extends e2{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Wd.get(this.auth._key());if(!e){try{const n=await W5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Wd.set(this.auth._key(),e)}return this.bypassAuthState||Wd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function W5(r,e){const t=K5(e),n=G5(r);if(!await n._isAvailable())return!1;const o=await n._get(t)==="true";return await n._remove(t),o}function q5(r,e){Wd.set(r._key(),e)}function G5(r){return ri(r._redirectPersistence)}function K5(r){return Hd(z5,r.config.apiKey,r.name)}async function Y5(r,e,t=!1){if(ln(r.app))return Promise.reject(si(r));const n=aa(r),o=V5(n,e),u=await new H5(n,o,t).execute();return u&&!t&&(delete u.user._redirectEventId,await n._persistUserIfCurrent(u.user),await n._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q5=600*1e3;class X5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!J5(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!t2(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Ns(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Q5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tv(e))}saveEventToCache(e){this.cachedEventUids.add(Tv(e)),this.lastProcessedEventTime=Date.now()}}function Tv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function t2({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function J5(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return t2(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z5(r,e={}){return pi(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,t4=/^https?/;async function r4(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Z5(r);for(const t of e)try{if(n4(t))return}catch{}Kn(r,"unauthorized-domain")}function n4(r){const e=km(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const u=new URL(r);return u.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===n}if(!t4.test(t))return!1;if(e4.test(r))return n===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4=new Zc(3e4,6e4);function Cv(){const r=Es().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function i4(r){return new Promise((e,t)=>{function n(){Cv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Cv(),t(Ns(r,"network-request-failed"))},timeout:s4.get()})}if(Es().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Es().gapi?.load)n();else{const o=QI("iframefcb");return Es()[o]=()=>{gapi.load?n():t(Ns(r,"network-request-failed"))},$1(`${YI()}?onload=${o}`).catch(l=>t(l))}}).catch(e=>{throw qd=null,e})}let qd=null;function o4(r){return qd=qd||i4(r),qd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=new Zc(5e3,15e3),l4="__/auth/iframe",c4="emulator/auth/iframe",u4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},d4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function h4(r){const e=r.config;Le(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?wg(e,c4):`https://${r.config.authDomain}/${l4}`,n={apiKey:e.apiKey,appName:r.name,v:oa},o=d4.get(r.config.apiHost);o&&(n.eid=o);const l=r._getFrameworks();return l.length&&(n.fw=l.join(",")),`${t}?${Jc(n).slice(1)}`}async function f4(r){const e=await o4(r),t=Es().gapi;return Le(t,r,"internal-error"),e.open({where:document.body,url:h4(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:u4,dontclear:!0},n=>new Promise(async(o,l)=>{await n.restyle({setHideOnLeave:!1});const u=Ns(r,"network-request-failed"),h=Es().setTimeout(()=>{l(u)},a4.get());function p(){Es().clearTimeout(h),o(n)}n.ping(p).then(p,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},m4=500,g4=600,x4="_blank",y4="http://localhost";class Iv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function v4(r,e,t,n=m4,o=g4){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-n)/2,0).toString();let h="";const p={...p4,width:n.toString(),height:o.toString(),top:l,left:u},m=kr().toLowerCase();t&&(h=R1(m)?x4:t),I1(m)&&(e=e||y4,p.scrollbars="yes");const y=Object.entries(p).reduce((w,[k,P])=>`${w}${k}=${P},`,"");if(FI(m)&&h!=="_self")return b4(e||"",h),new Iv(null);const x=window.open(e||"",h,y);Le(x,r,"popup-blocked");try{x.focus()}catch{}return new Iv(x)}function b4(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4="__/auth/handler",_4="emulator/auth/handler",N4=encodeURIComponent("fac");async function Av(r,e,t,n,o,l){Le(r.config.authDomain,r,"auth-domain-config-required"),Le(r.config.apiKey,r,"invalid-api-key");const u={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:oa,eventId:o};if(e instanceof B1){e.setDefaultLanguage(r.languageCode),u.providerId=e.providerId||"",oC(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,x]of Object.entries({}))u[y]=x}if(e instanceof tu){const y=e.getScopes().filter(x=>x!=="");y.length>0&&(u.scopes=y.join(","))}r.tenantId&&(u.tid=r.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const p=await r._getAppCheckToken(),m=p?`#${N4}=${encodeURIComponent(p)}`:"";return`${E4(r)}?${Jc(h).slice(1)}${m}`}function E4({config:r}){return r.emulator?wg(r,_4):`https://${r.authDomain}/${w4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="webStorageSupport";class j4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Y1,this._completeRedirectFn=Y5,this._overrideRedirectResult=q5}async _openPopup(e,t,n,o){ci(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Av(e,t,n,km(),o);return v4(e,l,Sg())}async _openRedirect(e,t,n,o){await this._originValidation(e);const l=await Av(e,t,n,km(),o);return T5(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(ci(l,"If manager is not set, promise should be"),l)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await f4(e),n=new X5(e);return t.register("authEvent",o=>(Le(o?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Zp,{type:Zp},o=>{const l=o?.[0]?.[Zp];l!==void 0&&t(!!l),Kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=r4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return L1()||A1()||Ng()}}const S4=j4;var Rv="@firebase/auth",Pv="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function C4(r){Qo(new to("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=n.options;Le(u&&!u.includes(":"),"invalid-api-key",{appName:n.name});const p={apiKey:u,authDomain:h,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:V1(r)},m=new qI(n,o,l,p);return r5(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Qo(new to("auth-internal",e=>{const t=aa(e.getProvider("auth").getImmediate());return(n=>new k4(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),_s(Rv,Pv,T4(r)),_s(Rv,Pv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4=300,A4=m1("authIdTokenMaxAge")||I4;let Dv=null;const R4=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>A4)return;const o=t?.token;Dv!==o&&(Dv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function P4(r=vg()){const e=Mh(r,"auth");if(e.isInitialized())return e.getImmediate();const t=t5(r,{popupRedirectResolver:S4,persistence:[L5,j5,Y1]}),n=m1("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(n,location.origin);if(location.origin===l.origin){const u=R4(l.toString());_5(t,u,()=>u(t.currentUser)),w5(t,h=>u(h))}}const o=h1("auth");return o&&n5(t,`http://${o}`),t}function D4(){return document.getElementsByTagName("head")?.[0]??document}GI({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=o=>{const l=Ns("internal-error");l.customData=o,t(l)},n.type="text/javascript",n.charset="UTF-8",D4().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});C4("Browser");var Mv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ji,r2;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,S){function M(){}M.prototype=S.prototype,R.F=S.prototype,R.prototype=new M,R.prototype.constructor=R,R.D=function(V,D,I){for(var C=Array(arguments.length-2),de=2;de<arguments.length;de++)C[de-2]=arguments[de];return S.prototype[D].apply(V,C)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,t),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,S,M){M||(M=0);const V=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)V[D]=S.charCodeAt(M++)|S.charCodeAt(M++)<<8|S.charCodeAt(M++)<<16|S.charCodeAt(M++)<<24;else for(D=0;D<16;++D)V[D]=S[M++]|S[M++]<<8|S[M++]<<16|S[M++]<<24;S=R.g[0],M=R.g[1],D=R.g[2];let I=R.g[3],C;C=S+(I^M&(D^I))+V[0]+3614090360&4294967295,S=M+(C<<7&4294967295|C>>>25),C=I+(D^S&(M^D))+V[1]+3905402710&4294967295,I=S+(C<<12&4294967295|C>>>20),C=D+(M^I&(S^M))+V[2]+606105819&4294967295,D=I+(C<<17&4294967295|C>>>15),C=M+(S^D&(I^S))+V[3]+3250441966&4294967295,M=D+(C<<22&4294967295|C>>>10),C=S+(I^M&(D^I))+V[4]+4118548399&4294967295,S=M+(C<<7&4294967295|C>>>25),C=I+(D^S&(M^D))+V[5]+1200080426&4294967295,I=S+(C<<12&4294967295|C>>>20),C=D+(M^I&(S^M))+V[6]+2821735955&4294967295,D=I+(C<<17&4294967295|C>>>15),C=M+(S^D&(I^S))+V[7]+4249261313&4294967295,M=D+(C<<22&4294967295|C>>>10),C=S+(I^M&(D^I))+V[8]+1770035416&4294967295,S=M+(C<<7&4294967295|C>>>25),C=I+(D^S&(M^D))+V[9]+2336552879&4294967295,I=S+(C<<12&4294967295|C>>>20),C=D+(M^I&(S^M))+V[10]+4294925233&4294967295,D=I+(C<<17&4294967295|C>>>15),C=M+(S^D&(I^S))+V[11]+2304563134&4294967295,M=D+(C<<22&4294967295|C>>>10),C=S+(I^M&(D^I))+V[12]+1804603682&4294967295,S=M+(C<<7&4294967295|C>>>25),C=I+(D^S&(M^D))+V[13]+4254626195&4294967295,I=S+(C<<12&4294967295|C>>>20),C=D+(M^I&(S^M))+V[14]+2792965006&4294967295,D=I+(C<<17&4294967295|C>>>15),C=M+(S^D&(I^S))+V[15]+1236535329&4294967295,M=D+(C<<22&4294967295|C>>>10),C=S+(D^I&(M^D))+V[1]+4129170786&4294967295,S=M+(C<<5&4294967295|C>>>27),C=I+(M^D&(S^M))+V[6]+3225465664&4294967295,I=S+(C<<9&4294967295|C>>>23),C=D+(S^M&(I^S))+V[11]+643717713&4294967295,D=I+(C<<14&4294967295|C>>>18),C=M+(I^S&(D^I))+V[0]+3921069994&4294967295,M=D+(C<<20&4294967295|C>>>12),C=S+(D^I&(M^D))+V[5]+3593408605&4294967295,S=M+(C<<5&4294967295|C>>>27),C=I+(M^D&(S^M))+V[10]+38016083&4294967295,I=S+(C<<9&4294967295|C>>>23),C=D+(S^M&(I^S))+V[15]+3634488961&4294967295,D=I+(C<<14&4294967295|C>>>18),C=M+(I^S&(D^I))+V[4]+3889429448&4294967295,M=D+(C<<20&4294967295|C>>>12),C=S+(D^I&(M^D))+V[9]+568446438&4294967295,S=M+(C<<5&4294967295|C>>>27),C=I+(M^D&(S^M))+V[14]+3275163606&4294967295,I=S+(C<<9&4294967295|C>>>23),C=D+(S^M&(I^S))+V[3]+4107603335&4294967295,D=I+(C<<14&4294967295|C>>>18),C=M+(I^S&(D^I))+V[8]+1163531501&4294967295,M=D+(C<<20&4294967295|C>>>12),C=S+(D^I&(M^D))+V[13]+2850285829&4294967295,S=M+(C<<5&4294967295|C>>>27),C=I+(M^D&(S^M))+V[2]+4243563512&4294967295,I=S+(C<<9&4294967295|C>>>23),C=D+(S^M&(I^S))+V[7]+1735328473&4294967295,D=I+(C<<14&4294967295|C>>>18),C=M+(I^S&(D^I))+V[12]+2368359562&4294967295,M=D+(C<<20&4294967295|C>>>12),C=S+(M^D^I)+V[5]+4294588738&4294967295,S=M+(C<<4&4294967295|C>>>28),C=I+(S^M^D)+V[8]+2272392833&4294967295,I=S+(C<<11&4294967295|C>>>21),C=D+(I^S^M)+V[11]+1839030562&4294967295,D=I+(C<<16&4294967295|C>>>16),C=M+(D^I^S)+V[14]+4259657740&4294967295,M=D+(C<<23&4294967295|C>>>9),C=S+(M^D^I)+V[1]+2763975236&4294967295,S=M+(C<<4&4294967295|C>>>28),C=I+(S^M^D)+V[4]+1272893353&4294967295,I=S+(C<<11&4294967295|C>>>21),C=D+(I^S^M)+V[7]+4139469664&4294967295,D=I+(C<<16&4294967295|C>>>16),C=M+(D^I^S)+V[10]+3200236656&4294967295,M=D+(C<<23&4294967295|C>>>9),C=S+(M^D^I)+V[13]+681279174&4294967295,S=M+(C<<4&4294967295|C>>>28),C=I+(S^M^D)+V[0]+3936430074&4294967295,I=S+(C<<11&4294967295|C>>>21),C=D+(I^S^M)+V[3]+3572445317&4294967295,D=I+(C<<16&4294967295|C>>>16),C=M+(D^I^S)+V[6]+76029189&4294967295,M=D+(C<<23&4294967295|C>>>9),C=S+(M^D^I)+V[9]+3654602809&4294967295,S=M+(C<<4&4294967295|C>>>28),C=I+(S^M^D)+V[12]+3873151461&4294967295,I=S+(C<<11&4294967295|C>>>21),C=D+(I^S^M)+V[15]+530742520&4294967295,D=I+(C<<16&4294967295|C>>>16),C=M+(D^I^S)+V[2]+3299628645&4294967295,M=D+(C<<23&4294967295|C>>>9),C=S+(D^(M|~I))+V[0]+4096336452&4294967295,S=M+(C<<6&4294967295|C>>>26),C=I+(M^(S|~D))+V[7]+1126891415&4294967295,I=S+(C<<10&4294967295|C>>>22),C=D+(S^(I|~M))+V[14]+2878612391&4294967295,D=I+(C<<15&4294967295|C>>>17),C=M+(I^(D|~S))+V[5]+4237533241&4294967295,M=D+(C<<21&4294967295|C>>>11),C=S+(D^(M|~I))+V[12]+1700485571&4294967295,S=M+(C<<6&4294967295|C>>>26),C=I+(M^(S|~D))+V[3]+2399980690&4294967295,I=S+(C<<10&4294967295|C>>>22),C=D+(S^(I|~M))+V[10]+4293915773&4294967295,D=I+(C<<15&4294967295|C>>>17),C=M+(I^(D|~S))+V[1]+2240044497&4294967295,M=D+(C<<21&4294967295|C>>>11),C=S+(D^(M|~I))+V[8]+1873313359&4294967295,S=M+(C<<6&4294967295|C>>>26),C=I+(M^(S|~D))+V[15]+4264355552&4294967295,I=S+(C<<10&4294967295|C>>>22),C=D+(S^(I|~M))+V[6]+2734768916&4294967295,D=I+(C<<15&4294967295|C>>>17),C=M+(I^(D|~S))+V[13]+1309151649&4294967295,M=D+(C<<21&4294967295|C>>>11),C=S+(D^(M|~I))+V[4]+4149444226&4294967295,S=M+(C<<6&4294967295|C>>>26),C=I+(M^(S|~D))+V[11]+3174756917&4294967295,I=S+(C<<10&4294967295|C>>>22),C=D+(S^(I|~M))+V[2]+718787259&4294967295,D=I+(C<<15&4294967295|C>>>17),C=M+(I^(D|~S))+V[9]+3951481745&4294967295,R.g[0]=R.g[0]+S&4294967295,R.g[1]=R.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+I&4294967295}n.prototype.v=function(R,S){S===void 0&&(S=R.length);const M=S-this.blockSize,V=this.C;let D=this.h,I=0;for(;I<S;){if(D==0)for(;I<=M;)o(this,R,I),I+=this.blockSize;if(typeof R=="string"){for(;I<S;)if(V[D++]=R.charCodeAt(I++),D==this.blockSize){o(this,V),D=0;break}}else for(;I<S;)if(V[D++]=R[I++],D==this.blockSize){o(this,V),D=0;break}}this.h=D,this.o+=S},n.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var S=1;S<R.length-8;++S)R[S]=0;S=this.o*8;for(var M=R.length-8;M<R.length;++M)R[M]=S&255,S/=256;for(this.v(R),R=Array(16),S=0,M=0;M<4;++M)for(let V=0;V<32;V+=8)R[S++]=this.g[M]>>>V&255;return R};function l(R,S){var M=h;return Object.prototype.hasOwnProperty.call(M,R)?M[R]:M[R]=S(R)}function u(R,S){this.h=S;const M=[];let V=!0;for(let D=R.length-1;D>=0;D--){const I=R[D]|0;V&&I==S||(M[D]=I,V=!1)}this.g=M}var h={};function p(R){return-128<=R&&R<128?l(R,function(S){return new u([S|0],S<0?-1:0)}):new u([R|0],R<0?-1:0)}function m(R){if(isNaN(R)||!isFinite(R))return x;if(R<0)return T(m(-R));const S=[];let M=1;for(let V=0;R>=M;V++)S[V]=R/M|0,M*=4294967296;return new u(S,0)}function y(R,S){if(R.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(R.charAt(0)=="-")return T(y(R.substring(1),S));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=m(Math.pow(S,8));let V=x;for(let I=0;I<R.length;I+=8){var D=Math.min(8,R.length-I);const C=parseInt(R.substring(I,I+D),S);D<8?(D=m(Math.pow(S,D)),V=V.j(D).add(m(C))):(V=V.j(M),V=V.add(m(C)))}return V}var x=p(0),w=p(1),k=p(16777216);r=u.prototype,r.m=function(){if(E(this))return-T(this).m();let R=0,S=1;for(let M=0;M<this.g.length;M++){const V=this.i(M);R+=(V>=0?V:4294967296+V)*S,S*=4294967296}return R},r.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(P(this))return"0";if(E(this))return"-"+T(this).toString(R);const S=m(Math.pow(R,6));var M=this;let V="";for(;;){const D=H(M,S).g;M=O(M,D.j(S));let I=((M.g.length>0?M.g[0]:M.h)>>>0).toString(R);if(M=D,P(M))return I+V;for(;I.length<6;)I="0"+I;V=I+V}},r.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function P(R){if(R.h!=0)return!1;for(let S=0;S<R.g.length;S++)if(R.g[S]!=0)return!1;return!0}function E(R){return R.h==-1}r.l=function(R){return R=O(this,R),E(R)?-1:P(R)?0:1};function T(R){const S=R.g.length,M=[];for(let V=0;V<S;V++)M[V]=~R.g[V];return new u(M,~R.h).add(w)}r.abs=function(){return E(this)?T(this):this},r.add=function(R){const S=Math.max(this.g.length,R.g.length),M=[];let V=0;for(let D=0;D<=S;D++){let I=V+(this.i(D)&65535)+(R.i(D)&65535),C=(I>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);V=C>>>16,I&=65535,C&=65535,M[D]=C<<16|I}return new u(M,M[M.length-1]&-2147483648?-1:0)};function O(R,S){return R.add(T(S))}r.j=function(R){if(P(this)||P(R))return x;if(E(this))return E(R)?T(this).j(T(R)):T(T(this).j(R));if(E(R))return T(this.j(T(R)));if(this.l(k)<0&&R.l(k)<0)return m(this.m()*R.m());const S=this.g.length+R.g.length,M=[];for(var V=0;V<2*S;V++)M[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<R.g.length;D++){const I=this.i(V)>>>16,C=this.i(V)&65535,de=R.i(D)>>>16,oe=R.i(D)&65535;M[2*V+2*D]+=C*oe,B(M,2*V+2*D),M[2*V+2*D+1]+=I*oe,B(M,2*V+2*D+1),M[2*V+2*D+1]+=C*de,B(M,2*V+2*D+1),M[2*V+2*D+2]+=I*de,B(M,2*V+2*D+2)}for(R=0;R<S;R++)M[R]=M[2*R+1]<<16|M[2*R];for(R=S;R<2*S;R++)M[R]=0;return new u(M,0)};function B(R,S){for(;(R[S]&65535)!=R[S];)R[S+1]+=R[S]>>>16,R[S]&=65535,S++}function U(R,S){this.g=R,this.h=S}function H(R,S){if(P(S))throw Error("division by zero");if(P(R))return new U(x,x);if(E(R))return S=H(T(R),S),new U(T(S.g),T(S.h));if(E(S))return S=H(R,T(S)),new U(T(S.g),S.h);if(R.g.length>30){if(E(R)||E(S))throw Error("slowDivide_ only works with positive integers.");for(var M=w,V=S;V.l(R)<=0;)M=W(M),V=W(V);var D=Z(M,1),I=Z(V,1);for(V=Z(V,2),M=Z(M,2);!P(V);){var C=I.add(V);C.l(R)<=0&&(D=D.add(M),I=C),V=Z(V,1),M=Z(M,1)}return S=O(R,D.j(S)),new U(D,S)}for(D=x;R.l(S)>=0;){for(M=Math.max(1,Math.floor(R.m()/S.m())),V=Math.ceil(Math.log(M)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),I=m(M),C=I.j(S);E(C)||C.l(R)>0;)M-=V,I=m(M),C=I.j(S);P(I)&&(I=w),D=D.add(I),R=O(R,C)}return new U(D,R)}r.B=function(R){return H(this,R).h},r.and=function(R){const S=Math.max(this.g.length,R.g.length),M=[];for(let V=0;V<S;V++)M[V]=this.i(V)&R.i(V);return new u(M,this.h&R.h)},r.or=function(R){const S=Math.max(this.g.length,R.g.length),M=[];for(let V=0;V<S;V++)M[V]=this.i(V)|R.i(V);return new u(M,this.h|R.h)},r.xor=function(R){const S=Math.max(this.g.length,R.g.length),M=[];for(let V=0;V<S;V++)M[V]=this.i(V)^R.i(V);return new u(M,this.h^R.h)};function W(R){const S=R.g.length+1,M=[];for(let V=0;V<S;V++)M[V]=R.i(V)<<1|R.i(V-1)>>>31;return new u(M,R.h)}function Z(R,S){const M=S>>5;S%=32;const V=R.g.length-M,D=[];for(let I=0;I<V;I++)D[I]=S>0?R.i(I+M)>>>S|R.i(I+M+1)<<32-S:R.i(I+M);return new u(D,R.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,r2=n,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=y,Ji=u}).apply(typeof Mv<"u"?Mv:typeof self<"u"?self:typeof window<"u"?window:{});var Sd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var n2,Ec,s2,Gd,Am,i2,o2,a2;(function(){var r,e=Object.defineProperty;function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sd=="object"&&Sd];for(var b=0;b<d.length;++b){var N=d[b];if(N&&N.Math==Math)return N}throw Error("Cannot find global object")}var n=t(this);function o(d,b){if(b)e:{var N=n;d=d.split(".");for(var A=0;A<d.length-1;A++){var Q=d[A];if(!(Q in N))break e;N=N[Q]}d=d[d.length-1],A=N[d],b=b(A),b!=A&&b!=null&&e(N,d,{configurable:!0,writable:!0,value:b})}}o("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(d){return d||function(b){var N=[],A;for(A in b)Object.prototype.hasOwnProperty.call(b,A)&&N.push([A,b[A]]);return N}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(d){var b=typeof d;return b=="object"&&d!=null||b=="function"}function p(d,b,N){return d.call.apply(d.bind,arguments)}function m(d,b,N){return m=p,m.apply(null,arguments)}function y(d,b){var N=Array.prototype.slice.call(arguments,1);return function(){var A=N.slice();return A.push.apply(A,arguments),d.apply(this,A)}}function x(d,b){function N(){}N.prototype=b.prototype,d.Z=b.prototype,d.prototype=new N,d.prototype.constructor=d,d.Ob=function(A,Q,ne){for(var ye=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)ye[Ue-2]=arguments[Ue];return b.prototype[Q].apply(A,ye)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function k(d){const b=d.length;if(b>0){const N=Array(b);for(let A=0;A<b;A++)N[A]=d[A];return N}return[]}function P(d,b){for(let A=1;A<arguments.length;A++){const Q=arguments[A];var N=typeof Q;if(N=N!="object"?N:Q?Array.isArray(Q)?"array":N:"null",N=="array"||N=="object"&&typeof Q.length=="number"){N=d.length||0;const ne=Q.length||0;d.length=N+ne;for(let ye=0;ye<ne;ye++)d[N+ye]=Q[ye]}else d.push(Q)}}class E{constructor(b,N){this.i=b,this.j=N,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function T(d){u.setTimeout(()=>{throw d},0)}function O(){var d=R;let b=null;return d.g&&(b=d.g,d.g=d.g.next,d.g||(d.h=null),b.next=null),b}class B{constructor(){this.h=this.g=null}add(b,N){const A=U.get();A.set(b,N),this.h?this.h.next=A:this.g=A,this.h=A}}var U=new E(()=>new H,d=>d.reset());class H{constructor(){this.next=this.g=this.h=null}set(b,N){this.h=b,this.g=N,this.next=null}reset(){this.next=this.g=this.h=null}}let W,Z=!1,R=new B,S=()=>{const d=Promise.resolve(void 0);W=()=>{d.then(M)}};function M(){for(var d;d=O();){try{d.h.call(d.g)}catch(N){T(N)}var b=U;b.j(d),b.h<100&&(b.h++,d.next=b.g,b.g=d)}Z=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(d,b){this.type=d,this.g=this.target=b,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var I=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,b=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const N=()=>{};u.addEventListener("test",N,b),u.removeEventListener("test",N,b)}catch{}return d})();function C(d){return/^[\s\xa0]*$/.test(d)}function de(d,b){D.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,b)}x(de,D),de.prototype.init=function(d,b){const N=this.type=d.type,A=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=b,b=d.relatedTarget,b||(N=="mouseover"?b=d.fromElement:N=="mouseout"&&(b=d.toElement)),this.relatedTarget=b,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&de.Z.h.call(this)},de.prototype.h=function(){de.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var oe="closure_listenable_"+(Math.random()*1e6|0),K=0;function q(d,b,N,A,Q){this.listener=d,this.proxy=null,this.src=b,this.type=N,this.capture=!!A,this.ha=Q,this.key=++K,this.da=this.fa=!1}function $(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function se(d,b,N){for(const A in d)b.call(N,d[A],A,d)}function ie(d,b){for(const N in d)b.call(void 0,d[N],N,d)}function F(d){const b={};for(const N in d)b[N]=d[N];return b}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(d,b){let N,A;for(let Q=1;Q<arguments.length;Q++){A=arguments[Q];for(N in A)d[N]=A[N];for(let ne=0;ne<J.length;ne++)N=J[ne],Object.prototype.hasOwnProperty.call(A,N)&&(d[N]=A[N])}}function te(d){this.src=d,this.g={},this.h=0}te.prototype.add=function(d,b,N,A,Q){const ne=d.toString();d=this.g[ne],d||(d=this.g[ne]=[],this.h++);const ye=ve(d,b,A,Q);return ye>-1?(b=d[ye],N||(b.fa=!1)):(b=new q(b,this.src,ne,!!A,Q),b.fa=N,d.push(b)),b};function he(d,b){const N=b.type;if(N in d.g){var A=d.g[N],Q=Array.prototype.indexOf.call(A,b,void 0),ne;(ne=Q>=0)&&Array.prototype.splice.call(A,Q,1),ne&&($(b),d.g[N].length==0&&(delete d.g[N],d.h--))}}function ve(d,b,N,A){for(let Q=0;Q<d.length;++Q){const ne=d[Q];if(!ne.da&&ne.listener==b&&ne.capture==!!N&&ne.ha==A)return Q}return-1}var le="closure_lm_"+(Math.random()*1e6|0),pe={};function Ie(d,b,N,A,Q){if(Array.isArray(b)){for(let ne=0;ne<b.length;ne++)Ie(d,b[ne],N,A,Q);return null}return N=Ye(N),d&&d[oe]?d.J(b,N,h(A)?!!A.capture:!1,Q):Pe(d,b,N,!1,A,Q)}function Pe(d,b,N,A,Q,ne){if(!b)throw Error("Invalid event type");const ye=h(Q)?!!Q.capture:!!Q;let Ue=gr(d);if(Ue||(d[le]=Ue=new te(d)),N=Ue.add(b,N,A,ye,ne),N.proxy)return N;if(A=ze(),N.proxy=A,A.src=d,A.listener=N,d.addEventListener)I||(Q=ye),Q===void 0&&(Q=!1),d.addEventListener(b.toString(),A,Q);else if(d.attachEvent)d.attachEvent($t(b.toString()),A);else if(d.addListener&&d.removeListener)d.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return N}function ze(){function d(N){return b.call(d.src,d.listener,N)}const b=dn;return d}function We(d,b,N,A,Q){if(Array.isArray(b))for(var ne=0;ne<b.length;ne++)We(d,b[ne],N,A,Q);else A=h(A)?!!A.capture:!!A,N=Ye(N),d&&d[oe]?(d=d.i,ne=String(b).toString(),ne in d.g&&(b=d.g[ne],N=ve(b,N,A,Q),N>-1&&($(b[N]),Array.prototype.splice.call(b,N,1),b.length==0&&(delete d.g[ne],d.h--)))):d&&(d=gr(d))&&(b=d.g[b.toString()],d=-1,b&&(d=ve(b,N,A,Q)),(N=d>-1?b[d]:null)&&mt(N))}function mt(d){if(typeof d!="number"&&d&&!d.da){var b=d.src;if(b&&b[oe])he(b.i,d);else{var N=d.type,A=d.proxy;b.removeEventListener?b.removeEventListener(N,A,d.capture):b.detachEvent?b.detachEvent($t(N),A):b.addListener&&b.removeListener&&b.removeListener(A),(N=gr(b))?(he(N,d),N.h==0&&(N.src=null,b[le]=null)):$(d)}}}function $t(d){return d in pe?pe[d]:pe[d]="on"+d}function dn(d,b){if(d.da)d=!0;else{b=new de(b,this);const N=d.listener,A=d.ha||d.src;d.fa&&mt(d),d=N.call(A,b)}return d}function gr(d){return d=d[le],d instanceof te?d:null}var be="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ye(d){return typeof d=="function"?d:(d[be]||(d[be]=function(b){return d.handleEvent(b)}),d[be])}function qe(){V.call(this),this.i=new te(this),this.M=this,this.G=null}x(qe,V),qe.prototype[oe]=!0,qe.prototype.removeEventListener=function(d,b,N,A){We(this,d,b,N,A)};function ct(d,b){var N,A=d.G;if(A)for(N=[];A;A=A.G)N.push(A);if(d=d.M,A=b.type||b,typeof b=="string")b=new D(b,d);else if(b instanceof D)b.target=b.target||d;else{var Q=b;b=new D(A,d),re(b,Q)}Q=!0;let ne,ye;if(N)for(ye=N.length-1;ye>=0;ye--)ne=b.g=N[ye],Q=Zt(ne,A,!0,b)&&Q;if(ne=b.g=d,Q=Zt(ne,A,!0,b)&&Q,Q=Zt(ne,A,!1,b)&&Q,N)for(ye=0;ye<N.length;ye++)ne=b.g=N[ye],Q=Zt(ne,A,!1,b)&&Q}qe.prototype.N=function(){if(qe.Z.N.call(this),this.i){var d=this.i;for(const b in d.g){const N=d.g[b];for(let A=0;A<N.length;A++)$(N[A]);delete d.g[b],d.h--}}this.G=null},qe.prototype.J=function(d,b,N,A){return this.i.add(String(d),b,!1,N,A)},qe.prototype.K=function(d,b,N,A){return this.i.add(String(d),b,!0,N,A)};function Zt(d,b,N,A){if(b=d.i.g[String(b)],!b)return!0;b=b.concat();let Q=!0;for(let ne=0;ne<b.length;++ne){const ye=b[ne];if(ye&&!ye.da&&ye.capture==N){const Ue=ye.listener,Dt=ye.ha||ye.src;ye.fa&&he(d.i,ye),Q=Ue.call(Dt,A)!==!1&&Q}}return Q&&!A.defaultPrevented}function ut(d,b){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:u.setTimeout(d,b||0)}function or(d){d.g=ut(()=>{d.g=null,d.i&&(d.i=!1,or(d))},d.l);const b=d.h;d.h=null,d.m.apply(null,b)}class ar extends V{constructor(b,N){super(),this.m=b,this.l=N,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:or(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yr(d){V.call(this),this.h=d,this.g={}}x(Yr,V);var Jn=[];function mi(d){se(d.g,function(b,N){this.g.hasOwnProperty(N)&&mt(b)},d),d.g={}}Yr.prototype.N=function(){Yr.Z.N.call(this),mi(this)},Yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tn=u.JSON.stringify,gi=u.JSON.parse,Lr=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function Cn(){}function In(){}var Zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xi(){D.call(this,"d")}x(xi,D);function yi(){D.call(this,"c")}x(yi,D);var Vr={},vi=null;function hn(){return vi=vi||new qe}Vr.Ia="serverreachability";function Tr(d){D.call(this,Vr.Ia,d)}x(Tr,D);function An(d){const b=hn();ct(b,new Tr(b))}Vr.STAT_EVENT="statevent";function Rn(d,b){D.call(this,Vr.STAT_EVENT,d),this.stat=b}x(Rn,D);function gt(d){const b=hn();ct(b,new Rn(b,d))}Vr.Ja="timingevent";function bi(d,b){D.call(this,Vr.Ja,d),this.size=b}x(bi,D);function Oe(d,b){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},b)}function dt(){this.g=!0}dt.prototype.ua=function(){this.g=!1};function Pt(d,b,N,A,Q,ne){d.info(function(){if(d.g)if(ne){var ye="",Ue=ne.split("&");for(let at=0;at<Ue.length;at++){var Dt=Ue[at].split("=");if(Dt.length>1){const Bt=Dt[0];Dt=Dt[1];const rn=Bt.split("_");ye=rn.length>=2&&rn[1]=="type"?ye+(Bt+"="+Dt+"&"):ye+(Bt+"=redacted&")}}}else ye=null;else ye=ne;return"XMLHTTP REQ ("+A+") [attempt "+Q+"]: "+b+`
`+N+`
`+ye})}function er(d,b,N,A,Q,ne,ye){d.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+Q+"]: "+b+`
`+N+`
`+ne+" "+ye})}function Cr(d,b,N,A){d.info(function(){return"XMLHTTP TEXT ("+b+"): "+Ft(d,N)+(A?" "+A:"")})}function Ct(d,b){d.info(function(){return"TIMEOUT: "+b})}dt.prototype.info=function(){};function Ft(d,b){if(!d.g)return b;if(!b)return null;try{const ne=JSON.parse(b);if(ne){for(d=0;d<ne.length;d++)if(Array.isArray(ne[d])){var N=ne[d];if(!(N.length<2)){var A=N[1];if(Array.isArray(A)&&!(A.length<1)){var Q=A[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(let ye=1;ye<A.length;ye++)A[ye]=""}}}}return Tn(ne)}catch{return b}}var Qr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ut={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xr;function fn(){}x(fn,Cn),fn.prototype.g=function(){return new XMLHttpRequest},xr=new fn;function tr(d){return encodeURIComponent(String(d))}function xo(d){var b=1;d=d.split(":");const N=[];for(;b>0&&d.length;)N.push(d.shift()),b--;return d.length&&N.push(d.join(":")),N}function pn(d,b,N,A){this.j=d,this.i=b,this.l=N,this.S=A||1,this.V=new Yr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new mu}function mu(){this.i=null,this.g="",this.h=!1}var gu={},Rl={};function Pn(d,b,N){d.M=1,d.A=$s(mn(b)),d.u=N,d.R=!0,Pl(d,null)}function Pl(d,b){d.F=Date.now(),yo(d),d.B=mn(d.A);var N=d.B,A=d.S;Array.isArray(A)||(A=[String(A)]),zl(N.i,"t",A),d.C=0,N=d.j.L,d.h=new mu,d.g=Su(d.j,N?b:null,!d.u),d.P>0&&(d.O=new ar(m(d.Y,d,d.g),d.P)),b=d.V,N=d.g,A=d.ba;var Q="readystatechange";Array.isArray(Q)||(Q&&(Jn[0]=Q.toString()),Q=Jn);for(let ne=0;ne<Q.length;ne++){const ye=Ie(N,Q[ne],A||b.handleEvent,!1,b.h||b);if(!ye)break;b.g[ye.key]=ye}b=d.J?F(d.J):{},d.u?(d.v||(d.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,b)):(d.v="GET",d.g.ea(d.B,d.v,null,b)),An(),Pt(d.i,d.v,d.B,d.l,d.S,d.u)}pn.prototype.ba=function(d){d=d.target;const b=this.O;b&&os(d)==3?b.j():this.Y(d)},pn.prototype.Y=function(d){try{if(d==this.g)e:{const Ue=os(this.g),Dt=this.g.ya(),at=this.g.ca();if(!(Ue<3)&&(Ue!=3||this.g&&(this.h.h||this.g.la()||Eu(this.g)))){this.K||Ue!=4||Dt==7||(Dt==8||at<=0?An(3):An(2)),ua(this);var b=this.g.ca();this.X=b;var N=xu(this);if(this.o=b==200,er(this.i,this.v,this.B,this.l,this.S,Ue,b),this.o){if(this.U&&!this.L){t:{if(this.g){var A,Q=this.g;if((A=Q.g?Q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var ne=A;break t}}ne=null}if(d=ne)Cr(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xt(this,d);else{this.o=!1,this.m=3,gt(12),Vs(this),vo(this);break e}}if(this.R){d=!0;let Bt;for(;!this.K&&this.C<N.length;)if(Bt=vu(this,N),Bt==Rl){Ue==4&&(this.m=4,gt(14),d=!1),Cr(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==gu){this.m=4,gt(15),Cr(this.i,this.l,N,"[Invalid Chunk]"),d=!1;break}else Cr(this.i,this.l,Bt,null),xt(this,Bt);if(yu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||N.length!=0||this.h.h||(this.m=1,gt(16),d=!1),this.o=this.o&&d,!d)Cr(this.i,this.l,N,"[Invalid Chunked Response]"),Vs(this),vo(this);else if(N.length>0&&!this.W){this.W=!0;var ye=this.j;ye.g==this&&ye.aa&&!ye.P&&(ye.j.info("Great, no buffering proxy detected. Bytes received: "+N.length),To(ye),ye.P=!0,gt(11))}}else Cr(this.i,this.l,N,null),xt(this,N);Ue==4&&Vs(this),this.o&&!this.K&&(Ue==4?ba(this.j,this):(this.o=!1,yo(this)))}else Wl(this.g),b==400&&N.indexOf("Unknown SID")>0?(this.m=3,gt(12)):(this.m=0,gt(13)),Vs(this),vo(this)}}}catch{}finally{}};function xu(d){if(!yu(d))return d.g.la();const b=Eu(d.g);if(b==="")return"";let N="";const A=b.length,Q=os(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Vs(d),vo(d),"";d.h.i=new u.TextDecoder}for(let ne=0;ne<A;ne++)d.h.h=!0,N+=d.h.i.decode(b[ne],{stream:!(Q&&ne==A-1)});return b.length=0,d.h.g+=N,d.C=0,d.h.g}function yu(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function vu(d,b){var N=d.C,A=b.indexOf(`
`,N);return A==-1?Rl:(N=Number(b.substring(N,A)),isNaN(N)?gu:(A+=1,A+N>b.length?Rl:(b=b.slice(A,A+N),d.C=A+N,b)))}pn.prototype.cancel=function(){this.K=!0,Vs(this)};function yo(d){d.T=Date.now()+d.H,Dl(d,d.H)}function Dl(d,b){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Oe(m(d.aa,d),b)}function ua(d){d.D&&(u.clearTimeout(d.D),d.D=null)}pn.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Ct(this.i,this.B),this.M!=2&&(An(),gt(17)),Vs(this),this.m=2,vo(this)):Dl(this,this.T-d)};function vo(d){d.j.I==0||d.K||ba(d.j,d)}function Vs(d){ua(d);var b=d.O;b&&typeof b.dispose=="function"&&b.dispose(),d.O=null,mi(d.V),d.g&&(b=d.g,d.g=null,b.abort(),b.dispose())}function xt(d,b){try{var N=d.j;if(N.I!=0&&(N.g==d||Ol(N.h,d))){if(!d.L&&Ol(N.h,d)&&N.I==3){try{var A=N.Ba.g.parse(b)}catch{A=null}if(Array.isArray(A)&&A.length==3){var Q=A;if(Q[0]==0){e:if(!N.v){if(N.g)if(N.g.F+3e3<d.F)va(N),en(N);else break e;cs(N),gt(18)}}else N.xa=Q[1],0<N.xa-N.K&&Q[2]<37500&&N.F&&N.A==0&&!N.C&&(N.C=Oe(m(N.Va,N),6e3));bo(N.h)<=1&&N.ta&&(N.ta=void 0)}else tn(N,11)}else if((d.L||N.g==d)&&va(N),!C(b))for(Q=N.Ba.g.parse(b),b=0;b<Q.length;b++){let at=Q[b];const Bt=at[0];if(!(Bt<=N.K))if(N.K=Bt,at=at[1],N.I==2)if(at[0]=="c"){N.M=at[1],N.ba=at[2];const rn=at[3];rn!=null&&(N.ka=rn,N.j.info("VER="+N.ka));const Hs=at[4];Hs!=null&&(N.za=Hs,N.j.info("SVER="+N.za));const us=at[5];us!=null&&typeof us=="number"&&us>0&&(A=1.5*us,N.O=A,N.j.info("backChannelRequestTimeoutMs_="+A)),A=N;const ds=d.g;if(ds){const Na=ds.g?ds.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Na){var ne=A.h;ne.g||Na.indexOf("spdy")==-1&&Na.indexOf("quic")==-1&&Na.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(ha(ne,ne.h),ne.h=null))}if(A.G){const Kl=ds.g?ds.g.getResponseHeader("X-HTTP-Session-Id"):null;Kl&&(A.wa=Kl,st(A.J,A.G,Kl))}}N.I=3,N.l&&N.l.ra(),N.aa&&(N.T=Date.now()-d.F,N.j.info("Handshake RTT: "+N.T+"ms")),A=N;var ye=d;if(A.na=Gl(A,A.L?A.ba:null,A.W),ye.L){wo(A.h,ye);var Ue=ye,Dt=A.O;Dt&&(Ue.H=Dt),Ue.D&&(ua(Ue),yo(Ue)),A.g=ye}else yr(A);N.i.length>0&&zs(N)}else at[0]!="stop"&&at[0]!="close"||tn(N,7);else N.I==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?tn(N,7):xa(N):at[0]!="noop"&&N.l&&N.l.qa(at),N.A=0)}}An(4)}catch{}}var mf=class{constructor(d,b){this.g=d,this.map=b}};function da(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ml(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function bo(d){return d.h?1:d.g?d.g.size:0}function Ol(d,b){return d.h?d.h==b:d.g?d.g.has(b):!1}function ha(d,b){d.g?d.g.add(b):d.h=b}function wo(d,b){d.h&&d.h==b?d.h=null:d.g&&d.g.has(b)&&d.g.delete(b)}da.prototype.cancel=function(){if(this.i=Xr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Xr(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let b=d.i;for(const N of d.g.values())b=b.concat(N.G);return b}return k(d.i)}var bu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jr(d,b){if(d){d=d.split("&");for(let N=0;N<d.length;N++){const A=d[N].indexOf("=");let Q,ne=null;A>=0?(Q=d[N].substring(0,A),ne=d[N].substring(A+1)):Q=d[N],b(Q,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function es(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;d instanceof es?(this.l=d.l,_o(this,d.j),this.o=d.o,this.g=d.g,ts(this,d.u),this.h=d.h,wi(this,Hl(d.i)),this.m=d.m):d&&(b=String(d).match(bu))?(this.l=!1,_o(this,b[1]||"",!0),this.o=No(b[2]||""),this.g=No(b[3]||"",!0),ts(this,b[4]),this.h=No(b[5]||"",!0),wi(this,b[6]||"",!0),this.m=No(b[7]||"")):(this.l=!1,this.i=new Ze(null,this.l))}es.prototype.toString=function(){const d=[];var b=this.j;b&&d.push(Eo(b,Vl,!0),":");var N=this.g;return(N||b=="file")&&(d.push("//"),(b=this.o)&&d.push(Eo(b,Vl,!0),"@"),d.push(tr(N).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),N=this.u,N!=null&&d.push(":",String(N))),(N=this.h)&&(this.g&&N.charAt(0)!="/"&&d.push("/"),d.push(Eo(N,N.charAt(0)=="/"?jo:$l,!0))),(N=this.i.toString())&&d.push("?",N),(N=this.m)&&d.push("#",Eo(N,Fl)),d.join("")},es.prototype.resolve=function(d){const b=mn(this);let N=!!d.j;N?_o(b,d.j):N=!!d.o,N?b.o=d.o:N=!!d.g,N?b.g=d.g:N=d.u!=null;var A=d.h;if(N)ts(b,d.u);else if(N=!!d.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var Q=b.h.lastIndexOf("/");Q!=-1&&(A=b.h.slice(0,Q+1)+A)}if(Q=A,Q==".."||Q==".")A="";else if(Q.indexOf("./")!=-1||Q.indexOf("/.")!=-1){A=Q.lastIndexOf("/",0)==0,Q=Q.split("/");const ne=[];for(let ye=0;ye<Q.length;){const Ue=Q[ye++];Ue=="."?A&&ye==Q.length&&ne.push(""):Ue==".."?((ne.length>1||ne.length==1&&ne[0]!="")&&ne.pop(),A&&ye==Q.length&&ne.push("")):(ne.push(Ue),A=!0)}A=ne.join("/")}else A=Q}return N?b.h=A:N=d.i.toString()!=="",N?wi(b,Hl(d.i)):N=!!d.m,N&&(b.m=d.m),b};function mn(d){return new es(d)}function _o(d,b,N){d.j=N?No(b,!0):b,d.j&&(d.j=d.j.replace(/:$/,""))}function ts(d,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);d.u=b}else d.u=null}function wi(d,b,N){b instanceof Ze?(d.i=b,pa(d.i,d.l)):(N||(b=Eo(b,gf)),d.i=new Ze(b,d.l))}function st(d,b,N){d.i.set(b,N)}function $s(d){return st(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function No(d,b){return d?b?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Eo(d,b,N){return typeof d=="string"?(d=encodeURI(d).replace(b,Ll),N&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Ll(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Vl=/[#\/\?@]/g,$l=/[#\?:]/g,jo=/[#\?]/g,gf=/[#\?@]/g,Fl=/#/g;function Ze(d,b){this.h=this.g=null,this.i=d||null,this.j=!!b}function rs(d){d.g||(d.g=new Map,d.h=0,d.i&&Jr(d.i,function(b,N){d.add(decodeURIComponent(b.replace(/\+/g," ")),N)}))}r=Ze.prototype,r.add=function(d,b){rs(this),this.i=null,d=ns(this,d);let N=this.g.get(d);return N||this.g.set(d,N=[]),N.push(b),this.h+=1,this};function Ul(d,b){rs(d),b=ns(d,b),d.g.has(b)&&(d.i=null,d.h-=d.g.get(b).length,d.g.delete(b))}function fa(d,b){return rs(d),b=ns(d,b),d.g.has(b)}r.forEach=function(d,b){rs(this),this.g.forEach(function(N,A){N.forEach(function(Q){d.call(b,Q,A,this)},this)},this)};function Bl(d,b){rs(d);let N=[];if(typeof b=="string")fa(d,b)&&(N=N.concat(d.g.get(ns(d,b))));else for(d=Array.from(d.g.values()),b=0;b<d.length;b++)N=N.concat(d[b]);return N}r.set=function(d,b){return rs(this),this.i=null,d=ns(this,d),fa(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[b]),this.h+=1,this},r.get=function(d,b){return d?(d=Bl(this,d),d.length>0?String(d[0]):b):b};function zl(d,b,N){Ul(d,b),N.length>0&&(d.i=null,d.g.set(ns(d,b),k(N)),d.h+=N.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],b=Array.from(this.g.keys());for(let A=0;A<b.length;A++){var N=b[A];const Q=tr(N);N=Bl(this,N);for(let ne=0;ne<N.length;ne++){let ye=Q;N[ne]!==""&&(ye+="="+tr(N[ne])),d.push(ye)}}return this.i=d.join("&")};function Hl(d){const b=new Ze;return b.i=d.i,d.g&&(b.g=new Map(d.g),b.h=d.h),b}function ns(d,b){return b=String(b),d.j&&(b=b.toLowerCase()),b}function pa(d,b){b&&!d.j&&(rs(d),d.i=null,d.g.forEach(function(N,A){const Q=A.toLowerCase();A!=Q&&(Ul(this,A),zl(this,Q,N))},d)),d.j=b}function ss(d,b){const N=new dt;if(u.Image){const A=new Image;A.onload=y(lr,N,"TestLoadImage: loaded",!0,b,A),A.onerror=y(lr,N,"TestLoadImage: error",!1,b,A),A.onabort=y(lr,N,"TestLoadImage: abort",!1,b,A),A.ontimeout=y(lr,N,"TestLoadImage: timeout",!1,b,A),u.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=d}else b(!1)}function is(d,b){const N=new dt,A=new AbortController,Q=setTimeout(()=>{A.abort(),lr(N,"TestPingServer: timeout",!1,b)},1e4);fetch(d,{signal:A.signal}).then(ne=>{clearTimeout(Q),ne.ok?lr(N,"TestPingServer: ok",!0,b):lr(N,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(Q),lr(N,"TestPingServer: error",!1,b)})}function lr(d,b,N,A,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),A(N)}catch{}}function So(){this.g=new Lr}function Fs(d){this.i=d.Sb||null,this.h=d.ab||!1}x(Fs,Cn),Fs.prototype.g=function(){return new Zr(this.i,this.h)};function Zr(d,b){qe.call(this),this.H=d,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(Zr,qe),r=Zr.prototype,r.open=function(d,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=b,this.readyState=1,Dn(this)},r.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(b.body=d),(this.H||u).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_i(this)),this.readyState=0},r.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Dn(this)),this.g&&(this.readyState=3,Dn(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wu(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function wu(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}r.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var b=d.value?d.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!d.done}))&&(this.response=this.responseText+=b)}d.done?_i(this):Dn(this),this.readyState==3&&wu(this)}},r.Oa=function(d){this.g&&(this.response=this.responseText=d,_i(this))},r.Na=function(d){this.g&&(this.response=d,_i(this))},r.ga=function(){this.g&&_i(this)};function _i(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Dn(d)}r.setRequestHeader=function(d,b){this.A.append(d,b)},r.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],b=this.h.entries();for(var N=b.next();!N.done;)N=N.value,d.push(N[0]+": "+N[1]),N=b.next();return d.join(`\r
`)};function Dn(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Zr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function _u(d){let b="";return se(d,function(N,A){b+=A,b+=":",b+=N,b+=`\r
`}),b}function ma(d,b,N){e:{for(A in N){var A=!1;break e}A=!0}A||(N=_u(N),typeof d=="string"?N!=null&&tr(N):st(d,b,N))}function ht(d){qe.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(ht,qe);var Nu=/^https?$/i,xf=["POST","PUT"];r=ht.prototype,r.Fa=function(d){this.H=d},r.ea=function(d,b,N,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);b=b?b.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xr.g(),this.g.onreadystatechange=w(m(this.Ca,this));try{this.B=!0,this.g.open(b,String(d),!0),this.B=!1}catch(ne){Ni(this,ne);return}if(d=N||"",N=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var Q in A)N.set(Q,A[Q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const ne of A.keys())N.set(ne,A.get(ne));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(N.keys()).find(ne=>ne.toLowerCase()=="content-type"),Q=u.FormData&&d instanceof u.FormData,!(Array.prototype.indexOf.call(xf,b,void 0)>=0)||A||Q||N.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,ye]of N)this.g.setRequestHeader(ne,ye);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(ne){Ni(this,ne)}};function Ni(d,b){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=b,d.o=5,Ei(d),Bs(d)}function Ei(d){d.A||(d.A=!0,ct(d,"complete"),ct(d,"error"))}r.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,ct(this,"complete"),ct(this,"abort"),Bs(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bs(this,!0)),ht.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Us(this):this.Xa())},r.Xa=function(){Us(this)};function Us(d){if(d.h&&typeof l<"u"){if(d.v&&os(d)==4)setTimeout(d.Ca.bind(d),0);else if(ct(d,"readystatechange"),os(d)==4){d.h=!1;try{const ne=d.ca();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var N;if(!(N=b)){var A;if(A=ne===0){let ye=String(d.D).match(bu)[1]||null;!ye&&u.self&&u.self.location&&(ye=u.self.location.protocol.slice(0,-1)),A=!Nu.test(ye?ye.toLowerCase():"")}N=A}if(N)ct(d,"complete"),ct(d,"success");else{d.o=6;try{var Q=os(d)>2?d.g.statusText:""}catch{Q=""}d.l=Q+" ["+d.ca()+"]",Ei(d)}}finally{Bs(d)}}}}function Bs(d,b){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const N=d.g;d.g=null,b||ct(d,"ready");try{N.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function os(d){return d.g?d.g.readyState:0}r.ca=function(){try{return os(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(d){if(this.g){var b=this.g.responseText;return d&&b.indexOf(d)==0&&(b=b.substring(d.length)),gi(b)}};function Eu(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Wl(d){const b={};d=(d.g&&os(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<d.length;A++){if(C(d[A]))continue;var N=xo(d[A]);const Q=N[0];if(N=N[1],typeof N!="string")continue;N=N.trim();const ne=b[Q]||[];b[Q]=ne,ne.push(N)}ie(b,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function as(d,b,N){return N&&N.internalChannelParams&&N.internalChannelParams[d]||b}function ga(d){this.za=0,this.i=[],this.j=new dt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=as("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=as("baseRetryDelayMs",5e3,d),this.Za=as("retryDelaySeedMs",1e4,d),this.Ta=as("forwardChannelMaxRetries",2,d),this.va=as("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new da(d&&d.concurrentRequestLimit),this.Ba=new So,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ga.prototype,r.ka=8,r.I=1,r.connect=function(d,b,N,A){gt(0),this.W=d,this.H=b||{},N&&A!==void 0&&(this.H.OSID=N,this.H.OAID=A),this.F=this.X,this.J=Gl(this,null,this.W),zs(this)};function xa(d){if(ya(d),d.I==3){var b=d.V++,N=mn(d.J);if(st(N,"SID",d.M),st(N,"RID",b),st(N,"TYPE","terminate"),ls(d,N),b=new pn(d,d.j,b),b.M=2,b.A=$s(mn(N)),N=!1,u.navigator&&u.navigator.sendBeacon)try{N=u.navigator.sendBeacon(b.A.toString(),"")}catch{}!N&&u.Image&&(new Image().src=b.A,N=!0),N||(b.g=Su(b.j,null),b.g.ea(b.A)),b.F=Date.now(),yo(b)}Co(d)}function en(d){d.g&&(To(d),d.g.cancel(),d.g=null)}function ya(d){en(d),d.v&&(u.clearTimeout(d.v),d.v=null),va(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&u.clearTimeout(d.m),d.m=null)}function zs(d){if(!Ml(d.h)&&!d.m){d.m=!0;var b=d.Ea;W||S(),Z||(W(),Z=!0),R.add(b,d),d.D=0}}function ju(d,b){return bo(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=b.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Oe(m(d.Ea,d,b),wa(d,d.D)),d.D++,!0)}r.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const Q=new pn(this,this.j,d);let ne=this.o;if(this.U&&(ne?(ne=F(ne),re(ne,this.U)):ne=this.U),this.u!==null||this.R||(Q.J=ne,ne=null),this.S)e:{for(var b=0,N=0;N<this.i.length;N++){t:{var A=this.i[N];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(b+=A,b>4096){b=N;break e}if(b===4096||N===this.i.length-1){b=N+1;break e}}b=1e3}else b=1e3;b=ql(this,Q,b),N=mn(this.J),st(N,"RID",d),st(N,"CVER",22),this.G&&st(N,"X-HTTP-Session-Id",this.G),ls(this,N),ne&&(this.R?b="headers="+tr(_u(ne))+"&"+b:this.u&&ma(N,this.u,ne)),ha(this.h,Q),this.Ra&&st(N,"TYPE","init"),this.S?(st(N,"$req",b),st(N,"SID","null"),Q.U=!0,Pn(Q,N,null)):Pn(Q,N,b),this.I=2}}else this.I==3&&(d?ko(this,d):this.i.length==0||Ml(this.h)||ko(this))};function ko(d,b){var N;b?N=b.l:N=d.V++;const A=mn(d.J);st(A,"SID",d.M),st(A,"RID",N),st(A,"AID",d.K),ls(d,A),d.u&&d.o&&ma(A,d.u,d.o),N=new pn(d,d.j,N,d.D+1),d.u===null&&(N.J=d.o),b&&(d.i=b.G.concat(d.i)),b=ql(d,N,1e3),N.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),ha(d.h,N),Pn(N,A,b)}function ls(d,b){d.H&&se(d.H,function(N,A){st(b,A,N)}),d.l&&se({},function(N,A){st(b,A,N)})}function ql(d,b,N){N=Math.min(d.i.length,N);const A=d.l?m(d.l.Ka,d.l,d):null;e:{var Q=d.i;let Ue=-1;for(;;){const Dt=["count="+N];Ue==-1?N>0?(Ue=Q[0].g,Dt.push("ofs="+Ue)):Ue=0:Dt.push("ofs="+Ue);let at=!0;for(let Bt=0;Bt<N;Bt++){var ne=Q[Bt].g;const rn=Q[Bt].map;if(ne-=Ue,ne<0)Ue=Math.max(0,Q[Bt].g-100),at=!1;else try{ne="req"+ne+"_"||"";try{var ye=rn instanceof Map?rn:Object.entries(rn);for(const[Hs,us]of ye){let ds=us;h(us)&&(ds=Tn(us)),Dt.push(ne+Hs+"="+encodeURIComponent(ds))}}catch(Hs){throw Dt.push(ne+"type="+encodeURIComponent("_badmap")),Hs}}catch{A&&A(rn)}}if(at){ye=Dt.join("&");break e}}ye=void 0}return d=d.i.splice(0,N),b.G=d,ye}function yr(d){if(!d.g&&!d.v){d.Y=1;var b=d.Da;W||S(),Z||(W(),Z=!0),R.add(b,d),d.A=0}}function cs(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Oe(m(d.Da,d),wa(d,d.A)),d.A++,!0)}r.Da=function(){if(this.v=null,ji(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Oe(m(this.Wa,this),d)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,gt(10),en(this),ji(this))};function To(d){d.B!=null&&(u.clearTimeout(d.B),d.B=null)}function ji(d){d.g=new pn(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var b=mn(d.na);st(b,"RID","rpc"),st(b,"SID",d.M),st(b,"AID",d.K),st(b,"CI",d.F?"0":"1"),!d.F&&d.ia&&st(b,"TO",d.ia),st(b,"TYPE","xmlhttp"),ls(d,b),d.u&&d.o&&ma(b,d.u,d.o),d.O&&(d.g.H=d.O);var N=d.g;d=d.ba,N.M=1,N.A=$s(mn(b)),N.u=null,N.R=!0,Pl(N,d)}r.Va=function(){this.C!=null&&(this.C=null,en(this),cs(this),gt(19))};function va(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function ba(d,b){var N=null;if(d.g==b){va(d),To(d),d.g=null;var A=2}else if(Ol(d.h,b))N=b.G,wo(d.h,b),A=1;else return;if(d.I!=0){if(b.o)if(A==1){N=b.u?b.u.length:0,b=Date.now()-b.F;var Q=d.D;A=hn(),ct(A,new bi(A,N)),zs(d)}else yr(d);else if(Q=b.m,Q==3||Q==0&&b.X>0||!(A==1&&ju(d,b)||A==2&&cs(d)))switch(N&&N.length>0&&(b=d.h,b.i=b.i.concat(N)),Q){case 1:tn(d,5);break;case 4:tn(d,10);break;case 3:tn(d,6);break;default:tn(d,2)}}}function wa(d,b){let N=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(N*=2),N*b}function tn(d,b){if(d.j.info("Error code "+b),b==2){var N=m(d.bb,d),A=d.Ua;const Q=!A;A=new es(A||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||_o(A,"https"),$s(A),Q?ss(A.toString(),N):is(A.toString(),N)}else gt(2);d.I=0,d.l&&d.l.pa(b),Co(d),ya(d)}r.bb=function(d){d?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function Co(d){if(d.I=0,d.ja=[],d.l){const b=Xr(d.h);(b.length!=0||d.i.length!=0)&&(P(d.ja,b),P(d.ja,d.i),d.h.i.length=0,k(d.i),d.i.length=0),d.l.oa()}}function Gl(d,b,N){var A=N instanceof es?mn(N):new es(N);if(A.g!="")b&&(A.g=b+"."+A.g),ts(A,A.u);else{var Q=u.location;A=Q.protocol,b=b?b+"."+Q.hostname:Q.hostname,Q=+Q.port;const ne=new es(null);A&&_o(ne,A),b&&(ne.g=b),Q&&ts(ne,Q),N&&(ne.h=N),A=ne}return N=d.G,b=d.wa,N&&b&&st(A,N,b),st(A,"VER",d.ka),ls(d,A),A}function Su(d,b,N){if(b&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=d.Aa&&!d.ma?new ht(new Fs({ab:N})):new ht(d.ma),b.Fa(d.L),b}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ku(){}r=ku.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function _a(){}_a.prototype.g=function(d,b){return new cr(d,b)};function cr(d,b){qe.call(this),this.g=new ga(b),this.l=d,this.h=b&&b.messageUrlParams||null,d=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(d?d["X-WebChannel-Content-Type"]=b.messageContentType:d={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(d?d["X-WebChannel-Client-Profile"]=b.sa:d={"X-WebChannel-Client-Profile":b.sa}),this.g.U=d,(d=b&&b.Qb)&&!C(d)&&(this.g.u=d),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!C(b)&&(this.g.G=b,d=this.h,d!==null&&b in d&&(d=this.h,b in d&&delete d[b])),this.j=new Si(this)}x(cr,qe),cr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cr.prototype.close=function(){xa(this.g)},cr.prototype.o=function(d){var b=this.g;if(typeof d=="string"){var N={};N.__data__=d,d=N}else this.v&&(N={},N.__data__=Tn(d),d=N);b.i.push(new mf(b.Ya++,d)),b.I==3&&zs(b)},cr.prototype.N=function(){this.g.l=null,delete this.j,xa(this.g),delete this.g,cr.Z.N.call(this)};function Tu(d){xi.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var b=d.__sm__;if(b){e:{for(const N in b){d=N;break e}d=void 0}(this.i=d)&&(d=this.i,b=b!==null&&d in b?b[d]:void 0),this.data=b}else this.data=d}x(Tu,xi);function Cu(){yi.call(this),this.status=1}x(Cu,yi);function Si(d){this.g=d}x(Si,ku),Si.prototype.ra=function(){ct(this.g,"a")},Si.prototype.qa=function(d){ct(this.g,new Tu(d))},Si.prototype.pa=function(d){ct(this.g,new Cu)},Si.prototype.oa=function(){ct(this.g,"b")},_a.prototype.createWebChannel=_a.prototype.g,cr.prototype.send=cr.prototype.o,cr.prototype.open=cr.prototype.m,cr.prototype.close=cr.prototype.close,a2=function(){return new _a},o2=function(){return hn()},i2=Vr,Am={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Qr.NO_ERROR=0,Qr.TIMEOUT=8,Qr.HTTP_ERROR=6,Gd=Qr,Ut.COMPLETE="complete",s2=Ut,In.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",qe.prototype.listen=qe.prototype.J,Ec=In,ht.prototype.listenOnce=ht.prototype.K,ht.prototype.getLastError=ht.prototype.Ha,ht.prototype.getLastErrorCode=ht.prototype.ya,ht.prototype.getStatus=ht.prototype.ca,ht.prototype.getResponseJson=ht.prototype.La,ht.prototype.getResponseText=ht.prototype.la,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Fa,n2=ht}).apply(typeof Sd<"u"?Sd:typeof self<"u"?self:typeof window<"u"?window:{});const Ov="@firebase/firestore",Lv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Er.UNAUTHENTICATED=new Er(null),Er.GOOGLE_CREDENTIALS=new Er("google-credentials-uid"),Er.FIRST_PARTY=new Er("first-party-uid"),Er.MOCK_USER=new Er("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo=new xg("@firebase/firestore");function Ka(){return Zo.logLevel}function Ne(r,...e){if(Zo.logLevel<=Qe.DEBUG){const t=e.map(Tg);Zo.debug(`Firestore (${wl}): ${r}`,...t)}}function ui(r,...e){if(Zo.logLevel<=Qe.ERROR){const t=e.map(Tg);Zo.error(`Firestore (${wl}): ${r}`,...t)}}function ul(r,...e){if(Zo.logLevel<=Qe.WARN){const t=e.map(Tg);Zo.warn(`Firestore (${wl}): ${r}`,...t)}}function Tg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(r,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,l2(r,n,t)}function l2(r,e,t){let n=`FIRESTORE (${wl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw ui(n),new Error(n)}function ot(r,e,t,n){let o="Unexpected state";typeof t=="string"?o=t:n=t,r||l2(e,o,n)}function Be(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends Ms{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class M4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Er.UNAUTHENTICATED)))}shutdown(){}}class O4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class L4{constructor(e){this.t=e,this.currentUser=Er.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ot(this.o===void 0,42304);let n=this.i;const o=p=>this.i!==n?(n=this.i,t(p)):Promise.resolve();let l=new ii;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ii,e.enqueueRetryable((()=>o(this.currentUser)))};const u=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},h=p=>{Ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((p=>h(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(Ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ii)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((n=>this.i!==e?(Ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(ot(typeof n.accessToken=="string",31837,{l:n}),new c2(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ot(e===null||typeof e=="string",2055,{h:e}),new Er(e)}}class V4{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Er.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $4{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new V4(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Er.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Vv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class F4{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ln(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ot(this.o===void 0,3512);const n=l=>{l.error!=null&&Ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,Ne("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>n(l)))};const o=l=>{Ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):Ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Vv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ot(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Vv(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const o=U4(40);for(let l=0;l<o.length;++l)n.length<20&&o[l]<t&&(n+=e.charAt(o[l]%62))}return n}}function Xe(r,e){return r<e?-1:r>e?1:0}function Rm(r,e){const t=Math.min(r.length,e.length);for(let n=0;n<t;n++){const o=r.charAt(n),l=e.charAt(n);if(o!==l)return em(o)===em(l)?Xe(o,l):em(o)?1:-1}return Xe(r.length,e.length)}const B4=55296,z4=57343;function em(r){const e=r.charCodeAt(0);return e>=B4&&e<=z4}function dl(r,e,t){return r.length===e.length&&r.every(((n,o)=>t(n,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="__name__";class xs{constructor(e,t,n){t===void 0?t=0:t>e.length&&Ve(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&Ve(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return xs.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof xs?e.forEach((n=>{t.push(n)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let o=0;o<n;o++){const l=xs.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Xe(e.length,t.length)}static compareSegments(e,t){const n=xs.isNumericId(e),o=xs.isNumericId(t);return n&&!o?-1:!n&&o?1:n&&o?xs.extractNumericId(e).compare(xs.extractNumericId(t)):Rm(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ji.fromString(e.substring(4,e.length-2))}}class pt extends xs{construct(e,t,n){return new pt(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new we(ae.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((o=>o.length>0)))}return new pt(t)}static emptyPath(){return new pt([])}}const H4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pr extends xs{construct(e,t,n){return new pr(e,t,n)}static isValidIdentifier(e){return H4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$v}static keyField(){return new pr([$v])}static fromServerFormat(e){const t=[];let n="",o=0;const l=()=>{if(n.length===0)throw new we(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let u=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new we(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new we(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=p,o+=2}else h==="`"?(u=!u,o++):h!=="."||u?(n+=h,o++):(l(),o++)}if(l(),u)throw new we(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pr(t)}static emptyPath(){return new pr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(pt.fromString(e))}static fromName(e){return new Re(pt.fromString(e).popFirst(5))}static empty(){return new Re(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return pt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new pt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(r,e,t){if(!t)throw new we(ae.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function W4(r,e,t,n){if(e===!0&&n===!0)throw new we(ae.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Fv(r){if(!Re.isDocumentKey(r))throw new we(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Uv(r){if(Re.isDocumentKey(r))throw new we(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function d2(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function $h(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ve(12329,{type:typeof r})}function Mr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new we(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=$h(r);throw new we(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(r,e){const t={typeString:r};return e&&(t.value=e),t}function nu(r,e){if(!d2(r))throw new we(ae.INVALID_ARGUMENT,"JSON must be an object");let t;for(const n in e)if(e[n]){const o=e[n].typeString,l="value"in e[n]?{value:e[n].value}:void 0;if(!(n in r)){t=`JSON missing required field: '${n}'`;break}const u=r[n];if(o&&typeof u!==o){t=`JSON field '${n}' must be a ${o}.`;break}if(l!==void 0&&u!==l.value){t=`Expected '${n}' field to equal '${l.value}'`;break}}if(t)throw new we(ae.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=-62135596800,zv=1e6;class bt{static now(){return bt.fromMillis(Date.now())}static fromDate(e){return bt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*zv);return new bt(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new we(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new we(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Bv)throw new we(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zv}_compareTo(e){return this.seconds===e.seconds?Xe(this.nanoseconds,e.nanoseconds):Xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(nu(e,bt._jsonSchema))return new bt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Bv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}bt._jsonSchemaVersion="firestore/timestamp/1.0",bt._jsonSchema={type:qt("string",bt._jsonSchemaVersion),seconds:qt("number"),nanoseconds:qt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new bt(0,0))}static max(){return new Fe(new bt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=-1;function q4(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,o=Fe.fromTimestamp(n===1e9?new bt(t+1,0):new bt(t,n));return new ro(o,Re.empty(),e)}function G4(r){return new ro(r.readTime,r.key,Lc)}class ro{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ro(Fe.min(),Re.empty(),Lc)}static max(){return new ro(Fe.max(),Re.empty(),Lc)}}function K4(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Re.comparator(r.documentKey,e.documentKey),t!==0?t:Xe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Q4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(r){if(r.code!==ae.FAILED_PRECONDITION||r.message!==Y4)throw r;Ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ce(((n,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(n,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(n,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ce?t:ce.resolve(t)}catch(t){return ce.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ce.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ce.reject(t)}static resolve(e){return new ce(((t,n)=>{t(e)}))}static reject(e){return new ce(((t,n)=>{n(e)}))}static waitFor(e){return new ce(((t,n)=>{let o=0,l=0,u=!1;e.forEach((h=>{++o,h.next((()=>{++l,u&&l===o&&t()}),(p=>n(p)))})),u=!0,l===o&&t()}))}static or(e){let t=ce.resolve(!1);for(const n of e)t=t.next((o=>o?ce.resolve(o):n()));return t}static forEach(e,t){const n=[];return e.forEach(((o,l)=>{n.push(t.call(this,o,l))})),this.waitFor(n)}static mapArray(e,t){return new ce(((n,o)=>{const l=e.length,u=new Array(l);let h=0;for(let p=0;p<l;p++){const m=p;t(e[m]).next((y=>{u[m]=y,++h,h===l&&n(u)}),(y=>o(y)))}}))}static doWhile(e,t){return new ce(((n,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):n()};l()}))}}function X4(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Nl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>t.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Fh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig=-1;function Uh(r){return r==null}function fh(r){return r===0&&1/r==-1/0}function J4(r){return typeof r=="number"&&Number.isInteger(r)&&!fh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2="";function Z4(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=Hv(e)),e=eA(r.get(t),e);return Hv(e)}function eA(r,e){let t=e;const n=r.length;for(let o=0;o<n;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case h2:t+="";break;default:t+=l}}return t}function Hv(r){return r+h2+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ho(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function f2(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,t){this.comparator=e,this.root=t||hr.EMPTY}insert(e,t){return new kt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,hr.BLACK,null,null))}remove(e){return new kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(o===0)return t+n.left.size;o<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kd(this.root,e,this.comparator,!1)}getReverseIterator(){return new kd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kd(this.root,e,this.comparator,!0)}}class kd{constructor(e,t,n,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?n(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hr{constructor(e,t,n,o,l){this.key=e,this.value=t,this.color=n??hr.RED,this.left=o??hr.EMPTY,this.right=l??hr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,o,l){return new hr(e??this.key,t??this.value,n??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let o=this;const l=n(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,n),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,n)),o.fixUp()}removeMin(){if(this.left.isEmpty())return hr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return hr.EMPTY;n=o.right.min(),o=o.copy(n.key,n.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ve(27949);return e+(this.isRed()?0:1)}}hr.EMPTY=null,hr.RED=!0,hr.BLACK=!1;hr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve(57766)}get value(){throw Ve(16141)}get color(){throw Ve(16727)}get left(){throw Ve(29726)}get right(){throw Ve(36894)}copy(e,t,n,o,l){return this}insert(e,t,n){return new hr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.comparator=e,this.data=new kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const o=n.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qv(this.data.getIterator())}getIteratorFrom(e){return new qv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((n=>{t=t.add(n)})),t}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=n.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Qt(this.comparator);return t.data=e,t}}class qv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.fields=e,e.sort(pr.comparator)}static empty(){return new cn([])}unionWith(e){let t=new Qt(pr.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new cn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return dl(this.fields,e.fields,((t,n)=>t.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new p2("Invalid base64 string: "+l):l}})(e);return new mr(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);return l})(e);return new mr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const n=new Uint8Array(t.length);for(let o=0;o<t.length;o++)n[o]=t.charCodeAt(o);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mr.EMPTY_BYTE_STRING=new mr("");const tA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function no(r){if(ot(!!r,39018),typeof r=="string"){let e=0;const t=tA.exec(r);if(ot(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Ot(r.seconds),nanos:Ot(r.nanos)}}function Ot(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function so(r){return typeof r=="string"?mr.fromBase64String(r):mr.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="server_timestamp",g2="__type__",x2="__previous_value__",y2="__local_write_time__";function Ag(r){return(r?.mapValue?.fields||{})[g2]?.stringValue===m2}function Bh(r){const e=r.mapValue.fields[x2];return Ag(e)?Bh(e):e}function Vc(r){const e=no(r.mapValue.fields[y2].timestampValue);return new bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,t,n,o,l,u,h,p,m,y){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=o,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=y}}const ph="(default)";class $c{constructor(e,t){this.projectId=e,this.database=t||ph}static empty(){return new $c("","")}get isDefaultDatabase(){return this.database===ph}isEqual(e){return e instanceof $c&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2="__type__",nA="__max__",Td={mapValue:{}},b2="__vector__",mh="value";function io(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ag(r)?4:iA(r)?9007199254740991:sA(r)?10:11:Ve(28295,{value:r})}function Is(r,e){if(r===e)return!0;const t=io(r);if(t!==io(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Vc(r).isEqual(Vc(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const u=no(o.timestampValue),h=no(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,l){return so(o.bytesValue).isEqual(so(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,l){return Ot(o.geoPointValue.latitude)===Ot(l.geoPointValue.latitude)&&Ot(o.geoPointValue.longitude)===Ot(l.geoPointValue.longitude)})(r,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return Ot(o.integerValue)===Ot(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const u=Ot(o.doubleValue),h=Ot(l.doubleValue);return u===h?fh(u)===fh(h):isNaN(u)&&isNaN(h)}return!1})(r,e);case 9:return dl(r.arrayValue.values||[],e.arrayValue.values||[],Is);case 10:case 11:return(function(o,l){const u=o.mapValue.fields||{},h=l.mapValue.fields||{};if(Wv(u)!==Wv(h))return!1;for(const p in u)if(u.hasOwnProperty(p)&&(h[p]===void 0||!Is(u[p],h[p])))return!1;return!0})(r,e);default:return Ve(52216,{left:r})}}function Fc(r,e){return(r.values||[]).find((t=>Is(t,e)))!==void 0}function hl(r,e){if(r===e)return 0;const t=io(r),n=io(e);if(t!==n)return Xe(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return Xe(r.booleanValue,e.booleanValue);case 2:return(function(l,u){const h=Ot(l.integerValue||l.doubleValue),p=Ot(u.integerValue||u.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1})(r,e);case 3:return Gv(r.timestampValue,e.timestampValue);case 4:return Gv(Vc(r),Vc(e));case 5:return Rm(r.stringValue,e.stringValue);case 6:return(function(l,u){const h=so(l),p=so(u);return h.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(l,u){const h=l.split("/"),p=u.split("/");for(let m=0;m<h.length&&m<p.length;m++){const y=Xe(h[m],p[m]);if(y!==0)return y}return Xe(h.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,u){const h=Xe(Ot(l.latitude),Ot(u.latitude));return h!==0?h:Xe(Ot(l.longitude),Ot(u.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Kv(r.arrayValue,e.arrayValue);case 10:return(function(l,u){const h=l.fields||{},p=u.fields||{},m=h[mh]?.arrayValue,y=p[mh]?.arrayValue,x=Xe(m?.values?.length||0,y?.values?.length||0);return x!==0?x:Kv(m,y)})(r.mapValue,e.mapValue);case 11:return(function(l,u){if(l===Td.mapValue&&u===Td.mapValue)return 0;if(l===Td.mapValue)return 1;if(u===Td.mapValue)return-1;const h=l.fields||{},p=Object.keys(h),m=u.fields||{},y=Object.keys(m);p.sort(),y.sort();for(let x=0;x<p.length&&x<y.length;++x){const w=Rm(p[x],y[x]);if(w!==0)return w;const k=hl(h[p[x]],m[y[x]]);if(k!==0)return k}return Xe(p.length,y.length)})(r.mapValue,e.mapValue);default:throw Ve(23264,{he:t})}}function Gv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Xe(r,e);const t=no(r),n=no(e),o=Xe(t.seconds,n.seconds);return o!==0?o:Xe(t.nanos,n.nanos)}function Kv(r,e){const t=r.values||[],n=e.values||[];for(let o=0;o<t.length&&o<n.length;++o){const l=hl(t[o],n[o]);if(l)return l}return Xe(t.length,n.length)}function fl(r){return Pm(r)}function Pm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const n=no(t);return`time(${n.seconds},${n.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return so(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return Re.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let n="[",o=!0;for(const l of t.values||[])o?o=!1:n+=",",n+=Pm(l);return n+"]"})(r.arrayValue):"mapValue"in r?(function(t){const n=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const u of n)l?l=!1:o+=",",o+=`${u}:${Pm(t.fields[u])}`;return o+"}"})(r.mapValue):Ve(61005,{value:r})}function Kd(r){switch(io(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bh(r);return e?16+Kd(e):16;case 5:return 2*r.stringValue.length;case 6:return so(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((o,l)=>o+Kd(l)),0)})(r.arrayValue);case 10:case 11:return(function(n){let o=0;return ho(n.fields,((l,u)=>{o+=l.length+Kd(u)})),o})(r.mapValue);default:throw Ve(13486,{value:r})}}function Yv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Dm(r){return!!r&&"integerValue"in r}function Rg(r){return!!r&&"arrayValue"in r}function Qv(r){return!!r&&"nullValue"in r}function Xv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Yd(r){return!!r&&"mapValue"in r}function sA(r){return(r?.mapValue?.fields||{})[v2]?.stringValue===b2}function Ac(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ho(r.mapValue.fields,((t,n)=>e.mapValue.fields[t]=Ac(n))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ac(r.arrayValue.values[t]);return e}return{...r}}function iA(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===nA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(e){this.value=e}static empty(){return new Gr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Yd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ac(t)}setAll(e){let t=pr.emptyPath(),n={},o=[];e.forEach(((u,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,n,o),n={},o=[],t=h.popLast()}u?n[h.lastSegment()]=Ac(u):o.push(h.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,n,o)}delete(e){const t=this.field(e.popLast());Yd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Is(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let o=t.mapValue.fields[e.get(n)];Yd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,n){ho(t,((o,l)=>e[o]=l));for(const o of n)delete e[o]}clone(){return new Gr(Ac(this.value))}}function w2(r){const e=[];return ho(r.fields,((t,n)=>{const o=new pr([t]);if(Yd(n)){const l=w2(n.mapValue).fields;if(l.length===0)e.push(o);else for(const u of l)e.push(o.child(u))}else e.push(o)})),new cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,t,n,o,l,u,h){this.key=e,this.documentType=t,this.version=n,this.readTime=o,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new jr(e,0,Fe.min(),Fe.min(),Fe.min(),Gr.empty(),0)}static newFoundDocument(e,t,n,o){return new jr(e,1,t,Fe.min(),n,o,0)}static newNoDocument(e,t){return new jr(e,2,t,Fe.min(),Fe.min(),Gr.empty(),0)}static newUnknownDocument(e,t){return new jr(e,3,t,Fe.min(),Fe.min(),Gr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,t){this.position=e,this.inclusive=t}}function Jv(r,e,t){let n=0;for(let o=0;o<r.position.length;o++){const l=e[o],u=r.position[o];if(l.field.isKeyField()?n=Re.comparator(Re.fromName(u.referenceValue),t.key):n=hl(u,t.data.field(l.field)),l.dir==="desc"&&(n*=-1),n!==0)break}return n}function Zv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Is(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,t="asc"){this.field=e,this.dir=t}}function oA(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{}class Wt extends _2{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new lA(e,t,n):t==="array-contains"?new dA(e,n):t==="in"?new hA(e,n):t==="not-in"?new fA(e,n):t==="array-contains-any"?new pA(e,n):new Wt(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new cA(e,n):new uA(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(hl(t,this.value)):t!==null&&io(this.value)===io(t)&&this.matchesComparison(hl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends _2{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Yn(e,t)}matches(e){return N2(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function N2(r){return r.op==="and"}function E2(r){return aA(r)&&N2(r)}function aA(r){for(const e of r.filters)if(e instanceof Yn)return!1;return!0}function Mm(r){if(r instanceof Wt)return r.field.canonicalString()+r.op.toString()+fl(r.value);if(E2(r))return r.filters.map((e=>Mm(e))).join(",");{const e=r.filters.map((t=>Mm(t))).join(",");return`${r.op}(${e})`}}function j2(r,e){return r instanceof Wt?(function(n,o){return o instanceof Wt&&n.op===o.op&&n.field.isEqual(o.field)&&Is(n.value,o.value)})(r,e):r instanceof Yn?(function(n,o){return o instanceof Yn&&n.op===o.op&&n.filters.length===o.filters.length?n.filters.reduce(((l,u,h)=>l&&j2(u,o.filters[h])),!0):!1})(r,e):void Ve(19439)}function S2(r){return r instanceof Wt?(function(t){return`${t.field.canonicalString()} ${t.op} ${fl(t.value)}`})(r):r instanceof Yn?(function(t){return t.op.toString()+" {"+t.getFilters().map(S2).join(" ,")+"}"})(r):"Filter"}class lA extends Wt{constructor(e,t,n){super(e,t,n),this.key=Re.fromName(n.referenceValue)}matches(e){const t=Re.comparator(e.key,this.key);return this.matchesComparison(t)}}class cA extends Wt{constructor(e,t){super(e,"in",t),this.keys=k2("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class uA extends Wt{constructor(e,t){super(e,"not-in",t),this.keys=k2("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function k2(r,e){return(e.arrayValue?.values||[]).map((t=>Re.fromName(t.referenceValue)))}class dA extends Wt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Rg(t)&&Fc(t.arrayValue,this.value)}}class hA extends Wt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Fc(this.value.arrayValue,t)}}class fA extends Wt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Fc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Fc(this.value.arrayValue,t)}}class pA extends Wt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Rg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((n=>Fc(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,t=null,n=[],o=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=o,this.limit=l,this.startAt=u,this.endAt=h,this.Te=null}}function eb(r,e=null,t=[],n=[],o=null,l=null,u=null){return new mA(r,e,t,n,o,l,u)}function Pg(r){const e=Be(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((n=>Mm(n))).join(","),t+="|ob:",t+=e.orderBy.map((n=>(function(l){return l.field.canonicalString()+l.dir})(n))).join(","),Uh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((n=>fl(n))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((n=>fl(n))).join(",")),e.Te=t}return e.Te}function Dg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!oA(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!j2(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Zv(r.startAt,e.startAt)&&Zv(r.endAt,e.endAt)}function Om(r){return Re.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,t=null,n=[],o=[],l=null,u="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=o,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function gA(r,e,t,n,o,l,u,h){return new El(r,e,t,n,o,l,u,h)}function zh(r){return new El(r)}function tb(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function T2(r){return r.collectionGroup!==null}function Rc(r){const e=Be(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Qt(pr.comparator);return u.filters.forEach((p=>{p.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Uc(l,n))})),t.has(pr.keyField().canonicalString())||e.Ie.push(new Uc(pr.keyField(),n))}return e.Ie}function js(r){const e=Be(r);return e.Ee||(e.Ee=xA(e,Rc(r))),e.Ee}function xA(r,e){if(r.limitType==="F")return eb(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new Uc(o.field,l)}));const t=r.endAt?new gh(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new gh(r.startAt.position,r.startAt.inclusive):null;return eb(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function Lm(r,e){const t=r.filters.concat([e]);return new El(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Vm(r,e,t){return new El(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Hh(r,e){return Dg(js(r),js(e))&&r.limitType===e.limitType}function C2(r){return`${Pg(js(r))}|lt:${r.limitType}`}function Ya(r){return`Query(target=${(function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map((o=>S2(o))).join(", ")}]`),Uh(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map((o=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(o))).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((o=>fl(o))).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((o=>fl(o))).join(",")),`Target(${n})`})(js(r))}; limitType=${r.limitType})`}function Wh(r,e){return e.isFoundDocument()&&(function(n,o){const l=o.key.path;return n.collectionGroup!==null?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(l):Re.isDocumentKey(n.path)?n.path.isEqual(l):n.path.isImmediateParentOf(l)})(r,e)&&(function(n,o){for(const l of Rc(n))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(n,o){for(const l of n.filters)if(!l.matches(o))return!1;return!0})(r,e)&&(function(n,o){return!(n.startAt&&!(function(u,h,p){const m=Jv(u,h,p);return u.inclusive?m<=0:m<0})(n.startAt,Rc(n),o)||n.endAt&&!(function(u,h,p){const m=Jv(u,h,p);return u.inclusive?m>=0:m>0})(n.endAt,Rc(n),o))})(r,e)}function yA(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function I2(r){return(e,t)=>{let n=!1;for(const o of Rc(r)){const l=vA(o,e,t);if(l!==0)return l;n=n||o.field.isKeyField()}return 0}}function vA(r,e,t){const n=r.field.isKeyField()?Re.comparator(e.key,t.key):(function(l,u,h){const p=u.data.field(l),m=h.data.field(l);return p!==null&&m!==null?hl(p,m):Ve(42886)})(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Ve(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[o,l]of n)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),o=this.inner[n];if(o===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let o=0;o<n.length;o++)if(this.equalsFn(n[o][0],e))return n.length===1?delete this.inner[t]:n.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ho(this.inner,((t,n)=>{for(const[o,l]of n)e(o,l)}))}isEmpty(){return f2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA=new kt(Re.comparator);function di(){return bA}const A2=new kt(Re.comparator);function jc(...r){let e=A2;for(const t of r)e=e.insert(t.key,t);return e}function R2(r){let e=A2;return r.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function Ho(){return Pc()}function P2(){return Pc()}function Pc(){return new la((r=>r.toString()),((r,e)=>r.isEqual(e)))}const wA=new kt(Re.comparator),_A=new Qt(Re.comparator);function Je(...r){let e=_A;for(const t of r)e=e.add(t);return e}const NA=new Qt(Xe);function EA(){return NA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fh(e)?"-0":e}}function D2(r){return{integerValue:""+r}}function M2(r,e){return J4(e)?D2(e):Mg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(){this._=void 0}}function jA(r,e,t){return r instanceof Bc?(function(o,l){const u={fields:{[g2]:{stringValue:m2},[y2]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Ag(l)&&(l=Bh(l)),l&&(u.fields[x2]=l),{mapValue:u}})(t,e):r instanceof pl?L2(r,e):r instanceof zc?V2(r,e):(function(o,l){const u=O2(o,l),h=rb(u)+rb(o.Ae);return Dm(u)&&Dm(o.Ae)?D2(h):Mg(o.serializer,h)})(r,e)}function SA(r,e,t){return r instanceof pl?L2(r,e):r instanceof zc?V2(r,e):t}function O2(r,e){return r instanceof Hc?(function(n){return Dm(n)||(function(l){return!!l&&"doubleValue"in l})(n)})(e)?e:{integerValue:0}:null}class Bc extends qh{}class pl extends qh{constructor(e){super(),this.elements=e}}function L2(r,e){const t=$2(e);for(const n of r.elements)t.some((o=>Is(o,n)))||t.push(n);return{arrayValue:{values:t}}}class zc extends qh{constructor(e){super(),this.elements=e}}function V2(r,e){let t=$2(e);for(const n of r.elements)t=t.filter((o=>!Is(o,n)));return{arrayValue:{values:t}}}class Hc extends qh{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function rb(r){return Ot(r.integerValue||r.doubleValue)}function $2(r){return Rg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,t){this.field=e,this.transform=t}}function kA(r,e){return r.field.isEqual(e.field)&&(function(n,o){return n instanceof pl&&o instanceof pl||n instanceof zc&&o instanceof zc?dl(n.elements,o.elements,Is):n instanceof Hc&&o instanceof Hc?Is(n.Ae,o.Ae):n instanceof Bc&&o instanceof Bc})(r.transform,e.transform)}class TA{constructor(e,t){this.version=e,this.transformResults=t}}class Or{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Or}static exists(e){return new Or(void 0,e)}static updateTime(e){return new Or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qd(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Gh{}function F2(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Kh(r.key,Or.none()):new su(r.key,r.data,Or.none());{const t=r.data,n=Gr.empty();let o=new Qt(pr.comparator);for(let l of e.fields)if(!o.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?n.delete(l):n.set(l,u),o=o.add(l)}return new fo(r.key,n,new cn(o.toArray()),Or.none())}}function CA(r,e,t){r instanceof su?(function(o,l,u){const h=o.value.clone(),p=sb(o.fieldTransforms,l,u.transformResults);h.setAll(p),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(r,e,t):r instanceof fo?(function(o,l,u){if(!Qd(o.precondition,l))return void l.convertToUnknownDocument(u.version);const h=sb(o.fieldTransforms,l,u.transformResults),p=l.data;p.setAll(U2(o)),p.setAll(h),l.convertToFoundDocument(u.version,p).setHasCommittedMutations()})(r,e,t):(function(o,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Dc(r,e,t,n){return r instanceof su?(function(l,u,h,p){if(!Qd(l.precondition,u))return h;const m=l.value.clone(),y=ib(l.fieldTransforms,p,u);return m.setAll(y),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(r,e,t,n):r instanceof fo?(function(l,u,h,p){if(!Qd(l.precondition,u))return h;const m=ib(l.fieldTransforms,p,u),y=u.data;return y.setAll(U2(l)),y.setAll(m),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((x=>x.field)))})(r,e,t,n):(function(l,u,h){return Qd(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(r,e,t)}function IA(r,e){let t=null;for(const n of r.fieldTransforms){const o=e.data.field(n.field),l=O2(n.transform,o||null);l!=null&&(t===null&&(t=Gr.empty()),t.set(n.field,l))}return t||null}function nb(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(n,o){return n===void 0&&o===void 0||!(!n||!o)&&dl(n,o,((l,u)=>kA(l,u)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class su extends Gh{constructor(e,t,n,o=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class fo extends Gh{constructor(e,t,n,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function U2(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}})),e}function sb(r,e,t){const n=new Map;ot(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let o=0;o<t.length;o++){const l=r[o],u=l.transform,h=e.data.field(l.field);n.set(l.field,SA(u,h,t[o]))}return n}function ib(r,e,t){const n=new Map;for(const o of r){const l=o.transform,u=t.data.field(o.field);n.set(o.field,jA(l,u,e))}return n}class Kh extends Gh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AA extends Gh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,t,n,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=o}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&CA(l,e,n[o])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Dc(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Dc(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=P2();return this.mutations.forEach((o=>{const l=e.get(o.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=t.has(o.key)?null:h;const p=F2(u,h);p!==null&&n.set(o.key,p),u.isValidDocument()||u.convertToNoDocument(Fe.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Je())}isEqual(e){return this.batchId===e.batchId&&dl(this.mutations,e.mutations,((t,n)=>nb(t,n)))&&dl(this.baseMutations,e.baseMutations,((t,n)=>nb(t,n)))}}class Lg{constructor(e,t,n,o){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=o}static from(e,t,n){ot(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let o=(function(){return wA})();const l=e.mutations;for(let u=0;u<l.length;u++)o=o.insert(l[u].key,n[u].version);return new Lg(e,t,n,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht,et;function MA(r){switch(r){case ae.OK:return Ve(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Ve(15467,{code:r})}}function B2(r){if(r===void 0)return ui("GRPC error has no .code"),ae.UNKNOWN;switch(r){case Ht.OK:return ae.OK;case Ht.CANCELLED:return ae.CANCELLED;case Ht.UNKNOWN:return ae.UNKNOWN;case Ht.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Ht.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Ht.INTERNAL:return ae.INTERNAL;case Ht.UNAVAILABLE:return ae.UNAVAILABLE;case Ht.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Ht.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Ht.NOT_FOUND:return ae.NOT_FOUND;case Ht.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Ht.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Ht.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Ht.ABORTED:return ae.ABORTED;case Ht.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Ht.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Ht.DATA_LOSS:return ae.DATA_LOSS;default:return Ve(39323,{code:r})}}(et=Ht||(Ht={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA=new Ji([4294967295,4294967295],0);function ob(r){const e=OA().encode(r),t=new r2;return t.update(e),new Uint8Array(t.digest())}function ab(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ji([t,n],0),new Ji([o,l],0)]}class Vg{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Sc(`Invalid padding: ${t}`);if(n<0)throw new Sc(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Sc(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Sc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ji.fromNumber(this.ge)}ye(e,t,n){let o=e.add(t.multiply(Ji.fromNumber(n)));return o.compare(LA)===1&&(o=new Ji([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=ob(e),[n,o]=ab(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(n,o,l);if(!this.we(u))return!1}return!0}static create(e,t,n){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Vg(l,o,t);return n.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const t=ob(e),[n,o]=ab(t);for(let l=0;l<this.hashCount;l++){const u=this.ye(n,o,l);this.Se(u)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Sc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,t,n,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const o=new Map;return o.set(e,iu.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Yh(Fe.min(),o,new kt(Xe),di(),Je())}}class iu{constructor(e,t,n,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new iu(n,t,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,t,n,o){this.be=e,this.removedTargetIds=t,this.key=n,this.De=o}}class z2{constructor(e,t){this.targetId=e,this.Ce=t}}class H2{constructor(e,t,n=mr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=o}}class lb{constructor(){this.ve=0,this.Fe=cb(),this.Me=mr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Je(),t=Je(),n=Je();return this.Fe.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:n=n.add(o);break;default:Ve(38017,{changeType:l})}})),new iu(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=cb()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ot(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class VA{constructor(e){this.Ge=e,this.ze=new Map,this.je=di(),this.Je=Cd(),this.He=Cd(),this.Ye=new kt(Xe)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Ve(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((n,o)=>{this.rt(o)&&t(o)}))}st(e){const t=e.targetId,n=e.Ce.count,o=this.ot(t);if(o){const l=o.target;if(Om(l))if(n===0){const u=new Re(l.path);this.et(t,u,jr.newNoDocument(u,Fe.min()))}else ot(n===1,20013,{expectedCount:n});else{const u=this._t(t);if(u!==n){const h=this.ut(e),p=h?this.ct(h,e,u):1;if(p!==0){this.it(t);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:o=0},hashCount:l=0}=t;let u,h;try{u=so(n).toUint8Array()}catch(p){if(p instanceof p2)return ul("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new Vg(u,o,l)}catch(p){return ul(p instanceof Sc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.ge===0?null:h}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let o=0;return n.forEach((l=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(t,l,null),o++)})),o}Tt(e){const t=new Map;this.ze.forEach(((l,u)=>{const h=this.ot(u);if(h){if(l.current&&Om(h.target)){const p=new Re(h.target.path);this.It(p).has(u)||this.Et(u,p)||this.et(u,p,jr.newNoDocument(p,e))}l.Be&&(t.set(u,l.ke()),l.qe())}}));let n=Je();this.He.forEach(((l,u)=>{let h=!0;u.forEachWhile((p=>{const m=this.ot(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(n=n.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(e)));const o=new Yh(e,t,this.Ye,this.je,n);return this.je=di(),this.Je=Cd(),this.He=Cd(),this.Ye=new kt(Xe),o}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new lb,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Qt(Xe),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Qt(Xe),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Ne("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new lb),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Cd(){return new kt(Re.comparator)}function cb(){return new kt(Re.comparator)}const $A={asc:"ASCENDING",desc:"DESCENDING"},FA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UA={and:"AND",or:"OR"};class BA{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function $m(r,e){return r.useProto3Json||Uh(e)?e:{value:e}}function xh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function W2(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function zA(r,e){return xh(r,e.toTimestamp())}function Ss(r){return ot(!!r,49232),Fe.fromTimestamp((function(t){const n=no(t);return new bt(n.seconds,n.nanos)})(r))}function $g(r,e){return Fm(r,e).canonicalString()}function Fm(r,e){const t=(function(o){return new pt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?t:t.child(e)}function q2(r){const e=pt.fromString(r);return ot(X2(e),10190,{key:e.toString()}),e}function Um(r,e){return $g(r.databaseId,e.path)}function tm(r,e){const t=q2(e);if(t.get(1)!==r.databaseId.projectId)throw new we(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new we(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Re(K2(t))}function G2(r,e){return $g(r.databaseId,e)}function HA(r){const e=q2(r);return e.length===4?pt.emptyPath():K2(e)}function Bm(r){return new pt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function K2(r){return ot(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function ub(r,e,t){return{name:Um(r,e),fields:t.value.mapValue.fields}}function WA(r,e){let t;if("targetChange"in e){e.targetChange;const n=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ve(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(m,y){return m.useProto3Json?(ot(y===void 0||typeof y=="string",58123),mr.fromBase64String(y||"")):(ot(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),mr.fromUint8Array(y||new Uint8Array))})(r,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(m){const y=m.code===void 0?ae.UNKNOWN:B2(m.code);return new we(y,m.message||"")})(u);t=new H2(n,o,l,h||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const o=tm(r,n.document.name),l=Ss(n.document.updateTime),u=n.document.createTime?Ss(n.document.createTime):Fe.min(),h=new Gr({mapValue:{fields:n.document.fields}}),p=jr.newFoundDocument(o,l,u,h),m=n.targetIds||[],y=n.removedTargetIds||[];t=new Xd(m,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const o=tm(r,n.document),l=n.readTime?Ss(n.readTime):Fe.min(),u=jr.newNoDocument(o,l),h=n.removedTargetIds||[];t=new Xd([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const o=tm(r,n.document),l=n.removedTargetIds||[];t=new Xd([],l,o,null)}else{if(!("filter"in e))return Ve(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:o=0,unchangedNames:l}=n,u=new DA(o,l),h=n.targetId;t=new z2(h,u)}}return t}function qA(r,e){let t;if(e instanceof su)t={update:ub(r,e.key,e.value)};else if(e instanceof Kh)t={delete:Um(r,e.key)};else if(e instanceof fo)t={update:ub(r,e.key,e.data),updateMask:tR(e.fieldMask)};else{if(!(e instanceof AA))return Ve(16599,{Vt:e.type});t={verify:Um(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((n=>(function(l,u){const h=u.transform;if(h instanceof Bc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof pl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof zc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Hc)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw Ve(20930,{transform:u.transform})})(0,n)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:zA(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ve(27497)})(r,e.precondition)),t}function GA(r,e){return r&&r.length>0?(ot(e!==void 0,14353),r.map((t=>(function(o,l){let u=o.updateTime?Ss(o.updateTime):Ss(l);return u.isEqual(Fe.min())&&(u=Ss(l)),new TA(u,o.transformResults||[])})(t,e)))):[]}function KA(r,e){return{documents:[G2(r,e.path)]}}function YA(r,e){const t={structuredQuery:{}},n=e.path;let o;e.collectionGroup!==null?(o=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=G2(r,o);const l=(function(m){if(m.length!==0)return Q2(Yn.create(m,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const u=(function(m){if(m.length!==0)return m.map((y=>(function(w){return{field:Qa(w.field),direction:JA(w.dir)}})(y)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=$m(r,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:o}}function QA(r){let e=HA(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let o=null;if(n>0){ot(n===1,65062);const y=t.from[0];y.allDescendants?o=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=(function(x){const w=Y2(x);return w instanceof Yn&&E2(w)?w.getFilters():[w]})(t.where));let u=[];t.orderBy&&(u=(function(x){return x.map((w=>(function(P){return new Uc(Xa(P.field),(function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(w)))})(t.orderBy));let h=null;t.limit&&(h=(function(x){let w;return w=typeof x=="object"?x.value:x,Uh(w)?null:w})(t.limit));let p=null;t.startAt&&(p=(function(x){const w=!!x.before,k=x.values||[];return new gh(k,w)})(t.startAt));let m=null;return t.endAt&&(m=(function(x){const w=!x.before,k=x.values||[];return new gh(k,w)})(t.endAt)),gA(e,o,u,l,h,"F",p,m)}function XA(r,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Y2(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Xa(t.unaryFilter.field);return Wt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const o=Xa(t.unaryFilter.field);return Wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Xa(t.unaryFilter.field);return Wt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Xa(t.unaryFilter.field);return Wt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ve(61313);default:return Ve(60726)}})(r):r.fieldFilter!==void 0?(function(t){return Wt.create(Xa(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ve(58110);default:return Ve(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return Yn.create(t.compositeFilter.filters.map((n=>Y2(n))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ve(1026)}})(t.compositeFilter.op))})(r):Ve(30097,{filter:r})}function JA(r){return $A[r]}function ZA(r){return FA[r]}function eR(r){return UA[r]}function Qa(r){return{fieldPath:r.canonicalString()}}function Xa(r){return pr.fromServerFormat(r.fieldPath)}function Q2(r){return r instanceof Wt?(function(t){if(t.op==="=="){if(Xv(t.value))return{unaryFilter:{field:Qa(t.field),op:"IS_NAN"}};if(Qv(t.value))return{unaryFilter:{field:Qa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Xv(t.value))return{unaryFilter:{field:Qa(t.field),op:"IS_NOT_NAN"}};if(Qv(t.value))return{unaryFilter:{field:Qa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qa(t.field),op:ZA(t.op),value:t.value}}})(r):r instanceof Yn?(function(t){const n=t.getFilters().map((o=>Q2(o)));return n.length===1?n[0]:{compositeFilter:{op:eR(t.op),filters:n}}})(r):Ve(54877,{filter:r})}function tR(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function X2(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,t,n,o,l=Fe.min(),u=Fe.min(),h=mr.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new Yi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e){this.yt=e}}function nR(r){const e=QA({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Vm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(){this.Cn=new iR}addToCollectionParentIndex(e,t){return this.Cn.add(t),ce.resolve()}getCollectionParents(e,t){return ce.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ce.resolve()}deleteFieldIndex(e,t){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,t){return ce.resolve()}getDocumentsMatchingTarget(e,t){return ce.resolve(null)}getIndexType(e,t){return ce.resolve(0)}getFieldIndexes(e,t){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,t){return ce.resolve(ro.min())}getMinOffsetFromCollectionGroup(e,t){return ce.resolve(ro.min())}updateCollectionGroup(e,t,n){return ce.resolve()}updateIndexEntries(e,t){return ce.resolve()}}class iR{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),o=this.index[t]||new Qt(pt.comparator),l=!o.has(n);return this.index[t]=o.add(n),l}has(e){const t=e.lastSegment(),n=e.popLast(),o=this.index[t];return o&&o.has(n)}getEntries(e){return(this.index[e]||new Qt(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},J2=41943040;class qr{static withCacheSize(e){return new qr(e,qr.DEFAULT_COLLECTION_PERCENTILE,qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr.DEFAULT_COLLECTION_PERCENTILE=10,qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qr.DEFAULT=new qr(J2,qr.DEFAULT_COLLECTION_PERCENTILE,qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qr.DISABLED=new qr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ml(0)}static cr(){return new ml(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="LruGarbageCollector",oR=1048576;function fb([r,e],[t,n]){const o=Xe(r,t);return o===0?Xe(e,n):o}class aR{constructor(e){this.Ir=e,this.buffer=new Qt(fb),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();fb(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lR{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ne(hb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Nl(t)?Ne(hb,"Ignoring IndexedDB error during garbage collection: ",t):await _l(t)}await this.Vr(3e5)}))}}class cR{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((n=>Math.floor(t/100*n)))}nthSequenceNumber(e,t){if(t===0)return ce.resolve(Fh.ce);const n=new aR(t);return this.mr.forEachTarget(e,(o=>n.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>n.Ar(o))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ne("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(db)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),db):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,o,l,u,h,p,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(Ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,u=Date.now(),this.nthSequenceNumber(e,o)))).next((x=>(n=x,h=Date.now(),this.removeTargets(e,n,t)))).next((x=>(l=x,p=Date.now(),this.removeOrphanedDocuments(e,n)))).next((x=>(m=Date.now(),Ka()<=Qe.DEBUG&&Ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${o} in `+(h-u)+`ms
	Removed ${l} targets in `+(p-h)+`ms
	Removed ${x} documents in `+(m-p)+`ms
Total Duration: ${m-y}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:x}))))}}function uR(r,e){return new cR(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(){this.changes=new la((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,jr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?ce.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,t,n,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=o}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(n=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(n!==null&&Dc(n.mutation,o,cn.empty(),bt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.getLocalViewOfDocuments(e,n,Je()).next((()=>n))))}getLocalViewOfDocuments(e,t,n=Je()){const o=Ho();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,n).next((l=>{let u=jc();return l.forEach(((h,p)=>{u=u.insert(h,p.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const n=Ho();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Je())))}populateOverlays(e,t,n){const o=[];return n.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((u,h)=>{t.set(u,h)}))}))}computeViews(e,t,n,o){let l=di();const u=Pc(),h=(function(){return Pc()})();return t.forEach(((p,m)=>{const y=n.get(m.key);o.has(m.key)&&(y===void 0||y.mutation instanceof fo)?l=l.insert(m.key,m):y!==void 0?(u.set(m.key,y.mutation.getFieldMask()),Dc(y.mutation,m,y.mutation.getFieldMask(),bt.now())):u.set(m.key,cn.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((m,y)=>u.set(m,y))),t.forEach(((m,y)=>h.set(m,new hR(y,u.get(m)??null)))),h)))}recalculateAndSaveOverlays(e,t){const n=Pc();let o=new kt(((u,h)=>u-h)),l=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const h of u)h.keys().forEach((p=>{const m=t.get(p);if(m===null)return;let y=n.get(p)||cn.empty();y=h.applyToLocalView(m,y),n.set(p,y);const x=(o.get(h.batchId)||Je()).add(p);o=o.insert(h.batchId,x)}))})).next((()=>{const u=[],h=o.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),m=p.key,y=p.value,x=P2();y.forEach((w=>{if(!l.has(w)){const k=F2(t.get(w),n.get(w));k!==null&&x.set(w,k),l=l.add(w)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,x))}return ce.waitFor(u)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,t,n,o){return(function(u){return Re.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):T2(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,o):this.getDocumentsMatchingCollectionQuery(e,t,n,o)}getNextDocuments(e,t,n,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,o).next((l=>{const u=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,o-l.size):ce.resolve(Ho());let h=Lc,p=l;return u.next((m=>ce.forEach(m,((y,x)=>(h<x.largestBatchId&&(h=x.largestBatchId),l.get(y)?ce.resolve():this.remoteDocumentCache.getEntry(e,y).next((w=>{p=p.insert(y,w)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,p,m,Je()))).next((y=>({batchId:h,changes:R2(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Re(t)).next((n=>{let o=jc();return n.isFoundDocument()&&(o=o.insert(n.key,n)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,o){const l=t.collectionGroup;let u=jc();return this.indexManager.getCollectionParents(e,l).next((h=>ce.forEach(h,(p=>{const m=(function(x,w){return new El(w,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,n,o).next((y=>{y.forEach(((x,w)=>{u=u.insert(x,w)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,n,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,l,o)))).next((u=>{l.forEach(((p,m)=>{const y=m.getKey();u.get(y)===null&&(u=u.insert(y,jr.newInvalidDocument(y)))}));let h=jc();return u.forEach(((p,m)=>{const y=l.get(p);y!==void 0&&Dc(y.mutation,m,cn.empty(),bt.now()),Wh(t,m)&&(h=h.insert(p,m))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ce.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Ss(o.createTime)}})(t)),ce.resolve()}getNamedQuery(e,t){return ce.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(o){return{name:o.name,query:nR(o.bundledQuery),readTime:Ss(o.readTime)}})(t)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(){this.overlays=new kt(Re.comparator),this.qr=new Map}getOverlay(e,t){return ce.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Ho();return ce.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&n.set(o,l)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((o,l)=>{this.St(e,t,l)})),ce.resolve()}removeOverlaysForBatchId(e,t,n){const o=this.qr.get(n);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(n)),ce.resolve()}getOverlaysForCollection(e,t,n){const o=Ho(),l=t.length+1,u=new Re(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const p=h.getNext().value,m=p.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>n&&o.set(p.getKey(),p)}return ce.resolve(o)}getOverlaysForCollectionGroup(e,t,n,o){let l=new kt(((m,y)=>m-y));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>n){let y=l.get(m.largestBatchId);y===null&&(y=Ho(),l=l.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=Ho(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((m,y)=>h.set(m,y))),!(h.size()>=o)););return ce.resolve(h)}St(e,t,n){const o=this.overlays.get(n.key);if(o!==null){const u=this.qr.get(o.largestBatchId).delete(n.key);this.qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(n.key,new PA(t,n));let l=this.qr.get(t);l===void 0&&(l=Je(),this.qr.set(t,l)),this.qr.set(t,l.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(){this.sessionToken=mr.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(){this.Qr=new Qt(ir.$r),this.Ur=new Qt(ir.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new ir(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach((n=>this.addReference(n,t)))}removeReference(e,t){this.Gr(new ir(e,t))}zr(e,t){e.forEach((n=>this.removeReference(n,t)))}jr(e){const t=new Re(new pt([])),n=new ir(t,e),o=new ir(t,e+1),l=[];return this.Ur.forEachInRange([n,o],(u=>{this.Gr(u),l.push(u.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Re(new pt([])),n=new ir(t,e),o=new ir(t,e+1);let l=Je();return this.Ur.forEachInRange([n,o],(u=>{l=l.add(u.key)})),l}containsKey(e){const t=new ir(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class ir{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Re.comparator(e.key,t.key)||Xe(e.Yr,t.Yr)}static Kr(e,t){return Xe(e.Yr,t.Yr)||Re.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Qt(ir.$r)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,o){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new RA(l,t,n,o);this.mutationQueue.push(u);for(const h of o)this.Zr=this.Zr.add(new ir(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ce.resolve(u)}lookupMutationBatch(e,t){return ce.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,o=this.ei(n),l=o<0?0:o;return ce.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?Ig:this.tr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new ir(t,0),o=new ir(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([n,o],(u=>{const h=this.Xr(u.Yr);l.push(h)})),ce.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Qt(Xe);return t.forEach((o=>{const l=new ir(o,0),u=new ir(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,u],(h=>{n=n.add(h.Yr)}))})),ce.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,o=n.length+1;let l=n;Re.isDocumentKey(l)||(l=l.child(""));const u=new ir(new Re(l),0);let h=new Qt(Xe);return this.Zr.forEachWhile((p=>{const m=p.key.path;return!!n.isPrefixOf(m)&&(m.length===o&&(h=h.add(p.Yr)),!0)}),u),ce.resolve(this.ti(h))}ti(e){const t=[];return e.forEach((n=>{const o=this.Xr(n);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){ot(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return ce.forEach(t.mutations,(o=>{const l=new ir(o.key,t.batchId);return n=n.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,t){const n=new ir(t,0),o=this.Zr.firstAfterOrEqual(n);return ce.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e){this.ri=e,this.docs=(function(){return new kt(Re.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,o=this.docs.get(n),l=o?o.size:0,u=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ce.resolve(n?n.document.mutableCopy():jr.newInvalidDocument(t))}getEntries(e,t){let n=di();return t.forEach((o=>{const l=this.docs.get(o);n=n.insert(o,l?l.document.mutableCopy():jr.newInvalidDocument(o))})),ce.resolve(n)}getDocumentsMatchingQuery(e,t,n,o){let l=di();const u=t.path,h=new Re(u.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:m,value:{document:y}}=p.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||K4(G4(y),n)<=0||(o.has(y.key)||Wh(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ce.resolve(l)}getAllFromCollectionGroup(e,t,n,o){Ve(9500)}ii(e,t){return ce.forEach(this.docs,(n=>t(n)))}newChangeBuffer(e){return new vR(this)}getSize(e){return ce.resolve(this.size)}}class vR extends dR{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(n)})),ce.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e){this.persistence=e,this.si=new la((t=>Pg(t)),Dg),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.oi=0,this._i=new Fg,this.targetCount=0,this.ai=ml.ur()}forEachTarget(e,t){return this.si.forEach(((n,o)=>t(o))),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),ce.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ml(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ce.resolve()}updateTargetData(e,t){return this.Pr(t),ce.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,t,n){let o=0;const l=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=t&&n.get(h.targetId)===null&&(this.si.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)})),ce.waitFor(l).next((()=>o))}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return ce.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),ce.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((u=>{l.push(o.markPotentiallyOrphaned(e,u))})),ce.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ce.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return ce.resolve(n)}containsKey(e,t){return ce.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,t){this.ui={},this.overlays={},this.ci=new Fh(0),this.li=!1,this.li=!0,this.hi=new gR,this.referenceDelegate=e(this),this.Pi=new bR(this),this.indexManager=new sR,this.remoteDocumentCache=(function(o){return new yR(o)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new rR(t),this.Ii=new pR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mR,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new xR(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){Ne("MemoryPersistence","Starting transaction:",e);const o=new wR(this.ci.next());return this.referenceDelegate.Ei(),n(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ai(e,t){return ce.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,t))))}}class wR extends Q4{constructor(e){super(),this.currentSequenceNumber=e}}class Ug{constructor(e){this.persistence=e,this.Ri=new Fg,this.Vi=null}static mi(e){return new Ug(e)}get fi(){if(this.Vi)return this.Vi;throw Ve(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),ce.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),ce.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ce.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((o=>this.fi.add(o.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.fi.add(l.toString())))})).next((()=>n.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.fi,(n=>{const o=Re.fromPath(n);return this.gi(e,o).next((l=>{l||t.removeEntry(o,Fe.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((n=>{n?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return ce.or([()=>ce.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class yh{constructor(e,t){this.persistence=e,this.pi=new la((n=>Z4(n.path)),((n,o)=>n.isEqual(o))),this.garbageCollector=uR(this,t)}static mi(e,t){return new yh(e,t)}Ei(){}di(e){return ce.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>t.next((o=>n+o))))}wr(e){let t=0;return this.pr(e,(n=>{t++})).next((()=>t))}pr(e,t){return ce.forEach(this.pi,((n,o)=>this.br(e,n,o).next((l=>l?ce.resolve():t(o)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ii(e,(u=>this.br(e,u,t).next((h=>{h||(n++,l.removeEntry(u,Fe.min()))})))).next((()=>l.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ce.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),ce.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ce.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Kd(e.data.value)),t}br(e,t,n){return ce.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return ce.resolve(o!==void 0&&o>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,t,n,o){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=o}static As(e,t){let n=Je(),o=Je();for(const l of t.docChanges)switch(l.type){case 0:n=n.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Bg(e,t.fromCache,n,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return eC()?8:X4(kr())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,o){const l={result:null};return this.ys(e,t).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ws(e,t,o,n).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new _R;return this.Ss(e,t,u).next((h=>{if(l.result=h,this.Vs)return this.bs(e,t,u,h.size)}))})).next((()=>l.result))}bs(e,t,n,o){return n.documentReadCount<this.fs?(Ka()<=Qe.DEBUG&&Ne("QueryEngine","SDK will not create cache indexes for query:",Ya(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ce.resolve()):(Ka()<=Qe.DEBUG&&Ne("QueryEngine","Query:",Ya(t),"scans",n.documentReadCount,"local documents and returns",o,"documents as results."),n.documentReadCount>this.gs*o?(Ka()<=Qe.DEBUG&&Ne("QueryEngine","The SDK decides to create cache indexes for query:",Ya(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,js(t))):ce.resolve())}ys(e,t){if(tb(t))return ce.resolve(null);let n=js(t);return this.indexManager.getIndexType(e,n).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Vm(t,null,"F"),n=js(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((l=>{const u=Je(...l);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,n).next((p=>{const m=this.Ds(t,h);return this.Cs(t,m,u,p.readTime)?this.ys(e,Vm(t,null,"F")):this.vs(e,m,t,p)}))))})))))}ws(e,t,n,o){return tb(t)||o.isEqual(Fe.min())?ce.resolve(null):this.ps.getDocuments(e,n).next((l=>{const u=this.Ds(t,l);return this.Cs(t,u,n,o)?ce.resolve(null):(Ka()<=Qe.DEBUG&&Ne("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ya(t)),this.vs(e,u,t,q4(o,Lc)).next((h=>h)))}))}Ds(e,t){let n=new Qt(I2(e));return t.forEach(((o,l)=>{Wh(e,l)&&(n=n.add(l))})),n}Cs(e,t,n,o){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Ss(e,t,n){return Ka()<=Qe.DEBUG&&Ne("QueryEngine","Using full collection scan to execute query:",Ya(t)),this.ps.getDocumentsMatchingQuery(e,t,ro.min(),n)}vs(e,t,n,o){return this.ps.getDocumentsMatchingQuery(e,n,o).next((l=>(t.forEach((u=>{l=l.insert(u.key,u)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg="LocalStore",ER=3e8;class jR{constructor(e,t,n,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new kt(Xe),this.xs=new la((l=>Pg(l)),Dg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function SR(r,e,t,n){return new jR(r,e,t,n)}async function e_(r,e){const t=Be(r);return await t.persistence.runTransaction("Handle user change","readonly",(n=>{let o;return t.mutationQueue.getAllMutationBatches(n).next((l=>(o=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(n)))).next((l=>{const u=[],h=[];let p=Je();for(const m of o){u.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}for(const m of l){h.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}return t.localDocuments.getDocuments(n,p).next((m=>({Ls:m,removedBatchIds:u,addedBatchIds:h})))}))}))}function kR(r,e){const t=Be(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const o=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,p,m,y){const x=m.batch,w=x.keys();let k=ce.resolve();return w.forEach((P=>{k=k.next((()=>y.getEntry(p,P))).next((E=>{const T=m.docVersions.get(P);ot(T!==null,48541),E.version.compareTo(T)<0&&(x.applyToRemoteDocument(E,m),E.isValidDocument()&&(E.setReadTime(m.commitVersion),y.addEntry(E)))}))})),k.next((()=>h.mutationQueue.removeMutationBatch(p,x)))})(t,n,e,l).next((()=>l.apply(n))).next((()=>t.mutationQueue.performConsistencyCheck(n))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(n,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(h){let p=Je();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(p=p.add(h.batch.mutations[m].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(n,o)))}))}function t_(r){const e=Be(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function TR(r,e){const t=Be(r),n=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const h=[];e.targetChanges.forEach(((y,x)=>{const w=o.get(x);if(!w)return;h.push(t.Pi.removeMatchingKeys(l,y.removedDocuments,x).next((()=>t.Pi.addMatchingKeys(l,y.addedDocuments,x))));let k=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(x)!==null?k=k.withResumeToken(mr.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):y.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(y.resumeToken,n)),o=o.insert(x,k),(function(E,T,O){return E.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=ER?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(w,k,y)&&h.push(t.Pi.updateTargetData(l,k))}));let p=di(),m=Je();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))})),h.push(CR(l,u,e.documentUpdates).next((y=>{p=y.ks,m=y.qs}))),!n.isEqual(Fe.min())){const y=t.Pi.getLastRemoteSnapshotVersion(l).next((x=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,n)));h.push(y)}return ce.waitFor(h).next((()=>u.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,m))).next((()=>p))})).then((l=>(t.Ms=o,l)))}function CR(r,e,t){let n=Je(),o=Je();return t.forEach((l=>n=n.add(l))),e.getEntries(r,n).next((l=>{let u=di();return t.forEach(((h,p)=>{const m=l.get(h);p.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(h)),p.isNoDocument()&&p.version.isEqual(Fe.min())?(e.removeEntry(h,p.readTime),u=u.insert(h,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),u=u.insert(h,p)):Ne(zg,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",p.version)})),{ks:u,qs:o}}))}function IR(r,e){const t=Be(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=Ig),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function AR(r,e){const t=Be(r);return t.persistence.runTransaction("Allocate target","readwrite",(n=>{let o;return t.Pi.getTargetData(n,e).next((l=>l?(o=l,ce.resolve(o)):t.Pi.allocateTargetId(n).next((u=>(o=new Yi(e,u,"TargetPurposeListen",n.currentSequenceNumber),t.Pi.addTargetData(n,o).next((()=>o)))))))})).then((n=>{const o=t.Ms.get(n.targetId);return(o===null||n.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(n.targetId,n),t.xs.set(e,n.targetId)),n}))}async function zm(r,e,t){const n=Be(r),o=n.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",l,(u=>n.persistence.referenceDelegate.removeTarget(u,o)))}catch(u){if(!Nl(u))throw u;Ne(zg,`Failed to update sequence numbers for target ${e}: ${u}`)}n.Ms=n.Ms.remove(e),n.xs.delete(o.target)}function pb(r,e,t){const n=Be(r);let o=Fe.min(),l=Je();return n.persistence.runTransaction("Execute query","readwrite",(u=>(function(p,m,y){const x=Be(p),w=x.xs.get(y);return w!==void 0?ce.resolve(x.Ms.get(w)):x.Pi.getTargetData(m,y)})(n,u,js(e)).next((h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(u,h.targetId).next((p=>{l=p}))})).next((()=>n.Fs.getDocumentsMatchingQuery(u,e,t?o:Fe.min(),t?l:Je()))).next((h=>(RR(n,yA(e),h),{documents:h,Qs:l})))))}function RR(r,e,t){let n=r.Os.get(e)||Fe.min();t.forEach(((o,l)=>{l.readTime.compareTo(n)>0&&(n=l.readTime)})),r.Os.set(e,n)}class mb{constructor(){this.activeTargetIds=EA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PR{constructor(){this.Mo=new mb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new mb,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb="ConnectivityMonitor";class xb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ne(gb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ne(gb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Id=null;function Hm(){return Id===null?Id=(function(){return 268435456+Math.round(2147483648*Math.random())})():Id++,"0x"+Id.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="RestConnection",MR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OR{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${o}`,this.Wo=this.databaseId.database===ph?`project_id=${n}`:`project_id=${n}&database_id=${o}`}Go(e,t,n,o,l){const u=Hm(),h=this.zo(e,t.toUriEncodedString());Ne(rm,`Sending RPC '${e}' ${u}:`,h,n);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,l);const{host:m}=new URL(h),y=ia(m);return this.Jo(e,h,p,n,y).then((x=>(Ne(rm,`Received RPC '${e}' ${u}: `,x),x)),(x=>{throw ul(rm,`RPC '${e}' ${u} failed with error: `,x,"url: ",h,"request:",n),x}))}Ho(e,t,n,o,l,u){return this.Go(e,t,n,o,l)}jo(e,t,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+wl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),n&&n.headers.forEach(((o,l)=>e[l]=o))}zo(e,t){const n=MR[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr="WebChannelConnection";class VR extends OR{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,o,l){const u=Hm();return new Promise(((h,p)=>{const m=new n2;m.setWithCredentials(!0),m.listenOnce(s2.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Gd.NO_ERROR:const x=m.getResponseJson();Ne(Nr,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(x)),h(x);break;case Gd.TIMEOUT:Ne(Nr,`RPC '${e}' ${u} timed out`),p(new we(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Gd.HTTP_ERROR:const w=m.getStatus();if(Ne(Nr,`RPC '${e}' ${u} failed with status:`,w,"response text:",m.getResponseText()),w>0){let k=m.getResponseJson();Array.isArray(k)&&(k=k[0]);const P=k?.error;if(P&&P.status&&P.message){const E=(function(O){const B=O.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(B)>=0?B:ae.UNKNOWN})(P.status);p(new we(E,P.message))}else p(new we(ae.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new we(ae.UNAVAILABLE,"Connection failed."));break;default:Ve(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{Ne(Nr,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(o);Ne(Nr,`RPC '${e}' ${u} sending request:`,o),m.send(t,"POST",y,n,15)}))}T_(e,t,n){const o=Hm(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=a2(),h=o2(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,n),p.encodeInitMessageHeaders=!0;const y=l.join("");Ne(Nr,`Creating RPC '${e}' stream ${o}: ${y}`,p);const x=u.createWebChannel(y,p);this.I_(x);let w=!1,k=!1;const P=new LR({Yo:T=>{k?Ne(Nr,`Not sending because RPC '${e}' stream ${o} is closed:`,T):(w||(Ne(Nr,`Opening RPC '${e}' stream ${o} transport.`),x.open(),w=!0),Ne(Nr,`RPC '${e}' stream ${o} sending:`,T),x.send(T))},Zo:()=>x.close()}),E=(T,O,B)=>{T.listen(O,(U=>{try{B(U)}catch(H){setTimeout((()=>{throw H}),0)}}))};return E(x,Ec.EventType.OPEN,(()=>{k||(Ne(Nr,`RPC '${e}' stream ${o} transport opened.`),P.o_())})),E(x,Ec.EventType.CLOSE,(()=>{k||(k=!0,Ne(Nr,`RPC '${e}' stream ${o} transport closed`),P.a_(),this.E_(x))})),E(x,Ec.EventType.ERROR,(T=>{k||(k=!0,ul(Nr,`RPC '${e}' stream ${o} transport errored. Name:`,T.name,"Message:",T.message),P.a_(new we(ae.UNAVAILABLE,"The operation could not be completed")))})),E(x,Ec.EventType.MESSAGE,(T=>{if(!k){const O=T.data[0];ot(!!O,16349);const B=O,U=B?.error||B[0]?.error;if(U){Ne(Nr,`RPC '${e}' stream ${o} received error:`,U);const H=U.status;let W=(function(S){const M=Ht[S];if(M!==void 0)return B2(M)})(H),Z=U.message;W===void 0&&(W=ae.INTERNAL,Z="Unknown error status: "+H+" with message "+U.message),k=!0,P.a_(new we(W,Z)),x.close()}else Ne(Nr,`RPC '${e}' stream ${o} received:`,O),P.u_(O)}})),E(h,i2.STAT_EVENT,(T=>{T.stat===Am.PROXY?Ne(Nr,`RPC '${e}' stream ${o} detected buffering proxy`):T.stat===Am.NOPROXY&&Ne(Nr,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{P.__()}),0),P}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function nm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(r){return new BA(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e,t,n=1e3,o=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=o,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-n);o>0&&Ne("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="PersistentStream";class n_{constructor(e,t,n,o,l,u,h,p){this.Mi=e,this.S_=n,this.b_=o,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new r_(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(ui(t.toString()),ui("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,o])=>{this.D_===t&&this.G_(n,o)}),(n=>{e((()=>{const o=new we(ae.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(o)}))}))}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{n((()=>this.z_(o)))})),this.stream.onMessage((o=>{n((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ne(yb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Ne(yb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $R extends n_{constructor(e,t,n,o,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,o,u),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=WA(this.serializer,e),n=(function(l){if(!("targetChange"in l))return Fe.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Fe.min():u.readTime?Ss(u.readTime):Fe.min()})(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=Bm(this.serializer),t.addTarget=(function(l,u){let h;const p=u.target;if(h=Om(p)?{documents:KA(l,p)}:{query:YA(l,p).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=W2(l,u.resumeToken);const m=$m(l,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(Fe.min())>0){h.readTime=xh(l,u.snapshotVersion.toTimestamp());const m=$m(l,u.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const n=XA(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=Bm(this.serializer),t.removeTarget=e,this.q_(t)}}class FR extends n_{constructor(e,t,n,o,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,o,u),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ot(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ot(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ot(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=GA(e.writeResults,e.commitTime),n=Ss(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Bm(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((n=>qA(this.serializer,n)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{}class BR extends UR{constructor(e,t,n,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new we(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Go(e,Fm(t,n),o,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new we(ae.UNKNOWN,l.toString())}))}Ho(e,t,n,o,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,Fm(t,n),o,u,h,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new we(ae.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class zR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ui(t),this.aa=!1):Ne("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="RemoteStore";class HR{constructor(e,t,n,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((u=>{n.enqueueAndForget((async()=>{ca(this)&&(Ne(ea,"Restarting streams for network reachability change."),await(async function(p){const m=Be(p);m.Ea.add(4),await ou(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Xh(m)})(this))}))})),this.Ra=new zR(n,o)}}async function Xh(r){if(ca(r))for(const e of r.da)await e(!0)}async function ou(r){for(const e of r.da)await e(!1)}function s_(r,e){const t=Be(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Gg(t)?qg(t):jl(t).O_()&&Wg(t,e))}function Hg(r,e){const t=Be(r),n=jl(t);t.Ia.delete(e),n.O_()&&i_(t,e),t.Ia.size===0&&(n.O_()?n.L_():ca(t)&&t.Ra.set("Unknown"))}function Wg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}jl(r).Y_(e)}function i_(r,e){r.Va.Ue(e),jl(r).Z_(e)}function qg(r){r.Va=new VA({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),jl(r).start(),r.Ra.ua()}function Gg(r){return ca(r)&&!jl(r).x_()&&r.Ia.size>0}function ca(r){return Be(r).Ea.size===0}function o_(r){r.Va=void 0}async function WR(r){r.Ra.set("Online")}async function qR(r){r.Ia.forEach(((e,t)=>{Wg(r,e)}))}async function GR(r,e){o_(r),Gg(r)?(r.Ra.ha(e),qg(r)):r.Ra.set("Unknown")}async function KR(r,e,t){if(r.Ra.set("Online"),e instanceof H2&&e.state===2&&e.cause)try{await(async function(o,l){const u=l.cause;for(const h of l.targetIds)o.Ia.has(h)&&(await o.remoteSyncer.rejectListen(h,u),o.Ia.delete(h),o.Va.removeTarget(h))})(r,e)}catch(n){Ne(ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await vh(r,n)}else if(e instanceof Xd?r.Va.Ze(e):e instanceof z2?r.Va.st(e):r.Va.tt(e),!t.isEqual(Fe.min()))try{const n=await t_(r.localStore);t.compareTo(n)>=0&&await(function(l,u){const h=l.Va.Tt(u);return h.targetChanges.forEach(((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const y=l.Ia.get(m);y&&l.Ia.set(m,y.withResumeToken(p.resumeToken,u))}})),h.targetMismatches.forEach(((p,m)=>{const y=l.Ia.get(p);if(!y)return;l.Ia.set(p,y.withResumeToken(mr.EMPTY_BYTE_STRING,y.snapshotVersion)),i_(l,p);const x=new Yi(y.target,p,m,y.sequenceNumber);Wg(l,x)})),l.remoteSyncer.applyRemoteEvent(h)})(r,t)}catch(n){Ne(ea,"Failed to raise snapshot:",n),await vh(r,n)}}async function vh(r,e,t){if(!Nl(e))throw e;r.Ea.add(1),await ou(r),r.Ra.set("Offline"),t||(t=()=>t_(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{Ne(ea,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await Xh(r)}))}function a_(r,e){return e().catch((t=>vh(r,t,e)))}async function Jh(r){const e=Be(r),t=oo(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ig;for(;YR(e);)try{const o=await IR(e.localStore,n);if(o===null){e.Ta.length===0&&t.L_();break}n=o.batchId,QR(e,o)}catch(o){await vh(e,o)}l_(e)&&c_(e)}function YR(r){return ca(r)&&r.Ta.length<10}function QR(r,e){r.Ta.push(e);const t=oo(r);t.O_()&&t.X_&&t.ea(e.mutations)}function l_(r){return ca(r)&&!oo(r).x_()&&r.Ta.length>0}function c_(r){oo(r).start()}async function XR(r){oo(r).ra()}async function JR(r){const e=oo(r);for(const t of r.Ta)e.ea(t.mutations)}async function ZR(r,e,t){const n=r.Ta.shift(),o=Lg.from(n,e,t);await a_(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Jh(r)}async function eP(r,e){e&&oo(r).X_&&await(async function(n,o){if((function(u){return MA(u)&&u!==ae.ABORTED})(o.code)){const l=n.Ta.shift();oo(n).B_(),await a_(n,(()=>n.remoteSyncer.rejectFailedWrite(l.batchId,o))),await Jh(n)}})(r,e),l_(r)&&c_(r)}async function vb(r,e){const t=Be(r);t.asyncQueue.verifyOperationInProgress(),Ne(ea,"RemoteStore received new credentials");const n=ca(t);t.Ea.add(3),await ou(t),n&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Xh(t)}async function tP(r,e){const t=Be(r);e?(t.Ea.delete(2),await Xh(t)):e||(t.Ea.add(2),await ou(t),t.Ra.set("Unknown"))}function jl(r){return r.ma||(r.ma=(function(t,n,o){const l=Be(t);return l.sa(),new $R(n,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Xo:WR.bind(null,r),t_:qR.bind(null,r),r_:GR.bind(null,r),H_:KR.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Gg(r)?qg(r):r.Ra.set("Unknown")):(await r.ma.stop(),o_(r))}))),r.ma}function oo(r){return r.fa||(r.fa=(function(t,n,o){const l=Be(t);return l.sa(),new FR(n,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:XR.bind(null,r),r_:eP.bind(null,r),ta:JR.bind(null,r),na:ZR.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Jh(r)):(await r.fa.stop(),r.Ta.length>0&&(Ne(ea,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,t,n,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=o,this.removalCallback=l,this.deferred=new ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,o,l){const u=Date.now()+n,h=new Kg(e,t,u,o,l);return h.start(n),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yg(r,e){if(ui("AsyncQueue",`${e}: ${r}`),Nl(r))return new we(ae.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{static emptySet(e){return new nl(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Re.comparator(t.key,n.key):(t,n)=>Re.comparator(t.key,n.key),this.keyedMap=jc(),this.sortedSet=new kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof nl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=n.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new nl;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(){this.ga=new kt(Re.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ve(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,n)=>{e.push(n)})),e}}class gl{constructor(e,t,n,o,l,u,h,p,m){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=o,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,t,n,o,l){const u=[];return t.forEach((h=>{u.push({type:0,doc:h})})),new gl(e,t,nl.emptySet(t),u,n,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==n[o].type||!t[o].doc.isEqual(n[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class nP{constructor(){this.queries=wb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,n){const o=Be(t),l=o.queries;o.queries=wb(),l.forEach(((u,h)=>{for(const p of h.Sa)p.onError(n)}))})(this,new we(ae.ABORTED,"Firestore shutting down"))}}function wb(){return new la((r=>C2(r)),Hh)}async function Qg(r,e){const t=Be(r);let n=3;const o=e.query;let l=t.queries.get(o);l?!l.ba()&&e.Da()&&(n=2):(l=new rP,n=e.Da()?0:1);try{switch(n){case 0:l.wa=await t.onListen(o,!0);break;case 1:l.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const h=Yg(u,`Initialization of query '${Ya(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Jg(t)}async function Xg(r,e){const t=Be(r),n=e.query;let o=3;const l=t.queries.get(n);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?o=e.Da()?0:1:!l.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function sP(r,e){const t=Be(r);let n=!1;for(const o of e){const l=o.query,u=t.queries.get(l);if(u){for(const h of u.Sa)h.Fa(o)&&(n=!0);u.wa=o}}n&&Jg(t)}function iP(r,e,t){const n=Be(r),o=n.queries.get(e);if(o)for(const l of o.Sa)l.onError(t);n.queries.delete(e)}function Jg(r){r.Ca.forEach((e=>{e.next()}))}var Wm,_b;(_b=Wm||(Wm={})).Ma="default",_b.Cache="cache";class Zg{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const o of e.docChanges)o.type!==3&&n.push(o);e=new gl(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const n=t!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=gl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Wm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e){this.key=e}}class d_{constructor(e){this.key=e}}class oP{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Je(),this.mutatedKeys=Je(),this.eu=I2(e),this.tu=new nl(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new bb,o=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,u=o,h=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((y,x)=>{const w=o.get(y),k=Wh(this.query,x)?x:null,P=!!w&&this.mutatedKeys.has(w.key),E=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let T=!1;w&&k?w.data.isEqual(k.data)?P!==E&&(n.track({type:3,doc:k}),T=!0):this.su(w,k)||(n.track({type:2,doc:k}),T=!0,(p&&this.eu(k,p)>0||m&&this.eu(k,m)<0)&&(h=!0)):!w&&k?(n.track({type:0,doc:k}),T=!0):w&&!k&&(n.track({type:1,doc:w}),T=!0,(p||m)&&(h=!0)),T&&(k?(u=u.add(k),l=E?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),n.track({type:1,doc:y})}return{tu:u,iu:n,Cs:h,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,o){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,x)=>(function(k,P){const E=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve(20277,{Rt:T})}};return E(k)-E(P)})(y.type,x.type)||this.eu(y.doc,x.doc))),this.ou(n),o=o??!1;const h=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,m=p!==this.Za;return this.Za=p,u.length!==0||m?{snapshot:new gl(this.query,e.tu,l,u,e.mutatedKeys,p===0,m,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Je(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const t=[];return e.forEach((n=>{this.Xa.has(n)||t.push(new d_(n))})),this.Xa.forEach((n=>{e.has(n)||t.push(new u_(n))})),t}cu(e){this.Ya=e.Qs,this.Xa=Je();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return gl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ex="SyncEngine";class aP{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class lP{constructor(e){this.key=e,this.hu=!1}}class cP{constructor(e,t,n,o,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new la((h=>C2(h)),Hh),this.Iu=new Map,this.Eu=new Set,this.du=new kt(Re.comparator),this.Au=new Map,this.Ru=new Fg,this.Vu={},this.mu=new Map,this.fu=ml.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uP(r,e,t=!0){const n=x_(r);let o;const l=n.Tu.get(e);return l?(n.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.lu()):o=await h_(n,e,t,!0),o}async function dP(r,e){const t=x_(r);await h_(t,e,!0,!1)}async function h_(r,e,t,n){const o=await AR(r.localStore,js(e)),l=o.targetId,u=r.sharedClientState.addLocalQueryTarget(l,t);let h;return n&&(h=await hP(r,e,l,u==="current",o.resumeToken)),r.isPrimaryClient&&t&&s_(r.remoteStore,o),h}async function hP(r,e,t,n,o){r.pu=(x,w,k)=>(async function(E,T,O,B){let U=T.view.ru(O);U.Cs&&(U=await pb(E.localStore,T.query,!1).then((({documents:R})=>T.view.ru(R,U))));const H=B&&B.targetChanges.get(T.targetId),W=B&&B.targetMismatches.get(T.targetId)!=null,Z=T.view.applyChanges(U,E.isPrimaryClient,H,W);return Eb(E,T.targetId,Z.au),Z.snapshot})(r,x,w,k);const l=await pb(r.localStore,e,!0),u=new oP(e,l.Qs),h=u.ru(l.documents),p=iu.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",o),m=u.applyChanges(h,r.isPrimaryClient,p);Eb(r,t,m.au);const y=new aP(e,t,u);return r.Tu.set(e,y),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),m.snapshot}async function fP(r,e,t){const n=Be(r),o=n.Tu.get(e),l=n.Iu.get(o.targetId);if(l.length>1)return n.Iu.set(o.targetId,l.filter((u=>!Hh(u,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||await zm(n.localStore,o.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(o.targetId),t&&Hg(n.remoteStore,o.targetId),qm(n,o.targetId)})).catch(_l)):(qm(n,o.targetId),await zm(n.localStore,o.targetId,!0))}async function pP(r,e){const t=Be(r),n=t.Tu.get(e),o=t.Iu.get(n.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),Hg(t.remoteStore,n.targetId))}async function mP(r,e,t){const n=_P(r);try{const o=await(function(u,h){const p=Be(u),m=bt.now(),y=h.reduce(((k,P)=>k.add(P.key)),Je());let x,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let P=di(),E=Je();return p.Ns.getEntries(k,y).next((T=>{P=T,P.forEach(((O,B)=>{B.isValidDocument()||(E=E.add(O))}))})).next((()=>p.localDocuments.getOverlayedDocuments(k,P))).next((T=>{x=T;const O=[];for(const B of h){const U=IA(B,x.get(B.key).overlayedDocument);U!=null&&O.push(new fo(B.key,U,w2(U.value.mapValue),Or.exists(!0)))}return p.mutationQueue.addMutationBatch(k,m,O,h)})).next((T=>{w=T;const O=T.applyToLocalDocumentSet(x,E);return p.documentOverlayCache.saveOverlays(k,T.batchId,O)}))})).then((()=>({batchId:w.batchId,changes:R2(x)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(o.batchId),(function(u,h,p){let m=u.Vu[u.currentUser.toKey()];m||(m=new kt(Xe)),m=m.insert(h,p),u.Vu[u.currentUser.toKey()]=m})(n,o.batchId,t),await au(n,o.changes),await Jh(n.remoteStore)}catch(o){const l=Yg(o,"Failed to persist write");t.reject(l)}}async function f_(r,e){const t=Be(r);try{const n=await TR(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const u=t.Au.get(l);u&&(ot(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u.hu=!0:o.modifiedDocuments.size>0?ot(u.hu,14607):o.removedDocuments.size>0&&(ot(u.hu,42227),u.hu=!1))})),await au(t,n,e)}catch(n){await _l(n)}}function Nb(r,e,t){const n=Be(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const o=[];n.Tu.forEach(((l,u)=>{const h=u.view.va(e);h.snapshot&&o.push(h.snapshot)})),(function(u,h){const p=Be(u);p.onlineState=h;let m=!1;p.queries.forEach(((y,x)=>{for(const w of x.Sa)w.va(h)&&(m=!0)})),m&&Jg(p)})(n.eventManager,e),o.length&&n.Pu.H_(o),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function gP(r,e,t){const n=Be(r);n.sharedClientState.updateQueryState(e,"rejected",t);const o=n.Au.get(e),l=o&&o.key;if(l){let u=new kt(Re.comparator);u=u.insert(l,jr.newNoDocument(l,Fe.min()));const h=Je().add(l),p=new Yh(Fe.min(),new Map,new kt(Xe),u,h);await f_(n,p),n.du=n.du.remove(l),n.Au.delete(e),tx(n)}else await zm(n.localStore,e,!1).then((()=>qm(n,e,t))).catch(_l)}async function xP(r,e){const t=Be(r),n=e.batch.batchId;try{const o=await kR(t.localStore,e);m_(t,n,null),p_(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await au(t,o)}catch(o){await _l(o)}}async function yP(r,e,t){const n=Be(r);try{const o=await(function(u,h){const p=Be(u);return p.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return p.mutationQueue.lookupMutationBatch(m,h).next((x=>(ot(x!==null,37113),y=x.keys(),p.mutationQueue.removeMutationBatch(m,x)))).next((()=>p.mutationQueue.performConsistencyCheck(m))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(m,y,h))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>p.localDocuments.getDocuments(m,y)))}))})(n.localStore,e);m_(n,e,t),p_(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await au(n,o)}catch(o){await _l(o)}}function p_(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function m_(r,e,t){const n=Be(r);let o=n.Vu[n.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),n.Vu[n.currentUser.toKey()]=o}}function qm(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Iu.get(e))r.Tu.delete(n),t&&r.Pu.yu(n,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((n=>{r.Ru.containsKey(n)||g_(r,n)}))}function g_(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(Hg(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),tx(r))}function Eb(r,e,t){for(const n of t)n instanceof u_?(r.Ru.addReference(n.key,e),vP(r,n)):n instanceof d_?(Ne(ex,"Document no longer in limbo: "+n.key),r.Ru.removeReference(n.key,e),r.Ru.containsKey(n.key)||g_(r,n.key)):Ve(19791,{wu:n})}function vP(r,e){const t=e.key,n=t.path.canonicalString();r.du.get(t)||r.Eu.has(n)||(Ne(ex,"New document in limbo: "+t),r.Eu.add(n),tx(r))}function tx(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new Re(pt.fromString(e)),n=r.fu.next();r.Au.set(n,new lP(t)),r.du=r.du.insert(t,n),s_(r.remoteStore,new Yi(js(zh(t.path)),n,"TargetPurposeLimboResolution",Fh.ce))}}async function au(r,e,t){const n=Be(r),o=[],l=[],u=[];n.Tu.isEmpty()||(n.Tu.forEach(((h,p)=>{u.push(n.pu(p,e,t).then((m=>{if((m||t)&&n.isPrimaryClient){const y=m?!m.fromCache:t?.targetChanges.get(p.targetId)?.current;n.sharedClientState.updateQueryState(p.targetId,y?"current":"not-current")}if(m){o.push(m);const y=Bg.As(p.targetId,m);l.push(y)}})))})),await Promise.all(u),n.Pu.H_(o),await(async function(p,m){const y=Be(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>ce.forEach(m,(w=>ce.forEach(w.Es,(k=>y.persistence.referenceDelegate.addReference(x,w.targetId,k))).next((()=>ce.forEach(w.ds,(k=>y.persistence.referenceDelegate.removeReference(x,w.targetId,k)))))))))}catch(x){if(!Nl(x))throw x;Ne(zg,"Failed to update sequence numbers: "+x)}for(const x of m){const w=x.targetId;if(!x.fromCache){const k=y.Ms.get(w),P=k.snapshotVersion,E=k.withLastLimboFreeSnapshotVersion(P);y.Ms=y.Ms.insert(w,E)}}})(n.localStore,l))}async function bP(r,e){const t=Be(r);if(!t.currentUser.isEqual(e)){Ne(ex,"User change. New user:",e.toKey());const n=await e_(t.localStore,e);t.currentUser=e,(function(l,u){l.mu.forEach((h=>{h.forEach((p=>{p.reject(new we(ae.CANCELLED,u))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await au(t,n.Ls)}}function wP(r,e){const t=Be(r),n=t.Au.get(e);if(n&&n.hu)return Je().add(n.key);{let o=Je();const l=t.Iu.get(e);if(!l)return o;for(const u of l){const h=t.Tu.get(u);o=o.unionWith(h.view.nu)}return o}}function x_(r){const e=Be(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=f_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gP.bind(null,e),e.Pu.H_=sP.bind(null,e.eventManager),e.Pu.yu=iP.bind(null,e.eventManager),e}function _P(r){const e=Be(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yP.bind(null,e),e}class bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return SR(this.persistence,new NR,e.initialUser,this.serializer)}Cu(e){return new Z2(Ug.mi,this.serializer)}Du(e){return new PR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bh.provider={build:()=>new bh};class NP extends bh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ot(this.persistence.referenceDelegate instanceof yh,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new lR(n,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?qr.withCacheSize(this.cacheSizeBytes):qr.DEFAULT;return new Z2((n=>yh.mi(n,t)),this.serializer)}}class Gm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>Nb(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=bP.bind(null,this.syncEngine),await tP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new nP})()}createDatastore(e){const t=Qh(e.databaseInfo.databaseId),n=(function(l){return new VR(l)})(e.databaseInfo);return(function(l,u,h,p){return new BR(l,u,h,p)})(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return(function(n,o,l,u,h){return new HR(n,o,l,u,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>Nb(this.syncEngine,t,0)),(function(){return xb.v()?new xb:new DR})())}createSyncEngine(e,t){return(function(o,l,u,h,p,m,y){const x=new cP(o,l,u,h,p,m);return y&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const n=Be(t);Ne(ea,"RemoteStore shutting down."),n.Ea.add(5),await ou(n),n.Aa.shutdown(),n.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Gm.provider={build:()=>new Gm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ui("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao="FirestoreClient";class EP{constructor(e,t,n,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=o,this.user=Er.UNAUTHENTICATED,this.clientId=Cg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(n,(async u=>{Ne(ao,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(n,(u=>(Ne(ao,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Yg(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function sm(r,e){r.asyncQueue.verifyOperationInProgress(),Ne(ao,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener((async o=>{n.isEqual(o)||(await e_(e.localStore,o),n=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function jb(r,e){r.asyncQueue.verifyOperationInProgress();const t=await jP(r);Ne(ao,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((n=>vb(e.remoteStore,n))),r.setAppCheckTokenChangeListener(((n,o)=>vb(e.remoteStore,o))),r._onlineComponents=e}async function jP(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Ne(ao,"Using user provided OfflineComponentProvider");try{await sm(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ae.FAILED_PRECONDITION||o.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;ul("Error using user provided cache. Falling back to memory cache: "+t),await sm(r,new bh)}}else Ne(ao,"Using default OfflineComponentProvider"),await sm(r,new NP(void 0));return r._offlineComponents}async function y_(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Ne(ao,"Using user provided OnlineComponentProvider"),await jb(r,r._uninitializedComponentsProvider._online)):(Ne(ao,"Using default OnlineComponentProvider"),await jb(r,new Gm))),r._onlineComponents}function SP(r){return y_(r).then((e=>e.syncEngine))}async function wh(r){const e=await y_(r),t=e.eventManager;return t.onListen=uP.bind(null,e.syncEngine),t.onUnlisten=fP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=dP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=pP.bind(null,e.syncEngine),t}function kP(r,e,t={}){const n=new ii;return r.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,p,m){const y=new rx({next:w=>{y.Nu(),u.enqueueAndForget((()=>Xg(l,x)));const k=w.docs.has(h);!k&&w.fromCache?m.reject(new we(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&w.fromCache&&p&&p.source==="server"?m.reject(new we(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(w)},error:w=>m.reject(w)}),x=new Zg(zh(h.path),y,{includeMetadataChanges:!0,qa:!0});return Qg(l,x)})(await wh(r),r.asyncQueue,e,t,n))),n.promise}function TP(r,e,t={}){const n=new ii;return r.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,p,m){const y=new rx({next:w=>{y.Nu(),u.enqueueAndForget((()=>Xg(l,x))),w.fromCache&&p.source==="server"?m.reject(new we(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(w)},error:w=>m.reject(w)}),x=new Zg(h,y,{includeMetadataChanges:!0,qa:!0});return Qg(l,x)})(await wh(r),r.asyncQueue,e,t,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="firestore.googleapis.com",kb=!0;class Tb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new we(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=b_,this.ssl=kb}else this.host=e.host,this.ssl=e.ssl??kb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=J2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<oR)throw new we(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}W4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=v_(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new we(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new we(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new we(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,o){return n.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zh{constructor(e,t,n,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new M4;switch(n.type){case"firstParty":return new $4(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new we(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const n=Sb.get(t);n&&(Ne("ComponentProvider","Removing Datastore"),Sb.delete(t),n.terminate())})(this),Promise.resolve()}}function CP(r,e,t,n={}){r=Mr(r,Zh);const o=ia(e),l=r._getSettings(),u={...l,emulatorOptions:r._getEmulatorOptions()},h=`${e}:${t}`;o&&(mg(`https://${h}`),gg("Firestore",!0)),l.host!==b_&&l.host!==h&&ul("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:h,ssl:o,emulatorOptions:n};if(!eo(p,u)&&(r._setSettings(p),n.mockUserToken)){let m,y;if(typeof n.mockUserToken=="string")m=n.mockUserToken,y=Er.MOCK_USER;else{m=g1(n.mockUserToken,r._app?.options.projectId);const x=n.mockUserToken.sub||n.mockUserToken.user_id;if(!x)throw new we(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Er(x)}r._authCredentials=new O4(new c2(m,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new po(this.firestore,e,this._query)}}class Rt{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}toJSON(){return{type:Rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(nu(t,Rt._jsonSchema))return new Rt(e,n||null,new Re(pt.fromString(t.referencePath)))}}Rt._jsonSchemaVersion="firestore/documentReference/1.0",Rt._jsonSchema={type:qt("string",Rt._jsonSchemaVersion),referencePath:qt("string")};class Zi extends po{constructor(e,t,n){super(e,t,zh(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new Re(e))}withConverter(e){return new Zi(this.firestore,e,this._path)}}function Sn(r,e,...t){if(r=Vt(r),u2("collection","path",e),r instanceof Zh){const n=pt.fromString(e,...t);return Uv(n),new Zi(r,null,n)}{if(!(r instanceof Rt||r instanceof Zi))throw new we(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(pt.fromString(e,...t));return Uv(n),new Zi(r.firestore,null,n)}}function Nt(r,e,...t){if(r=Vt(r),arguments.length===1&&(e=Cg.newId()),u2("doc","path",e),r instanceof Zh){const n=pt.fromString(e,...t);return Fv(n),new Rt(r,null,new Re(n))}{if(!(r instanceof Rt||r instanceof Zi))throw new we(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(pt.fromString(e,...t));return Fv(n),new Rt(r.firestore,r instanceof Zi?r.converter:null,new Re(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="AsyncQueue";class Ib{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new r_(this,"async_queue_retry"),this._c=()=>{const n=nm();n&&Ne(Cb,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const t=nm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=nm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ii;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Nl(e))throw e;Ne(Cb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,ui("INTERNAL UNHANDLED ERROR: ",Ab(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=Kg.createAndSchedule(this,e,t,n,(l=>this.hc(l)));return this.tc.push(o),o}uc(){this.nc&&Ve(47125,{Pc:Ab(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,n)=>t.targetTimeMs-n.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Ab(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(r){return(function(t,n){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of n)if(l in o&&typeof o[l]=="function")return!0;return!1})(r,["next","error","complete"])}class As extends Zh{constructor(e,t,n,o){super(e,t,n,o),this.type="firestore",this._queue=new Ib,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ib(e),this._firestoreClient=void 0,await e}}}function IP(r,e){const t=typeof r=="object"?r:vg(),n=typeof r=="string"?r:ph,o=Mh(t,"firestore").getImmediate({identifier:n});if(!o._initialized){const l=f1("firestore");l&&CP(o,...l)}return o}function lu(r){if(r._terminated)throw new we(ae.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||AP(r),r._firestoreClient}function AP(r){const e=r._freezeSettings(),t=(function(o,l,u,h){return new rA(o,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,v_(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new EP(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this._byteString=e}static fromBase64String(e){try{return new En(mr.fromBase64String(e))}catch(t){throw new we(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new En(mr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:En._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(nu(e,En._jsonSchema))return En.fromBase64String(e.bytes)}}En._jsonSchemaVersion="firestore/bytes/1.0",En._jsonSchema={type:qt("string",En._jsonSchemaVersion),bytes:qt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new we(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new we(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new we(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Xe(this._lat,e._lat)||Xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ks._jsonSchemaVersion}}static fromJSON(e){if(nu(e,ks._jsonSchema))return new ks(e.latitude,e.longitude)}}ks._jsonSchemaVersion="firestore/geoPoint/1.0",ks._jsonSchema={type:qt("string",ks._jsonSchemaVersion),latitude:qt("number"),longitude:qt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,o){if(n.length!==o.length)return!1;for(let l=0;l<n.length;++l)if(n[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ts._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(nu(e,Ts._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Ts(e.vectorValues);throw new we(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ts._jsonSchemaVersion="firestore/vectorValue/1.0",Ts._jsonSchema={type:qt("string",Ts._jsonSchemaVersion),vectorValues:qt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=/^__.*__$/;class PP{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new fo(e,this.data,this.fieldMask,t,this.fieldTransforms):new su(e,this.data,t,this.fieldTransforms)}}class w_{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new fo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function __(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve(40011,{Ac:r})}}class ef{constructor(e,t,n,o,l,u){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=o,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ef({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){const t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return _h(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(__(this.Ac)&&RP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class DP{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Qh(e)}Cc(e,t,n,o=!1){return new ef({Ac:e,methodName:t,Dc:n,path:pr.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uu(r){const e=r._freezeSettings(),t=Qh(r._databaseId);return new DP(r._databaseId,!!e.ignoreUndefinedProperties,t)}function nx(r,e,t,n,o,l={}){const u=r.Cc(l.merge||l.mergeFields?2:0,e,t,o);ax("Data must be an object, but it was:",u,n);const h=j_(n,u);let p,m;if(l.merge)p=new cn(u.fieldMask),m=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const x of l.mergeFields){const w=Km(e,x,t);if(!u.contains(w))throw new we(ae.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);k_(y,w)||y.push(w)}p=new cn(y),m=u.fieldTransforms.filter((x=>p.covers(x.field)))}else p=null,m=u.fieldTransforms;return new PP(new Gr(h),p,m)}class tf extends Sl{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tf}}function MP(r,e,t){return new ef({Ac:3,Dc:e.settings.Dc,methodName:r._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class sx extends Sl{_toFieldTransform(e){return new Og(e.path,new Bc)}isEqual(e){return e instanceof sx}}class ix extends Sl{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=MP(this,e,!0),n=this.vc.map((l=>kl(l,t))),o=new pl(n);return new Og(e.path,o)}isEqual(e){return e instanceof ix&&eo(this.vc,e.vc)}}class ox extends Sl{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new Hc(e.serializer,M2(e.serializer,this.Fc));return new Og(e.path,t)}isEqual(e){return e instanceof ox&&this.Fc===e.Fc}}function N_(r,e,t,n){const o=r.Cc(1,e,t);ax("Data must be an object, but it was:",o,n);const l=[],u=Gr.empty();ho(n,((p,m)=>{const y=lx(e,p,t);m=Vt(m);const x=o.yc(y);if(m instanceof tf)l.push(y);else{const w=kl(m,x);w!=null&&(l.push(y),u.set(y,w))}}));const h=new cn(l);return new w_(u,h,o.fieldTransforms)}function E_(r,e,t,n,o,l){const u=r.Cc(1,e,t),h=[Km(e,n,t)],p=[o];if(l.length%2!=0)throw new we(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)h.push(Km(e,l[w])),p.push(l[w+1]);const m=[],y=Gr.empty();for(let w=h.length-1;w>=0;--w)if(!k_(m,h[w])){const k=h[w];let P=p[w];P=Vt(P);const E=u.yc(k);if(P instanceof tf)m.push(k);else{const T=kl(P,E);T!=null&&(m.push(k),y.set(k,T))}}const x=new cn(m);return new w_(y,x,u.fieldTransforms)}function OP(r,e,t,n=!1){return kl(t,r.Cc(n?4:3,e))}function kl(r,e){if(S_(r=Vt(r)))return ax("Unsupported field value:",e,r),j_(r,e);if(r instanceof Sl)return(function(n,o){if(!__(o.Ac))throw o.Sc(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${n._methodName}() is not currently supported inside arrays`);const l=n._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,o){const l=[];let u=0;for(const h of n){let p=kl(h,o.wc(u));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),u++}return{arrayValue:{values:l}}})(r,e)}return(function(n,o){if((n=Vt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return M2(o.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const l=bt.fromDate(n);return{timestampValue:xh(o.serializer,l)}}if(n instanceof bt){const l=new bt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:xh(o.serializer,l)}}if(n instanceof ks)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof En)return{bytesValue:W2(o.serializer,n._byteString)};if(n instanceof Rt){const l=o.databaseId,u=n.firestore._databaseId;if(!u.isEqual(l))throw o.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:$g(n.firestore._databaseId||o.databaseId,n._key.path)}}if(n instanceof Ts)return(function(u,h){return{mapValue:{fields:{[v2]:{stringValue:b2},[mh]:{arrayValue:{values:u.toArray().map((m=>{if(typeof m!="number")throw h.Sc("VectorValues must only contain numeric values.");return Mg(h.serializer,m)}))}}}}}})(n,o);throw o.Sc(`Unsupported field value: ${$h(n)}`)})(r,e)}function j_(r,e){const t={};return f2(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ho(r,((n,o)=>{const l=kl(o,e.mc(n));l!=null&&(t[n]=l)})),{mapValue:{fields:t}}}function S_(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof bt||r instanceof ks||r instanceof En||r instanceof Rt||r instanceof Sl||r instanceof Ts)}function ax(r,e,t){if(!S_(t)||!d2(t)){const n=$h(t);throw n==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+n)}}function Km(r,e,t){if((e=Vt(e))instanceof cu)return e._internalPath;if(typeof e=="string")return lx(r,e);throw _h("Field path arguments must be of type string or ",r,!1,void 0,t)}const LP=new RegExp("[~\\*/\\[\\]]");function lx(r,e,t){if(e.search(LP)>=0)throw _h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new cu(...e.split("."))._internalPath}catch{throw _h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function _h(r,e,t,n,o){const l=n&&!n.isEmpty(),u=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(l||u)&&(p+=" (found",l&&(p+=` in field ${n}`),u&&(p+=` in document ${o}`),p+=")"),new we(ae.INVALID_ARGUMENT,h+r+p)}function k_(r,e){return r.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(e,t,n,o,l){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(rf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class VP extends T_{data(){return super.data()}}function rf(r,e){return typeof e=="string"?lx(r,e):e instanceof cu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new we(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cx{}class I_ extends cx{}function qo(r,e,...t){let n=[];e instanceof cx&&n.push(e),n=n.concat(t),(function(l){const u=l.filter((p=>p instanceof ux)).length,h=l.filter((p=>p instanceof nf)).length;if(u>1||u>0&&h>0)throw new we(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const o of n)r=o._apply(r);return r}class nf extends I_{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new nf(e,t,n)}_apply(e){const t=this._parse(e);return A_(e._query,t),new po(e.firestore,e.converter,Lm(e._query,t))}_parse(e){const t=uu(e.firestore);return(function(l,u,h,p,m,y,x){let w;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new we(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Db(x,y);const P=[];for(const E of x)P.push(Pb(p,l,E));w={arrayValue:{values:P}}}else w=Pb(p,l,x)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Db(x,y),w=OP(h,u,x,y==="in"||y==="not-in");return Wt.create(m,y,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Ki(r,e,t){const n=e,o=rf("where",r);return nf._create(o,n,t)}class ux extends cx{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ux(e,t)}_parse(e){const t=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return t.length===1?t[0]:Yn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,l){let u=o;const h=l.getFlattenedFilters();for(const p of h)A_(u,p),u=Lm(u,p)})(e._query,t),new po(e.firestore,e.converter,Lm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class dx extends I_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new dx(e,t)}_apply(e){const t=(function(o,l,u){if(o.startAt!==null)throw new we(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new we(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Uc(l,u)})(e._query,this._field,this._direction);return new po(e.firestore,e.converter,(function(o,l){const u=o.explicitOrderBy.concat([l]);return new El(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function $P(r,e="asc"){const t=e,n=rf("orderBy",r);return dx._create(n,t)}function Pb(r,e,t){if(typeof(t=Vt(t))=="string"){if(t==="")throw new we(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!T2(e)&&t.indexOf("/")!==-1)throw new we(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(pt.fromString(t));if(!Re.isDocumentKey(n))throw new we(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Yv(r,new Re(n))}if(t instanceof Rt)return Yv(r,t._key);throw new we(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$h(t)}.`)}function Db(r,e){if(!Array.isArray(r)||r.length===0)throw new we(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function A_(r,e){const t=(function(o,l){for(const u of o)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new we(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class FP{convertValue(e,t="none"){switch(io(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(so(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return ho(e,((o,l)=>{n[o]=this.convertValue(l,t)})),n}convertVectorValue(e){const t=e.fields?.[mh].arrayValue?.values?.map((n=>Ot(n.doubleValue)));return new Ts(t)}convertGeoPoint(e){return new ks(Ot(e.latitude),Ot(e.longitude))}convertArray(e,t){return(e.values||[]).map((n=>this.convertValue(n,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Bh(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Vc(e));default:return null}}convertTimestamp(e){const t=no(e);return new bt(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=pt.fromString(e);ot(X2(n),9688,{name:e});const o=new $c(n.get(1),n.get(3)),l=new Re(n.popFirst(5));return o.isEqual(t)||ui(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(r,e,t){let n;return n=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,n}class kc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Go extends T_{constructor(e,t,n,o,l,u){super(e,t,n,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Jd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(rf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new we(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Go._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Go._jsonSchemaVersion="firestore/documentSnapshot/1.0",Go._jsonSchema={type:qt("string",Go._jsonSchemaVersion),bundleSource:qt("string","DocumentSnapshot"),bundleName:qt("string"),bundle:qt("string")};class Jd extends Go{data(e={}){return super.data(e)}}class Ko{constructor(e,t,n,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new kc(o.hasPendingWrites,o.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Jd(this._firestore,this._userDataWriter,n.key,n,new kc(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new we(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map((h=>{const p=new Jd(o._firestore,o._userDataWriter,h.doc.key,h.doc,new kc(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:u++}}))}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const p=new Jd(o._firestore,o._userDataWriter,h.doc.key,h.doc,new kc(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,y=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:UP(h.type),doc:p,oldIndex:m,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new we(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ko._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),n.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function UP(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(r){r=Mr(r,Rt);const e=Mr(r.firestore,As);return kP(lu(e),r._key).then((t=>P_(e,r,t)))}Ko._jsonSchemaVersion="firestore/querySnapshot/1.0",Ko._jsonSchema={type:qt("string",Ko._jsonSchemaVersion),bundleSource:qt("string","QuerySnapshot"),bundleName:qt("string"),bundle:qt("string")};class fx extends FP{constructor(e){super(),this.firestore=e}convertBytes(e){return new En(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,t)}}function sl(r){r=Mr(r,po);const e=Mr(r.firestore,As),t=lu(e),n=new fx(e);return C_(r._query),TP(t,r._query).then((o=>new Ko(e,n,r,o)))}function px(r,e,t){r=Mr(r,Rt);const n=Mr(r.firestore,As),o=hx(r.converter,e,t);return du(n,[nx(uu(n),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,Or.none())])}function Wn(r,e,t,...n){r=Mr(r,Rt);const o=Mr(r.firestore,As),l=uu(o);let u;return u=typeof(e=Vt(e))=="string"||e instanceof cu?E_(l,"updateDoc",r._key,e,t,n):N_(l,"updateDoc",r._key,e),du(o,[u.toMutation(r._key,Or.exists(!0))])}function Nh(r){return du(Mr(r.firestore,As),[new Kh(r._key,Or.none())])}function R_(r,e){const t=Mr(r.firestore,As),n=Nt(r),o=hx(r.converter,e);return du(t,[nx(uu(r.firestore),"addDoc",n._key,o,r.converter!==null,{}).toMutation(n._key,Or.exists(!1))]).then((()=>n))}function mx(r,...e){r=Vt(r);let t={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||Rb(e[n])||(t=e[n++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(Rb(e[n])){const p=e[n];e[n]=p.next?.bind(p),e[n+1]=p.error?.bind(p),e[n+2]=p.complete?.bind(p)}let l,u,h;if(r instanceof Rt)u=Mr(r.firestore,As),h=zh(r._key.path),l={next:p=>{e[n]&&e[n](P_(u,r,p))},error:e[n+1],complete:e[n+2]};else{const p=Mr(r,po);u=Mr(p.firestore,As),h=p._query;const m=new fx(u);l={next:y=>{e[n]&&e[n](new Ko(u,m,p,y))},error:e[n+1],complete:e[n+2]},C_(r._query)}return(function(m,y,x,w){const k=new rx(w),P=new Zg(y,k,x);return m.asyncQueue.enqueueAndForget((async()=>Qg(await wh(m),P))),()=>{k.Nu(),m.asyncQueue.enqueueAndForget((async()=>Xg(await wh(m),P)))}})(lu(u),h,o,l)}function du(r,e){return(function(n,o){const l=new ii;return n.asyncQueue.enqueueAndForget((async()=>mP(await SP(n),o,l))),l.promise})(lu(r),e)}function P_(r,e,t){const n=t.docs.get(e._key),o=new fx(r);return new Go(r,o,e._key,n,new kc(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=uu(e)}set(e,t,n){this._verifyNotCommitted();const o=im(e,this._firestore),l=hx(o.converter,t,n),u=nx(this._dataReader,"WriteBatch.set",o._key,l,o.converter!==null,n);return this._mutations.push(u.toMutation(o._key,Or.none())),this}update(e,t,n,...o){this._verifyNotCommitted();const l=im(e,this._firestore);let u;return u=typeof(t=Vt(t))=="string"||t instanceof cu?E_(this._dataReader,"WriteBatch.update",l._key,t,n,o):N_(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(u.toMutation(l._key,Or.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=im(e,this._firestore);return this._mutations=this._mutations.concat(new Kh(t._key,Or.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new we(ae.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function im(r,e){if((r=Vt(r)).firestore!==e)throw new we(ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function D_(){return new sx("serverTimestamp")}function zP(...r){return new ix("arrayUnion",r)}function M_(r){return new ox("increment",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HP(r){return lu(r=Mr(r,As)),new BP(r,(e=>du(r,e)))}(function(e,t=!0){(function(o){wl=o})(oa),Qo(new to("firestore",((n,{instanceIdentifier:o,options:l})=>{const u=n.getProvider("app").getImmediate(),h=new As(new L4(n.getProvider("auth-internal")),new F4(u,n.getProvider("app-check-internal")),(function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new we(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $c(m.options.projectId,y)})(u,o),u);return l={useFetchStreams:t,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),_s(Ov,Lv,e),_s(Ov,Lv,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="firebasestorage.googleapis.com",WP="storageBucket",qP=120*1e3,GP=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends Ms{constructor(e,t,n=0){super(om(e),`Firebase Storage: ${t} (${om(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Os.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return om(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Rs;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Rs||(Rs={}));function om(r){return"storage/"+r}function KP(){const r="An unknown error occurred, please check the error payload for server response.";return new Os(Rs.UNKNOWN,r)}function YP(){return new Os(Rs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function QP(){return new Os(Rs.CANCELED,"User canceled the upload/download.")}function XP(r){return new Os(Rs.INVALID_URL,"Invalid URL '"+r+"'.")}function JP(r){return new Os(Rs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function Mb(r){return new Os(Rs.INVALID_ARGUMENT,r)}function L_(){return new Os(Rs.APP_DELETED,"The Firebase app was deleted.")}function ZP(r){return new Os(Rs.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=zn.makeFromUrl(e,t)}catch{return new zn(e,"")}if(n.path==="")return n;throw JP(e)}static makeFromUrl(e,t){let n=null;const o="([A-Za-z0-9.\\-_]+)";function l(H){H.path.charAt(H.path.length-1)==="/"&&(H.path_=H.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+o+u,"i"),p={bucket:1,path:3};function m(H){H.path_=decodeURIComponent(H.path)}const y="v[A-Za-z0-9_]+",x=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",k=new RegExp(`^https?://${x}/${y}/b/${o}/o${w}`,"i"),P={bucket:1,path:3},E=t===O_?"(?:storage.googleapis.com|storage.cloud.google.com)":t,T="([^?#]*)",O=new RegExp(`^https?://${E}/${o}/${T}`,"i"),U=[{regex:h,indices:p,postModify:l},{regex:k,indices:P,postModify:m},{regex:O,indices:{bucket:1,path:2},postModify:m}];for(let H=0;H<U.length;H++){const W=U[H],Z=W.regex.exec(e);if(Z){const R=Z[W.indices.bucket];let S=Z[W.indices.path];S||(S=""),n=new zn(R,S),W.postModify(n);break}}if(n==null)throw XP(e);return n}}class e3{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(r,e,t){let n=1,o=null,l=null,u=!1,h=0;function p(){return h===2}let m=!1;function y(...T){m||(m=!0,e.apply(null,T))}function x(T){o=setTimeout(()=>{o=null,r(k,p())},T)}function w(){l&&clearTimeout(l)}function k(T,...O){if(m){w();return}if(T){w(),y.call(null,T,...O);return}if(p()||u){w(),y.call(null,T,...O);return}n<64&&(n*=2);let U;h===1?(h=2,U=0):U=(n+Math.random())*1e3,x(U)}let P=!1;function E(T){P||(P=!0,w(),!m&&(o!==null?(T||(h=2),clearTimeout(o),x(0)):T||(h=1)))}return x(0),l=setTimeout(()=>{u=!0,E(!0)},t),E}function r3(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n3(r){return r!==void 0}function Ob(r,e,t,n){if(n<e)throw Mb(`Invalid value for '${r}'. Expected ${e} or greater.`);if(n>t)throw Mb(`Invalid value for '${r}'. Expected ${t} or less.`)}function s3(r){const e=encodeURIComponent;let t="?";for(const n in r)if(r.hasOwnProperty(n)){const o=e(n)+"="+e(r[n]);t=t+o+"&"}return t=t.slice(0,-1),t}var Eh;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Eh||(Eh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i3(r,e){const t=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,l=e.indexOf(r)!==-1;return t||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3{constructor(e,t,n,o,l,u,h,p,m,y,x,w=!0,k=!1){this.url_=e,this.method_=t,this.headers_=n,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=p,this.timeout_=m,this.progressCallback_=y,this.connectionFactory_=x,this.retry=w,this.isUsingEmulator=k,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((P,E)=>{this.resolve_=P,this.reject_=E,this.start_()})}start_(){const e=(n,o)=>{if(o){n(!1,new Ad(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=h=>{const p=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,m)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const h=l.getErrorCode()===Eh.NO_ERROR,p=l.getStatus();if(!h||i3(p,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===Eh.ABORT;n(!1,new Ad(!1,null,y));return}const m=this.successCodes_.indexOf(p)!==-1;n(!0,new Ad(m,l))})},t=(n,o)=>{const l=this.resolve_,u=this.reject_,h=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(h,h.getResponse());n3(p)?l(p):l()}catch(p){u(p)}else if(h!==null){const p=KP();p.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,p)):u(p)}else if(o.canceled){const p=this.appDelete_?L_():QP();u(p)}else{const p=YP();u(p)}};this.canceled_?t(!1,new Ad(!1,null,!0)):this.backoffId_=t3(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&r3(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ad{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function a3(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function l3(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function c3(r,e){e&&(r["X-Firebase-GMPID"]=e)}function u3(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function d3(r,e,t,n,o,l,u=!0,h=!1){const p=s3(r.urlParams),m=r.url+p,y=Object.assign({},r.headers);return c3(y,e),a3(y,t),l3(y,l),u3(y,n),new o3(m,r.method,y,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,u,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function f3(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,t){this._service=e,t instanceof zn?this._location=t:this._location=zn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new jh(e,t)}get root(){const e=new zn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return f3(this._location.path)}get storage(){return this._service}get parent(){const e=h3(this._location.path);if(e===null)return null;const t=new zn(this._location.bucket,e);return new jh(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw ZP(e)}}function Lb(r,e){const t=e?.[WP];return t==null?null:zn.makeFromBucketSpec(t,r)}function p3(r,e,t,n={}){r.host=`${e}:${t}`;const o=ia(e);o&&(mg(`https://${r.host}/b`),gg("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:l}=n;l&&(r._overrideAuthToken=typeof l=="string"?l:g1(l,r.app.options.projectId))}class m3{constructor(e,t,n,o,l,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=o,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=O_,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=qP,this._maxUploadRetryTime=GP,this._requests=new Set,o!=null?this._bucket=zn.makeFromBucketSpec(o,this._host):this._bucket=Lb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=zn.makeFromBucketSpec(this._url,e):this._bucket=Lb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ob("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ob("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new jh(this,e)}_makeRequest(e,t,n,o,l=!0){if(this._deleted)return new e3(L_());{const u=d3(e,this._appId,n,o,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[n,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,o).getPromise()}}const Vb="@firebase/storage",$b="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="storage";function g3(r=vg(),e){r=Vt(r);const n=Mh(r,V_).getImmediate({identifier:e}),o=f1("storage");return o&&x3(n,...o),n}function x3(r,e,t,n={}){p3(r,e,t,n)}function y3(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),n=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new m3(t,n,o,e,oa)}function v3(){Qo(new to(V_,y3,"PUBLIC").setMultipleInstances(!0)),_s(Vb,$b,""),_s(Vb,$b,"esm2020")}v3();const b3={apiKey:"AIzaSyAt9qNTIn6j9ECSjXopdeH8onjyt5oNjlE",authDomain:"snag-4baa7.firebaseapp.com",projectId:"snag-4baa7",storageBucket:"snag-4baa7.firebasestorage.app",messagingSenderId:"424600284606",appId:"1:424600284606:web:3b4f1ba8b4e8bd94c91def"},gx=v1(b3),fr=P4(gx),tt=IP(gx);g3(gx);const $_=_.createContext(null);function w3({children:r}){const[e,t]=_.useState(0),[n,o]=_.useState(!0);_.useEffect(()=>{const u=fr.onAuthStateChanged(h=>{if(h){console.log(" Logged in user:",h.uid);const p=Nt(tt,"users",h.uid),m=mx(p,y=>{if(y.exists()){const x=y.data();t(x.credits||0)}o(!1)});return()=>m()}else t(40),o(!1)});return()=>u()},[]);const l=async u=>{const h=fr.currentUser;if(!h)return console.warn(" No user signed in");const p=Nt(tt,"users",h.uid);await Wn(p,{credits:u}),t(u)};return i.jsx($_.Provider,{value:{credits:e,setCredits:l,loading:n},children:r})}function xx(){return _.useContext($_)}const _3="/Snag/assets/Snag-Dzdb2dIV.png",N3={BookOpen:ym,Armchair:Bd,Package:bs,Beaker:jw,Music:GS,Shirt:vm,Laptop:Aw,Sparkles:hk,UtensilsCrossed:Vw,PartyPopper:XS,Briefcase:Zj,Paintbrush:Pw,Camera:Sw},E3=["Textbooks","Furniture","Apparel","Dorm","Lab/Tech","Electronics","Kitchen","Seasonal"],j3=[{id:"halloween",label:"Halloween",color:"from-orange-500 to-orange-600"},{id:"finals",label:"Finals",color:"from-blue-500 to-blue-600"},{id:"movein",label:"Move-Out",color:"from-green-500 to-green-600"},{id:"graduation",label:"Graduation",color:"from-purple-500 to-purple-600"}];function Fb({navigateTo:r,notificationCount:e=0}){const[t,n]=_.useState([]),[o,l]=_.useState(!0),[u,h]=_.useState(""),[p,m]=_.useState(!1),[y,x]=_.useState(0),{darkMode:w}=Tt(),[k,P]=_.useState("credits"),[E,T]=_.useState(""),[O,B]=_.useState([]),[U,H]=_.useState([]),[W,Z]=_.useState(()=>localStorage.getItem("viewMode")||"list"),[R,S]=_.useState(!1),M=K=>{O.includes(K)?B(O.filter(q=>q!==K)):B([...O,K])},V=K=>{U.includes(K)?H(U.filter(q=>q!==K)):H([...U,K])},D=K=>{Z(K),localStorage.setItem("viewMode",K)};if(_.useEffect(()=>{async function K(){try{console.log("Fetching listings...");const q=await sl(Sn(tt,"listings"));console.log("Snapshot:",q);const $=q.docs.map(se=>({id:se.id,...se.data()}));console.log("Fetched data:",$),n($)}catch(q){console.error(" Firestore error:",q),h("Failed to load listings.")}finally{l(!1)}}K()},[]),_.useEffect(()=>{const K=fr.currentUser;if(!K)return;const q=Sn(tt,"users",K.uid,"notifications"),$=qo(q,Ki("read","==",!1)),se=mx($,ie=>{x(ie.size)});return()=>se()},[]),o)return i.jsx("div",{children:"Loading listings..."});if(u)return i.jsx("div",{children:u});const I=t.filter(K=>!(k==="trade"&&!K.isBarter||E&&!K.title.toLowerCase().includes(E.toLowerCase())||O.length>0&&!K.tags.some(q=>O.includes(q)))),C="no listing found",{credits:de,setCredits:oe}=xx();return i.jsxs("div",{className:`min-h-screen pb-8 ${w?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"}`,children:[i.jsx("div",{className:`sticky top-0 z-20 backdrop-blur-xl ${w?"bg-black/70 border-white/10":"bg-white/10 border-white/30"} border-b shadow-sm`,children:i.jsxs("div",{className:"max-w-md mx-auto px-4 py-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"flex items-center gap-3",children:i.jsx("div",{className:"flex items-center gap-3",children:i.jsx("img",{src:_3,className:"w-10 h-10 object-contain",alt:"Snag logo"})})}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("button",{onClick:()=>S(!0),className:`backdrop-blur-xl ${w?"bg-white/10 border-white/20":"bg-white/60 border-white/40"} rounded-full px-3 py-1.5 border shadow-sm flex items-center gap-2 hover:opacity-80 transition-opacity`,children:[i.jsx(Sr,{className:"w-4 h-4 text-yellow-500"}),i.jsx("span",{className:`font-medium ${w?"text-white":"text-[#222]"}`,children:de})]}),i.jsxs("button",{onClick:()=>r("notifications"),className:`relative p-2 rounded-full ${w?"hover:bg-white/10":"hover:bg-white/50"} transition-colors`,children:[i.jsx(al,{className:`w-6 h-6 ${w?"text-white":"text-[#222]"}`}),y>0&&i.jsx("div",{className:"absolute top-1.5 right-1.5 w-2 h-2 bg-red-500 rounded-full"})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(sa,{className:`absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 ${w?"text-gray-400":"text-[#888]"}`}),i.jsx("input",{type:"text",placeholder:"Search items or descriptions",value:E,onChange:K=>T(K.target.value),className:`w-full pl-12 pr-4 py-2.5 rounded-full backdrop-blur-xl ${w?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"bg-white/80 border-white/60 text-[#222] placeholder:text-[#888]"} border shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-400/50`})]}),i.jsx("button",{onClick:()=>m(!p),className:`p-2 rounded-full transition-all border ${w?"bg-white/10 border-white/20 hover:bg-white/20":"bg-white/80 border-white/60 hover:bg-white"}`,children:i.jsx(yS,{className:`w-5 h-5 transition-transform ${p?"rotate-90 text-purple-600":w?"text-gray-600":"text-[#555]"}`})})]}),i.jsx("div",{className:"mb-3",children:i.jsx(jk,{value:k,onChange:P})}),p&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex items-center gap-2 overflow-x-auto pb-2 mb-3 no-scrollbar",children:j3.map(K=>i.jsx("button",{onClick:()=>V(K.id),className:`px-3 py-1 rounded-full text-xs font-medium whitespace-nowrap transition-all ${U.includes(K.id)?"bg-gradient-to-r "+K.color+" text-white shadow-md":w?"bg-white/10 text-gray-300 border border-white/20":"bg-white/60 text-[#555] border border-white/60"}`,children:K.label},K.id))}),i.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[i.jsx("div",{className:"flex-1 overflow-x-auto no-scrollbar",children:i.jsx("div",{className:"flex items-center gap-2",children:E3.map(K=>i.jsx("button",{onClick:()=>M(K),className:`px-3 py-1 rounded-full border transition-all text-xs whitespace-nowrap ${O.includes(K)?"bg-gradient-to-r from-purple-500 to-purple-600 text-white border-0 shadow-md":w?"bg-white/10 text-gray-300 border-white/20 hover:bg-white/15":"backdrop-blur-xl bg-white/60 text-[#555] border-white/60 hover:bg-white/80"}`,children:K},K))})}),i.jsxs("div",{className:`flex items-center gap-1 ${w?"bg-white/10 border-white/20":"bg-white/60 border-white/60"} border rounded-full p-0.5 flex-shrink-0`,children:[i.jsx("button",{onClick:()=>D("list"),className:`p-1.5 rounded-full ${W==="list"?"bg-purple-600 text-white":w?"text-gray-300":"text-[#555]"}`,children:i.jsx(ug,{className:"w-3.5 h-3.5"})}),i.jsx("button",{onClick:()=>D("grid"),className:`p-1.5 rounded-full ${W==="grid"?"bg-purple-600 text-white":w?"text-gray-300":"text-[#555]"}`,children:i.jsx(cg,{className:"w-3.5 h-3.5"})})]})]})]})]})}),i.jsx("div",{className:"max-w-md mx-auto px-4 mt-4",children:I.length!==0?W==="list"?i.jsx("div",{className:"space-y-3",children:I.map(K=>i.jsx(S3,{item:K,navigateTo:r,darkMode:w},K.id))}):i.jsx("div",{className:"grid grid-cols-2 gap-3",children:I.map(K=>i.jsx(k3,{item:K,navigateTo:r,darkMode:w},K.id))}):i.jsx("div",{children:C})}),R&&i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:()=>S(!1),children:[i.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),i.jsxs("div",{className:`relative w-full max-w-sm ${w?"bg-gray-900 border-white/20":"bg-white"} rounded-3xl p-6 border shadow-2xl`,onClick:K=>K.stopPropagation(),children:[i.jsx("div",{className:"flex justify-end mb-2",children:i.jsx("button",{onClick:()=>S(!1),className:`p-1 rounded-full ${w?"hover:bg-white/10":"hover:bg-gray-100"} transition-colors`,children:i.jsx(kn,{className:`w-5 h-5 ${w?"text-gray-400":"text-gray-600"}`})})}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-yellow-400 to-yellow-600 flex items-center justify-center",children:i.jsx(Sr,{className:"w-8 h-8 text-white"})})}),i.jsx("h3",{className:`text-center font-semibold text-xl mb-3 ${w?"text-white":"text-[#222]"}`,children:"What Are Credits?"}),i.jsx("p",{className:`text-center mb-6 ${w?"text-gray-300":"text-[#555]"}`,children:"Credits are Snag's currency system. You earn credits by posting items, completing trades, or helping others. Use them to purchase items from other students!"}),i.jsx("div",{className:"flex justify-center",children:i.jsx("button",{onClick:()=>S(!1),className:"px-8 py-2.5 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-lg transition-transform active:scale-95",children:"Got It"})})]})]})]})}function S3({item:r,navigateTo:e,darkMode:t}){if(!r.status)return null;const n=typeof r.icon=="string"?r.icon:void 0,o=N3[n||"Package"]||bs;return console.log("Badge:",Dr),console.log("Avatar:",qn),console.log("AvatarFallback:",Gn),console.log("Coins icon:",Sr),console.log("ArrowLeftRight icon:",St),i.jsxs("button",{onClick:()=>e("item-detail",r),className:`w-full backdrop-blur-2xl ${t?"bg-white/10 border-white/20 hover:bg-white/15":"bg-white/70 border-white/60 hover:shadow-[0_8px_24px_rgba(139,92,246,0.15)]"} rounded-2xl border shadow-[0_4px_16px_rgba(139,92,246,0.08)] overflow-hidden transition-all active:scale-[0.98]`,children:[i.jsxs("div",{className:"relative h-24",children:[i.jsx("img",{src:r.images[0],alt:r.title,className:"w-full h-full object-cover"}),i.jsxs("div",{className:"absolute top-2 left-2 flex flex-col gap-1 z-20",children:[r.pendingConfirmation&&i.jsx(Dr,{className:`\r
                      bg-white\r
                      text-purple-700\r
                      border border-purple-300\r
                      shadow-md\r
                      flex items-center gap-1\r
                      py-1 px-2\r
                      rounded-full\r
                      font-semibold\r
                      text-[10px]\r
                      tracking-wide\r
                      uppercase\r
                      animate-[pulse_2s_ease-in-out_infinite]\r
                    `,children:"Pending"}),r.isBarter&&i.jsxs(Dr,{className:`\r
                                backdrop-blur-xl bg-gradient-to-r from-purple-500 to-purple-600\r
                                text-white border-0 shadow-lg\r
                                flex items-center gap-1.5\r
                                py-1 px-2 rounded-full text-xs\r
                              `,children:[i.jsx(St,{className:"w-3.5 h-3.5"}),"Trade"]})]}),!r.isBarter&&i.jsx("div",{className:"absolute top-2 right-2",children:i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-black/60":"bg-white/90"} rounded-full px-2.5 py-1 border border-white/60 shadow-md flex items-center gap-1`,children:[i.jsx(Sr,{className:"w-3.5 h-3.5 text-yellow-500"}),i.jsx("span",{className:`text-sm font-medium ${t?"text-white":"text-[#222]"}`,children:r.credits})]})})]}),i.jsxs("div",{className:"p-2 text-left",children:[i.jsx("h3",{className:`font-semibold text-sm mb-1 line-clamp-2 ${t?"text-white":"text-[#222]"}`,children:r.title}),i.jsx("div",{className:"flex items-center gap-1.5 mb-2",children:r.tags.slice(0,2).map(l=>i.jsxs("div",{className:"backdrop-blur-xl bg-purple-100/60 rounded-full px-2 py-0.5 border border-purple-200/60 flex items-center gap-1",children:[i.jsx(o,{className:"w-3 h-3 text-purple-600"}),i.jsx("span",{className:"text-purple-700 text-[10px] font-medium",children:l})]},l))}),i.jsxs("div",{onClick:l=>{l.stopPropagation(),e("user-profile",r.seller)},className:"flex items-center gap-1.5 mb-1.5 hover:opacity-80 transition-opacity cursor-pointer",children:[i.jsx(qn,{className:"w-5 h-5",children:i.jsx(Gn,{className:"bg-gradient-to-br from-purple-400 to-purple-500 text-white text-[10px] font-medium",children:r.seller.name.charAt(0)})}),i.jsx("span",{className:`text-xs ${t?"text-gray-300":"text-[#555]"}`,children:r.seller.name}),r.seller.verified&&i.jsx("div",{className:"w-3.5 h-3.5 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center",children:i.jsx("span",{className:"text-white text-[8px]",children:""})}),i.jsxs("span",{className:`text-xs ${t?"text-gray-500":"text-[#999]"}`,children:[" ",r.seller.rating,"   ",r.seller.trades," trades"]})]}),i.jsxs("p",{className:`text-xs ${t?"text-gray-500":"text-[#999]"}`,children:[r.meetingSpot,"  ",r.meetingTime]})]})]})}function k3({item:r,navigateTo:e,darkMode:t}){return r.status?i.jsxs("button",{onClick:()=>e("item-detail",r),className:`backdrop-blur-2xl ${t?"bg-white/10 border-white/20 hover:bg-white/15":"bg-white/70 border-white/60 hover:shadow-[0_8px_24px_rgba(139,92,246,0.15)]"} rounded-2xl border shadow-[0_4px_16px_rgba(139,92,246,0.08)] overflow-hidden transition-all active:scale-[0.98]`,children:[i.jsxs("div",{className:"relative aspect-square",children:[i.jsx("img",{src:r.images[0],alt:r.title,className:"w-full h-full object-cover"}),r.isBarter&&i.jsx("div",{className:"absolute top-2 left-2",children:i.jsxs(Dr,{className:"backdrop-blur-xl bg-gradient-to-r from-purple-500 to-purple-600 text-white border-0 shadow-md font-medium flex items-center gap-1 py-0.5 px-2",children:[i.jsx(St,{className:"w-3 h-3"}),i.jsx("span",{className:"text-[10px]",children:"Trade"})]})}),!r.isBarter&&i.jsx("div",{className:"absolute top-2 right-2",children:i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-black/60":"bg-white/90"} rounded-full px-2 py-0.5 border border-white/60 shadow-md flex items-center gap-0.5`,children:[i.jsx(Sr,{className:"w-3 h-3 text-yellow-500"}),i.jsx("span",{className:`text-xs font-medium ${t?"text-white":"text-[#222]"}`,children:r.credits})]})})]}),i.jsxs("div",{className:"p-2.5",children:[i.jsx("h3",{className:`font-semibold text-xs mb-1 line-clamp-2 ${t?"text-white":"text-[#222]"}`,children:r.title}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsxs("span",{className:`text-[10px] ${t?"text-gray-400":"text-[#999]"}`,children:[r.seller.rating," "]}),i.jsxs("span",{className:`text-[10px] ${t?"text-gray-400":"text-[#999]"}`,children:[" ",r.seller.trades]})]})]})]}):null}const T3=["Textbooks","Furniture","Apparel","Dorm","Lab/Tech","Electronics","Kitchen","Seasonal"],C3=[{id:"halloween",label:"Halloween",color:"from-orange-500 to-orange-600"},{id:"finals",label:"Finals",color:"from-blue-500 to-blue-600"},{id:"movein",label:"Move-Out",color:"from-green-500 to-green-600"},{id:"graduation",label:"Graduation",color:"from-purple-500 to-purple-600"}],I3=[{id:1,title:"Vintage Denim Jacket",description:"Size M, excellent condition",credits:0,images:["https://images.unsplash.com/photo-1551028719-00167b16eac5?w=400"],tags:["Apparel","Vintage"],seller:{name:"Emma L.",verified:!0,trustScore:4.8,trades:24},location:"Main Library",postedTime:"2h ago",isBarter:!0,eventTag:"halloween"},{id:2,title:"Graphing Calculator",description:"TI-84 Plus, like new",credits:0,images:["https://images.unsplash.com/photo-1611532736597-de2d4265fba3?w=400"],tags:["Electronics","School"],seller:{name:"Alex P.",verified:!0,trustScore:4.9,trades:31},location:"Student Union",postedTime:"5h ago",isBarter:!0,eventTag:"finals"},{id:3,title:"Mini Fridge",description:"Perfect for dorm, works great",credits:0,images:["https://images.unsplash.com/photo-1584568694244-14fbdf83bd30?w=400"],tags:["Furniture","Dorm"],seller:{name:"Sarah K.",verified:!0,trustScore:5,trades:18},location:"Campus Center",postedTime:"1d ago",isBarter:!0,eventTag:"movein"},{id:4,title:"Textbook Bundle",description:"Engineering 101-103 set",credits:0,images:["https://images.unsplash.com/photo-1456513080510-7bf3a84b82f8?w=400"],tags:["Textbooks","School"],seller:{name:"Jordan T.",verified:!0,trustScore:4.7,trades:15},location:"Library Entrance",postedTime:"3h ago",isBarter:!0,eventTag:"graduation"}];function A3({navigateTo:r}){const{darkMode:e}=Tt(),[t,n]=_.useState([]),[o,l]=_.useState([]),[u,h]=_.useState("list"),p=x=>{t.includes(x)?n(t.filter(w=>w!==x)):n([...t,x])},m=x=>{o.includes(x)?l(o.filter(w=>w!==x)):l([...o,x])},y=I3.filter(x=>!(t.length>0&&!t.includes(x.eventTag)||o.length>0&&!x.tags.some(w=>o.includes(w))));return i.jsxs("div",{className:`min-h-screen pb-8 ${e?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"}`,children:[i.jsx("div",{className:`sticky top-0 z-20 backdrop-blur-2xl ${e?"bg-black/70 border-white/10":"bg-white/70 border-white/40"} border-b`,children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsx("h1",{className:`font-semibold text-xl ${e?"text-purple-400":"text-[#9333ea]"}`,children:"Trade"})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 pt-4 pb-3 space-y-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx(sa,{className:`absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 ${e?"text-gray-400":"text-[#999]"}`}),i.jsx("input",{type:"text",placeholder:"Search trade items...",className:`w-full backdrop-blur-xl ${e?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"bg-white/60 border-white/60 text-[#222] placeholder:text-[#999]"} border rounded-full pl-12 pr-4 py-3 focus:outline-none focus:ring-2 focus:ring-purple-500`})]}),i.jsx("div",{className:"flex items-center gap-2 overflow-x-auto pb-1 no-scrollbar",children:C3.map(x=>i.jsx("button",{onClick:()=>p(x.id),className:`px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap transition-all ${t.includes(x.id)?"bg-gradient-to-r "+x.color+" text-white shadow-md":e?"bg-white/10 text-gray-300 border border-white/20":"bg-white/60 text-[#555] border border-white/60"}`,children:x.label},x.id))}),i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx("div",{className:"flex-1 overflow-x-auto no-scrollbar",children:i.jsx("div",{className:"flex items-center gap-2",children:T3.map(x=>i.jsx("button",{onClick:()=>m(x),className:`px-3 py-1.5 rounded-full border transition-all text-sm font-medium whitespace-nowrap ${o.includes(x)?"bg-gradient-to-r from-purple-500 to-purple-600 text-white border-0 shadow-md":e?"bg-white/10 text-gray-300 border-white/20 hover:bg-white/15":"bg-white/60 text-[#555] border-white/60 hover:bg-white/80"}`,children:x},x))})}),i.jsxs("div",{className:`flex items-center gap-1 ${e?"bg-white/10 border-white/20":"bg-white/60 border-white/60"} border rounded-full p-1 flex-shrink-0`,children:[i.jsx("button",{onClick:()=>h("list"),className:`p-2 rounded-full transition-colors ${u==="list"?"bg-purple-600 text-white":e?"text-gray-300":"text-[#555]"}`,children:i.jsx(ug,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>h("grid"),className:`p-2 rounded-full transition-colors ${u==="grid"?"bg-purple-600 text-white":e?"text-gray-300":"text-[#555]"}`,children:i.jsx(cg,{className:"w-4 h-4"})})]})]})]}),i.jsx("div",{className:"max-w-md mx-auto px-4 pb-4",children:u==="list"?i.jsx("div",{className:"space-y-3",children:y.map(x=>i.jsx(R3,{item:x,navigateTo:r,darkMode:e},x.id))}):i.jsx("div",{className:"grid grid-cols-2 gap-3",children:y.map(x=>i.jsx(P3,{item:x,navigateTo:r,darkMode:e},x.id))})})]})}function R3({item:r,navigateTo:e,darkMode:t}){return i.jsxs("button",{onClick:()=>e("item-detail",r),className:`w-full backdrop-blur-2xl ${t?"bg-white/10 border-white/20 hover:bg-white/15":"bg-white/70 border-white/60 hover:shadow-[0_8px_24px_rgba(139,92,246,0.15)]"} rounded-2xl border shadow-[0_4px_16px_rgba(139,92,246,0.08)] overflow-hidden transition-all active:scale-[0.98]`,children:[i.jsxs("div",{className:"relative h-40",children:[i.jsx("img",{src:r.images[0],alt:r.title,className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute top-2 left-2",children:i.jsxs(Dr,{className:"backdrop-blur-xl bg-gradient-to-r from-purple-500 to-purple-600 text-white border-0 shadow-lg font-medium flex items-center gap-1.5 py-1",children:[i.jsx(St,{className:"w-3.5 h-3.5"}),i.jsx("span",{className:"text-xs",children:"Trade"})]})})]}),i.jsxs("div",{className:"p-3 text-left",children:[i.jsx("h3",{className:`font-semibold text-sm mb-1 line-clamp-1 ${t?"text-white":"text-[#222]"}`,children:r.title}),i.jsxs("button",{onClick:n=>{n.stopPropagation(),e("user-profile",r.seller)},className:"flex items-center gap-1.5 mb-2 hover:opacity-80 transition-opacity",children:[i.jsx(qn,{className:"w-5 h-5",children:i.jsx(Gn,{className:"bg-gradient-to-br from-purple-400 to-purple-500 text-white text-[10px] font-medium",children:r.seller.name.charAt(0)})}),i.jsx("span",{className:`text-xs ${t?"text-gray-300":"text-[#555]"}`,children:r.seller.name}),r.seller.verified&&i.jsx("div",{className:"w-3.5 h-3.5 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center",children:i.jsx("span",{className:"text-white text-[8px]",children:""})}),i.jsxs("span",{className:`text-xs ${t?"text-gray-500":"text-[#999]"}`,children:[" ",r.seller.trustScore,"   ",r.seller.trades," trades"]})]}),i.jsxs("p",{className:`text-xs ${t?"text-gray-500":"text-[#999]"}`,children:[r.location,"  ",r.postedTime]})]})]})}function P3({item:r,navigateTo:e,darkMode:t}){return i.jsxs("button",{onClick:()=>e("item-detail",r),className:`backdrop-blur-2xl ${t?"bg-white/10 border-white/20 hover:bg-white/15":"bg-white/70 border-white/60 hover:shadow-[0_8px_24px_rgba(139,92,246,0.15)]"} rounded-2xl border shadow-[0_4px_16px_rgba(139,92,246,0.08)] overflow-hidden transition-all active:scale-[0.98]`,children:[i.jsxs("div",{className:"relative aspect-square",children:[i.jsx("img",{src:r.images[0],alt:r.title,className:"w-full h-full object-cover"}),i.jsx("div",{className:"absolute top-2 left-2",children:i.jsxs(Dr,{className:"backdrop-blur-xl bg-gradient-to-r from-purple-500 to-purple-600 text-white border-0 shadow-md font-medium flex items-center gap-1 py-0.5 px-2",children:[i.jsx(St,{className:"w-3 h-3"}),i.jsx("span",{className:"text-[10px]",children:"Trade"})]})})]}),i.jsxs("div",{className:"p-2.5",children:[i.jsx("h3",{className:`font-semibold text-xs mb-1 line-clamp-2 ${t?"text-white":"text-[#222]"}`,children:r.title}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsxs("span",{className:`text-[10px] ${t?"text-gray-400":"text-[#999]"}`,children:[r.seller.trustScore," "]}),i.jsxs("span",{className:`text-[10px] ${t?"text-gray-400":"text-[#999]"}`,children:[" ",r.seller.trades]})]})]})]})}function At({className:r,type:e,...t}){return i.jsx("input",{type:e,"data-slot":"input",className:Xt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...t})}function Wc({className:r,...e}){return i.jsx("textarea",{"data-slot":"textarea",className:Xt("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),...e})}function Ub(r,[e,t]){return Math.min(t,Math.max(e,r))}function it(r,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(r?.(o),t===!1||!o.defaultPrevented)return e?.(o)}}function Tl(r,e=[]){let t=[];function n(l,u){const h=_.createContext(u),p=t.length;t=[...t,u];const m=x=>{const{scope:w,children:k,...P}=x,E=w?.[r]?.[p]||h,T=_.useMemo(()=>P,Object.values(P));return i.jsx(E.Provider,{value:T,children:k})};m.displayName=l+"Provider";function y(x,w){const k=w?.[r]?.[p]||h,P=_.useContext(k);if(P)return P;if(u!==void 0)return u;throw new Error(`\`${x}\` must be used within \`${l}\``)}return[m,y]}const o=()=>{const l=t.map(u=>_.createContext(u));return function(h){const p=h?.[r]||l;return _.useMemo(()=>({[`__scope${r}`]:{...h,[r]:p}}),[h,p])}};return o.scopeName=r,[n,D3(o,...e)]}function D3(...r){const e=r[0];if(r.length===1)return e;const t=()=>{const n=r.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(l){const u=n.reduce((h,{useScope:p,scopeName:m})=>{const x=p(l)[`__scope${m}`];return{...h,...x}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}function Bb(r){const e=M3(r),t=_.forwardRef((n,o)=>{const{children:l,...u}=n,h=_.Children.toArray(l),p=h.find(L3);if(p){const m=p.props.children,y=h.map(x=>x===p?_.Children.count(m)>1?_.Children.only(null):_.isValidElement(m)?m.props.children:null:x);return i.jsx(e,{...u,ref:o,children:_.isValidElement(m)?_.cloneElement(m,void 0,y):null})}return i.jsx(e,{...u,ref:o,children:l})});return t.displayName=`${r}.Slot`,t}function M3(r){const e=_.forwardRef((t,n)=>{const{children:o,...l}=t;if(_.isValidElement(o)){const u=$3(o),h=V3(l,o.props);return o.type!==_.Fragment&&(h.ref=n?Yc(n,u):u),_.cloneElement(o,h)}return _.Children.count(o)>1?_.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var O3=Symbol("radix.slottable");function L3(r){return _.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===O3}function V3(r,e){const t={...e};for(const n in e){const o=r[n],l=e[n];/^on[A-Z]/.test(n)?o&&l?t[n]=(...h)=>{const p=l(...h);return o(...h),p}:o&&(t[n]=o):n==="style"?t[n]={...o,...l}:n==="className"&&(t[n]=[o,l].filter(Boolean).join(" "))}return{...r,...t}}function $3(r){let e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}function F_(r){const e=r+"CollectionProvider",[t,n]=Tl(e),[o,l]=t(e,{collectionRef:{current:null},itemMap:new Map}),u=E=>{const{scope:T,children:O}=E,B=xe.useRef(null),U=xe.useRef(new Map).current;return i.jsx(o,{scope:T,itemMap:U,collectionRef:B,children:O})};u.displayName=e;const h=r+"CollectionSlot",p=Bb(h),m=xe.forwardRef((E,T)=>{const{scope:O,children:B}=E,U=l(h,O),H=Lt(T,U.collectionRef);return i.jsx(p,{ref:H,children:B})});m.displayName=h;const y=r+"CollectionItemSlot",x="data-radix-collection-item",w=Bb(y),k=xe.forwardRef((E,T)=>{const{scope:O,children:B,...U}=E,H=xe.useRef(null),W=Lt(T,H),Z=l(y,O);return xe.useEffect(()=>(Z.itemMap.set(H,{ref:H,...U}),()=>void Z.itemMap.delete(H))),i.jsx(w,{[x]:"",ref:W,children:B})});k.displayName=y;function P(E){const T=l(r+"CollectionConsumer",E);return xe.useCallback(()=>{const B=T.collectionRef.current;if(!B)return[];const U=Array.from(B.querySelectorAll(`[${x}]`));return Array.from(T.itemMap.values()).sort((Z,R)=>U.indexOf(Z.ref.current)-U.indexOf(R.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:u,Slot:m,ItemSlot:k},P,n]}var F3=_.createContext(void 0);function yx(r){const e=_.useContext(F3);return r||e||"ltr"}function U3(r){const e=B3(r),t=_.forwardRef((n,o)=>{const{children:l,...u}=n,h=_.Children.toArray(l),p=h.find(H3);if(p){const m=p.props.children,y=h.map(x=>x===p?_.Children.count(m)>1?_.Children.only(null):_.isValidElement(m)?m.props.children:null:x);return i.jsx(e,{...u,ref:o,children:_.isValidElement(m)?_.cloneElement(m,void 0,y):null})}return i.jsx(e,{...u,ref:o,children:l})});return t.displayName=`${r}.Slot`,t}function B3(r){const e=_.forwardRef((t,n)=>{const{children:o,...l}=t;if(_.isValidElement(o)){const u=q3(o),h=W3(l,o.props);return o.type!==_.Fragment&&(h.ref=n?Yc(n,u):u),_.cloneElement(o,h)}return _.Children.count(o)>1?_.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var z3=Symbol("radix.slottable");function H3(r){return _.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===z3}function W3(r,e){const t={...e};for(const n in e){const o=r[n],l=e[n];/^on[A-Z]/.test(n)?o&&l?t[n]=(...h)=>{const p=l(...h);return o(...h),p}:o&&(t[n]=o):n==="style"?t[n]={...o,...l}:n==="className"&&(t[n]=[o,l].filter(Boolean).join(" "))}return{...r,...t}}function q3(r){let e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}var G3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],lt=G3.reduce((r,e)=>{const t=U3(`Primitive.${e}`),n=_.forwardRef((o,l)=>{const{asChild:u,...h}=o,p=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(p,{...h,ref:l})});return n.displayName=`Primitive.${e}`,{...r,[e]:n}},{});function K3(r,e){r&&Qc.flushSync(()=>r.dispatchEvent(e))}function Y3(r,e=globalThis?.document){const t=ai(r);_.useEffect(()=>{const n=o=>{o.key==="Escape"&&t(o)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[t,e])}var Q3="DismissableLayer",Ym="dismissableLayer.update",X3="dismissableLayer.pointerDownOutside",J3="dismissableLayer.focusOutside",zb,U_=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),B_=_.forwardRef((r,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:l,onInteractOutside:u,onDismiss:h,...p}=r,m=_.useContext(U_),[y,x]=_.useState(null),w=y?.ownerDocument??globalThis?.document,[,k]=_.useState({}),P=Lt(e,R=>x(R)),E=Array.from(m.layers),[T]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),O=E.indexOf(T),B=y?E.indexOf(y):-1,U=m.layersWithOutsidePointerEventsDisabled.size>0,H=B>=O,W=t6(R=>{const S=R.target,M=[...m.branches].some(V=>V.contains(S));!H||M||(o?.(R),u?.(R),R.defaultPrevented||h?.())},w),Z=r6(R=>{const S=R.target;[...m.branches].some(V=>V.contains(S))||(l?.(R),u?.(R),R.defaultPrevented||h?.())},w);return Y3(R=>{B===m.layers.size-1&&(n?.(R),!R.defaultPrevented&&h&&(R.preventDefault(),h()))},w),_.useEffect(()=>{if(y)return t&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(zb=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(y)),m.layers.add(y),Hb(),()=>{t&&m.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=zb)}},[y,w,t,m]),_.useEffect(()=>()=>{y&&(m.layers.delete(y),m.layersWithOutsidePointerEventsDisabled.delete(y),Hb())},[y,m]),_.useEffect(()=>{const R=()=>k({});return document.addEventListener(Ym,R),()=>document.removeEventListener(Ym,R)},[]),i.jsx(lt.div,{...p,ref:P,style:{pointerEvents:U?H?"auto":"none":void 0,...r.style},onFocusCapture:it(r.onFocusCapture,Z.onFocusCapture),onBlurCapture:it(r.onBlurCapture,Z.onBlurCapture),onPointerDownCapture:it(r.onPointerDownCapture,W.onPointerDownCapture)})});B_.displayName=Q3;var Z3="DismissableLayerBranch",e6=_.forwardRef((r,e)=>{const t=_.useContext(U_),n=_.useRef(null),o=Lt(e,n);return _.useEffect(()=>{const l=n.current;if(l)return t.branches.add(l),()=>{t.branches.delete(l)}},[t.branches]),i.jsx(lt.div,{...r,ref:o})});e6.displayName=Z3;function t6(r,e=globalThis?.document){const t=ai(r),n=_.useRef(!1),o=_.useRef(()=>{});return _.useEffect(()=>{const l=h=>{if(h.target&&!n.current){let p=function(){z_(X3,t,m,{discrete:!0})};const m={originalEvent:h};h.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=p,e.addEventListener("click",o.current,{once:!0})):p()}else e.removeEventListener("click",o.current);n.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",l),e.removeEventListener("click",o.current)}},[e,t]),{onPointerDownCapture:()=>n.current=!0}}function r6(r,e=globalThis?.document){const t=ai(r),n=_.useRef(!1);return _.useEffect(()=>{const o=l=>{l.target&&!n.current&&z_(J3,t,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,t]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Hb(){const r=new CustomEvent(Ym);document.dispatchEvent(r)}function z_(r,e,t,{discrete:n}){const o=t.originalEvent.target,l=new CustomEvent(r,{bubbles:!1,cancelable:!0,detail:t});e&&o.addEventListener(r,e,{once:!0}),n?K3(o,l):o.dispatchEvent(l)}var am=0;function n6(){_.useEffect(()=>{const r=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",r[0]??Wb()),document.body.insertAdjacentElement("beforeend",r[1]??Wb()),am++,()=>{am===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),am--}},[])}function Wb(){const r=document.createElement("span");return r.setAttribute("data-radix-focus-guard",""),r.tabIndex=0,r.style.outline="none",r.style.opacity="0",r.style.position="fixed",r.style.pointerEvents="none",r}var lm="focusScope.autoFocusOnMount",cm="focusScope.autoFocusOnUnmount",qb={bubbles:!1,cancelable:!0},s6="FocusScope",H_=_.forwardRef((r,e)=>{const{loop:t=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:l,...u}=r,[h,p]=_.useState(null),m=ai(o),y=ai(l),x=_.useRef(null),w=Lt(e,E=>p(E)),k=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(n){let E=function(U){if(k.paused||!h)return;const H=U.target;h.contains(H)?x.current=H:zi(x.current,{select:!0})},T=function(U){if(k.paused||!h)return;const H=U.relatedTarget;H!==null&&(h.contains(H)||zi(x.current,{select:!0}))},O=function(U){if(document.activeElement===document.body)for(const W of U)W.removedNodes.length>0&&zi(h)};document.addEventListener("focusin",E),document.addEventListener("focusout",T);const B=new MutationObserver(O);return h&&B.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",T),B.disconnect()}}},[n,h,k.paused]),_.useEffect(()=>{if(h){Kb.add(k);const E=document.activeElement;if(!h.contains(E)){const O=new CustomEvent(lm,qb);h.addEventListener(lm,m),h.dispatchEvent(O),O.defaultPrevented||(i6(u6(W_(h)),{select:!0}),document.activeElement===E&&zi(h))}return()=>{h.removeEventListener(lm,m),setTimeout(()=>{const O=new CustomEvent(cm,qb);h.addEventListener(cm,y),h.dispatchEvent(O),O.defaultPrevented||zi(E??document.body,{select:!0}),h.removeEventListener(cm,y),Kb.remove(k)},0)}}},[h,m,y,k]);const P=_.useCallback(E=>{if(!t&&!n||k.paused)return;const T=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,O=document.activeElement;if(T&&O){const B=E.currentTarget,[U,H]=o6(B);U&&H?!E.shiftKey&&O===H?(E.preventDefault(),t&&zi(U,{select:!0})):E.shiftKey&&O===U&&(E.preventDefault(),t&&zi(H,{select:!0})):O===B&&E.preventDefault()}},[t,n,k.paused]);return i.jsx(lt.div,{tabIndex:-1,...u,ref:w,onKeyDown:P})});H_.displayName=s6;function i6(r,{select:e=!1}={}){const t=document.activeElement;for(const n of r)if(zi(n,{select:e}),document.activeElement!==t)return}function o6(r){const e=W_(r),t=Gb(e,r),n=Gb(e.reverse(),r);return[t,n]}function W_(r){const e=[],t=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Gb(r,e){for(const t of r)if(!a6(t,{upTo:e}))return t}function a6(r,{upTo:e}){if(getComputedStyle(r).visibility==="hidden")return!0;for(;r;){if(e!==void 0&&r===e)return!1;if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}function l6(r){return r instanceof HTMLInputElement&&"select"in r}function zi(r,{select:e=!1}={}){if(r&&r.focus){const t=document.activeElement;r.focus({preventScroll:!0}),r!==t&&l6(r)&&e&&r.select()}}var Kb=c6();function c6(){let r=[];return{add(e){const t=r[0];e!==t&&t?.pause(),r=Yb(r,e),r.unshift(e)},remove(e){r=Yb(r,e),r[0]?.resume()}}}function Yb(r,e){const t=[...r],n=t.indexOf(e);return n!==-1&&t.splice(n,1),t}function u6(r){return r.filter(e=>e.tagName!=="A")}var d6=ag[" useId ".trim().toString()]||(()=>{}),h6=0;function hu(r){const[e,t]=_.useState(d6());return Jt(()=>{t(n=>n??String(h6++))},[r]),r||(e?`radix-${e}`:"")}const f6=["top","right","bottom","left"],lo=Math.min,an=Math.max,Sh=Math.round,Rd=Math.floor,Cs=r=>({x:r,y:r}),p6={left:"right",right:"left",bottom:"top",top:"bottom"},m6={start:"end",end:"start"};function Qm(r,e,t){return an(r,lo(e,t))}function hi(r,e){return typeof r=="function"?r(e):r}function fi(r){return r.split("-")[0]}function Cl(r){return r.split("-")[1]}function vx(r){return r==="x"?"y":"x"}function bx(r){return r==="y"?"height":"width"}const g6=new Set(["top","bottom"]);function vs(r){return g6.has(fi(r))?"y":"x"}function wx(r){return vx(vs(r))}function x6(r,e,t){t===void 0&&(t=!1);const n=Cl(r),o=wx(r),l=bx(o);let u=o==="x"?n===(t?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(u=kh(u)),[u,kh(u)]}function y6(r){const e=kh(r);return[Xm(r),e,Xm(e)]}function Xm(r){return r.replace(/start|end/g,e=>m6[e])}const Qb=["left","right"],Xb=["right","left"],v6=["top","bottom"],b6=["bottom","top"];function w6(r,e,t){switch(r){case"top":case"bottom":return t?e?Xb:Qb:e?Qb:Xb;case"left":case"right":return e?v6:b6;default:return[]}}function _6(r,e,t,n){const o=Cl(r);let l=w6(fi(r),t==="start",n);return o&&(l=l.map(u=>u+"-"+o),e&&(l=l.concat(l.map(Xm)))),l}function kh(r){return r.replace(/left|right|bottom|top/g,e=>p6[e])}function N6(r){return{top:0,right:0,bottom:0,left:0,...r}}function q_(r){return typeof r!="number"?N6(r):{top:r,right:r,bottom:r,left:r}}function Th(r){const{x:e,y:t,width:n,height:o}=r;return{width:n,height:o,top:t,left:e,right:e+n,bottom:t+o,x:e,y:t}}function Jb(r,e,t){let{reference:n,floating:o}=r;const l=vs(e),u=wx(e),h=bx(u),p=fi(e),m=l==="y",y=n.x+n.width/2-o.width/2,x=n.y+n.height/2-o.height/2,w=n[h]/2-o[h]/2;let k;switch(p){case"top":k={x:y,y:n.y-o.height};break;case"bottom":k={x:y,y:n.y+n.height};break;case"right":k={x:n.x+n.width,y:x};break;case"left":k={x:n.x-o.width,y:x};break;default:k={x:n.x,y:n.y}}switch(Cl(e)){case"start":k[u]-=w*(t&&m?-1:1);break;case"end":k[u]+=w*(t&&m?-1:1);break}return k}const E6=async(r,e,t)=>{const{placement:n="bottom",strategy:o="absolute",middleware:l=[],platform:u}=t,h=l.filter(Boolean),p=await(u.isRTL==null?void 0:u.isRTL(e));let m=await u.getElementRects({reference:r,floating:e,strategy:o}),{x:y,y:x}=Jb(m,n,p),w=n,k={},P=0;for(let E=0;E<h.length;E++){const{name:T,fn:O}=h[E],{x:B,y:U,data:H,reset:W}=await O({x:y,y:x,initialPlacement:n,placement:w,strategy:o,middlewareData:k,rects:m,platform:u,elements:{reference:r,floating:e}});y=B??y,x=U??x,k={...k,[T]:{...k[T],...H}},W&&P<=50&&(P++,typeof W=="object"&&(W.placement&&(w=W.placement),W.rects&&(m=W.rects===!0?await u.getElementRects({reference:r,floating:e,strategy:o}):W.rects),{x:y,y:x}=Jb(m,w,p)),E=-1)}return{x:y,y:x,placement:w,strategy:o,middlewareData:k}};async function qc(r,e){var t;e===void 0&&(e={});const{x:n,y:o,platform:l,rects:u,elements:h,strategy:p}=r,{boundary:m="clippingAncestors",rootBoundary:y="viewport",elementContext:x="floating",altBoundary:w=!1,padding:k=0}=hi(e,r),P=q_(k),T=h[w?x==="floating"?"reference":"floating":x],O=Th(await l.getClippingRect({element:(t=await(l.isElement==null?void 0:l.isElement(T)))==null||t?T:T.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(h.floating)),boundary:m,rootBoundary:y,strategy:p})),B=x==="floating"?{x:n,y:o,width:u.floating.width,height:u.floating.height}:u.reference,U=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h.floating)),H=await(l.isElement==null?void 0:l.isElement(U))?await(l.getScale==null?void 0:l.getScale(U))||{x:1,y:1}:{x:1,y:1},W=Th(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:B,offsetParent:U,strategy:p}):B);return{top:(O.top-W.top+P.top)/H.y,bottom:(W.bottom-O.bottom+P.bottom)/H.y,left:(O.left-W.left+P.left)/H.x,right:(W.right-O.right+P.right)/H.x}}const j6=r=>({name:"arrow",options:r,async fn(e){const{x:t,y:n,placement:o,rects:l,platform:u,elements:h,middlewareData:p}=e,{element:m,padding:y=0}=hi(r,e)||{};if(m==null)return{};const x=q_(y),w={x:t,y:n},k=wx(o),P=bx(k),E=await u.getDimensions(m),T=k==="y",O=T?"top":"left",B=T?"bottom":"right",U=T?"clientHeight":"clientWidth",H=l.reference[P]+l.reference[k]-w[k]-l.floating[P],W=w[k]-l.reference[k],Z=await(u.getOffsetParent==null?void 0:u.getOffsetParent(m));let R=Z?Z[U]:0;(!R||!await(u.isElement==null?void 0:u.isElement(Z)))&&(R=h.floating[U]||l.floating[P]);const S=H/2-W/2,M=R/2-E[P]/2-1,V=lo(x[O],M),D=lo(x[B],M),I=V,C=R-E[P]-D,de=R/2-E[P]/2+S,oe=Qm(I,de,C),K=!p.arrow&&Cl(o)!=null&&de!==oe&&l.reference[P]/2-(de<I?V:D)-E[P]/2<0,q=K?de<I?de-I:de-C:0;return{[k]:w[k]+q,data:{[k]:oe,centerOffset:de-oe-q,...K&&{alignmentOffset:q}},reset:K}}}),S6=function(r){return r===void 0&&(r={}),{name:"flip",options:r,async fn(e){var t,n;const{placement:o,middlewareData:l,rects:u,initialPlacement:h,platform:p,elements:m}=e,{mainAxis:y=!0,crossAxis:x=!0,fallbackPlacements:w,fallbackStrategy:k="bestFit",fallbackAxisSideDirection:P="none",flipAlignment:E=!0,...T}=hi(r,e);if((t=l.arrow)!=null&&t.alignmentOffset)return{};const O=fi(o),B=vs(h),U=fi(h)===h,H=await(p.isRTL==null?void 0:p.isRTL(m.floating)),W=w||(U||!E?[kh(h)]:y6(h)),Z=P!=="none";!w&&Z&&W.push(..._6(h,E,P,H));const R=[h,...W],S=await qc(e,T),M=[];let V=((n=l.flip)==null?void 0:n.overflows)||[];if(y&&M.push(S[O]),x){const de=x6(o,u,H);M.push(S[de[0]],S[de[1]])}if(V=[...V,{placement:o,overflows:M}],!M.every(de=>de<=0)){var D,I;const de=(((D=l.flip)==null?void 0:D.index)||0)+1,oe=R[de];if(oe&&(!(x==="alignment"?B!==vs(oe):!1)||V.every($=>vs($.placement)===B?$.overflows[0]>0:!0)))return{data:{index:de,overflows:V},reset:{placement:oe}};let K=(I=V.filter(q=>q.overflows[0]<=0).sort((q,$)=>q.overflows[1]-$.overflows[1])[0])==null?void 0:I.placement;if(!K)switch(k){case"bestFit":{var C;const q=(C=V.filter($=>{if(Z){const se=vs($.placement);return se===B||se==="y"}return!0}).map($=>[$.placement,$.overflows.filter(se=>se>0).reduce((se,ie)=>se+ie,0)]).sort(($,se)=>$[1]-se[1])[0])==null?void 0:C[0];q&&(K=q);break}case"initialPlacement":K=h;break}if(o!==K)return{reset:{placement:K}}}return{}}}};function Zb(r,e){return{top:r.top-e.height,right:r.right-e.width,bottom:r.bottom-e.height,left:r.left-e.width}}function ew(r){return f6.some(e=>r[e]>=0)}const k6=function(r){return r===void 0&&(r={}),{name:"hide",options:r,async fn(e){const{rects:t}=e,{strategy:n="referenceHidden",...o}=hi(r,e);switch(n){case"referenceHidden":{const l=await qc(e,{...o,elementContext:"reference"}),u=Zb(l,t.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:ew(u)}}}case"escaped":{const l=await qc(e,{...o,altBoundary:!0}),u=Zb(l,t.floating);return{data:{escapedOffsets:u,escaped:ew(u)}}}default:return{}}}}},G_=new Set(["left","top"]);async function T6(r,e){const{placement:t,platform:n,elements:o}=r,l=await(n.isRTL==null?void 0:n.isRTL(o.floating)),u=fi(t),h=Cl(t),p=vs(t)==="y",m=G_.has(u)?-1:1,y=l&&p?-1:1,x=hi(e,r);let{mainAxis:w,crossAxis:k,alignmentAxis:P}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return h&&typeof P=="number"&&(k=h==="end"?P*-1:P),p?{x:k*y,y:w*m}:{x:w*m,y:k*y}}const C6=function(r){return r===void 0&&(r=0),{name:"offset",options:r,async fn(e){var t,n;const{x:o,y:l,placement:u,middlewareData:h}=e,p=await T6(e,r);return u===((t=h.offset)==null?void 0:t.placement)&&(n=h.arrow)!=null&&n.alignmentOffset?{}:{x:o+p.x,y:l+p.y,data:{...p,placement:u}}}}},I6=function(r){return r===void 0&&(r={}),{name:"shift",options:r,async fn(e){const{x:t,y:n,placement:o}=e,{mainAxis:l=!0,crossAxis:u=!1,limiter:h={fn:T=>{let{x:O,y:B}=T;return{x:O,y:B}}},...p}=hi(r,e),m={x:t,y:n},y=await qc(e,p),x=vs(fi(o)),w=vx(x);let k=m[w],P=m[x];if(l){const T=w==="y"?"top":"left",O=w==="y"?"bottom":"right",B=k+y[T],U=k-y[O];k=Qm(B,k,U)}if(u){const T=x==="y"?"top":"left",O=x==="y"?"bottom":"right",B=P+y[T],U=P-y[O];P=Qm(B,P,U)}const E=h.fn({...e,[w]:k,[x]:P});return{...E,data:{x:E.x-t,y:E.y-n,enabled:{[w]:l,[x]:u}}}}}},A6=function(r){return r===void 0&&(r={}),{options:r,fn(e){const{x:t,y:n,placement:o,rects:l,middlewareData:u}=e,{offset:h=0,mainAxis:p=!0,crossAxis:m=!0}=hi(r,e),y={x:t,y:n},x=vs(o),w=vx(x);let k=y[w],P=y[x];const E=hi(h,e),T=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(p){const U=w==="y"?"height":"width",H=l.reference[w]-l.floating[U]+T.mainAxis,W=l.reference[w]+l.reference[U]-T.mainAxis;k<H?k=H:k>W&&(k=W)}if(m){var O,B;const U=w==="y"?"width":"height",H=G_.has(fi(o)),W=l.reference[x]-l.floating[U]+(H&&((O=u.offset)==null?void 0:O[x])||0)+(H?0:T.crossAxis),Z=l.reference[x]+l.reference[U]+(H?0:((B=u.offset)==null?void 0:B[x])||0)-(H?T.crossAxis:0);P<W?P=W:P>Z&&(P=Z)}return{[w]:k,[x]:P}}}},R6=function(r){return r===void 0&&(r={}),{name:"size",options:r,async fn(e){var t,n;const{placement:o,rects:l,platform:u,elements:h}=e,{apply:p=()=>{},...m}=hi(r,e),y=await qc(e,m),x=fi(o),w=Cl(o),k=vs(o)==="y",{width:P,height:E}=l.floating;let T,O;x==="top"||x==="bottom"?(T=x,O=w===(await(u.isRTL==null?void 0:u.isRTL(h.floating))?"start":"end")?"left":"right"):(O=x,T=w==="end"?"top":"bottom");const B=E-y.top-y.bottom,U=P-y.left-y.right,H=lo(E-y[T],B),W=lo(P-y[O],U),Z=!e.middlewareData.shift;let R=H,S=W;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(S=U),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(R=B),Z&&!w){const V=an(y.left,0),D=an(y.right,0),I=an(y.top,0),C=an(y.bottom,0);k?S=P-2*(V!==0||D!==0?V+D:an(y.left,y.right)):R=E-2*(I!==0||C!==0?I+C:an(y.top,y.bottom))}await p({...e,availableWidth:S,availableHeight:R});const M=await u.getDimensions(h.floating);return P!==M.width||E!==M.height?{reset:{rects:!0}}:{}}}};function sf(){return typeof window<"u"}function Il(r){return K_(r)?(r.nodeName||"").toLowerCase():"#document"}function un(r){var e;return(r==null||(e=r.ownerDocument)==null?void 0:e.defaultView)||window}function Ls(r){var e;return(e=(K_(r)?r.ownerDocument:r.document)||window.document)==null?void 0:e.documentElement}function K_(r){return sf()?r instanceof Node||r instanceof un(r).Node:!1}function Qn(r){return sf()?r instanceof Element||r instanceof un(r).Element:!1}function Ps(r){return sf()?r instanceof HTMLElement||r instanceof un(r).HTMLElement:!1}function tw(r){return!sf()||typeof ShadowRoot>"u"?!1:r instanceof ShadowRoot||r instanceof un(r).ShadowRoot}const P6=new Set(["inline","contents"]);function fu(r){const{overflow:e,overflowX:t,overflowY:n,display:o}=Xn(r);return/auto|scroll|overlay|hidden|clip/.test(e+n+t)&&!P6.has(o)}const D6=new Set(["table","td","th"]);function M6(r){return D6.has(Il(r))}const O6=[":popover-open",":modal"];function of(r){return O6.some(e=>{try{return r.matches(e)}catch{return!1}})}const L6=["transform","translate","scale","rotate","perspective"],V6=["transform","translate","scale","rotate","perspective","filter"],$6=["paint","layout","strict","content"];function _x(r){const e=Nx(),t=Qn(r)?Xn(r):r;return L6.some(n=>t[n]?t[n]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||V6.some(n=>(t.willChange||"").includes(n))||$6.some(n=>(t.contain||"").includes(n))}function F6(r){let e=co(r);for(;Ps(e)&&!xl(e);){if(_x(e))return e;if(of(e))return null;e=co(e)}return null}function Nx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const U6=new Set(["html","body","#document"]);function xl(r){return U6.has(Il(r))}function Xn(r){return un(r).getComputedStyle(r)}function af(r){return Qn(r)?{scrollLeft:r.scrollLeft,scrollTop:r.scrollTop}:{scrollLeft:r.scrollX,scrollTop:r.scrollY}}function co(r){if(Il(r)==="html")return r;const e=r.assignedSlot||r.parentNode||tw(r)&&r.host||Ls(r);return tw(e)?e.host:e}function Y_(r){const e=co(r);return xl(e)?r.ownerDocument?r.ownerDocument.body:r.body:Ps(e)&&fu(e)?e:Y_(e)}function Gc(r,e,t){var n;e===void 0&&(e=[]),t===void 0&&(t=!0);const o=Y_(r),l=o===((n=r.ownerDocument)==null?void 0:n.body),u=un(o);if(l){const h=Jm(u);return e.concat(u,u.visualViewport||[],fu(o)?o:[],h&&t?Gc(h):[])}return e.concat(o,Gc(o,[],t))}function Jm(r){return r.parent&&Object.getPrototypeOf(r.parent)?r.frameElement:null}function Q_(r){const e=Xn(r);let t=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const o=Ps(r),l=o?r.offsetWidth:t,u=o?r.offsetHeight:n,h=Sh(t)!==l||Sh(n)!==u;return h&&(t=l,n=u),{width:t,height:n,$:h}}function Ex(r){return Qn(r)?r:r.contextElement}function il(r){const e=Ex(r);if(!Ps(e))return Cs(1);const t=e.getBoundingClientRect(),{width:n,height:o,$:l}=Q_(e);let u=(l?Sh(t.width):t.width)/n,h=(l?Sh(t.height):t.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!h||!Number.isFinite(h))&&(h=1),{x:u,y:h}}const B6=Cs(0);function X_(r){const e=un(r);return!Nx()||!e.visualViewport?B6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function z6(r,e,t){return e===void 0&&(e=!1),!t||e&&t!==un(r)?!1:e}function ta(r,e,t,n){e===void 0&&(e=!1),t===void 0&&(t=!1);const o=r.getBoundingClientRect(),l=Ex(r);let u=Cs(1);e&&(n?Qn(n)&&(u=il(n)):u=il(r));const h=z6(l,t,n)?X_(l):Cs(0);let p=(o.left+h.x)/u.x,m=(o.top+h.y)/u.y,y=o.width/u.x,x=o.height/u.y;if(l){const w=un(l),k=n&&Qn(n)?un(n):n;let P=w,E=Jm(P);for(;E&&n&&k!==P;){const T=il(E),O=E.getBoundingClientRect(),B=Xn(E),U=O.left+(E.clientLeft+parseFloat(B.paddingLeft))*T.x,H=O.top+(E.clientTop+parseFloat(B.paddingTop))*T.y;p*=T.x,m*=T.y,y*=T.x,x*=T.y,p+=U,m+=H,P=un(E),E=Jm(P)}}return Th({width:y,height:x,x:p,y:m})}function lf(r,e){const t=af(r).scrollLeft;return e?e.left+t:ta(Ls(r)).left+t}function J_(r,e){const t=r.getBoundingClientRect(),n=t.left+e.scrollLeft-lf(r,t),o=t.top+e.scrollTop;return{x:n,y:o}}function H6(r){let{elements:e,rect:t,offsetParent:n,strategy:o}=r;const l=o==="fixed",u=Ls(n),h=e?of(e.floating):!1;if(n===u||h&&l)return t;let p={scrollLeft:0,scrollTop:0},m=Cs(1);const y=Cs(0),x=Ps(n);if((x||!x&&!l)&&((Il(n)!=="body"||fu(u))&&(p=af(n)),Ps(n))){const k=ta(n);m=il(n),y.x=k.x+n.clientLeft,y.y=k.y+n.clientTop}const w=u&&!x&&!l?J_(u,p):Cs(0);return{width:t.width*m.x,height:t.height*m.y,x:t.x*m.x-p.scrollLeft*m.x+y.x+w.x,y:t.y*m.y-p.scrollTop*m.y+y.y+w.y}}function W6(r){return Array.from(r.getClientRects())}function q6(r){const e=Ls(r),t=af(r),n=r.ownerDocument.body,o=an(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),l=an(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let u=-t.scrollLeft+lf(r);const h=-t.scrollTop;return Xn(n).direction==="rtl"&&(u+=an(e.clientWidth,n.clientWidth)-o),{width:o,height:l,x:u,y:h}}const rw=25;function G6(r,e){const t=un(r),n=Ls(r),o=t.visualViewport;let l=n.clientWidth,u=n.clientHeight,h=0,p=0;if(o){l=o.width,u=o.height;const y=Nx();(!y||y&&e==="fixed")&&(h=o.offsetLeft,p=o.offsetTop)}const m=lf(n);if(m<=0){const y=n.ownerDocument,x=y.body,w=getComputedStyle(x),k=y.compatMode==="CSS1Compat"&&parseFloat(w.marginLeft)+parseFloat(w.marginRight)||0,P=Math.abs(n.clientWidth-x.clientWidth-k);P<=rw&&(l-=P)}else m<=rw&&(l+=m);return{width:l,height:u,x:h,y:p}}const K6=new Set(["absolute","fixed"]);function Y6(r,e){const t=ta(r,!0,e==="fixed"),n=t.top+r.clientTop,o=t.left+r.clientLeft,l=Ps(r)?il(r):Cs(1),u=r.clientWidth*l.x,h=r.clientHeight*l.y,p=o*l.x,m=n*l.y;return{width:u,height:h,x:p,y:m}}function nw(r,e,t){let n;if(e==="viewport")n=G6(r,t);else if(e==="document")n=q6(Ls(r));else if(Qn(e))n=Y6(e,t);else{const o=X_(r);n={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return Th(n)}function Z_(r,e){const t=co(r);return t===e||!Qn(t)||xl(t)?!1:Xn(t).position==="fixed"||Z_(t,e)}function Q6(r,e){const t=e.get(r);if(t)return t;let n=Gc(r,[],!1).filter(h=>Qn(h)&&Il(h)!=="body"),o=null;const l=Xn(r).position==="fixed";let u=l?co(r):r;for(;Qn(u)&&!xl(u);){const h=Xn(u),p=_x(u);!p&&h.position==="fixed"&&(o=null),(l?!p&&!o:!p&&h.position==="static"&&!!o&&K6.has(o.position)||fu(u)&&!p&&Z_(r,u))?n=n.filter(y=>y!==u):o=h,u=co(u)}return e.set(r,n),n}function X6(r){let{element:e,boundary:t,rootBoundary:n,strategy:o}=r;const u=[...t==="clippingAncestors"?of(e)?[]:Q6(e,this._c):[].concat(t),n],h=u[0],p=u.reduce((m,y)=>{const x=nw(e,y,o);return m.top=an(x.top,m.top),m.right=lo(x.right,m.right),m.bottom=lo(x.bottom,m.bottom),m.left=an(x.left,m.left),m},nw(e,h,o));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function J6(r){const{width:e,height:t}=Q_(r);return{width:e,height:t}}function Z6(r,e,t){const n=Ps(e),o=Ls(e),l=t==="fixed",u=ta(r,!0,l,e);let h={scrollLeft:0,scrollTop:0};const p=Cs(0);function m(){p.x=lf(o)}if(n||!n&&!l)if((Il(e)!=="body"||fu(o))&&(h=af(e)),n){const k=ta(e,!0,l,e);p.x=k.x+e.clientLeft,p.y=k.y+e.clientTop}else o&&m();l&&!n&&o&&m();const y=o&&!n&&!l?J_(o,h):Cs(0),x=u.left+h.scrollLeft-p.x-y.x,w=u.top+h.scrollTop-p.y-y.y;return{x,y:w,width:u.width,height:u.height}}function um(r){return Xn(r).position==="static"}function sw(r,e){if(!Ps(r)||Xn(r).position==="fixed")return null;if(e)return e(r);let t=r.offsetParent;return Ls(r)===t&&(t=t.ownerDocument.body),t}function eN(r,e){const t=un(r);if(of(r))return t;if(!Ps(r)){let o=co(r);for(;o&&!xl(o);){if(Qn(o)&&!um(o))return o;o=co(o)}return t}let n=sw(r,e);for(;n&&M6(n)&&um(n);)n=sw(n,e);return n&&xl(n)&&um(n)&&!_x(n)?t:n||F6(r)||t}const eD=async function(r){const e=this.getOffsetParent||eN,t=this.getDimensions,n=await t(r.floating);return{reference:Z6(r.reference,await e(r.floating),r.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function tD(r){return Xn(r).direction==="rtl"}const rD={convertOffsetParentRelativeRectToViewportRelativeRect:H6,getDocumentElement:Ls,getClippingRect:X6,getOffsetParent:eN,getElementRects:eD,getClientRects:W6,getDimensions:J6,getScale:il,isElement:Qn,isRTL:tD};function tN(r,e){return r.x===e.x&&r.y===e.y&&r.width===e.width&&r.height===e.height}function nD(r,e){let t=null,n;const o=Ls(r);function l(){var h;clearTimeout(n),(h=t)==null||h.disconnect(),t=null}function u(h,p){h===void 0&&(h=!1),p===void 0&&(p=1),l();const m=r.getBoundingClientRect(),{left:y,top:x,width:w,height:k}=m;if(h||e(),!w||!k)return;const P=Rd(x),E=Rd(o.clientWidth-(y+w)),T=Rd(o.clientHeight-(x+k)),O=Rd(y),U={rootMargin:-P+"px "+-E+"px "+-T+"px "+-O+"px",threshold:an(0,lo(1,p))||1};let H=!0;function W(Z){const R=Z[0].intersectionRatio;if(R!==p){if(!H)return u();R?u(!1,R):n=setTimeout(()=>{u(!1,1e-7)},1e3)}R===1&&!tN(m,r.getBoundingClientRect())&&u(),H=!1}try{t=new IntersectionObserver(W,{...U,root:o.ownerDocument})}catch{t=new IntersectionObserver(W,U)}t.observe(r)}return u(!0),l}function sD(r,e,t,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:p=!1}=n,m=Ex(r),y=o||l?[...m?Gc(m):[],...Gc(e)]:[];y.forEach(O=>{o&&O.addEventListener("scroll",t,{passive:!0}),l&&O.addEventListener("resize",t)});const x=m&&h?nD(m,t):null;let w=-1,k=null;u&&(k=new ResizeObserver(O=>{let[B]=O;B&&B.target===m&&k&&(k.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var U;(U=k)==null||U.observe(e)})),t()}),m&&!p&&k.observe(m),k.observe(e));let P,E=p?ta(r):null;p&&T();function T(){const O=ta(r);E&&!tN(E,O)&&t(),E=O,P=requestAnimationFrame(T)}return t(),()=>{var O;y.forEach(B=>{o&&B.removeEventListener("scroll",t),l&&B.removeEventListener("resize",t)}),x?.(),(O=k)==null||O.disconnect(),k=null,p&&cancelAnimationFrame(P)}}const iD=C6,oD=I6,aD=S6,lD=R6,cD=k6,iw=j6,uD=A6,dD=(r,e,t)=>{const n=new Map,o={platform:rD,...t},l={...o.platform,_c:n};return E6(r,e,{...o,platform:l})};var hD=typeof document<"u",fD=function(){},Zd=hD?_.useLayoutEffect:fD;function Ch(r,e){if(r===e)return!0;if(typeof r!=typeof e)return!1;if(typeof r=="function"&&r.toString()===e.toString())return!0;let t,n,o;if(r&&e&&typeof r=="object"){if(Array.isArray(r)){if(t=r.length,t!==e.length)return!1;for(n=t;n--!==0;)if(!Ch(r[n],e[n]))return!1;return!0}if(o=Object.keys(r),t=o.length,t!==Object.keys(e).length)return!1;for(n=t;n--!==0;)if(!{}.hasOwnProperty.call(e,o[n]))return!1;for(n=t;n--!==0;){const l=o[n];if(!(l==="_owner"&&r.$$typeof)&&!Ch(r[l],e[l]))return!1}return!0}return r!==r&&e!==e}function rN(r){return typeof window>"u"?1:(r.ownerDocument.defaultView||window).devicePixelRatio||1}function ow(r,e){const t=rN(r);return Math.round(e*t)/t}function dm(r){const e=_.useRef(r);return Zd(()=>{e.current=r}),e}function pD(r){r===void 0&&(r={});const{placement:e="bottom",strategy:t="absolute",middleware:n=[],platform:o,elements:{reference:l,floating:u}={},transform:h=!0,whileElementsMounted:p,open:m}=r,[y,x]=_.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[w,k]=_.useState(n);Ch(w,n)||k(n);const[P,E]=_.useState(null),[T,O]=_.useState(null),B=_.useCallback($=>{$!==Z.current&&(Z.current=$,E($))},[]),U=_.useCallback($=>{$!==R.current&&(R.current=$,O($))},[]),H=l||P,W=u||T,Z=_.useRef(null),R=_.useRef(null),S=_.useRef(y),M=p!=null,V=dm(p),D=dm(o),I=dm(m),C=_.useCallback(()=>{if(!Z.current||!R.current)return;const $={placement:e,strategy:t,middleware:w};D.current&&($.platform=D.current),dD(Z.current,R.current,$).then(se=>{const ie={...se,isPositioned:I.current!==!1};de.current&&!Ch(S.current,ie)&&(S.current=ie,Qc.flushSync(()=>{x(ie)}))})},[w,e,t,D,I]);Zd(()=>{m===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,x($=>({...$,isPositioned:!1})))},[m]);const de=_.useRef(!1);Zd(()=>(de.current=!0,()=>{de.current=!1}),[]),Zd(()=>{if(H&&(Z.current=H),W&&(R.current=W),H&&W){if(V.current)return V.current(H,W,C);C()}},[H,W,C,V,M]);const oe=_.useMemo(()=>({reference:Z,floating:R,setReference:B,setFloating:U}),[B,U]),K=_.useMemo(()=>({reference:H,floating:W}),[H,W]),q=_.useMemo(()=>{const $={position:t,left:0,top:0};if(!K.floating)return $;const se=ow(K.floating,y.x),ie=ow(K.floating,y.y);return h?{...$,transform:"translate("+se+"px, "+ie+"px)",...rN(K.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:se,top:ie}},[t,h,K.floating,y.x,y.y]);return _.useMemo(()=>({...y,update:C,refs:oe,elements:K,floatingStyles:q}),[y,C,oe,K,q])}const mD=r=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:r,fn(t){const{element:n,padding:o}=typeof r=="function"?r(t):r;return n&&e(n)?n.current!=null?iw({element:n.current,padding:o}).fn(t):{}:n?iw({element:n,padding:o}).fn(t):{}}}},gD=(r,e)=>({...iD(r),options:[r,e]}),xD=(r,e)=>({...oD(r),options:[r,e]}),yD=(r,e)=>({...uD(r),options:[r,e]}),vD=(r,e)=>({...aD(r),options:[r,e]}),bD=(r,e)=>({...lD(r),options:[r,e]}),wD=(r,e)=>({...cD(r),options:[r,e]}),_D=(r,e)=>({...mD(r),options:[r,e]});var ND="Arrow",nN=_.forwardRef((r,e)=>{const{children:t,width:n=10,height:o=5,...l}=r;return i.jsx(lt.svg,{...l,ref:e,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:r.asChild?t:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});nN.displayName=ND;var ED=nN;function sN(r){const[e,t]=_.useState(void 0);return Jt(()=>{if(r){t({width:r.offsetWidth,height:r.offsetHeight});const n=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const l=o[0];let u,h;if("borderBoxSize"in l){const p=l.borderBoxSize,m=Array.isArray(p)?p[0]:p;u=m.inlineSize,h=m.blockSize}else u=r.offsetWidth,h=r.offsetHeight;t({width:u,height:h})});return n.observe(r,{box:"border-box"}),()=>n.unobserve(r)}else t(void 0)},[r]),e}var jx="Popper",[iN,oN]=Tl(jx),[jD,aN]=iN(jx),lN=r=>{const{__scopePopper:e,children:t}=r,[n,o]=_.useState(null);return i.jsx(jD,{scope:e,anchor:n,onAnchorChange:o,children:t})};lN.displayName=jx;var cN="PopperAnchor",uN=_.forwardRef((r,e)=>{const{__scopePopper:t,virtualRef:n,...o}=r,l=aN(cN,t),u=_.useRef(null),h=Lt(e,u),p=_.useRef(null);return _.useEffect(()=>{const m=p.current;p.current=n?.current||u.current,m!==p.current&&l.onAnchorChange(p.current)}),n?null:i.jsx(lt.div,{...o,ref:h})});uN.displayName=cN;var Sx="PopperContent",[SD,kD]=iN(Sx),dN=_.forwardRef((r,e)=>{const{__scopePopper:t,side:n="bottom",sideOffset:o=0,align:l="center",alignOffset:u=0,arrowPadding:h=0,avoidCollisions:p=!0,collisionBoundary:m=[],collisionPadding:y=0,sticky:x="partial",hideWhenDetached:w=!1,updatePositionStrategy:k="optimized",onPlaced:P,...E}=r,T=aN(Sx,t),[O,B]=_.useState(null),U=Lt(e,le=>B(le)),[H,W]=_.useState(null),Z=sN(H),R=Z?.width??0,S=Z?.height??0,M=n+(l!=="center"?"-"+l:""),V=typeof y=="number"?y:{top:0,right:0,bottom:0,left:0,...y},D=Array.isArray(m)?m:[m],I=D.length>0,C={padding:V,boundary:D.filter(CD),altBoundary:I},{refs:de,floatingStyles:oe,placement:K,isPositioned:q,middlewareData:$}=pD({strategy:"fixed",placement:M,whileElementsMounted:(...le)=>sD(...le,{animationFrame:k==="always"}),elements:{reference:T.anchor},middleware:[gD({mainAxis:o+S,alignmentAxis:u}),p&&xD({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?yD():void 0,...C}),p&&vD({...C}),bD({...C,apply:({elements:le,rects:pe,availableWidth:Ie,availableHeight:Pe})=>{const{width:ze,height:We}=pe.reference,mt=le.floating.style;mt.setProperty("--radix-popper-available-width",`${Ie}px`),mt.setProperty("--radix-popper-available-height",`${Pe}px`),mt.setProperty("--radix-popper-anchor-width",`${ze}px`),mt.setProperty("--radix-popper-anchor-height",`${We}px`)}}),H&&_D({element:H,padding:h}),ID({arrowWidth:R,arrowHeight:S}),w&&wD({strategy:"referenceHidden",...C})]}),[se,ie]=pN(K),F=ai(P);Jt(()=>{q&&F?.()},[q,F]);const J=$.arrow?.x,re=$.arrow?.y,te=$.arrow?.centerOffset!==0,[he,ve]=_.useState();return Jt(()=>{O&&ve(window.getComputedStyle(O).zIndex)},[O]),i.jsx("div",{ref:de.setFloating,"data-radix-popper-content-wrapper":"",style:{...oe,transform:q?oe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[$.transformOrigin?.x,$.transformOrigin?.y].join(" "),...$.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:r.dir,children:i.jsx(SD,{scope:t,placedSide:se,onArrowChange:W,arrowX:J,arrowY:re,shouldHideArrow:te,children:i.jsx(lt.div,{"data-side":se,"data-align":ie,...E,ref:U,style:{...E.style,animation:q?void 0:"none"}})})})});dN.displayName=Sx;var hN="PopperArrow",TD={top:"bottom",right:"left",bottom:"top",left:"right"},fN=_.forwardRef(function(e,t){const{__scopePopper:n,...o}=e,l=kD(hN,n),u=TD[l.placedSide];return i.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:i.jsx(ED,{...o,ref:t,style:{...o.style,display:"block"}})})});fN.displayName=hN;function CD(r){return r!==null}var ID=r=>({name:"transformOrigin",options:r,fn(e){const{placement:t,rects:n,middlewareData:o}=e,u=o.arrow?.centerOffset!==0,h=u?0:r.arrowWidth,p=u?0:r.arrowHeight,[m,y]=pN(t),x={start:"0%",center:"50%",end:"100%"}[y],w=(o.arrow?.x??0)+h/2,k=(o.arrow?.y??0)+p/2;let P="",E="";return m==="bottom"?(P=u?x:`${w}px`,E=`${-p}px`):m==="top"?(P=u?x:`${w}px`,E=`${n.floating.height+p}px`):m==="right"?(P=`${-p}px`,E=u?x:`${k}px`):m==="left"&&(P=`${n.floating.width+p}px`,E=u?x:`${k}px`),{data:{x:P,y:E}}}});function pN(r){const[e,t="center"]=r.split("-");return[e,t]}var AD=lN,RD=uN,PD=dN,DD=fN,MD="Portal",mN=_.forwardRef((r,e)=>{const{container:t,...n}=r,[o,l]=_.useState(!1);Jt(()=>l(!0),[]);const u=t||o&&globalThis?.document?.body;return u?r1.createPortal(i.jsx(lt.div,{...n,ref:e}),u):null});mN.displayName=MD;function OD(r){const e=LD(r),t=_.forwardRef((n,o)=>{const{children:l,...u}=n,h=_.Children.toArray(l),p=h.find($D);if(p){const m=p.props.children,y=h.map(x=>x===p?_.Children.count(m)>1?_.Children.only(null):_.isValidElement(m)?m.props.children:null:x);return i.jsx(e,{...u,ref:o,children:_.isValidElement(m)?_.cloneElement(m,void 0,y):null})}return i.jsx(e,{...u,ref:o,children:l})});return t.displayName=`${r}.Slot`,t}function LD(r){const e=_.forwardRef((t,n)=>{const{children:o,...l}=t;if(_.isValidElement(o)){const u=UD(o),h=FD(l,o.props);return o.type!==_.Fragment&&(h.ref=n?Yc(n,u):u),_.cloneElement(o,h)}return _.Children.count(o)>1?_.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var VD=Symbol("radix.slottable");function $D(r){return _.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===VD}function FD(r,e){const t={...e};for(const n in e){const o=r[n],l=e[n];/^on[A-Z]/.test(n)?o&&l?t[n]=(...h)=>{const p=l(...h);return o(...h),p}:o&&(t[n]=o):n==="style"?t[n]={...o,...l}:n==="className"&&(t[n]=[o,l].filter(Boolean).join(" "))}return{...r,...t}}function UD(r){let e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}var BD=ag[" useInsertionEffect ".trim().toString()]||Jt;function Kc({prop:r,defaultProp:e,onChange:t=()=>{},caller:n}){const[o,l,u]=zD({defaultProp:e,onChange:t}),h=r!==void 0,p=h?r:o;{const y=_.useRef(r!==void 0);_.useEffect(()=>{const x=y.current;x!==h&&console.warn(`${n} is changing from ${x?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),y.current=h},[h,n])}const m=_.useCallback(y=>{if(h){const x=HD(y)?y(r):y;x!==r&&u.current?.(x)}else l(y)},[h,r,l,u]);return[p,m]}function zD({defaultProp:r,onChange:e}){const[t,n]=_.useState(r),o=_.useRef(t),l=_.useRef(e);return BD(()=>{l.current=e},[e]),_.useEffect(()=>{o.current!==t&&(l.current?.(t),o.current=t)},[t,o]),[t,n,l]}function HD(r){return typeof r=="function"}function gN(r){const e=_.useRef({value:r,previous:r});return _.useMemo(()=>(e.current.value!==r&&(e.current.previous=e.current.value,e.current.value=r),e.current.previous),[r])}var xN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),WD="VisuallyHidden",qD=_.forwardRef((r,e)=>i.jsx(lt.span,{...r,ref:e,style:{...xN,...r.style}}));qD.displayName=WD;var GD=function(r){if(typeof document>"u")return null;var e=Array.isArray(r)?r[0]:r;return e.ownerDocument.body},Wa=new WeakMap,Pd=new WeakMap,Dd={},hm=0,yN=function(r){return r&&(r.host||yN(r.parentNode))},KD=function(r,e){return e.map(function(t){if(r.contains(t))return t;var n=yN(t);return n&&r.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",r,". Doing nothing"),null)}).filter(function(t){return!!t})},YD=function(r,e,t,n){var o=KD(e,Array.isArray(r)?r:[r]);Dd[t]||(Dd[t]=new WeakMap);var l=Dd[t],u=[],h=new Set,p=new Set(o),m=function(x){!x||h.has(x)||(h.add(x),m(x.parentNode))};o.forEach(m);var y=function(x){!x||p.has(x)||Array.prototype.forEach.call(x.children,function(w){if(h.has(w))y(w);else try{var k=w.getAttribute(n),P=k!==null&&k!=="false",E=(Wa.get(w)||0)+1,T=(l.get(w)||0)+1;Wa.set(w,E),l.set(w,T),u.push(w),E===1&&P&&Pd.set(w,!0),T===1&&w.setAttribute(t,"true"),P||w.setAttribute(n,"true")}catch(O){console.error("aria-hidden: cannot operate on ",w,O)}})};return y(e),h.clear(),hm++,function(){u.forEach(function(x){var w=Wa.get(x)-1,k=l.get(x)-1;Wa.set(x,w),l.set(x,k),w||(Pd.has(x)||x.removeAttribute(n),Pd.delete(x)),k||x.removeAttribute(t)}),hm--,hm||(Wa=new WeakMap,Wa=new WeakMap,Pd=new WeakMap,Dd={})}},QD=function(r,e,t){t===void 0&&(t="data-aria-hidden");var n=Array.from(Array.isArray(r)?r:[r]),o=GD(r);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live], script"))),YD(n,o,t,"aria-hidden")):function(){return null}},ys=function(){return ys=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},ys.apply(this,arguments)};function vN(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(r);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(r,n[o])&&(t[n[o]]=r[n[o]]);return t}function XD(r,e,t){if(t||arguments.length===2)for(var n=0,o=e.length,l;n<o;n++)(l||!(n in e))&&(l||(l=Array.prototype.slice.call(e,0,n)),l[n]=e[n]);return r.concat(l||Array.prototype.slice.call(e))}var eh="right-scroll-bar-position",th="width-before-scroll-bar",JD="with-scroll-bars-hidden",ZD="--removed-body-scroll-bar-size";function fm(r,e){return typeof r=="function"?r(e):r&&(r.current=e),r}function eM(r,e){var t=_.useState(function(){return{value:r,callback:e,facade:{get current(){return t.value},set current(n){var o=t.value;o!==n&&(t.value=n,t.callback(n,o))}}}})[0];return t.callback=e,t.facade}var tM=typeof window<"u"?_.useLayoutEffect:_.useEffect,aw=new WeakMap;function rM(r,e){var t=eM(null,function(n){return r.forEach(function(o){return fm(o,n)})});return tM(function(){var n=aw.get(t);if(n){var o=new Set(n),l=new Set(r),u=t.current;o.forEach(function(h){l.has(h)||fm(h,null)}),l.forEach(function(h){o.has(h)||fm(h,u)})}aw.set(t,r)},[r]),t}function nM(r){return r}function sM(r,e){e===void 0&&(e=nM);var t=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:r},useMedium:function(l){var u=e(l,n);return t.push(u),function(){t=t.filter(function(h){return h!==u})}},assignSyncMedium:function(l){for(n=!0;t.length;){var u=t;t=[],u.forEach(l)}t={push:function(h){return l(h)},filter:function(){return t}}},assignMedium:function(l){n=!0;var u=[];if(t.length){var h=t;t=[],h.forEach(l),u=t}var p=function(){var y=u;u=[],y.forEach(l)},m=function(){return Promise.resolve().then(p)};m(),t={push:function(y){u.push(y),m()},filter:function(y){return u=u.filter(y),t}}}};return o}function iM(r){r===void 0&&(r={});var e=sM(null);return e.options=ys({async:!0,ssr:!1},r),e}var bN=function(r){var e=r.sideCar,t=vN(r,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return _.createElement(n,ys({},t))};bN.isSideCarExport=!0;function oM(r,e){return r.useMedium(e),bN}var wN=iM(),pm=function(){},cf=_.forwardRef(function(r,e){var t=_.useRef(null),n=_.useState({onScrollCapture:pm,onWheelCapture:pm,onTouchMoveCapture:pm}),o=n[0],l=n[1],u=r.forwardProps,h=r.children,p=r.className,m=r.removeScrollBar,y=r.enabled,x=r.shards,w=r.sideCar,k=r.noRelative,P=r.noIsolation,E=r.inert,T=r.allowPinchZoom,O=r.as,B=O===void 0?"div":O,U=r.gapMode,H=vN(r,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),W=w,Z=rM([t,e]),R=ys(ys({},H),o);return _.createElement(_.Fragment,null,y&&_.createElement(W,{sideCar:wN,removeScrollBar:m,shards:x,noRelative:k,noIsolation:P,inert:E,setCallbacks:l,allowPinchZoom:!!T,lockRef:t,gapMode:U}),u?_.cloneElement(_.Children.only(h),ys(ys({},R),{ref:Z})):_.createElement(B,ys({},R,{className:p,ref:Z}),h))});cf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};cf.classNames={fullWidth:th,zeroRight:eh};var aM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function lM(){if(!document)return null;var r=document.createElement("style");r.type="text/css";var e=aM();return e&&r.setAttribute("nonce",e),r}function cM(r,e){r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}function uM(r){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(r)}var dM=function(){var r=0,e=null;return{add:function(t){r==0&&(e=lM())&&(cM(e,t),uM(e)),r++},remove:function(){r--,!r&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},hM=function(){var r=dM();return function(e,t){_.useEffect(function(){return r.add(e),function(){r.remove()}},[e&&t])}},_N=function(){var r=hM(),e=function(t){var n=t.styles,o=t.dynamic;return r(n,o),null};return e},fM={left:0,top:0,right:0,gap:0},mm=function(r){return parseInt(r||"",10)||0},pM=function(r){var e=window.getComputedStyle(document.body),t=e[r==="padding"?"paddingLeft":"marginLeft"],n=e[r==="padding"?"paddingTop":"marginTop"],o=e[r==="padding"?"paddingRight":"marginRight"];return[mm(t),mm(n),mm(o)]},mM=function(r){if(r===void 0&&(r="margin"),typeof window>"u")return fM;var e=pM(r),t=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-t+e[2]-e[0])}},gM=_N(),ol="data-scroll-locked",xM=function(r,e,t,n){var o=r.left,l=r.top,u=r.right,h=r.gap;return t===void 0&&(t="margin"),`
  .`.concat(JD,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(h,"px ").concat(n,`;
  }
  body[`).concat(ol,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(n,`;
    `),t==="padding"&&"padding-right: ".concat(h,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(eh,` {
    right: `).concat(h,"px ").concat(n,`;
  }
  
  .`).concat(th,` {
    margin-right: `).concat(h,"px ").concat(n,`;
  }
  
  .`).concat(eh," .").concat(eh,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(th," .").concat(th,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ol,`] {
    `).concat(ZD,": ").concat(h,`px;
  }
`)},lw=function(){var r=parseInt(document.body.getAttribute(ol)||"0",10);return isFinite(r)?r:0},yM=function(){_.useEffect(function(){return document.body.setAttribute(ol,(lw()+1).toString()),function(){var r=lw()-1;r<=0?document.body.removeAttribute(ol):document.body.setAttribute(ol,r.toString())}},[])},vM=function(r){var e=r.noRelative,t=r.noImportant,n=r.gapMode,o=n===void 0?"margin":n;yM();var l=_.useMemo(function(){return mM(o)},[o]);return _.createElement(gM,{styles:xM(l,!e,o,t?"":"!important")})},Zm=!1;if(typeof window<"u")try{var Md=Object.defineProperty({},"passive",{get:function(){return Zm=!0,!0}});window.addEventListener("test",Md,Md),window.removeEventListener("test",Md,Md)}catch{Zm=!1}var qa=Zm?{passive:!1}:!1,bM=function(r){return r.tagName==="TEXTAREA"},NN=function(r,e){if(!(r instanceof Element))return!1;var t=window.getComputedStyle(r);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!bM(r)&&t[e]==="visible")},wM=function(r){return NN(r,"overflowY")},_M=function(r){return NN(r,"overflowX")},cw=function(r,e){var t=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=EN(r,n);if(o){var l=jN(r,n),u=l[1],h=l[2];if(u>h)return!0}n=n.parentNode}while(n&&n!==t.body);return!1},NM=function(r){var e=r.scrollTop,t=r.scrollHeight,n=r.clientHeight;return[e,t,n]},EM=function(r){var e=r.scrollLeft,t=r.scrollWidth,n=r.clientWidth;return[e,t,n]},EN=function(r,e){return r==="v"?wM(e):_M(e)},jN=function(r,e){return r==="v"?NM(e):EM(e)},jM=function(r,e){return r==="h"&&e==="rtl"?-1:1},SM=function(r,e,t,n,o){var l=jM(r,window.getComputedStyle(e).direction),u=l*n,h=t.target,p=e.contains(h),m=!1,y=u>0,x=0,w=0;do{if(!h)break;var k=jN(r,h),P=k[0],E=k[1],T=k[2],O=E-T-l*P;(P||O)&&EN(r,h)&&(x+=O,w+=P);var B=h.parentNode;h=B&&B.nodeType===Node.DOCUMENT_FRAGMENT_NODE?B.host:B}while(!p&&h!==document.body||p&&(e.contains(h)||e===h));return(y&&Math.abs(x)<1||!y&&Math.abs(w)<1)&&(m=!0),m},Od=function(r){return"changedTouches"in r?[r.changedTouches[0].clientX,r.changedTouches[0].clientY]:[0,0]},uw=function(r){return[r.deltaX,r.deltaY]},dw=function(r){return r&&"current"in r?r.current:r},kM=function(r,e){return r[0]===e[0]&&r[1]===e[1]},TM=function(r){return`
  .block-interactivity-`.concat(r,` {pointer-events: none;}
  .allow-interactivity-`).concat(r,` {pointer-events: all;}
`)},CM=0,Ga=[];function IM(r){var e=_.useRef([]),t=_.useRef([0,0]),n=_.useRef(),o=_.useState(CM++)[0],l=_.useState(_N)[0],u=_.useRef(r);_.useEffect(function(){u.current=r},[r]),_.useEffect(function(){if(r.inert){document.body.classList.add("block-interactivity-".concat(o));var E=XD([r.lockRef.current],(r.shards||[]).map(dw),!0).filter(Boolean);return E.forEach(function(T){return T.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),E.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(o))})}}},[r.inert,r.lockRef.current,r.shards]);var h=_.useCallback(function(E,T){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!u.current.allowPinchZoom;var O=Od(E),B=t.current,U="deltaX"in E?E.deltaX:B[0]-O[0],H="deltaY"in E?E.deltaY:B[1]-O[1],W,Z=E.target,R=Math.abs(U)>Math.abs(H)?"h":"v";if("touches"in E&&R==="h"&&Z.type==="range")return!1;var S=cw(R,Z);if(!S)return!0;if(S?W=R:(W=R==="v"?"h":"v",S=cw(R,Z)),!S)return!1;if(!n.current&&"changedTouches"in E&&(U||H)&&(n.current=W),!W)return!0;var M=n.current||W;return SM(M,T,E,M==="h"?U:H)},[]),p=_.useCallback(function(E){var T=E;if(!(!Ga.length||Ga[Ga.length-1]!==l)){var O="deltaY"in T?uw(T):Od(T),B=e.current.filter(function(W){return W.name===T.type&&(W.target===T.target||T.target===W.shadowParent)&&kM(W.delta,O)})[0];if(B&&B.should){T.cancelable&&T.preventDefault();return}if(!B){var U=(u.current.shards||[]).map(dw).filter(Boolean).filter(function(W){return W.contains(T.target)}),H=U.length>0?h(T,U[0]):!u.current.noIsolation;H&&T.cancelable&&T.preventDefault()}}},[]),m=_.useCallback(function(E,T,O,B){var U={name:E,delta:T,target:O,should:B,shadowParent:AM(O)};e.current.push(U),setTimeout(function(){e.current=e.current.filter(function(H){return H!==U})},1)},[]),y=_.useCallback(function(E){t.current=Od(E),n.current=void 0},[]),x=_.useCallback(function(E){m(E.type,uw(E),E.target,h(E,r.lockRef.current))},[]),w=_.useCallback(function(E){m(E.type,Od(E),E.target,h(E,r.lockRef.current))},[]);_.useEffect(function(){return Ga.push(l),r.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:w}),document.addEventListener("wheel",p,qa),document.addEventListener("touchmove",p,qa),document.addEventListener("touchstart",y,qa),function(){Ga=Ga.filter(function(E){return E!==l}),document.removeEventListener("wheel",p,qa),document.removeEventListener("touchmove",p,qa),document.removeEventListener("touchstart",y,qa)}},[]);var k=r.removeScrollBar,P=r.inert;return _.createElement(_.Fragment,null,P?_.createElement(l,{styles:TM(o)}):null,k?_.createElement(vM,{noRelative:r.noRelative,gapMode:r.gapMode}):null)}function AM(r){for(var e=null;r!==null;)r instanceof ShadowRoot&&(e=r.host,r=r.host),r=r.parentNode;return e}const RM=oM(wN,IM);var SN=_.forwardRef(function(r,e){return _.createElement(cf,ys({},r,{ref:e,sideCar:RM}))});SN.classNames=cf.classNames;var PM=[" ","Enter","ArrowUp","ArrowDown"],DM=[" ","Enter"],ra="Select",[uf,df,MM]=F_(ra),[Al]=Tl(ra,[MM,oN]),hf=oN(),[OM,mo]=Al(ra),[LM,VM]=Al(ra),kN=r=>{const{__scopeSelect:e,children:t,open:n,defaultOpen:o,onOpenChange:l,value:u,defaultValue:h,onValueChange:p,dir:m,name:y,autoComplete:x,disabled:w,required:k,form:P}=r,E=hf(e),[T,O]=_.useState(null),[B,U]=_.useState(null),[H,W]=_.useState(!1),Z=yx(m),[R,S]=Kc({prop:n,defaultProp:o??!1,onChange:l,caller:ra}),[M,V]=Kc({prop:u,defaultProp:h,onChange:p,caller:ra}),D=_.useRef(null),I=T?P||!!T.closest("form"):!0,[C,de]=_.useState(new Set),oe=Array.from(C).map(K=>K.props.value).join(";");return i.jsx(AD,{...E,children:i.jsxs(OM,{required:k,scope:e,trigger:T,onTriggerChange:O,valueNode:B,onValueNodeChange:U,valueNodeHasChildren:H,onValueNodeHasChildrenChange:W,contentId:hu(),value:M,onValueChange:V,open:R,onOpenChange:S,dir:Z,triggerPointerDownPosRef:D,disabled:w,children:[i.jsx(uf.Provider,{scope:e,children:i.jsx(LM,{scope:r.__scopeSelect,onNativeOptionAdd:_.useCallback(K=>{de(q=>new Set(q).add(K))},[]),onNativeOptionRemove:_.useCallback(K=>{de(q=>{const $=new Set(q);return $.delete(K),$})},[]),children:t})}),I?i.jsxs(YN,{"aria-hidden":!0,required:k,tabIndex:-1,name:y,autoComplete:x,value:M,onChange:K=>V(K.target.value),disabled:w,form:P,children:[M===void 0?i.jsx("option",{value:""}):null,Array.from(C)]},oe):null]})})};kN.displayName=ra;var TN="SelectTrigger",CN=_.forwardRef((r,e)=>{const{__scopeSelect:t,disabled:n=!1,...o}=r,l=hf(t),u=mo(TN,t),h=u.disabled||n,p=Lt(e,u.onTriggerChange),m=df(t),y=_.useRef("touch"),[x,w,k]=XN(E=>{const T=m().filter(U=>!U.disabled),O=T.find(U=>U.value===u.value),B=JN(T,E,O);B!==void 0&&u.onValueChange(B.value)}),P=E=>{h||(u.onOpenChange(!0),k()),E&&(u.triggerPointerDownPosRef.current={x:Math.round(E.pageX),y:Math.round(E.pageY)})};return i.jsx(RD,{asChild:!0,...l,children:i.jsx(lt.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":QN(u.value)?"":void 0,...o,ref:p,onClick:it(o.onClick,E=>{E.currentTarget.focus(),y.current!=="mouse"&&P(E)}),onPointerDown:it(o.onPointerDown,E=>{y.current=E.pointerType;const T=E.target;T.hasPointerCapture(E.pointerId)&&T.releasePointerCapture(E.pointerId),E.button===0&&E.ctrlKey===!1&&E.pointerType==="mouse"&&(P(E),E.preventDefault())}),onKeyDown:it(o.onKeyDown,E=>{const T=x.current!=="";!(E.ctrlKey||E.altKey||E.metaKey)&&E.key.length===1&&w(E.key),!(T&&E.key===" ")&&PM.includes(E.key)&&(P(),E.preventDefault())})})})});CN.displayName=TN;var IN="SelectValue",AN=_.forwardRef((r,e)=>{const{__scopeSelect:t,className:n,style:o,children:l,placeholder:u="",...h}=r,p=mo(IN,t),{onValueNodeHasChildrenChange:m}=p,y=l!==void 0,x=Lt(e,p.onValueNodeChange);return Jt(()=>{m(y)},[m,y]),i.jsx(lt.span,{...h,ref:x,style:{pointerEvents:"none"},children:QN(p.value)?i.jsx(i.Fragment,{children:u}):l})});AN.displayName=IN;var $M="SelectIcon",RN=_.forwardRef((r,e)=>{const{__scopeSelect:t,children:n,...o}=r;return i.jsx(lt.span,{"aria-hidden":!0,...o,ref:e,children:n||""})});RN.displayName=$M;var FM="SelectPortal",PN=r=>i.jsx(mN,{asChild:!0,...r});PN.displayName=FM;var na="SelectContent",DN=_.forwardRef((r,e)=>{const t=mo(na,r.__scopeSelect),[n,o]=_.useState();if(Jt(()=>{o(new DocumentFragment)},[]),!t.open){const l=n;return l?Qc.createPortal(i.jsx(MN,{scope:r.__scopeSelect,children:i.jsx(uf.Slot,{scope:r.__scopeSelect,children:i.jsx("div",{children:r.children})})}),l):null}return i.jsx(ON,{...r,ref:e})});DN.displayName=na;var Un=10,[MN,go]=Al(na),UM="SelectContentImpl",BM=OD("SelectContent.RemoveScroll"),ON=_.forwardRef((r,e)=>{const{__scopeSelect:t,position:n="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:l,onPointerDownOutside:u,side:h,sideOffset:p,align:m,alignOffset:y,arrowPadding:x,collisionBoundary:w,collisionPadding:k,sticky:P,hideWhenDetached:E,avoidCollisions:T,...O}=r,B=mo(na,t),[U,H]=_.useState(null),[W,Z]=_.useState(null),R=Lt(e,le=>H(le)),[S,M]=_.useState(null),[V,D]=_.useState(null),I=df(t),[C,de]=_.useState(!1),oe=_.useRef(!1);_.useEffect(()=>{if(U)return QD(U)},[U]),n6();const K=_.useCallback(le=>{const[pe,...Ie]=I().map(We=>We.ref.current),[Pe]=Ie.slice(-1),ze=document.activeElement;for(const We of le)if(We===ze||(We?.scrollIntoView({block:"nearest"}),We===pe&&W&&(W.scrollTop=0),We===Pe&&W&&(W.scrollTop=W.scrollHeight),We?.focus(),document.activeElement!==ze))return},[I,W]),q=_.useCallback(()=>K([S,U]),[K,S,U]);_.useEffect(()=>{C&&q()},[C,q]);const{onOpenChange:$,triggerPointerDownPosRef:se}=B;_.useEffect(()=>{if(U){let le={x:0,y:0};const pe=Pe=>{le={x:Math.abs(Math.round(Pe.pageX)-(se.current?.x??0)),y:Math.abs(Math.round(Pe.pageY)-(se.current?.y??0))}},Ie=Pe=>{le.x<=10&&le.y<=10?Pe.preventDefault():U.contains(Pe.target)||$(!1),document.removeEventListener("pointermove",pe),se.current=null};return se.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",Ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",Ie,{capture:!0})}}},[U,$,se]),_.useEffect(()=>{const le=()=>$(!1);return window.addEventListener("blur",le),window.addEventListener("resize",le),()=>{window.removeEventListener("blur",le),window.removeEventListener("resize",le)}},[$]);const[ie,F]=XN(le=>{const pe=I().filter(ze=>!ze.disabled),Ie=pe.find(ze=>ze.ref.current===document.activeElement),Pe=JN(pe,le,Ie);Pe&&setTimeout(()=>Pe.ref.current.focus())}),J=_.useCallback((le,pe,Ie)=>{const Pe=!oe.current&&!Ie;(B.value!==void 0&&B.value===pe||Pe)&&(M(le),Pe&&(oe.current=!0))},[B.value]),re=_.useCallback(()=>U?.focus(),[U]),te=_.useCallback((le,pe,Ie)=>{const Pe=!oe.current&&!Ie;(B.value!==void 0&&B.value===pe||Pe)&&D(le)},[B.value]),he=n==="popper"?eg:LN,ve=he===eg?{side:h,sideOffset:p,align:m,alignOffset:y,arrowPadding:x,collisionBoundary:w,collisionPadding:k,sticky:P,hideWhenDetached:E,avoidCollisions:T}:{};return i.jsx(MN,{scope:t,content:U,viewport:W,onViewportChange:Z,itemRefCallback:J,selectedItem:S,onItemLeave:re,itemTextRefCallback:te,focusSelectedItem:q,selectedItemText:V,position:n,isPositioned:C,searchRef:ie,children:i.jsx(SN,{as:BM,allowPinchZoom:!0,children:i.jsx(H_,{asChild:!0,trapped:B.open,onMountAutoFocus:le=>{le.preventDefault()},onUnmountAutoFocus:it(o,le=>{B.trigger?.focus({preventScroll:!0}),le.preventDefault()}),children:i.jsx(B_,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:le=>le.preventDefault(),onDismiss:()=>B.onOpenChange(!1),children:i.jsx(he,{role:"listbox",id:B.contentId,"data-state":B.open?"open":"closed",dir:B.dir,onContextMenu:le=>le.preventDefault(),...O,...ve,onPlaced:()=>de(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...O.style},onKeyDown:it(O.onKeyDown,le=>{const pe=le.ctrlKey||le.altKey||le.metaKey;if(le.key==="Tab"&&le.preventDefault(),!pe&&le.key.length===1&&F(le.key),["ArrowUp","ArrowDown","Home","End"].includes(le.key)){let Pe=I().filter(ze=>!ze.disabled).map(ze=>ze.ref.current);if(["ArrowUp","End"].includes(le.key)&&(Pe=Pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(le.key)){const ze=le.target,We=Pe.indexOf(ze);Pe=Pe.slice(We+1)}setTimeout(()=>K(Pe)),le.preventDefault()}})})})})})})});ON.displayName=UM;var zM="SelectItemAlignedPosition",LN=_.forwardRef((r,e)=>{const{__scopeSelect:t,onPlaced:n,...o}=r,l=mo(na,t),u=go(na,t),[h,p]=_.useState(null),[m,y]=_.useState(null),x=Lt(e,R=>y(R)),w=df(t),k=_.useRef(!1),P=_.useRef(!0),{viewport:E,selectedItem:T,selectedItemText:O,focusSelectedItem:B}=u,U=_.useCallback(()=>{if(l.trigger&&l.valueNode&&h&&m&&E&&T&&O){const R=l.trigger.getBoundingClientRect(),S=m.getBoundingClientRect(),M=l.valueNode.getBoundingClientRect(),V=O.getBoundingClientRect();if(l.dir!=="rtl"){const ze=V.left-S.left,We=M.left-ze,mt=R.left-We,$t=R.width+mt,dn=Math.max($t,S.width),gr=window.innerWidth-Un,be=Ub(We,[Un,Math.max(Un,gr-dn)]);h.style.minWidth=$t+"px",h.style.left=be+"px"}else{const ze=S.right-V.right,We=window.innerWidth-M.right-ze,mt=window.innerWidth-R.right-We,$t=R.width+mt,dn=Math.max($t,S.width),gr=window.innerWidth-Un,be=Ub(We,[Un,Math.max(Un,gr-dn)]);h.style.minWidth=$t+"px",h.style.right=be+"px"}const D=w(),I=window.innerHeight-Un*2,C=E.scrollHeight,de=window.getComputedStyle(m),oe=parseInt(de.borderTopWidth,10),K=parseInt(de.paddingTop,10),q=parseInt(de.borderBottomWidth,10),$=parseInt(de.paddingBottom,10),se=oe+K+C+$+q,ie=Math.min(T.offsetHeight*5,se),F=window.getComputedStyle(E),J=parseInt(F.paddingTop,10),re=parseInt(F.paddingBottom,10),te=R.top+R.height/2-Un,he=I-te,ve=T.offsetHeight/2,le=T.offsetTop+ve,pe=oe+K+le,Ie=se-pe;if(pe<=te){const ze=D.length>0&&T===D[D.length-1].ref.current;h.style.bottom="0px";const We=m.clientHeight-E.offsetTop-E.offsetHeight,mt=Math.max(he,ve+(ze?re:0)+We+q),$t=pe+mt;h.style.height=$t+"px"}else{const ze=D.length>0&&T===D[0].ref.current;h.style.top="0px";const mt=Math.max(te,oe+E.offsetTop+(ze?J:0)+ve)+Ie;h.style.height=mt+"px",E.scrollTop=pe-te+E.offsetTop}h.style.margin=`${Un}px 0`,h.style.minHeight=ie+"px",h.style.maxHeight=I+"px",n?.(),requestAnimationFrame(()=>k.current=!0)}},[w,l.trigger,l.valueNode,h,m,E,T,O,l.dir,n]);Jt(()=>U(),[U]);const[H,W]=_.useState();Jt(()=>{m&&W(window.getComputedStyle(m).zIndex)},[m]);const Z=_.useCallback(R=>{R&&P.current===!0&&(U(),B?.(),P.current=!1)},[U,B]);return i.jsx(WM,{scope:t,contentWrapper:h,shouldExpandOnScrollRef:k,onScrollButtonChange:Z,children:i.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:H},children:i.jsx(lt.div,{...o,ref:x,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});LN.displayName=zM;var HM="SelectPopperPosition",eg=_.forwardRef((r,e)=>{const{__scopeSelect:t,align:n="start",collisionPadding:o=Un,...l}=r,u=hf(t);return i.jsx(PD,{...u,...l,ref:e,align:n,collisionPadding:o,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});eg.displayName=HM;var[WM,kx]=Al(na,{}),tg="SelectViewport",VN=_.forwardRef((r,e)=>{const{__scopeSelect:t,nonce:n,...o}=r,l=go(tg,t),u=kx(tg,t),h=Lt(e,l.onViewportChange),p=_.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(uf.Slot,{scope:t,children:i.jsx(lt.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:h,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:it(o.onScroll,m=>{const y=m.currentTarget,{contentWrapper:x,shouldExpandOnScrollRef:w}=u;if(w?.current&&x){const k=Math.abs(p.current-y.scrollTop);if(k>0){const P=window.innerHeight-Un*2,E=parseFloat(x.style.minHeight),T=parseFloat(x.style.height),O=Math.max(E,T);if(O<P){const B=O+k,U=Math.min(P,B),H=B-U;x.style.height=U+"px",x.style.bottom==="0px"&&(y.scrollTop=H>0?H:0,x.style.justifyContent="flex-end")}}}p.current=y.scrollTop})})})]})});VN.displayName=tg;var $N="SelectGroup",[qM,GM]=Al($N),KM=_.forwardRef((r,e)=>{const{__scopeSelect:t,...n}=r,o=hu();return i.jsx(qM,{scope:t,id:o,children:i.jsx(lt.div,{role:"group","aria-labelledby":o,...n,ref:e})})});KM.displayName=$N;var FN="SelectLabel",YM=_.forwardRef((r,e)=>{const{__scopeSelect:t,...n}=r,o=GM(FN,t);return i.jsx(lt.div,{id:o.id,...n,ref:e})});YM.displayName=FN;var Ih="SelectItem",[QM,UN]=Al(Ih),BN=_.forwardRef((r,e)=>{const{__scopeSelect:t,value:n,disabled:o=!1,textValue:l,...u}=r,h=mo(Ih,t),p=go(Ih,t),m=h.value===n,[y,x]=_.useState(l??""),[w,k]=_.useState(!1),P=Lt(e,B=>p.itemRefCallback?.(B,n,o)),E=hu(),T=_.useRef("touch"),O=()=>{o||(h.onValueChange(n),h.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(QM,{scope:t,value:n,disabled:o,textId:E,isSelected:m,onItemTextChange:_.useCallback(B=>{x(U=>U||(B?.textContent??"").trim())},[]),children:i.jsx(uf.ItemSlot,{scope:t,value:n,disabled:o,textValue:y,children:i.jsx(lt.div,{role:"option","aria-labelledby":E,"data-highlighted":w?"":void 0,"aria-selected":m&&w,"data-state":m?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...u,ref:P,onFocus:it(u.onFocus,()=>k(!0)),onBlur:it(u.onBlur,()=>k(!1)),onClick:it(u.onClick,()=>{T.current!=="mouse"&&O()}),onPointerUp:it(u.onPointerUp,()=>{T.current==="mouse"&&O()}),onPointerDown:it(u.onPointerDown,B=>{T.current=B.pointerType}),onPointerMove:it(u.onPointerMove,B=>{T.current=B.pointerType,o?p.onItemLeave?.():T.current==="mouse"&&B.currentTarget.focus({preventScroll:!0})}),onPointerLeave:it(u.onPointerLeave,B=>{B.currentTarget===document.activeElement&&p.onItemLeave?.()}),onKeyDown:it(u.onKeyDown,B=>{p.searchRef?.current!==""&&B.key===" "||(DM.includes(B.key)&&O(),B.key===" "&&B.preventDefault())})})})})});BN.displayName=Ih;var Tc="SelectItemText",zN=_.forwardRef((r,e)=>{const{__scopeSelect:t,className:n,style:o,...l}=r,u=mo(Tc,t),h=go(Tc,t),p=UN(Tc,t),m=VM(Tc,t),[y,x]=_.useState(null),w=Lt(e,O=>x(O),p.onItemTextChange,O=>h.itemTextRefCallback?.(O,p.value,p.disabled)),k=y?.textContent,P=_.useMemo(()=>i.jsx("option",{value:p.value,disabled:p.disabled,children:k},p.value),[p.disabled,p.value,k]),{onNativeOptionAdd:E,onNativeOptionRemove:T}=m;return Jt(()=>(E(P),()=>T(P)),[E,T,P]),i.jsxs(i.Fragment,{children:[i.jsx(lt.span,{id:p.textId,...l,ref:w}),p.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Qc.createPortal(l.children,u.valueNode):null]})});zN.displayName=Tc;var HN="SelectItemIndicator",WN=_.forwardRef((r,e)=>{const{__scopeSelect:t,...n}=r;return UN(HN,t).isSelected?i.jsx(lt.span,{"aria-hidden":!0,...n,ref:e}):null});WN.displayName=HN;var rg="SelectScrollUpButton",qN=_.forwardRef((r,e)=>{const t=go(rg,r.__scopeSelect),n=kx(rg,r.__scopeSelect),[o,l]=_.useState(!1),u=Lt(e,n.onScrollButtonChange);return Jt(()=>{if(t.viewport&&t.isPositioned){let h=function(){const m=p.scrollTop>0;l(m)};const p=t.viewport;return h(),p.addEventListener("scroll",h),()=>p.removeEventListener("scroll",h)}},[t.viewport,t.isPositioned]),o?i.jsx(KN,{...r,ref:u,onAutoScroll:()=>{const{viewport:h,selectedItem:p}=t;h&&p&&(h.scrollTop=h.scrollTop-p.offsetHeight)}}):null});qN.displayName=rg;var ng="SelectScrollDownButton",GN=_.forwardRef((r,e)=>{const t=go(ng,r.__scopeSelect),n=kx(ng,r.__scopeSelect),[o,l]=_.useState(!1),u=Lt(e,n.onScrollButtonChange);return Jt(()=>{if(t.viewport&&t.isPositioned){let h=function(){const m=p.scrollHeight-p.clientHeight,y=Math.ceil(p.scrollTop)<m;l(y)};const p=t.viewport;return h(),p.addEventListener("scroll",h),()=>p.removeEventListener("scroll",h)}},[t.viewport,t.isPositioned]),o?i.jsx(KN,{...r,ref:u,onAutoScroll:()=>{const{viewport:h,selectedItem:p}=t;h&&p&&(h.scrollTop=h.scrollTop+p.offsetHeight)}}):null});GN.displayName=ng;var KN=_.forwardRef((r,e)=>{const{__scopeSelect:t,onAutoScroll:n,...o}=r,l=go("SelectScrollButton",t),u=_.useRef(null),h=df(t),p=_.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return _.useEffect(()=>()=>p(),[p]),Jt(()=>{h().find(y=>y.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[h]),i.jsx(lt.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:it(o.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(n,50))}),onPointerMove:it(o.onPointerMove,()=>{l.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(n,50))}),onPointerLeave:it(o.onPointerLeave,()=>{p()})})}),XM="SelectSeparator",JM=_.forwardRef((r,e)=>{const{__scopeSelect:t,...n}=r;return i.jsx(lt.div,{"aria-hidden":!0,...n,ref:e})});JM.displayName=XM;var sg="SelectArrow",ZM=_.forwardRef((r,e)=>{const{__scopeSelect:t,...n}=r,o=hf(t),l=mo(sg,t),u=go(sg,t);return l.open&&u.position==="popper"?i.jsx(DD,{...o,...n,ref:e}):null});ZM.displayName=sg;var eO="SelectBubbleInput",YN=_.forwardRef(({__scopeSelect:r,value:e,...t},n)=>{const o=_.useRef(null),l=Lt(n,o),u=gN(e);return _.useEffect(()=>{const h=o.current;if(!h)return;const p=window.HTMLSelectElement.prototype,y=Object.getOwnPropertyDescriptor(p,"value").set;if(u!==e&&y){const x=new Event("change",{bubbles:!0});y.call(h,e),h.dispatchEvent(x)}},[u,e]),i.jsx(lt.select,{...t,style:{...xN,...t.style},ref:l,defaultValue:e})});YN.displayName=eO;function QN(r){return r===""||r===void 0}function XN(r){const e=ai(r),t=_.useRef(""),n=_.useRef(0),o=_.useCallback(u=>{const h=t.current+u;e(h),(function p(m){t.current=m,window.clearTimeout(n.current),m!==""&&(n.current=window.setTimeout(()=>p(""),1e3))})(h)},[e]),l=_.useCallback(()=>{t.current="",window.clearTimeout(n.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(n.current),[]),[t,o,l]}function JN(r,e,t){const o=e.length>1&&Array.from(e).every(m=>m===e[0])?e[0]:e,l=t?r.indexOf(t):-1;let u=tO(r,Math.max(l,0));o.length===1&&(u=u.filter(m=>m!==t));const p=u.find(m=>m.textValue.toLowerCase().startsWith(o.toLowerCase()));return p!==t?p:void 0}function tO(r,e){return r.map((t,n)=>r[(e+n)%r.length])}var rO=kN,nO=CN,sO=AN,iO=RN,oO=PN,aO=DN,lO=VN,cO=BN,uO=zN,dO=WN,hO=qN,fO=GN;function ZN({...r}){return i.jsx(rO,{"data-slot":"select",...r})}function eE({...r}){return i.jsx(sO,{"data-slot":"select-value",...r})}function tE({className:r,size:e="default",children:t,...n}){return i.jsxs(nO,{"data-slot":"select-trigger","data-size":e,className:Xt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...n,children:[t,i.jsx(iO,{asChild:!0,children:i.jsx(lg,{className:"size-4 opacity-50"})})]})}function rE({className:r,children:e,position:t="popper",...n}){return i.jsx(oO,{children:i.jsxs(aO,{"data-slot":"select-content",className:Xt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:t,...n,children:[i.jsx(pO,{}),i.jsx(lO,{className:Xt("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),i.jsx(mO,{})]})})}function Ja({className:r,children:e,...t}){return i.jsxs(cO,{"data-slot":"select-item",className:Xt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",r),...t,children:[i.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:i.jsx(dO,{children:i.jsx(kw,{className:"size-4"})})}),i.jsx(uO,{children:e})]})}function pO({className:r,...e}){return i.jsx(hO,{"data-slot":"select-scroll-up-button",className:Xt("flex cursor-default items-center justify-center py-1",r),...e,children:i.jsx(Cw,{className:"size-4"})})}function mO({className:r,...e}){return i.jsx(fO,{"data-slot":"select-scroll-down-button",className:Xt("flex cursor-default items-center justify-center py-1",r),...e,children:i.jsx(lg,{className:"size-4"})})}var gO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xO=gO.reduce((r,e)=>{const t=dg(`Primitive.${e}`),n=_.forwardRef((o,l)=>{const{asChild:u,...h}=o,p=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(p,{...h,ref:l})});return n.displayName=`Primitive.${e}`,{...r,[e]:n}},{}),yO="Label",nE=_.forwardRef((r,e)=>i.jsx(xO.label,{...r,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(r.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));nE.displayName=yO;var vO=nE;function Rr({className:r,...e}){return i.jsx(vO,{"data-slot":"label",className:Xt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...e})}function bO(r){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e.appendChild(t),t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}const wO=r=>{switch(r){case"success":return EO;case"info":return SO;case"warning":return jO;case"error":return kO;default:return null}},_O=Array(12).fill(0),NO=({visible:r,className:e})=>xe.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":r},xe.createElement("div",{className:"sonner-spinner"},_O.map((t,n)=>xe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),EO=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),jO=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),SO=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),kO=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},xe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),TO=xe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},xe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),xe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),CO=()=>{const[r,e]=xe.useState(document.hidden);return xe.useEffect(()=>{const t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),r};let ig=1;class IO{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:n,...o}=e,l=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:ig++,u=this.toasts.find(p=>p.id===l),h=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),u?this.toasts=this.toasts.map(p=>p.id===l?(this.publish({...p,...e,id:l,title:n}),{...p,...e,id:l,dismissible:h,title:n}):p):this.addToast({title:n,...o,dismissible:h,id:l}),l},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));const o=Promise.resolve(e instanceof Function?e():e);let l=n!==void 0,u;const h=o.then(async m=>{if(u=["resolve",m],xe.isValidElement(m))l=!1,this.create({id:n,type:"default",message:m});else if(RO(m)&&!m.ok){l=!1;const x=typeof t.error=="function"?await t.error(`HTTP error! status: ${m.status}`):t.error,w=typeof t.description=="function"?await t.description(`HTTP error! status: ${m.status}`):t.description,P=typeof x=="object"&&!xe.isValidElement(x)?x:{message:x};this.create({id:n,type:"error",description:w,...P})}else if(m instanceof Error){l=!1;const x=typeof t.error=="function"?await t.error(m):t.error,w=typeof t.description=="function"?await t.description(m):t.description,P=typeof x=="object"&&!xe.isValidElement(x)?x:{message:x};this.create({id:n,type:"error",description:w,...P})}else if(t.success!==void 0){l=!1;const x=typeof t.success=="function"?await t.success(m):t.success,w=typeof t.description=="function"?await t.description(m):t.description,P=typeof x=="object"&&!xe.isValidElement(x)?x:{message:x};this.create({id:n,type:"success",description:w,...P})}}).catch(async m=>{if(u=["reject",m],t.error!==void 0){l=!1;const y=typeof t.error=="function"?await t.error(m):t.error,x=typeof t.description=="function"?await t.description(m):t.description,k=typeof y=="object"&&!xe.isValidElement(y)?y:{message:y};this.create({id:n,type:"error",description:x,...k})}}).finally(()=>{l&&(this.dismiss(n),n=void 0),t.finally==null||t.finally.call(t)}),p=()=>new Promise((m,y)=>h.then(()=>u[0]==="reject"?y(u[1]):m(u[1])).catch(y));return typeof n!="string"&&typeof n!="number"?{unwrap:p}:Object.assign(n,{unwrap:p})},this.custom=(e,t)=>{const n=t?.id||ig++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Wr=new IO,AO=(r,e)=>{const t=e?.id||ig++;return Wr.addToast({title:r,...e,id:t}),t},RO=r=>r&&typeof r=="object"&&"ok"in r&&typeof r.ok=="boolean"&&"status"in r&&typeof r.status=="number",PO=AO,DO=()=>Wr.toasts,MO=()=>Wr.getActiveToasts(),He=Object.assign(PO,{success:Wr.success,info:Wr.info,warning:Wr.warning,error:Wr.error,custom:Wr.custom,message:Wr.message,promise:Wr.promise,dismiss:Wr.dismiss,loading:Wr.loading},{getHistory:DO,getToasts:MO});bO("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Ld(r){return r.label!==void 0}const OO=3,LO="24px",VO="16px",hw=4e3,$O=356,FO=14,UO=45,BO=200;function gs(...r){return r.filter(Boolean).join(" ")}function zO(r){const[e,t]=r.split("-"),n=[];return e&&n.push(e),t&&n.push(t),n}const HO=r=>{var e,t,n,o,l,u,h,p,m;const{invert:y,toast:x,unstyled:w,interacting:k,setHeights:P,visibleToasts:E,heights:T,index:O,toasts:B,expanded:U,removeToast:H,defaultRichColors:W,closeButton:Z,style:R,cancelButtonStyle:S,actionButtonStyle:M,className:V="",descriptionClassName:D="",duration:I,position:C,gap:de,expandByDefault:oe,classNames:K,icons:q,closeButtonAriaLabel:$="Close toast"}=r,[se,ie]=xe.useState(null),[F,J]=xe.useState(null),[re,te]=xe.useState(!1),[he,ve]=xe.useState(!1),[le,pe]=xe.useState(!1),[Ie,Pe]=xe.useState(!1),[ze,We]=xe.useState(!1),[mt,$t]=xe.useState(0),[dn,gr]=xe.useState(0),be=xe.useRef(x.duration||I||hw),Ye=xe.useRef(null),qe=xe.useRef(null),ct=O===0,Zt=O+1<=E,ut=x.type,or=x.dismissible!==!1,ar=x.className||"",Yr=x.descriptionClassName||"",Jn=xe.useMemo(()=>T.findIndex(Oe=>Oe.toastId===x.id)||0,[T,x.id]),mi=xe.useMemo(()=>{var Oe;return(Oe=x.closeButton)!=null?Oe:Z},[x.closeButton,Z]),Tn=xe.useMemo(()=>x.duration||I||hw,[x.duration,I]),gi=xe.useRef(0),Lr=xe.useRef(0),Cn=xe.useRef(0),In=xe.useRef(null),[Zn,xi]=C.split("-"),yi=xe.useMemo(()=>T.reduce((Oe,dt,Pt)=>Pt>=Jn?Oe:Oe+dt.height,0),[T,Jn]),Vr=CO(),vi=x.invert||y,hn=ut==="loading";Lr.current=xe.useMemo(()=>Jn*de+yi,[Jn,yi]),xe.useEffect(()=>{be.current=Tn},[Tn]),xe.useEffect(()=>{te(!0)},[]),xe.useEffect(()=>{const Oe=qe.current;if(Oe){const dt=Oe.getBoundingClientRect().height;return gr(dt),P(Pt=>[{toastId:x.id,height:dt,position:x.position},...Pt]),()=>P(Pt=>Pt.filter(er=>er.toastId!==x.id))}},[P,x.id]),xe.useLayoutEffect(()=>{if(!re)return;const Oe=qe.current,dt=Oe.style.height;Oe.style.height="auto";const Pt=Oe.getBoundingClientRect().height;Oe.style.height=dt,gr(Pt),P(er=>er.find(Ct=>Ct.toastId===x.id)?er.map(Ct=>Ct.toastId===x.id?{...Ct,height:Pt}:Ct):[{toastId:x.id,height:Pt,position:x.position},...er])},[re,x.title,x.description,P,x.id,x.jsx,x.action,x.cancel]);const Tr=xe.useCallback(()=>{ve(!0),$t(Lr.current),P(Oe=>Oe.filter(dt=>dt.toastId!==x.id)),setTimeout(()=>{H(x)},BO)},[x,H,P,Lr]);xe.useEffect(()=>{if(x.promise&&ut==="loading"||x.duration===1/0||x.type==="loading")return;let Oe;return U||k||Vr?(()=>{if(Cn.current<gi.current){const er=new Date().getTime()-gi.current;be.current=be.current-er}Cn.current=new Date().getTime()})():(()=>{be.current!==1/0&&(gi.current=new Date().getTime(),Oe=setTimeout(()=>{x.onAutoClose==null||x.onAutoClose.call(x,x),Tr()},be.current))})(),()=>clearTimeout(Oe)},[U,k,x,ut,Vr,Tr]),xe.useEffect(()=>{x.delete&&(Tr(),x.onDismiss==null||x.onDismiss.call(x,x))},[Tr,x.delete]);function An(){var Oe;if(q?.loading){var dt;return xe.createElement("div",{className:gs(K?.loader,x==null||(dt=x.classNames)==null?void 0:dt.loader,"sonner-loader"),"data-visible":ut==="loading"},q.loading)}return xe.createElement(NO,{className:gs(K?.loader,x==null||(Oe=x.classNames)==null?void 0:Oe.loader),visible:ut==="loading"})}const Rn=x.icon||q?.[ut]||wO(ut);var gt,bi;return xe.createElement("li",{tabIndex:0,ref:qe,className:gs(V,ar,K?.toast,x==null||(e=x.classNames)==null?void 0:e.toast,K?.default,K?.[ut],x==null||(t=x.classNames)==null?void 0:t[ut]),"data-sonner-toast":"","data-rich-colors":(gt=x.richColors)!=null?gt:W,"data-styled":!(x.jsx||x.unstyled||w),"data-mounted":re,"data-promise":!!x.promise,"data-swiped":ze,"data-removed":he,"data-visible":Zt,"data-y-position":Zn,"data-x-position":xi,"data-index":O,"data-front":ct,"data-swiping":le,"data-dismissible":or,"data-type":ut,"data-invert":vi,"data-swipe-out":Ie,"data-swipe-direction":F,"data-expanded":!!(U||oe&&re),"data-testid":x.testId,style:{"--index":O,"--toasts-before":O,"--z-index":B.length-O,"--offset":`${he?mt:Lr.current}px`,"--initial-height":oe?"auto":`${dn}px`,...R,...x.style},onDragEnd:()=>{pe(!1),ie(null),In.current=null},onPointerDown:Oe=>{Oe.button!==2&&(hn||!or||(Ye.current=new Date,$t(Lr.current),Oe.target.setPointerCapture(Oe.pointerId),Oe.target.tagName!=="BUTTON"&&(pe(!0),In.current={x:Oe.clientX,y:Oe.clientY})))},onPointerUp:()=>{var Oe,dt,Pt;if(Ie||!or)return;In.current=null;const er=Number(((Oe=qe.current)==null?void 0:Oe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Cr=Number(((dt=qe.current)==null?void 0:dt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ct=new Date().getTime()-((Pt=Ye.current)==null?void 0:Pt.getTime()),Ft=se==="x"?er:Cr,Qr=Math.abs(Ft)/Ct;if(Math.abs(Ft)>=UO||Qr>.11){$t(Lr.current),x.onDismiss==null||x.onDismiss.call(x,x),J(se==="x"?er>0?"right":"left":Cr>0?"down":"up"),Tr(),Pe(!0);return}else{var Ut,xr;(Ut=qe.current)==null||Ut.style.setProperty("--swipe-amount-x","0px"),(xr=qe.current)==null||xr.style.setProperty("--swipe-amount-y","0px")}We(!1),pe(!1),ie(null)},onPointerMove:Oe=>{var dt,Pt,er;if(!In.current||!or||((dt=window.getSelection())==null?void 0:dt.toString().length)>0)return;const Ct=Oe.clientY-In.current.y,Ft=Oe.clientX-In.current.x;var Qr;const Ut=(Qr=r.swipeDirections)!=null?Qr:zO(C);!se&&(Math.abs(Ft)>1||Math.abs(Ct)>1)&&ie(Math.abs(Ft)>Math.abs(Ct)?"x":"y");let xr={x:0,y:0};const fn=tr=>1/(1.5+Math.abs(tr)/20);if(se==="y"){if(Ut.includes("top")||Ut.includes("bottom"))if(Ut.includes("top")&&Ct<0||Ut.includes("bottom")&&Ct>0)xr.y=Ct;else{const tr=Ct*fn(Ct);xr.y=Math.abs(tr)<Math.abs(Ct)?tr:Ct}}else if(se==="x"&&(Ut.includes("left")||Ut.includes("right")))if(Ut.includes("left")&&Ft<0||Ut.includes("right")&&Ft>0)xr.x=Ft;else{const tr=Ft*fn(Ft);xr.x=Math.abs(tr)<Math.abs(Ft)?tr:Ft}(Math.abs(xr.x)>0||Math.abs(xr.y)>0)&&We(!0),(Pt=qe.current)==null||Pt.style.setProperty("--swipe-amount-x",`${xr.x}px`),(er=qe.current)==null||er.style.setProperty("--swipe-amount-y",`${xr.y}px`)}},mi&&!x.jsx&&ut!=="loading"?xe.createElement("button",{"aria-label":$,"data-disabled":hn,"data-close-button":!0,onClick:hn||!or?()=>{}:()=>{Tr(),x.onDismiss==null||x.onDismiss.call(x,x)},className:gs(K?.closeButton,x==null||(n=x.classNames)==null?void 0:n.closeButton)},(bi=q?.close)!=null?bi:TO):null,(ut||x.icon||x.promise)&&x.icon!==null&&(q?.[ut]!==null||x.icon)?xe.createElement("div",{"data-icon":"",className:gs(K?.icon,x==null||(o=x.classNames)==null?void 0:o.icon)},x.promise||x.type==="loading"&&!x.icon?x.icon||An():null,x.type!=="loading"?Rn:null):null,xe.createElement("div",{"data-content":"",className:gs(K?.content,x==null||(l=x.classNames)==null?void 0:l.content)},xe.createElement("div",{"data-title":"",className:gs(K?.title,x==null||(u=x.classNames)==null?void 0:u.title)},x.jsx?x.jsx:typeof x.title=="function"?x.title():x.title),x.description?xe.createElement("div",{"data-description":"",className:gs(D,Yr,K?.description,x==null||(h=x.classNames)==null?void 0:h.description)},typeof x.description=="function"?x.description():x.description):null),xe.isValidElement(x.cancel)?x.cancel:x.cancel&&Ld(x.cancel)?xe.createElement("button",{"data-button":!0,"data-cancel":!0,style:x.cancelButtonStyle||S,onClick:Oe=>{Ld(x.cancel)&&or&&(x.cancel.onClick==null||x.cancel.onClick.call(x.cancel,Oe),Tr())},className:gs(K?.cancelButton,x==null||(p=x.classNames)==null?void 0:p.cancelButton)},x.cancel.label):null,xe.isValidElement(x.action)?x.action:x.action&&Ld(x.action)?xe.createElement("button",{"data-button":!0,"data-action":!0,style:x.actionButtonStyle||M,onClick:Oe=>{Ld(x.action)&&(x.action.onClick==null||x.action.onClick.call(x.action,Oe),!Oe.defaultPrevented&&Tr())},className:gs(K?.actionButton,x==null||(m=x.classNames)==null?void 0:m.actionButton)},x.action.label):null)};function fw(){if(typeof window>"u"||typeof document>"u")return"ltr";const r=document.documentElement.getAttribute("dir");return r==="auto"||!r?window.getComputedStyle(document.documentElement).direction:r}function WO(r,e){const t={};return[r,e].forEach((n,o)=>{const l=o===1,u=l?"--mobile-offset":"--offset",h=l?VO:LO;function p(m){["top","right","bottom","left"].forEach(y=>{t[`${u}-${y}`]=typeof m=="number"?`${m}px`:m})}typeof n=="number"||typeof n=="string"?p(n):typeof n=="object"?["top","right","bottom","left"].forEach(m=>{n[m]===void 0?t[`${u}-${m}`]=h:t[`${u}-${m}`]=typeof n[m]=="number"?`${n[m]}px`:n[m]}):p(h)}),t}const qO=xe.forwardRef(function(e,t){const{id:n,invert:o,position:l="bottom-right",hotkey:u=["altKey","KeyT"],expand:h,closeButton:p,className:m,offset:y,mobileOffset:x,theme:w="light",richColors:k,duration:P,style:E,visibleToasts:T=OO,toastOptions:O,dir:B=fw(),gap:U=FO,icons:H,containerAriaLabel:W="Notifications"}=e,[Z,R]=xe.useState([]),S=xe.useMemo(()=>n?Z.filter(re=>re.toasterId===n):Z.filter(re=>!re.toasterId),[Z,n]),M=xe.useMemo(()=>Array.from(new Set([l].concat(S.filter(re=>re.position).map(re=>re.position)))),[S,l]),[V,D]=xe.useState([]),[I,C]=xe.useState(!1),[de,oe]=xe.useState(!1),[K,q]=xe.useState(w!=="system"?w:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=xe.useRef(null),se=u.join("+").replace(/Key/g,"").replace(/Digit/g,""),ie=xe.useRef(null),F=xe.useRef(!1),J=xe.useCallback(re=>{R(te=>{var he;return(he=te.find(ve=>ve.id===re.id))!=null&&he.delete||Wr.dismiss(re.id),te.filter(({id:ve})=>ve!==re.id)})},[]);return xe.useEffect(()=>Wr.subscribe(re=>{if(re.dismiss){requestAnimationFrame(()=>{R(te=>te.map(he=>he.id===re.id?{...he,delete:!0}:he))});return}setTimeout(()=>{r1.flushSync(()=>{R(te=>{const he=te.findIndex(ve=>ve.id===re.id);return he!==-1?[...te.slice(0,he),{...te[he],...re},...te.slice(he+1)]:[re,...te]})})})}),[Z]),xe.useEffect(()=>{if(w!=="system"){q(w);return}if(w==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;const re=window.matchMedia("(prefers-color-scheme: dark)");try{re.addEventListener("change",({matches:te})=>{q(te?"dark":"light")})}catch{re.addListener(({matches:he})=>{try{q(he?"dark":"light")}catch(ve){console.error(ve)}})}},[w]),xe.useEffect(()=>{Z.length<=1&&C(!1)},[Z]),xe.useEffect(()=>{const re=te=>{var he;if(u.every(pe=>te[pe]||te.code===pe)){var le;C(!0),(le=$.current)==null||le.focus()}te.code==="Escape"&&(document.activeElement===$.current||(he=$.current)!=null&&he.contains(document.activeElement))&&C(!1)};return document.addEventListener("keydown",re),()=>document.removeEventListener("keydown",re)},[u]),xe.useEffect(()=>{if($.current)return()=>{ie.current&&(ie.current.focus({preventScroll:!0}),ie.current=null,F.current=!1)}},[$.current]),xe.createElement("section",{ref:t,"aria-label":`${W} ${se}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},M.map((re,te)=>{var he;const[ve,le]=re.split("-");return S.length?xe.createElement("ol",{key:re,dir:B==="auto"?fw():B,tabIndex:-1,ref:$,className:m,"data-sonner-toaster":!0,"data-sonner-theme":K,"data-y-position":ve,"data-x-position":le,style:{"--front-toast-height":`${((he=V[0])==null?void 0:he.height)||0}px`,"--width":`${$O}px`,"--gap":`${U}px`,...E,...WO(y,x)},onBlur:pe=>{F.current&&!pe.currentTarget.contains(pe.relatedTarget)&&(F.current=!1,ie.current&&(ie.current.focus({preventScroll:!0}),ie.current=null))},onFocus:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||F.current||(F.current=!0,ie.current=pe.relatedTarget)},onMouseEnter:()=>C(!0),onMouseMove:()=>C(!0),onMouseLeave:()=>{de||C(!1)},onDragEnd:()=>C(!1),onPointerDown:pe=>{pe.target instanceof HTMLElement&&pe.target.dataset.dismissible==="false"||oe(!0)},onPointerUp:()=>oe(!1)},S.filter(pe=>!pe.position&&te===0||pe.position===re).map((pe,Ie)=>{var Pe,ze;return xe.createElement(HO,{key:pe.id,icons:H,index:Ie,toast:pe,defaultRichColors:k,duration:(Pe=O?.duration)!=null?Pe:P,className:O?.className,descriptionClassName:O?.descriptionClassName,invert:o,visibleToasts:T,closeButton:(ze=O?.closeButton)!=null?ze:p,interacting:de,position:re,style:O?.style,unstyled:O?.unstyled,classNames:O?.classNames,cancelButtonStyle:O?.cancelButtonStyle,actionButtonStyle:O?.actionButtonStyle,closeButtonAriaLabel:O?.closeButtonAriaLabel,removeToast:J,toasts:S.filter(We=>We.position==pe.position),heights:V.filter(We=>We.position==pe.position),setHeights:D,expandByDefault:h,gap:U,expanded:I,swipeDirections:e.swipeDirections})})):null}))});async function oi({userId:r,title:e,message:t,type:n,relatedItemId:o,metadata:l={}}){if(!r)throw new Error(" sendNotification: userId is required");const u=Sn(tt,"users",r,"notifications");await R_(u,{title:e,message:t,type:n,relatedItemId:o||null,metadata:l||{},createdAt:D_(),read:!1}),console.log(` Notification sent to ${r}`)}const GO=["Textbook","Furniture","Apparel","Electronics","Sports","Dorm","Vintage","Audio"],pw=[{id:1,name:"Main Library Lobby",hours:"24/7",verified:!0},{id:2,name:"Student Union Entrance",hours:"6am - 11pm",verified:!0},{id:3,name:"Campus Coffee Shop",hours:"7am - 9pm",verified:!0},{id:4,name:"Recreation Center Lobby",hours:"5am - 11pm",verified:!0},{id:5,name:"Dining Hall Commons",hours:"7am - 10pm",verified:!0}];function KO({navigateTo:r,onPublish:e,prefilledCircle:t,customTags:n=[],onAddCustomTag:o}){const{darkMode:l}=Tt(),[u,h]=_.useState([]),[p,m]=_.useState(""),[y,x]=_.useState(""),[w,k]=_.useState(""),[P,E]=_.useState([]),[T,O]=_.useState(""),[B,U]=_.useState(15),[H,W]=_.useState(null),[Z,R]=_.useState(null),[S,M]=_.useState(""),[V,D]=_.useState(""),[I,C]=_.useState(""),[de,oe]=_.useState(""),[K,q]=_.useState(t||null),[$,se]=_.useState(""),[ie,F]=_.useState(""),[J,re]=_.useState(""),[te,he]=_.useState(""),[ve,le]=_.useState(!1),pe=[...GO,...n],Ie=[{id:"lunch",label:"12:00 PM  2:00 PM"},{id:"afternoon",label:"3:00 PM  5:00 PM"},{id:"evening",label:"5:00 PM  7:00 PM"}],Pe=()=>{const be={id:Date.now(),url:`https://images.unsplash.com/photo-${15e11+Math.floor(Math.random()*1e8)}?w=400&h=400&fit=crop`};h([...u,be])},ze=be=>{h(u.filter(Ye=>Ye.id!==be))},We=be=>{P.includes(be)?E(P.filter(Ye=>Ye!==be)):E([...P,be])},mt=be=>{R(be),M(""),D(""),C(""),oe("")},$t=be=>{be&&R(null);let Ye=be.replace(/[^\d:APMapm\s]/g,"");Ye.length===2&&!Ye.includes(":")&&(Ye+=":"),M(Ye),Ye&&!/^(0?[1-9]|1[0-2]):[0-5][0-9]\s?(AM|PM|am|pm)$/.test(Ye)?C("Format: HH:MM AM/PM (e.g., 2:30 PM)"):C("")},dn=be=>{be&&R(null);let Ye=be.replace(/[^\d/]/g,"");(Ye.length===2&&!Ye.includes("/")||Ye.length===5&&Ye.split("/").length===2)&&(Ye+="/");const qe=Ye.split("/");if(qe[2]&&qe[2].length>4){oe("Year must be 4 digits");return}if(D(Ye),Ye&&/^(0?[1-9]|1[0-2])\/(0?[1-9]|[12][0-9]|3[01])\/\d{4}$/.test(Ye)){const[Zt,ut,or]=Ye.split("/").map(Number),ar=new Date(or,Zt-1,ut),Yr=new Date;Yr.setHours(0,0,0,0),ar<Yr?oe("Cannot select past dates"):oe("")}else Ye.length>=8?oe("Format: MM/DD/YYYY (e.g., 12/25/2024)"):oe("")},gr=async()=>{if(le(!0),u.length===0){He.error("Please add at least one photo");return}if(!p||p.length<3){se("Title must be at least 3 characters");return}if(!y||y.length<10){F("Description must be at least 10 characters");return}if(!w){He.error("Please select item condition");return}if(!H){he("Please select a pickup spot");return}if(!Z&&(!S||!V)){He.error("Please select a time or enter custom time/date");return}if(I||de){He.error("Please fix time/date errors");return}try{const be=fr.currentUser;if(!be){He.error("You must be logged in to create a listing.");return}const Ye=Nt(tt,"users",be.uid),qe=await ei(Ye);let ct={trustScore:0,trades:0};if(qe.exists()){const ar=qe.data();ct={trustScore:ar.trustScore??0,trades:ar.trades??0}}const Zt={title:p,description:y,condition:w,tags:P,credits:B,images:u.map(ar=>ar.url),meetingSpot:pw.find(ar=>ar.id===H)?.name,meetingTime:Z?Ie.find(ar=>ar.id===Z)?.label:`${S}, ${V}`,seller:{id:be.uid,name:be.displayName||be.email||"Anonymous",rating:ct.trustScore,trades:ct.trades},createdAt:D_(),isBarter:!1,status:!0,pendingConfirmation:!1,proposedSpot:"",proposedTime:"",time:"Just now"},ut=await R_(Sn(tt,"listings"),Zt);await Wn(ut,{id:ut.id});const or=Nt(tt,"users",be.uid);await Wn(or,{myListings:zP(ut.id)}),await Wn(or,{credits:M_(10)}),console.log(" Created listing with ID:",ut.id),await oi({userId:be.uid,title:"Your listing is live!",message:`You posted "${p}" successfully.`,type:"listing"}),e({...Zt,id:ut.id}),He.success(" Listing published successfully!"),r("home")}catch(be){console.error(" Error publishing listing:",be),He.error("Failed to publish listing.")}};return i.jsxs("div",{className:`min-h-screen ${l?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"}`,children:[i.jsx("div",{className:`sticky top-0 z-20 backdrop-blur-xl ${l?"bg-black/70 border-white/10":"bg-white/10 border-white/30"} border-b`,children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>r("home"),className:`p-2 rounded-full ${l?"hover:bg-white/10":"hover:bg-white/50"} transition-colors`,children:i.jsx(wt,{className:`w-6 h-6 ${l?"text-white":"text-[#222]"}`})}),i.jsx("h2",{className:`font-semibold text-xl ${l?"text-purple-400":"text-[#9333ea]"}`,children:"Create Listing"})]}),i.jsx("button",{onClick:gr,className:"px-4 py-2 rounded-full bg-gradient-to-r from-purple-500 to-purple-600 text-white font-medium hover:shadow-lg transition-all",children:"Publish"})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6 pb-32",children:[i.jsxs("div",{className:`backdrop-blur-xl ${l?"bg-white/10 border-white/20":"bg-white/60 border-white/60"} rounded-3xl border p-4`,children:[i.jsxs("h3",{className:`font-semibold mb-3 flex items-center gap-2 ${l?"text-white":"text-[#222]"}`,children:[i.jsx(jS,{className:"w-5 h-5 text-purple-600"}),"Photos"]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[u.map(be=>i.jsxs("div",{className:"relative aspect-square",children:[i.jsx("img",{src:be.url,alt:"Product",className:"w-full h-full object-cover rounded-xl"}),i.jsx("button",{onClick:()=>ze(be.id),className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 rounded-full flex items-center justify-center shadow-lg",children:i.jsx(kn,{className:"w-4 h-4 text-white"})})]},be.id)),u.length<6&&i.jsxs("button",{onClick:Pe,className:"aspect-square border-2 border-dashed border-purple-300 rounded-xl flex flex-col items-center justify-center gap-1 hover:border-purple-500 hover:bg-purple-50/50 transition-colors",children:[i.jsx(ni,{className:"w-6 h-6 text-purple-600"}),i.jsx("span",{className:"text-xs text-purple-600",children:"Random"})]})]}),u.length<6&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(At,{type:"text",placeholder:"Enter image URL (e.g. https://...)",id:"imageUrlInput",className:"flex-1"}),i.jsx("button",{onClick:()=>{const be=document.getElementById("imageUrlInput"),Ye=be.value.trim();if(!Ye){He.error("Please enter a valid image URL");return}h(qe=>[...qe,{id:Date.now(),url:Ye}]),be.value="",He.success(" Image added from URL")},className:"px-3 py-2 rounded-xl bg-purple-600 text-white hover:bg-purple-700 transition-colors",children:"Add"})]})]}),i.jsxs("div",{className:`backdrop-blur-xl ${l?"bg-white/10 border-white/20":"bg-white/60 border-white/60"} rounded-3xl border p-4 space-y-4`,children:[i.jsx("h3",{className:`font-semibold mb-1 ${l?"text-white":"text-[#222]"}`,children:"Item Details"}),i.jsxs("div",{children:[i.jsx(Rr,{children:"Title"}),i.jsx(At,{value:p,onChange:be=>m(be.target.value),placeholder:"e.g., Calculus Textbook",className:"mt-1"}),ve&&$&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:$})]}),i.jsxs("div",{children:[i.jsx(Rr,{children:"Description"}),i.jsx(Wc,{value:y,onChange:be=>x(be.target.value),placeholder:"Describe your item...",rows:3,className:"mt-1"}),ve&&ie&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:ie})]}),i.jsxs("div",{children:[i.jsx(Rr,{children:"Condition"}),i.jsxs(ZN,{value:w,onValueChange:k,children:[i.jsx(tE,{className:"mt-1",children:i.jsx(eE,{placeholder:"Select item condition"})}),i.jsxs(rE,{children:[i.jsx(Ja,{value:"new",children:"New"}),i.jsx(Ja,{value:"like-new",children:"Like New"}),i.jsx(Ja,{value:"good",children:"Good"}),i.jsx(Ja,{value:"fair",children:"Fair"}),i.jsx(Ja,{value:"used",children:"Used"})]})]})]}),i.jsxs("div",{children:[i.jsx(Rr,{children:"Tags"}),i.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[pe.map(be=>i.jsx("button",{onClick:()=>We(be),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${P.includes(be)?"bg-purple-600 text-white":"bg-white/80 text-[#555] border border-white/60"}`,children:be},be)),o&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(At,{value:T,onChange:be=>O(be.target.value),placeholder:"Add new tag",className:"w-24"}),i.jsx("button",{onClick:()=>{T&&!pe.includes(T)&&(o(T),O(""))},className:"px-3 py-1.5 rounded-full text-sm font-medium bg-purple-600 text-white",children:"Add"})]})]}),ve&&J&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:J})]}),i.jsxs("div",{children:[i.jsx(Rr,{children:"Auto-Suggested Price"}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx(At,{type:"number",value:B,onChange:be=>U(Number(be.target.value)),className:"w-24"}),i.jsx("span",{className:"text-sm text-[#666]",children:"credits"})]})]})]}),K&&i.jsxs("div",{className:`backdrop-blur-xl ${l?"bg-white/10 border-white/20":"bg-white/60 border-white/60"} rounded-3xl border p-4`,children:[i.jsx("h3",{className:`font-semibold mb-2 ${l?"text-white":"text-[#222]"}`,children:"Post to Circle"}),i.jsx("div",{className:`${l?"bg-purple-500/20 border-purple-500/40":"bg-purple-100/60 border-purple-200/60"} rounded-2xl border p-3`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:`font-semibold ${l?"text-white":"text-[#222]"}`,children:K.name}),i.jsx("p",{className:`text-xs ${l?"text-gray-400":"text-[#555]"}`,children:K.description})]}),i.jsx("button",{onClick:()=>q(null),className:"text-red-500 hover:text-red-600 transition-colors",children:i.jsx(kn,{className:"w-5 h-5"})})]})})]}),i.jsxs("div",{className:`backdrop-blur-xl ${l?"bg-white/10 border-white/20":"bg-white/60 border-white/60"} rounded-3xl border p-4`,children:[i.jsxs("h3",{className:`font-semibold mb-2 flex items-center gap-2 ${l?"text-white":"text-[#222]"}`,children:[i.jsx(Kr,{className:"w-5 h-5 text-purple-600"}),"Pickup Spot"]}),i.jsxs("div",{className:"backdrop-blur-xl bg-purple-50/50 border border-purple-200/50 rounded-xl p-3 mb-3 flex items-start gap-2",children:[i.jsx(ws,{className:"w-4 h-4 text-purple-600 flex-shrink-0 mt-0.5"}),i.jsx("p",{className:"text-purple-700 text-xs",children:"Meet in campus-verified locations for your safety"})]}),i.jsx("div",{className:"space-y-2",children:pw.map(be=>i.jsxs("button",{onClick:()=>W(be.id),className:`w-full p-3 rounded-xl border transition-colors text-left ${H===be.id?"bg-purple-100/50 border-purple-300":"bg-white/80 border-white/60 hover:bg-white"}`,children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"text-sm font-medium text-[#222]",children:be.name}),be.verified&&i.jsx("span",{className:"text-[10px] bg-green-500/20 text-green-700 px-2 py-0.5 rounded-full font-medium",children:"Snag Verified Zone"})]}),i.jsx("span",{className:"text-xs text-[#666]",children:be.hours})]},be.id))}),ve&&te&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:te})]}),i.jsxs("div",{className:`backdrop-blur-xl ${l?"bg-white/10 border-white/20":"bg-white/60 border-white/60"} rounded-3xl border p-4`,children:[i.jsxs("h3",{className:`font-semibold mb-3 flex items-center gap-2 ${l?"text-white":"text-[#222]"}`,children:[i.jsx(ll,{className:"w-5 h-5 text-purple-600"}),"Preferred Pickup Time"]}),i.jsxs("div",{className:"mb-4",children:[i.jsx(Rr,{className:"text-xs text-[#666]",children:"Recommended Slots"}),i.jsx("div",{className:"space-y-2 mt-2",children:Ie.map(be=>i.jsx("button",{onClick:()=>mt(be.id),className:`w-full p-3 rounded-xl border transition-colors text-left ${Z===be.id?"bg-purple-100/50 border-purple-300":"bg-white/80 border-white/60 hover:bg-white"}`,children:i.jsx("span",{className:"text-sm font-medium text-[#222]",children:be.label})},be.id))})]}),i.jsxs("div",{className:"flex items-center gap-3 my-4",children:[i.jsx("div",{className:"flex-1 h-px bg-white/60"}),i.jsx("span",{className:"text-xs text-[#666] font-medium",children:"OR"}),i.jsx("div",{className:"flex-1 h-px bg-white/60"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsxs(Rr,{className:"text-xs text-[#666]",children:["Proposed Time ",Z&&"(Disabled - slot selected)"]}),i.jsx(At,{value:S,onChange:be=>$t(be.target.value),placeholder:"HH:MM AM/PM (e.g., 2:30 PM)",disabled:!!Z,className:`mt-1 ${Z?"opacity-50 cursor-not-allowed":""}`}),I&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:I})]}),i.jsxs("div",{children:[i.jsxs(Rr,{className:"text-xs text-[#666]",children:["Proposed Date ",Z&&"(Disabled - slot selected)"]}),i.jsx(At,{value:V,onChange:be=>dn(be.target.value),placeholder:"MM/DD/YYYY (e.g., 12/25/2024)",disabled:!!Z,className:`mt-1 ${Z?"opacity-50 cursor-not-allowed":""}`}),de&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:de})]})]})]}),i.jsxs("div",{className:`backdrop-blur-xl ${l?"bg-white/10 border-white/20":"bg-white/60 border-white/60"} rounded-3xl border p-4`,children:[i.jsxs("h3",{className:`font-semibold mb-3 flex items-center gap-2 ${l?"text-white":"text-[#222]"}`,children:[i.jsx(Yo,{className:"w-5 h-5 text-purple-600"}),"Preview"]}),i.jsxs("div",{className:`${l?"bg-white/10 border-white/20":"bg-white/80 border-white/60"} rounded-2xl border overflow-hidden`,children:[u.length>0&&i.jsx("img",{src:u[0].url,alt:"Preview",className:"w-full h-40 object-cover"}),i.jsxs("div",{className:"p-3",children:[i.jsx("h4",{className:`font-semibold mb-1 ${l?"text-white":"text-[#222]"}`,children:p||"Your Title"}),i.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${l?"text-gray-300":"text-[#555]"}`,children:y||"Your description..."}),i.jsxs("div",{className:`flex items-center gap-2 text-xs ${l?"text-gray-400":"text-[#666]"}`,children:[i.jsxs("span",{children:[B," credits"]}),i.jsx("span",{children:""}),i.jsx("span",{children:w||"Condition"})]})]})]})]}),i.jsx("div",{className:"pt-4 pb-16",children:i.jsx("button",{onClick:gr,className:"w-full py-3 rounded-full bg-gradient-to-r from-purple-500 to-purple-600 text-white font-medium hover:shadow-lg transition-all",children:"Publish"})})]})]})}var gm="rovingFocusGroup.onEntryFocus",YO={bubbles:!1,cancelable:!0},pu="RovingFocusGroup",[og,sE,QO]=F_(pu),[XO,iE]=Tl(pu,[QO]),[JO,ZO]=XO(pu),oE=_.forwardRef((r,e)=>i.jsx(og.Provider,{scope:r.__scopeRovingFocusGroup,children:i.jsx(og.Slot,{scope:r.__scopeRovingFocusGroup,children:i.jsx(e9,{...r,ref:e})})}));oE.displayName=pu;var e9=_.forwardRef((r,e)=>{const{__scopeRovingFocusGroup:t,orientation:n,loop:o=!1,dir:l,currentTabStopId:u,defaultCurrentTabStopId:h,onCurrentTabStopIdChange:p,onEntryFocus:m,preventScrollOnEntryFocus:y=!1,...x}=r,w=_.useRef(null),k=Lt(e,w),P=yx(l),[E,T]=Kc({prop:u,defaultProp:h??null,onChange:p,caller:pu}),[O,B]=_.useState(!1),U=ai(m),H=sE(t),W=_.useRef(!1),[Z,R]=_.useState(0);return _.useEffect(()=>{const S=w.current;if(S)return S.addEventListener(gm,U),()=>S.removeEventListener(gm,U)},[U]),i.jsx(JO,{scope:t,orientation:n,dir:P,loop:o,currentTabStopId:E,onItemFocus:_.useCallback(S=>T(S),[T]),onItemShiftTab:_.useCallback(()=>B(!0),[]),onFocusableItemAdd:_.useCallback(()=>R(S=>S+1),[]),onFocusableItemRemove:_.useCallback(()=>R(S=>S-1),[]),children:i.jsx(lt.div,{tabIndex:O||Z===0?-1:0,"data-orientation":n,...x,ref:k,style:{outline:"none",...r.style},onMouseDown:it(r.onMouseDown,()=>{W.current=!0}),onFocus:it(r.onFocus,S=>{const M=!W.current;if(S.target===S.currentTarget&&M&&!O){const V=new CustomEvent(gm,YO);if(S.currentTarget.dispatchEvent(V),!V.defaultPrevented){const D=H().filter(K=>K.focusable),I=D.find(K=>K.active),C=D.find(K=>K.id===E),oe=[I,C,...D].filter(Boolean).map(K=>K.ref.current);cE(oe,y)}}W.current=!1}),onBlur:it(r.onBlur,()=>B(!1))})})}),aE="RovingFocusGroupItem",lE=_.forwardRef((r,e)=>{const{__scopeRovingFocusGroup:t,focusable:n=!0,active:o=!1,tabStopId:l,children:u,...h}=r,p=hu(),m=l||p,y=ZO(aE,t),x=y.currentTabStopId===m,w=sE(t),{onFocusableItemAdd:k,onFocusableItemRemove:P,currentTabStopId:E}=y;return _.useEffect(()=>{if(n)return k(),()=>P()},[n,k,P]),i.jsx(og.ItemSlot,{scope:t,id:m,focusable:n,active:o,children:i.jsx(lt.span,{tabIndex:x?0:-1,"data-orientation":y.orientation,...h,ref:e,onMouseDown:it(r.onMouseDown,T=>{n?y.onItemFocus(m):T.preventDefault()}),onFocus:it(r.onFocus,()=>y.onItemFocus(m)),onKeyDown:it(r.onKeyDown,T=>{if(T.key==="Tab"&&T.shiftKey){y.onItemShiftTab();return}if(T.target!==T.currentTarget)return;const O=n9(T,y.orientation,y.dir);if(O!==void 0){if(T.metaKey||T.ctrlKey||T.altKey||T.shiftKey)return;T.preventDefault();let U=w().filter(H=>H.focusable).map(H=>H.ref.current);if(O==="last")U.reverse();else if(O==="prev"||O==="next"){O==="prev"&&U.reverse();const H=U.indexOf(T.currentTarget);U=y.loop?s9(U,H+1):U.slice(H+1)}setTimeout(()=>cE(U))}}),children:typeof u=="function"?u({isCurrentTabStop:x,hasTabStop:E!=null}):u})})});lE.displayName=aE;var t9={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function r9(r,e){return e!=="rtl"?r:r==="ArrowLeft"?"ArrowRight":r==="ArrowRight"?"ArrowLeft":r}function n9(r,e,t){const n=r9(r.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return t9[n]}function cE(r,e=!1){const t=document.activeElement;for(const n of r)if(n===t||(n.focus({preventScroll:e}),document.activeElement!==t))return}function s9(r,e){return r.map((t,n)=>r[(e+n)%r.length])}var i9=oE,o9=lE;function a9(r,e){return _.useReducer((t,n)=>e[t][n]??t,r)}var uE=r=>{const{present:e,children:t}=r,n=l9(e),o=typeof t=="function"?t({present:n.isPresent}):_.Children.only(t),l=Lt(n.ref,c9(o));return typeof t=="function"||n.isPresent?_.cloneElement(o,{ref:l}):null};uE.displayName="Presence";function l9(r){const[e,t]=_.useState(),n=_.useRef(null),o=_.useRef(r),l=_.useRef("none"),u=r?"mounted":"unmounted",[h,p]=a9(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const m=Vd(n.current);l.current=h==="mounted"?m:"none"},[h]),Jt(()=>{const m=n.current,y=o.current;if(y!==r){const w=l.current,k=Vd(m);r?p("MOUNT"):k==="none"||m?.display==="none"?p("UNMOUNT"):p(y&&w!==k?"ANIMATION_OUT":"UNMOUNT"),o.current=r}},[r,p]),Jt(()=>{if(e){let m;const y=e.ownerDocument.defaultView??window,x=k=>{const E=Vd(n.current).includes(CSS.escape(k.animationName));if(k.target===e&&E&&(p("ANIMATION_END"),!o.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",m=y.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},w=k=>{k.target===e&&(l.current=Vd(n.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",x),e.addEventListener("animationend",x),()=>{y.clearTimeout(m),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",x),e.removeEventListener("animationend",x)}}else p("ANIMATION_END")},[e,p]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:_.useCallback(m=>{n.current=m?getComputedStyle(m):null,t(m)},[])}}function Vd(r){return r?.animationName||"none"}function c9(r){let e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}var ff="Tabs",[u9]=Tl(ff,[iE]),dE=iE(),[d9,Tx]=u9(ff),hE=_.forwardRef((r,e)=>{const{__scopeTabs:t,value:n,onValueChange:o,defaultValue:l,orientation:u="horizontal",dir:h,activationMode:p="automatic",...m}=r,y=yx(h),[x,w]=Kc({prop:n,onChange:o,defaultProp:l??"",caller:ff});return i.jsx(d9,{scope:t,baseId:hu(),value:x,onValueChange:w,orientation:u,dir:y,activationMode:p,children:i.jsx(lt.div,{dir:y,"data-orientation":u,...m,ref:e})})});hE.displayName=ff;var fE="TabsList",pE=_.forwardRef((r,e)=>{const{__scopeTabs:t,loop:n=!0,...o}=r,l=Tx(fE,t),u=dE(t);return i.jsx(i9,{asChild:!0,...u,orientation:l.orientation,dir:l.dir,loop:n,children:i.jsx(lt.div,{role:"tablist","aria-orientation":l.orientation,...o,ref:e})})});pE.displayName=fE;var mE="TabsTrigger",gE=_.forwardRef((r,e)=>{const{__scopeTabs:t,value:n,disabled:o=!1,...l}=r,u=Tx(mE,t),h=dE(t),p=vE(u.baseId,n),m=bE(u.baseId,n),y=n===u.value;return i.jsx(o9,{asChild:!0,...h,focusable:!o,active:y,children:i.jsx(lt.button,{type:"button",role:"tab","aria-selected":y,"aria-controls":m,"data-state":y?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:p,...l,ref:e,onMouseDown:it(r.onMouseDown,x=>{!o&&x.button===0&&x.ctrlKey===!1?u.onValueChange(n):x.preventDefault()}),onKeyDown:it(r.onKeyDown,x=>{[" ","Enter"].includes(x.key)&&u.onValueChange(n)}),onFocus:it(r.onFocus,()=>{const x=u.activationMode!=="manual";!y&&!o&&x&&u.onValueChange(n)})})})});gE.displayName=mE;var xE="TabsContent",yE=_.forwardRef((r,e)=>{const{__scopeTabs:t,value:n,forceMount:o,children:l,...u}=r,h=Tx(xE,t),p=vE(h.baseId,n),m=bE(h.baseId,n),y=n===h.value,x=_.useRef(y);return _.useEffect(()=>{const w=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(w)},[]),i.jsx(uE,{present:o||y,children:({present:w})=>i.jsx(lt.div,{"data-state":y?"active":"inactive","data-orientation":h.orientation,role:"tabpanel","aria-labelledby":p,hidden:!w,id:m,tabIndex:0,...u,ref:e,style:{...r.style,animationDuration:x.current?"0s":void 0},children:w&&l})})});yE.displayName=xE;function vE(r,e){return`${r}-trigger-${e}`}function bE(r,e){return`${r}-content-${e}`}var h9=hE,f9=pE,p9=gE,m9=yE;function g9({className:r,...e}){return i.jsx(h9,{"data-slot":"tabs",className:Xt("flex flex-col gap-2",r),...e})}function x9({className:r,...e}){return i.jsx(f9,{"data-slot":"tabs-list",className:Xt("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",r),...e})}function mw({className:r,...e}){return i.jsx(p9,{"data-slot":"tabs-trigger",className:Xt("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",r),...e})}function gw({className:r,...e}){return i.jsx(m9,{"data-slot":"tabs-content",className:Xt("flex-1 outline-none",r),...e})}function y9({isOpen:r,onClose:e}){return r?i.jsxs("div",{className:"fixed inset-0 z-50 animate-in fade-in duration-200",children:[i.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:e}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 max-w-md mx-auto animate-in slide-in-from-bottom duration-300",children:i.jsxs("div",{className:"backdrop-blur-2xl bg-white/90 rounded-t-3xl border-t border-x border-white/60 shadow-[0_-8px_32px_rgba(0,0,0,0.12)] p-6 pb-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-[#222] font-semibold",children:"Trust Score"}),i.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(kn,{className:"w-5 h-5 text-[#555]"})})]}),i.jsx("div",{className:"flex justify-center mb-6",children:i.jsxs("div",{className:"relative",children:[i.jsxs("svg",{className:"w-32 h-32 -rotate-90",children:[i.jsx("circle",{cx:"64",cy:"64",r:"56",fill:"none",stroke:"currentColor",strokeWidth:"8",className:"text-purple-200/60"}),i.jsx("circle",{cx:"64",cy:"64",r:"56",fill:"none",stroke:"url(#gradient)",strokeWidth:"8",strokeLinecap:"round",strokeDasharray:`${2*Math.PI*56*.98} ${2*Math.PI*56*.02}`,className:"transition-all duration-1000"}),i.jsx("defs",{children:i.jsxs("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#a855f7"}),i.jsx("stop",{offset:"100%",stopColor:"#9333ea"})]})})]}),i.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[i.jsx("span",{className:"text-[#222] font-semibold text-3xl",children:"98%"}),i.jsx("span",{className:"text-[#555] text-sm font-medium",children:"Trust Score"})]})]})}),i.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[i.jsxs("div",{className:"backdrop-blur-xl bg-purple-50/60 rounded-2xl p-3 border border-purple-200/40 text-center",children:[i.jsx("div",{className:"text-[#222] font-semibold mb-1",children:"12"}),i.jsx("div",{className:"text-[#555] text-xs font-medium",children:"Trades"})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-purple-50/60 rounded-2xl p-3 border border-purple-200/40 text-center",children:[i.jsx("div",{className:"text-[#222] font-semibold mb-1",children:"12"}),i.jsx("div",{className:"text-[#555] text-xs font-medium",children:"Completed"})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-purple-50/60 rounded-2xl p-3 border border-purple-200/40 text-center",children:[i.jsx("div",{className:"text-[#222] font-semibold mb-1",children:"0"}),i.jsx("div",{className:"text-[#555] text-xs font-medium",children:"Disputed"})]})]}),i.jsxs("div",{className:"space-y-3 mb-6",children:[i.jsx("h3",{className:"text-[#222] font-semibold text-sm",children:"Recent Completions"}),[{title:"Desk Chair",type:"Sold",date:"5 days ago"},{title:"Winter Jacket",type:"Bartered",date:"1 week ago"},{title:"Calculus Textbook",type:"Sold",date:"2 weeks ago"}].map((t,n)=>i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-green-100 to-green-200 flex items-center justify-center flex-shrink-0",children:i.jsx(jn,{className:"w-4 h-4 text-green-600"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-[#222] font-medium text-sm",children:t.title}),i.jsxs("p",{className:"text-[#555] text-xs font-light",children:[t.type,"  ",t.date]})]})]},n))]}),i.jsx("div",{className:"backdrop-blur-xl bg-gradient-to-br from-purple-500/10 to-purple-600/10 rounded-2xl p-4 border border-purple-300/40",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Ow,{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium mb-1 text-sm",children:"How to improve trust"}),i.jsxs("ul",{className:"text-[#555] text-sm font-light space-y-1",children:[i.jsx("li",{children:" Complete trades on time"}),i.jsx("li",{children:" Respond to messages quickly"}),i.jsx("li",{children:" Accurate item descriptions"})]})]})]})})]})})]}):null}function v9({isOpen:r,onClose:e,badgeType:t}){if(!r||!t)return null;const o={verified:{title:".edu Verified",icon:wS,color:"from-blue-500 to-blue-600",description:"This user has verified their .edu email address with their campus.",benefits:["Confirmed campus student status","Access to campus-only marketplace","Enhanced trust and credibility"]},trades:{title:"Successful Trades",icon:ws,color:"from-purple-500 to-purple-600",description:"Awarded for completing multiple successful trades on Snag.",benefits:["Completed 10+ verified transactions","Zero disputes or cancellations","High trust score (95%+)"]}}[t],l=o.icon;return i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 animate-in fade-in duration-200",children:[i.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:e}),i.jsxs("div",{className:"relative max-w-sm w-full backdrop-blur-2xl bg-white/90 rounded-3xl p-6 border border-white/60 shadow-[0_8px_32px_rgba(0,0,0,0.12)] animate-in zoom-in duration-300",children:[i.jsx("button",{onClick:e,className:"absolute top-4 right-4 p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(kn,{className:"w-5 h-5 text-[#555]"})}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:`w-16 h-16 rounded-full bg-gradient-to-br ${o.color} flex items-center justify-center shadow-lg`,children:i.jsx(l,{className:"w-8 h-8 text-white"})})}),i.jsx("h2",{className:"text-[#222] font-semibold text-center mb-2",children:o.title}),i.jsx("p",{className:"text-[#555] text-center mb-6 text-sm",children:o.description}),i.jsxs("div",{className:"backdrop-blur-xl bg-purple-50/60 rounded-2xl p-4 border border-purple-200/40",children:[i.jsx("p",{className:"text-[#222] font-medium mb-3 text-sm",children:"What this means:"}),i.jsx("ul",{className:"space-y-2",children:o.benefits.map((u,h)=>i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-purple-500 flex-shrink-0 mt-1.5"}),i.jsx("span",{className:"text-[#555] text-sm font-light",children:u})]},h))})]}),i.jsx("button",{onClick:e,className:"w-full mt-6 py-3 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98]",children:"Got it"})]})]})}function b9({navigateTo:r}){const{darkMode:e}=Tt(),[t,n]=_.useState(null),[o,l]=_.useState(!0),[u,h]=_.useState([]),[p,m]=_.useState(!0),[y,x]=_.useState([]),[w,k]=_.useState(!1),[P,E]=_.useState(!1),[T,O]=_.useState(null),B=I=>{O(I),E(!0)},[U,H]=_.useState({}),[W,Z]=_.useState({}),R=(I,C,de)=>{/^[0-9]?$/.test(de)&&(H(oe=>{const q=[...oe[I]||["","","",""]];return q[C]=de,{...oe,[I]:q}}),Z(oe=>({...oe,[I]:""})))};_.useEffect(()=>{async function I(){m(!0);try{const C=fr.currentUser;if(!C)return;const de=Nt(tt,"users",C.uid),oe=await ei(de);if(oe.exists()){const K=oe.data();n({id:C.uid,...K});const q=K.myListings||[];if(q.length>0){const te=qo(Sn(tt,"listings"),Ki("id","in",q)),he=await sl(te);h(he.docs.map(ve=>({id:ve.id,...ve.data()})))}else h([]);const $=qo(Sn(tt,"tradeConfirmations"),Ki("buyerId","==",C.uid),Ki("buyerConfirmed","==",!1)),se=qo(Sn(tt,"tradeConfirmations"),Ki("sellerId","==",C.uid),Ki("sellerConfirmed","==",!1)),ie=await sl($),F=await sl(se),J=[...ie.docs.map(te=>({id:te.id,...te.data(),role:"buyer"})),...F.docs.map(te=>({id:te.id,...te.data(),role:"seller"}))],re=[];for(const te of J){const he=Nt(tt,"listings",te.listingId),ve=await ei(he),le=te.role==="buyer"?te.sellerId:te.buyerId,pe=Nt(tt,"users",le),Ie=await ei(pe);re.push({...te,listing:ve.exists()?ve.data():null,otherUser:Ie.exists()?Ie.data():null})}x(re)}}catch(C){console.error("Error fetching user profile:",C)}finally{l(!1),m(!1)}}I()},[]);async function S(I){try{const C=fr.currentUser;if(!C)return;const de=I.role==="buyer"?I.sellerId:I.buyerId;await oi({userId:de,title:" Your partner has arrived",message:`${C.displayName||"The other user"} is now at the meeting location.`,type:"trade",relatedItemId:I.listingId}),He.success("Arrival notification sent!")}catch(C){console.error("Error notifying arrival:",C),He.error("Failed to notify arrival.")}}async function M(I){try{if(!fr.currentUser)return;const de=Nt(tt,"tradeConfirmations",I.id),oe=I.role;if(oe==="buyer"?I.buyerConfirmed:I.sellerConfirmed){He.info("You already confirmed this trade.");return}const $=(U[I.id]||["","","",""]).join("");if($.length!==4){Z(te=>({...te,[I.id]:"Please enter the 4-digit code from the other person."})),He.error("Enter the full 4-digit code to confirm.");return}const se=oe==="buyer"?I.sellerCode:I.buyerCode;if(!se)console.warn("No partner code found on trade. Allowing confirmation anyway.");else if($!==se){Z(te=>({...te,[I.id]:"Code does not match. Double-check with the other person."})),He.error("Incorrect code. Try again.");return}await Wn(de,oe==="buyer"?{buyerConfirmed:!0}:{sellerConfirmed:!0});const J=(await ei(de)).data();if(!J){console.error("Trade doc missing after update.");return}if(J.buyerConfirmed&&J.sellerConfirmed){await Nh(de),x(he=>he.filter(ve=>ve.id!==I.id)),He.success("Trade completed! Both sides confirmed.");const te=oe==="buyer"?I.sellerId:I.buyerId;te&&await oi({userId:te,title:"Trade Completed",message:`Both of you confirmed the trade for "${I.listing?.title||"an item"}".`,type:"trade"})}else x(te=>te.map(he=>he.id===I.id?{...he,buyerConfirmed:J.buyerConfirmed,sellerConfirmed:J.sellerConfirmed}:he)),He.success("Code accepted! Waiting for the other person to confirm.");H(te=>({...te,[I.id]:["","","",""]})),Z(te=>({...te,[I.id]:""}))}catch(C){console.error("Error confirming trade:",C),He.error("Failed to confirm trade.")}}async function V(I){try{const C=fr.currentUser;if(!C)return;const de=I.role,oe=Nt(tt,"tradeConfirmations",I.id);await Nh(oe),x(J=>J.filter(re=>re.id!==I.id));const K=Nt(tt,"users",C.uid),$=(await ei(K)).data()||{},se=typeof $.trustScore=="number"?$.trustScore:5,ie=Math.max(0,Number((se-.1).toFixed(2)));await Wn(K,{trustScore:ie}),n(J=>J&&{...J,trustScore:ie});const F=de==="buyer"?I.sellerId:I.buyerId;F&&await oi({userId:F,title:"Trade Cancelled",message:`${$.name||"The other user"} cancelled your trade for "${I.listing?.title||"an item"}".`,type:"trade"}),He.error("Trade denied. Your trust score has been adjusted.")}catch(C){console.error("Error denying trade:",C),He.error("Failed to deny trade.")}}const D=typeof t?.trustScore=="number"?t.trustScore.toFixed(2):"5.00";return i.jsxs("div",{className:`min-h-screen pb-8 ${e?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"}`,children:[i.jsx("div",{className:`sticky top-0 z-20 backdrop-blur-xl ${e?"bg-black/70 border-white/10":"bg-white/10 border-white/30"} border-b`,children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsx("h2",{className:`font-semibold text-xl ${e?"text-purple-400":"text-[#9333ea]"}`,children:"Profile"})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6",children:[i.jsxs("div",{className:`backdrop-blur-xl ${e?"bg-white/10 border-white/20":"bg-white/10 border-white/30"} rounded-3xl p-6 border shadow-[0_8px_24px_rgba(139,92,246,0.12)] mb-6`,children:[i.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[i.jsx(qn,{className:"w-20 h-20",children:i.jsx(Gn,{className:"bg-gradient-to-br from-purple-400 to-purple-600 text-white text-2xl font-semibold",children:t?.name?.charAt(0)})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("h2",{className:`font-semibold ${e?"text-white":"text-[#222]"}`,children:t?.name}),i.jsx("div",{className:"w-5 h-5 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs",children:""})})]}),i.jsx("p",{className:`${e?"text-gray-400":"text-[#555]"}`,children:t?.email}),i.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[t?.email?.toLowerCase().endsWith(".edu")&&i.jsx("button",{onClick:()=>B("verified"),className:"backdrop-blur-xl bg-blue-100/60 text-blue-700 border border-blue-200/60 font-medium rounded-full px-3 py-1.5 text-sm",children:" .edu Verified"}),t?.trades>=10&&i.jsx("button",{onClick:()=>B("trades"),className:"backdrop-blur-xl bg-purple-100/60 text-purple-700 border border-purple-200/60 font-medium rounded-full px-3 py-1.5 text-sm",children:" 10+ Trades"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[i.jsxs("div",{className:`text-center p-3 rounded-2xl border backdrop-blur-xl ${e?"bg-white/5 border-white/10":"bg-purple-50/60 border-purple-200/40"}`,children:[i.jsx("div",{className:`font-semibold ${e?"text-white":"text-[#222]"}`,children:t?.credits}),i.jsx("div",{className:`text-xs ${e?"text-gray-400":"text-[#555]"}`,children:"Credits"})]}),i.jsxs("div",{className:`text-center p-3 rounded-2xl border backdrop-blur-xl ${e?"bg-white/5 border-white/10":"bg-purple-50/60 border-purple-200/40"}`,children:[i.jsx("div",{className:`font-semibold ${e?"text-white":"text-[#222]"}`,children:t?.trades}),i.jsx("div",{className:`text-xs ${e?"text-gray-400":"text-[#555]"}`,children:"Trades"})]}),i.jsxs("button",{onClick:()=>k(!0),className:`text-center p-3 rounded-2xl border backdrop-blur-xl ${e?"bg-white/5 border-white/10":"bg-purple-50/60 border-purple-200/40"}`,children:[i.jsx("div",{className:`font-semibold ${e?"text-white":"text-[#222]"}`,children:D}),i.jsx("div",{className:`text-xs ${e?"text-gray-400":"text-[#555]"}`,children:"Trust Score"})]})]})]}),i.jsxs(g9,{defaultValue:"listings",className:"w-full",children:[i.jsxs(x9,{className:`w-full backdrop-blur-2xl ${e?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} border rounded-2xl p-1 mb-4`,children:[i.jsx(mw,{value:"listings",className:`\r
                flex-1 rounded-xl font-medium\r
                data-[state=active]:bg-gradient-to-r\r
                data-[state=active]:from-purple-500\r
                data-[state=active]:to-purple-600\r
                data-[state=active]:text-white\r
                transition-all\r
              `,children:"My Items"}),i.jsx(mw,{value:"confirmations",className:`\r
                flex-1 rounded-xl font-medium\r
                data-[state=active]:bg-gradient-to-r\r
                data-[state=active]:from-purple-500\r
                data-[state=active]:to-purple-600\r
                data-[state=active]:text-white\r
                transition-all\r
              `,children:"Pending Trades"})]}),i.jsx(gw,{value:"listings",className:"space-y-3",children:p?i.jsx("div",{className:"text-center py-8 text-gray-400",children:"Loading listings..."}):u.length>0?u.filter(I=>I.status===!0).slice(0,3).map(I=>i.jsx("button",{onClick:()=>r("full-listing-view",I),className:`w-full backdrop-blur-2xl ${e?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-2xl p-4 border text-left`,children:i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:`${e?"text-white":"text-[#222]"}`,children:I.title}),i.jsx(Dr,{className:"bg-green-100 text-green-700 border-green-200",children:"Active"})]})},I.id)):i.jsxs("div",{className:`backdrop-blur-2xl rounded-3xl p-12 border text-center ${e?"bg-white/10 border-white/20":"bg-white/70 border-white/60"}`,children:[i.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center mx-auto mb-4",children:i.jsx(bs,{className:"w-10 h-10 text-purple-500"})}),i.jsx("h3",{className:`${e?"text-white":"text-[#222]"}`,children:"No active listings"}),i.jsx("p",{className:`${e?"text-gray-400":"text-[#555]"}`,children:"Start selling items to see them here"}),i.jsx("button",{onClick:()=>r("create"),className:"mt-4 px-6 py-3 rounded-2xl bg-purple-600 text-white font-semibold",children:"Create Listing"})]})}),i.jsx(gw,{value:"confirmations",className:"space-y-3",children:y.length===0?i.jsx("div",{className:"text-center text-gray-400 py-6",children:"No pending trades to confirm."}):y.map(I=>{const C=I.role,de=C==="buyer"?I.buyerCode:I.sellerCode,oe=C==="buyer"?I.buyerConfirmed:I.sellerConfirmed,K=C==="buyer"?I.sellerConfirmed:I.buyerConfirmed,q=oe&&!K,$=U[I.id]||["","","",""],se=W[I.id];return i.jsxs("div",{className:`backdrop-blur-2xl rounded-2xl p-4 border shadow-sm ${e?"bg-white/10 border-white/20":"bg-white/70 border-white/60"}`,children:[i.jsx("h3",{className:`font-semibold mb-2 ${e?"text-white":"text-[#222]"}`,children:"Trade Confirmation Needed"}),i.jsxs("p",{className:`${e?"text-gray-300":"text-[#555]"}`,children:[i.jsx("span",{className:"font-semibold",children:"Item:"})," ",I.listing?.title||"Unknown item"]}),i.jsxs("p",{className:`${e?"text-gray-300":"text-[#555]"}`,children:[i.jsx("span",{className:"font-semibold",children:"Location:"})," ",I.listing?.meetingSpot||"Not specified"]}),i.jsxs("p",{className:`${e?"text-gray-300":"text-[#555]"}`,children:[i.jsx("span",{className:"font-semibold",children:"Time:"})," ",I.listing?.meetingTime||"Not specified"]}),i.jsxs("p",{className:`${e?"text-gray-300":"text-[#555]"} mb-1`,children:[i.jsx("span",{className:"font-semibold",children:"With:"})," ",I.otherUser?.name]}),i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("span",{className:`${e?"text-gray-400":"text-[#777]"}`,children:"Trust Score:"}),i.jsxs("span",{className:"font-semibold text-purple-600",children:[I.otherUser?.trustScore?.toFixed(1)??"N/A"," / 5"]})]}),i.jsxs("p",{className:`${e?"text-gray-400":"text-[#777]"} text-xs mb-3`,children:["You are the ",i.jsx("b",{children:I.role})," in this trade."]}),i.jsxs("div",{className:`mb-3 p-2 rounded-xl text-sm ${e?"bg-white/5 border border-white/15 text-gray-200":"bg-purple-50 border border-purple-100 text-[#333]"}`,children:[i.jsx("div",{className:"font-semibold mb-1",children:"Your pickup code"}),i.jsx("div",{className:"tracking-[0.3em] text-lg font-mono",children:de||"----"}),i.jsx("p",{className:"text-xs mt-1 opacity-75",children:"Show this code to the other person. You will enter their code below to confirm."})]}),i.jsx("button",{onClick:()=>S(I),className:`
                                            w-full py-2 mt-1 rounded-xl font-semibold active:scale-95 transition-all
                                            bg-blue-600 shadow-md border border-blue-700 hover:bg-blue-700
                                        
                                            ${e?"text-purple-200":"text-purple-900"}
                                          `,children:"I'm Here  Notify Other User"}),i.jsxs("div",{className:"mb-3 mt-3",children:[i.jsxs("p",{className:`text-xs mb-2 ${e?"text-gray-300":"text-[#555]"}`,children:["Enter the ",i.jsx("b",{children:"4-digit code the other person tells you"}),":"]}),i.jsx("div",{className:"flex gap-2",children:$.map((ie,F)=>i.jsx("input",{maxLength:1,inputMode:"numeric",pattern:"[0-9]*",disabled:oe,className:`w-10 h-10 text-center rounded-lg border text-lg font-mono ${e?"bg-black/40 border-white/20 text-white":"bg-white border-gray-300 text-[#222]"} ${oe?"opacity-60 cursor-not-allowed":""}`,value:ie,onChange:J=>{const re=J.target.value.replace(/\D/g,"");R(I.id,F,re),re&&F<3&&setTimeout(()=>{document.getElementById(`${I.id}-code-${F+1}`)?.focus()},10)},onKeyDown:J=>{J.key==="Backspace"&&!ie&&F>0&&setTimeout(()=>{document.getElementById(`${I.id}-code-${F-1}`)?.focus()},10)},id:`${I.id}-code-${F}`},F))}),se&&i.jsxs("p",{className:"text-xs text-red-500 mt-1 flex items-center gap-1",children:[" ",se]})]}),i.jsxs("div",{className:"flex gap-2 mb-3 flex-wrap text-xs",children:[oe&&i.jsx("span",{className:"px-2 py-1 rounded-full bg-green-100 text-green-700",children:"You confirmed"}),K&&i.jsx("span",{className:"px-2 py-1 rounded-full bg-green-100 text-green-700",children:"Other user confirmed"}),q&&i.jsx("span",{className:"px-2 py-1 rounded-full bg-yellow-100 text-yellow-800",children:"Waiting for the other user..."})]}),i.jsxs("div",{className:"flex gap-2 mt-2",children:[i.jsx("button",{onClick:()=>M(I),disabled:oe,className:`flex-1 py-2 rounded-xl text-white font-medium active:scale-95 transition-all ${oe?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-purple-500 to-purple-600 hover:shadow-md"}`,children:"Confirm Completed"}),i.jsx("button",{onClick:()=>V(I),disabled:oe,className:`flex-1 py-2 rounded-xl font-medium active:scale-95 transition-all ${oe?"bg-gray-200 text-gray-500 cursor-not-allowed":"bg-white text-red-600 border border-red-200 hover:bg-red-50"}`,children:"Deny"})]})]},I.id)})})]}),i.jsx("div",{className:"mt-6 flex justify-center",children:i.jsx("button",{onClick:()=>r("edit-profile"),className:"w-full py-4 rounded-2xl bg-purple-600 text-white font-semibold active:scale-95",children:"Edit Profile"})})]}),i.jsx(y9,{isOpen:w,onClose:()=>k(!1)}),i.jsx(v9,{isOpen:P,onClose:()=>{E(!1),O(null)},badgeType:T})]})}var pf="Switch",[w9]=Tl(pf),[_9,N9]=w9(pf),wE=_.forwardRef((r,e)=>{const{__scopeSwitch:t,name:n,checked:o,defaultChecked:l,required:u,disabled:h,value:p="on",onCheckedChange:m,form:y,...x}=r,[w,k]=_.useState(null),P=Lt(e,U=>k(U)),E=_.useRef(!1),T=w?y||!!w.closest("form"):!0,[O,B]=Kc({prop:o,defaultProp:l??!1,onChange:m,caller:pf});return i.jsxs(_9,{scope:t,checked:O,disabled:h,children:[i.jsx(lt.button,{type:"button",role:"switch","aria-checked":O,"aria-required":u,"data-state":jE(O),"data-disabled":h?"":void 0,disabled:h,value:p,...x,ref:P,onClick:it(r.onClick,U=>{B(H=>!H),T&&(E.current=U.isPropagationStopped(),E.current||U.stopPropagation())})}),T&&i.jsx(EE,{control:w,bubbles:!E.current,name:n,value:p,checked:O,required:u,disabled:h,form:y,style:{transform:"translateX(-100%)"}})]})});wE.displayName=pf;var _E="SwitchThumb",NE=_.forwardRef((r,e)=>{const{__scopeSwitch:t,...n}=r,o=N9(_E,t);return i.jsx(lt.span,{"data-state":jE(o.checked),"data-disabled":o.disabled?"":void 0,...n,ref:e})});NE.displayName=_E;var E9="SwitchBubbleInput",EE=_.forwardRef(({__scopeSwitch:r,control:e,checked:t,bubbles:n=!0,...o},l)=>{const u=_.useRef(null),h=Lt(u,l),p=gN(t),m=sN(e);return _.useEffect(()=>{const y=u.current;if(!y)return;const x=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(x,"checked").set;if(p!==t&&k){const P=new Event("click",{bubbles:n});k.call(y,t),y.dispatchEvent(P)}},[p,t,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...o,tabIndex:-1,ref:h,style:{...o.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});EE.displayName=E9;function jE(r){return r?"checked":"unchecked"}var j9=wE,S9=NE;function Ah({className:r,...e}){return i.jsx(j9,{"data-slot":"switch",className:Xt("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",r),...e,children:i.jsx(S9,{"data-slot":"switch-thumb",className:Xt("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function k9({navigateTo:r}){const[e,t]=_.useState(!0),[n,o]=_.useState(!1),{darkMode:l,toggleDarkMode:u}=Tt(),h=[{title:"Notifications",items:[{id:"push-notifications",label:"Push Notifications",icon:al,hasToggle:!0,toggleValue:e,onToggle:t},{id:"email-notifications",label:"Email Notifications",icon:al,hasToggle:!0,toggleValue:n,onToggle:o}]},{title:"Privacy & Safety",items:[{id:"privacy-settings",label:"Privacy Settings",icon:ws,action:()=>r("privacy-settings")},{id:"blocked-users",label:"Blocked Users",icon:bm,action:()=>r("blocked-users")},{id:"safety-tips",label:"Safety Tips",icon:ws,action:()=>r("safety-tips")}]},{title:"Account Settings",items:[{id:"edit-profile",label:"Edit Profile",icon:bm,action:()=>r("edit-profile")},{id:"change-password",label:"Change Password",icon:ws,action:()=>r("change-password")}]},{title:"App Preferences",items:[{id:"appearance",label:"Dark Mode",icon:WS,hasToggle:!0,toggleValue:l,onToggle:u},{id:"language",label:"Language",icon:Iw,action:()=>r("language-settings")}]},{title:"Help & Feedback",items:[{id:"help-center",label:"Help Center",icon:hS,action:()=>r("help-center")},{id:"send-feedback",label:"Send Feedback",icon:Rw,action:()=>r("send-feedback")}]},{title:"Developer",items:[{id:"style-guide",label:"Design System / Style Guide",icon:Pw,action:()=>r("style-guide")}]}];return i.jsxs("div",{className:`min-h-screen ${l?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"} pb-24`,children:[i.jsx("div",{className:`sticky top-0 z-20 backdrop-blur-xl ${l?"bg-black/70 border-white/10":"bg-white/10 border-white/30"} border-b`,children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>r("home"),className:`p-2 rounded-full ${l?"hover:bg-white/10":"hover:bg-white/50"} transition-colors`,children:i.jsx(wt,{className:`w-6 h-6 ${l?"text-white":"text-[#222]"}`})}),i.jsx("h2",{className:`${l?"text-white":"text-[#9333ea]"} font-semibold text-xl`,children:"Settings"})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[h.map(p=>i.jsxs("div",{children:[i.jsx("h3",{className:`${l?"text-gray-400":"text-[#555]"} font-medium text-sm px-2 mb-3`,children:p.title}),i.jsx("div",{className:`backdrop-blur-xl ${l?"bg-white/10 border-white/20":"bg-white/10 border-white/30"} rounded-3xl border shadow-[0_8px_24px_rgba(139,92,246,0.12)] overflow-hidden`,children:p.items.map((m,y)=>i.jsx(T9,{item:m,isLast:y===p.items.length-1,onClick:()=>{m.action?m.action():console.log("Settings item clicked:",m.id)}},m.id))})]},p.title)),i.jsxs("div",{className:"text-center pt-4",children:[i.jsx("p",{className:`${l?"text-gray-500":"text-[#999]"} text-sm`,children:"Snag v1.0.0"}),i.jsx("p",{className:`${l?"text-gray-500":"text-[#999]"} text-xs mt-1`,children:"Made with  for students"})]})]})]})}function T9({item:r,isLast:e,onClick:t}){const n=r.icon,{darkMode:o}=Tt();return i.jsxs("div",{className:`w-full px-4 py-4 flex items-center gap-3 ${e?"":`border-b ${o?"border-white/10":"border-purple-100/40"}`}`,children:[i.jsx("div",{className:`w-10 h-10 rounded-full ${o?"bg-gradient-to-br from-purple-600/20 to-purple-700/20":"bg-gradient-to-br from-purple-100 to-purple-200"} flex items-center justify-center flex-shrink-0`,children:i.jsx(n,{className:`w-5 h-5 ${o?"text-purple-400":"text-purple-600"}`})}),i.jsx("span",{className:`${o?"text-white":"text-[#222]"} font-medium flex-1`,children:r.label}),r.hasToggle&&r.onToggle?i.jsx(Ah,{checked:r.toggleValue||!1,onCheckedChange:r.onToggle}):i.jsx("button",{onClick:t,className:`${o?"hover:bg-white/10":"hover:bg-white/50"} transition-colors active:scale-[0.98] p-2 rounded-full`,children:i.jsx(Tw,{className:`w-5 h-5 ${o?"text-gray-500":"text-[#999]"}`})})]})}function C9(){const r=()=>Math.floor(1e3+Math.random()*9e3).toString();let e=r(),t=r();for(;e===t;)t=r();return{buyerCode:e,sellerCode:t}}function I9({navigateTo:r}){const{darkMode:e}=Tt(),[t,n]=_.useState([]);async function o(){const h=fr.currentUser;if(!h)return;const p=Sn(tt,"users",h.uid,"notifications"),m=qo(p,Ki("read","==",!1)),y=await sl(m);if(y.empty)return;const x=HP(tt);y.docs.forEach(w=>x.update(w.ref,{read:!0})),await x.commit()}_.useEffect(()=>{o()},[]),_.useEffect(()=>{const h=fr.currentUser;if(!h)return;const p=qo(Sn(tt,"users",h.uid,"notifications"),$P("createdAt","desc")),m=mx(p,y=>{const x=y.docs.map(w=>({id:w.id,...w.data(),time:"Just now"}));n(x)});return()=>m()},[]);const l=async h=>{try{const p=Nt(tt,"listings",h.relatedItemId);await Wn(p,{status:!1,pendingConfirmation:!1,meetingSpot:h.metadata?.proposedSpot,meetingTime:h.metadata?.proposedTime});const m=Nt(Sn(tt,"tradeConfirmations")),{buyerCode:y,sellerCode:x}=C9();await px(m,{listingId:h.relatedItemId,buyerId:h.metadata?.buyerId,sellerId:fr.currentUser?.uid,buyerCode:y,sellerCode:x,buyerConfirmed:!1,sellerConfirmed:!1,createdAt:Date.now()}),await oi({userId:h.metadata?.buyerId,title:" Meeting Accepted!",message:`${fr.currentUser?.displayName||"The seller"} accepted your proposal.`,type:"trade",read:!1}),await Nh(Nt(tt,"users",fr.currentUser.uid,"notifications",h.id)),He.success("Meeting accepted!")}catch(p){console.error(p),He.error("Error accepting meeting.")}},u=async h=>{try{await Wn(Nt(tt,"listings",h.relatedItemId),{status:!0,pendingConfirmation:!1}),await oi({userId:h.metadata?.buyerId,title:" Meeting Denied",message:"The seller denied your meeting proposal.",type:"trade",read:!1}),await Nh(Nt(tt,"users",fr.currentUser.uid,"notifications",h.id)),He.warning("Meeting denied.")}catch(p){console.error(p),He.error("Error denying meeting.")}};return i.jsxs("div",{className:`min-h-screen pb-8 ${e?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"}`,children:[i.jsx("div",{className:`sticky top-0 z-20 backdrop-blur-xl ${e?"bg-black/70 border-white/10":"bg-white/10 border-white/30"} border-b`,children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>r("home"),className:`p-2 rounded-full ${e?"hover:bg-white/10":"hover:bg-white/50"}`,children:i.jsx(wt,{className:`w-6 h-6 ${e?"text-white":"text-[#222]"}`})}),i.jsx("h2",{className:`font-semibold text-xl ${e?"text-purple-400":"text-[#9333ea]"}`,children:"Notifications"})]})})}),t.length>0?i.jsx("div",{className:"max-w-md mx-auto px-4 py-4 space-y-6",children:t.map(h=>i.jsx(A9,{notification:h,darkMode:e,onAccept:l,onDeny:u},h.id))}):i.jsxs("div",{className:"max-w-md mx-auto px-4 py-16 text-center",children:[i.jsx(nS,{className:"w-12 h-12 text-purple-400 mx-auto mb-4"}),i.jsx("p",{className:e?"text-white":"text-[#333]",children:"You have no notifications."})]})]})}function A9({notification:r,onClick:e,onAccept:t,onDeny:n,darkMode:o}){const l={meeting:Kr,listing:bs,trade:uk,meeting_request:Kr,default:jn},u={meeting:"from-green-500 to-green-600",listing:"from-indigo-500 to-indigo-600",trade:"from-purple-500 to-purple-600",meeting_request:"from-yellow-400 to-yellow-500",default:"from-blue-500 to-blue-600"},h=l[r.type]||l.default,p=u[r.type]||u.default;return console.log("Render notification:",r.id,r.type),i.jsx("div",{onClick:e,className:`w-full backdrop-blur-xl rounded-2xl p-4 border shadow-sm transition-all hover:shadow-[0_8px_24px_rgba(139,92,246,0.15)] text-left ${r.unread?o?"bg-white/15 border-white/30":"bg-white/20 border-white/40":o?"bg-white/5 border-white/10":"bg-white/10 border-white/30"}`,children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:`w-10 h-10 rounded-full bg-gradient-to-br ${p} flex items-center justify-center flex-shrink-0`,children:i.jsx(h,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("h3",{className:`font-medium flex items-center gap-2 ${o?"text-white":"text-[#222]"}`,children:[r.title,r.unread&&i.jsx("div",{className:"w-2 h-2 rounded-full bg-red-500 flex-shrink-0"})]}),i.jsx("p",{className:`mb-2 text-sm ${o?"text-gray-300":"text-[#555]"}`,children:r.message}),r.type?.trim().toLowerCase()==="meeting_request"&&i.jsxs("div",{className:"mt-3 p-4 bg-yellow-50 border border-yellow-200 rounded-2xl shadow-sm",children:[i.jsx("p",{className:"text-xs text-yellow-800 font-medium mb-2 flex items-center gap-1",children:" Meeting Proposal:"}),i.jsxs("div",{className:"flex flex-col gap-1 text-sm text-gray-800",children:[i.jsxs("p",{className:"flex items-center gap-2",children:[i.jsx(Kr,{className:"w-4 h-4 text-yellow-600"}),i.jsx("span",{children:r.metadata?.proposedSpot})]}),i.jsxs("p",{className:"flex items-center gap-2",children:[i.jsx(ll,{className:"w-4 h-4 text-yellow-600"}),i.jsx("span",{children:r.metadata?.proposedTime})]})]}),i.jsxs("div",{className:"flex gap-2 mt-3",children:[i.jsx("button",{type:"button",onClick:m=>{m.stopPropagation(),console.log(" Accept clicked:",r.id),t?.(r)},className:"px-4 py-1.5 rounded-full bg-green-500 text-black text-xs font-semibold hover:bg-green-600 active:scale-[0.98] transition-all shadow-sm focus:outline-none focus:ring-2 focus:ring-green-300",children:"Accept"}),i.jsx("button",{type:"button",onClick:m=>{m.stopPropagation(),console.log(" Deny clicked:",r.id),n?.(r)},className:"px-4 py-1.5 rounded-full bg-red-500 text-white text-xs font-semibold hover:bg-red-600 active:scale-[0.98] transition-all shadow-sm focus:outline-none focus:ring-2 focus:ring-red-300",children:"Deny"})]})]})]})]})})}const R9="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function Ds(r){const[e,t]=_.useState(!1),n=()=>{t(!0)},{src:o,alt:l,style:u,className:h,...p}=r;return e?i.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${h??""}`,style:u,children:i.jsx("div",{className:"flex items-center justify-center w-full h-full",children:i.jsx("img",{src:R9,alt:"Error loading image",...p,"data-original-url":o})})}):i.jsx("img",{src:o,alt:l,className:h,style:u,...p,onError:n})}function SE({images:r,alt:e,aspectRatio:t="aspect-[4/3]",showDots:n=!0,showArrows:o=!0}){const[l,u]=_.useState(0),[h,p]=_.useState(1),[m,y]=_.useState({x:0,y:0}),[x,w]=_.useState(!1),[k,P]=_.useState(null),[E,T]=_.useState(0),[O,B]=_.useState(null),U=_.useRef(null),H=q=>Math.min(3,Math.max(1,q)),W=()=>{p(1),y({x:0,y:0}),w(!1),P(null),B(null)},Z=q=>{W(),u(q)},R=()=>{Z(l===0?r.length-1:l-1)},S=()=>{Z(l===r.length-1?0:l+1)},M=q=>{if(!U.current||r.length===0)return;q.preventDefault();const $=U.current.getBoundingClientRect(),se=$.left+$.width/2,ie=$.top+$.height/2,F=q.clientX-se,J=q.clientY-ie,te=-q.deltaY>0?1.1:.9;p(he=>{const ve=H(he*te),le=ve-he;return y(pe=>({x:pe.x-le*F,y:pe.y-le*J})),ve})},V=q=>{h<=1||(q.preventDefault(),w(!0),P({x:q.clientX,y:q.clientY}))},D=q=>{if(!x||!k||h<=1)return;q.preventDefault();const $=q.clientX-k.x,se=q.clientY-k.y;y(ie=>({x:ie.x+$,y:ie.y+se})),P({x:q.clientX,y:q.clientY})},I=()=>{w(!1),P(null)},C=q=>{if(U.current){if(q.touches.length===2){const[$,se]=[q.touches[0],q.touches[1]],ie=Math.hypot($.pageX-se.pageX,$.pageY-se.pageY),F=U.current.getBoundingClientRect(),J=($.pageX+se.pageX)/2-(F.left+F.width/2),re=($.pageY+se.pageY)/2-(F.top+F.height/2);B({initialDistance:ie,initialScale:h,centerX:J,centerY:re})}else if(q.touches.length===1&&h>1){const $=q.touches[0];P({x:$.pageX,y:$.pageY})}}},de=q=>{if(U.current){if(q.touches.length===2&&O){q.preventDefault();const[$,se]=[q.touches[0],q.touches[1]],ie=Math.hypot($.pageX-se.pageX,$.pageY-se.pageY),F=O.initialScale*(ie/O.initialDistance),J=H(F),re=J-h;p(J),y(te=>({x:te.x-re*O.centerX,y:te.y-re*O.centerY}))}else if(q.touches.length===1&&h>1&&k){q.preventDefault();const $=q.touches[0],se=$.pageX-k.x,ie=$.pageY-k.y;y(F=>({x:F.x+se,y:F.y+ie})),P({x:$.pageX,y:$.pageY})}}},oe=q=>{if(q.touches.length===0&&q.changedTouches.length===1){const $=Date.now();$-E<300&&(h>1?W():p(2)),T($)}q.touches.length<2&&B(null),q.touches.length===0&&(P(null),w(!1))},K=q=>{if(!U.current){h>1?W():p(2);return}const $=U.current.getBoundingClientRect(),se=$.left+$.width/2,ie=$.top+$.height/2,F=q.clientX-se,J=q.clientY-ie;if(h>1)W();else{const te=2-h;p(2),y(he=>({x:he.x-te*F,y:he.y-te*J}))}};return r.length===0?i.jsx("div",{className:`${t} bg-purple-100/50 flex items-center justify-center`,children:i.jsx("span",{className:"text-purple-400 text-sm font-medium",children:"No images"})}):i.jsxs("div",{className:`${t} relative bg-purple-100/50 group`,ref:U,onWheel:M,onMouseDown:V,onMouseMove:D,onMouseUp:I,onMouseLeave:I,onDoubleClick:K,onTouchStart:C,onTouchMove:de,onTouchEnd:oe,children:[i.jsx("div",{className:`
          w-full h-full overflow-hidden
          ${h>1?"cursor-grab active:cursor-grabbing":""}
          select-none
        `,style:{touchAction:h>1?"none":"pan-y"},children:i.jsx(Ds,{src:r[l],alt:`${e} - Image ${l+1}`,className:"w-full h-full object-cover",style:{transform:`translate3d(${m.x}px, ${m.y}px, 0) scale(${h})`,transition:x||O?"none":"transform 0.15s ease-out"},draggable:!1})}),o&&r.length>1&&h===1&&i.jsxs(i.Fragment,{children:[i.jsx("div",{onClick:q=>{q.stopPropagation(),R()},className:"absolute left-2 top-1/2 -translate-y-1/2 w-8 h-8 rounded-full backdrop-blur-xl bg-white/80 flex items-center justify-center shadow-md opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:i.jsx(aS,{className:"w-5 h-5 text-[#222]"})}),i.jsx("div",{onClick:q=>{q.stopPropagation(),S()},className:"absolute right-2 top-1/2 -translate-y-1/2 w-8 h-8 rounded-full backdrop-blur-xl bg-white/80 flex items-center justify-center shadow-md opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:i.jsx(Tw,{className:"w-5 h-5 text-[#222]"})})]}),n&&r.length>1&&i.jsx("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 flex items-center gap-1.5 backdrop-blur-xl bg-black/20 rounded-full px-2 py-1",children:r.map((q,$)=>i.jsx("div",{onClick:se=>{se.stopPropagation(),Z($)},className:`transition-all cursor-pointer ${$===l?"w-6 h-1.5 bg-white rounded-full":"w-1.5 h-1.5 bg-white/50 rounded-full hover:bg-white/80"}`},$))}),i.jsx("div",{className:"absolute top-3 right-3 backdrop-blur-xl bg-black/30 rounded-full px-2.5 py-1",children:i.jsxs("span",{className:"text-white text-xs font-medium",children:[l+1,"/",r.length]})})]})}function P9({item:r,navigateTo:e}){const{darkMode:t}=Tt(),[n,o]=_.useState(r),[l,u]=_.useState(!1);_.useEffect(()=>{if(!r?.id)return;async function p(){u(!0);try{const m=Nt(tt,"listings",r.id),y=await ei(m);y.exists()&&o({id:y.id,...y.data()})}catch(m){console.error("Failed to fetch item:",m)}finally{u(!1)}}p()},[r]);const h=r.icon;return console.log("item: ",r),i.jsxs("div",{className:`min-h-screen ${t?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"}`,children:[i.jsx("div",{className:`sticky top-0 z-20 backdrop-blur-2xl ${t?"bg-black/70 border-white/10":"bg-white/70 border-white/40"} border-b`,children:i.jsxs("div",{className:"max-w-md mx-auto px-4 py-4 flex items-center gap-4",children:[i.jsx("button",{onClick:()=>e("home"),className:`p-2 rounded-full ${t?"hover:bg-white/10":"hover:bg-white/50"} transition-colors`,children:i.jsx(wt,{className:`w-6 h-6 ${t?"text-white":"text-[#222]"}`})}),i.jsx("h2",{className:`font-semibold text-xl ${t?"text-purple-400":"text-[#9333ea]"}`,children:"Item Details"})]})}),i.jsxs("div",{className:"max-w-md mx-auto pb-32",children:[i.jsxs("div",{className:"relative",children:[i.jsx(SE,{images:r.images||[r.image],alt:r.title,aspectRatio:"aspect-square",onClick:()=>e("image-viewer",{images:r.images}),enableZoom:!0}),r.isBarter?i.jsx("div",{className:"absolute top-4 left-4 z-10",children:i.jsxs(Dr,{className:"backdrop-blur-xl bg-gradient-to-r from-purple-500 to-purple-600 text-white border-0 shadow-lg font-medium flex items-center gap-1.5",children:[i.jsx(St,{className:"w-4 h-4"}),i.jsx("span",{children:"Trade Only"})]})}):i.jsx("div",{className:"absolute top-4 right-4 z-10",children:i.jsx("div",{className:`backdrop-blur-xl ${t?"bg-black/60 border-white/20":"bg-white/90 border-white/60"} rounded-2xl px-4 py-2.5 border shadow-lg`,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Sr,{className:"w-5 h-5 text-yellow-500"}),i.jsxs("span",{className:`font-semibold ${t?"text-white":"text-[#222]"}`,children:[r.credits," Credits"]})]})})})]}),i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsxs("div",{className:`backdrop-blur-2xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-6 border shadow-[0_8px_24px_rgba(139,92,246,0.12)]`,children:[i.jsx("h1",{className:`font-semibold mb-2 ${t?"text-white":"text-[#222]"}`,children:r.title}),i.jsx("p",{className:`mb-4 ${t?"text-gray-300":"text-[#555]"}`,children:r.description}),n.tags&&n.tags.length>0&&i.jsx("div",{className:"flex items-center gap-2 mb-6",children:n.tags.map(p=>i.jsxs("div",{className:"backdrop-blur-xl bg-purple-100/60 rounded-full px-3 py-1.5 border border-purple-200/60 flex items-center gap-1.5",children:[h&&i.jsx(h,{className:"w-4 h-4 text-purple-600"}),i.jsx("span",{className:"text-purple-700 text-sm font-medium",children:p})]},p))}),i.jsx("div",{className:`flex items-center justify-between pt-4 border-t ${t?"border-white/10":"border-purple-200/40"}`,children:i.jsxs("button",{onClick:()=>e("user-profile",r.seller),className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[i.jsx(qn,{className:"w-10 h-10",children:i.jsx(Gn,{className:"bg-gradient-to-br from-purple-400 to-purple-500 text-white font-medium",children:r.seller.name.charAt(0)||"?"})}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:`font-medium ${t?"text-white":"text-[#222]"}`,children:r.seller.name}),r.seller.verified&&i.jsx("div",{className:"w-5 h-5 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center",children:i.jsx("span",{className:"text-white text-xs",children:""})})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Mw,{className:"w-3.5 h-3.5 text-yellow-500 fill-yellow-500"}),i.jsx("span",{className:`text-xs font-medium ${t?"text-gray-300":"text-[#555]"}`,children:r.seller.rating})]}),i.jsx("span",{className:`text-xs ${t?"text-gray-500":"text-[#999]"}`,children:""}),i.jsxs("span",{className:`text-xs ${t?"text-gray-300":"text-[#555]"}`,children:[r.seller.trades," trades"]})]})]})]})})]}),i.jsxs("div",{className:`backdrop-blur-2xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-6 border shadow-[0_8px_24px_rgba(139,92,246,0.12)] space-y-4`,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center",children:i.jsx(Kr,{className:"w-5 h-5 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:`text-sm font-light ${t?"text-gray-400":"text-[#888]"}`,children:"Pickup Location"}),i.jsx("p",{className:`font-medium ${t?"text-white":"text-[#222]"}`,children:r.meetingSpot})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center",children:i.jsx(Ph,{className:"w-5 h-5 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:`text-sm font-light ${t?"text-gray-400":"text-[#888]"}`,children:"Posted"}),i.jsx("p",{className:`font-medium ${t?"text-white":"text-[#222]"}`,children:r.time})]})]})]})]})]}),i.jsx("div",{className:`fixed bottom-0 left-0 right-0 backdrop-blur-2xl ${t?"bg-black/70 border-white/10":"bg-white/70 border-white/40"} border-t p-4`,children:i.jsx("div",{className:"max-w-md mx-auto flex justify-center",children:r.isBarter?i.jsxs("button",{onClick:()=>e("trade-offer",r),className:"w-full py-4 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] flex items-center justify-center gap-2",children:[i.jsx(St,{className:"w-5 h-5",strokeWidth:2.5}),i.jsx("span",{children:"Offer to Trade"})]}):i.jsxs("button",{onClick:()=>e("meeting",r),className:"w-full py-4 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] flex items-center justify-center gap-2",children:[i.jsx(Sr,{className:"w-5 h-5",strokeWidth:2.5}),i.jsxs("span",{children:["Snag Now  ",r.credits," Credits"]})]})})})]})}const $d=[{id:1,name:"Main Library Lobby",distance:"0.2 mi",hours:"24/7",verified:!0},{id:2,name:"Student Union Entrance",distance:"0.3 mi",hours:"6am - 11pm",verified:!0},{id:3,name:"Campus Coffee Shop",distance:"0.4 mi",hours:"7am - 9pm",verified:!0},{id:4,name:"Recreation Center Lobby",distance:"0.5 mi",hours:"5am - 11pm",verified:!0},{id:5,name:"Dining Hall Commons",distance:"0.6 mi",hours:"7am - 10pm",verified:!0}];function D9({item:r,navigateTo:e,onSelectSpot:t}){const[n,o]=_.useState(null),[l,u]=_.useState(null),[h,p]=_.useState(""),[m,y]=_.useState(""),[x,w]=_.useState(""),[k,P]=_.useState(""),[E,T]=_.useState(!1),{credits:O,setCredits:B}=xx(),U=[{id:"lunch",label:"12:00 PM  2:00 PM"},{id:"afternoon",label:"3:00 PM  5:00 PM"},{id:"evening",label:"5:00 PM  7:00 PM"}],H=()=>{const D=$d.find(oe=>oe.id===n)?.name,I=l?U.find(oe=>oe.id===l)?.label:`${h}, ${m}`,C=r.meetingSpot&&D&&r.meetingSpot!==D,de=r.meetingTime&&I&&r.meetingTime!==I;return C||de};if(!r)return null;const W=D=>{const I=$d.find(C=>C.id===D);o(D),t&&I&&t(I.name)},Z=D=>{u(D),p(""),y(""),w(""),P("")};function R(){const D=()=>Math.floor(1e3+Math.random()*9e3).toString();let I=D(),C=D();for(;C===I;)C=D();return{buyerCode:I,sellerCode:C}}const S=D=>{D&&u(null);let I=D.replace(/[^\d:APMapm\s]/g,"");I.length===2&&!I.includes(":")&&(I+=":"),p(I),I&&!/^(0?[1-9]|1[0-2]):[0-5][0-9]\s?(AM|PM|am|pm)$/.test(I)?w("Format: HH:MM AM/PM (e.g., 2:30 PM)"):w("")},M=D=>{D&&u(null);let I=D.replace(/[^\d/]/g,"");(I.length===2&&!I.includes("/")||I.length===5&&I.split("/").length===2)&&(I+="/");const C=I.split("/");if(C[2]&&C[2].length>4){P("Year must be 4 digits");return}if(y(I),I&&/^(0?[1-9]|1[0-2])\/(0?[1-9]|[12][0-9]|3[01])\/\d{4}$/.test(I)){const[oe,K,q]=I.split("/").map(Number),$=new Date(q,oe-1,K),se=new Date;se.setHours(0,0,0,0),$<se?P("Cannot select past dates"):P("")}else I.length>=8?P("Format: MM/DD/YYYY (e.g., 12/25/2024)"):P("")},V=async()=>{let D,I;if(E){if(!n){He.error("Please select a meeting spot");return}if(!l&&(!h||!m)){He.error("Please select a time or enter custom time/date");return}if(x||k){He.error("Please fix time/date errors");return}D=$d.find(C=>C.id===n)?.name,I=l?U.find(C=>C.id===l)?.label:`${h}, ${m}`}else if(D=r.meetingSpot,I=r.meetingTime,!D||!I){He.error("This listing is missing a pickup location or time. Please choose them."),T(!0);return}try{console.log("Starting meeting confirmation...");const C=fr.currentUser;if(!C){He.error("You must be logged in to confirm a meeting.");return}let de=!1;if(E){const F=r.meetingSpot&&D&&r.meetingSpot!==D,J=r.meetingTime&&I&&r.meetingTime!==I;if(de=F||J,de){console.log(" Meeting mismatch detected  sending approval request");const re=Nt(tt,"listings",r.id);console.log(" Updating listing status..."),await Wn(re,{pendingConfirmation:!0,proposedSpot:D,proposedTime:I}),console.log(" Listing updated OK"),await oi({userId:r.seller.id,title:" Meeting confirmation needed",message:`${C.displayName||"A buyer"} proposed a different ${F&&J?"meeting spot and time":F?"meeting spot":"meeting time"} for "${r.title}".`,type:"meeting_request",relatedItemId:r.id,metadata:{proposedSpot:D,proposedTime:I,buyerId:C.uid,buyerName:C.displayName||C.email||"Anonymous"},read:!1}),He.warning("Meeting proposal sent to seller for approval!"),e("home");return}}B(O-r.credits),console.log(" Updated credits locally");const oe=Nt(Sn(tt,"tradeConfirmations")),K=C.uid,q=r?.seller?.id,{buyerCode:$,sellerCode:se}=R();if(q?(await px(oe,{listingId:r.id,buyerId:K,sellerId:q,buyerConfirmed:!1,sellerConfirmed:!1,createdAt:Date.now(),buyerCode:$,sellerCode:se}),console.log(" Trade confirmation record created:",oe.id)):console.warn(" No seller ID found  cannot create trade confirmation entry"),console.log("Item before updating:",r),console.log("Listing path:",`listings/${r.id}`),!r?.id)throw new Error("Missing listing ID");const ie=Nt(tt,"listings",r.id);if(console.log(" Updating listing status..."),await Wn(ie,{status:!1}),console.log(" Updated listing status in Firestore"),r?.seller?.id){const F=Nt(tt,"users",r.seller.id);console.log(" Incrementing seller trades..."),await Wn(F,{trades:M_(1)},{merge:!0}),console.log(" Trades incremented OK")}else console.warn(" No seller.id found; skipping trade increment");await oi({userId:r.seller.id,title:"Your item has been snagged up!",message:`${C.displayName||"A buyer"} picked up your item "${r.title}".`,type:"listing",relatedItemId:r.id,read:!1}),await oi({userId:C.uid,title:"You snagged an item!",message:`You successfully snagged "${r.title}" from ${r.seller?.displayName||"another user"}.`,type:"trade",read:!1}),console.log(" Sent notifications"),He.success("Pickup confirmed!"),e("confirmation",r)}catch(C){console.error(" Meeting confirmation failed:",C),He.error(`Failed to schedule meeting: ${C.message||C}`)}};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100",children:[i.jsx("div",{className:"sticky top-0 z-20 backdrop-blur-2xl bg-white/70 border-b border-white/40",children:i.jsxs("div",{className:"max-w-md mx-auto px-4 py-4 flex items-center gap-4",children:[i.jsx("button",{onClick:()=>e("item-detail",r),className:"p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(wt,{className:"w-6 h-6 text-[#222]"})}),i.jsx("h2",{className:"text-[#9333ea] font-semibold text-xl",children:"Schedule Meeting"})]})}),i.jsxs("div",{className:"max-w-md mx-auto p-4 pb-32 space-y-6",children:[i.jsxs("div",{className:"backdrop-blur-xl bg-purple-50/50 border border-purple-200/50 rounded-2xl p-4 flex items-start gap-3",children:[i.jsx(ws,{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-purple-900 font-medium mb-1",children:"Meet in campus-verified locations"}),i.jsx("p",{className:"text-purple-700 text-sm",children:"For your safety, only verified campus locations are available for meetups."})]})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/60 rounded-3xl border border-white/60 p-4",children:[r.meetingSpot&&r.meetingTime&&i.jsxs("div",{className:"backdrop-blur-xl bg-white/70 border border-white/60 rounded-2xl p-4",children:[i.jsx("h3",{className:"text-[#222] font-semibold mb-2",children:"Original Pickup Details"}),i.jsxs("div",{className:"flex items-start gap-2 mb-1",children:[i.jsx(Kr,{className:"w-4 h-4 text-purple-600 mt-0.5"}),i.jsx("p",{className:"text-sm text-[#333] font-medium",children:r.meetingSpot})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(ll,{className:"w-4 h-4 text-purple-600 mt-0.5"}),i.jsx("p",{className:"text-sm text-[#333] font-medium",children:r.meetingTime})]}),i.jsx("p",{className:"text-xs text-[#666] mt-3",children:"You can keep these selections or propose a new time/location."})]}),i.jsx("button",{onClick:()=>T(!E),className:"w-full py-3 rounded-full bg-purple-100 border border-purple-300 text-purple-700 font-medium hover:bg-purple-200 transition-all mt-3",children:E?"Hide Options":"Change Pickup Details"}),!E&&i.jsx("p",{className:"text-xs text-center text-[#666] mt-2",children:"Keeping sellers original pickup location and time."})]}),E&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"backdrop-blur-xl bg-white/60 rounded-3xl border border-white/60 p-4",children:[i.jsxs("h3",{className:"text-[#222] font-semibold mb-3 flex items-center gap-2",children:[i.jsx(Kr,{className:"w-5 h-5 text-purple-600"}),"Pickup Location"]}),i.jsx("div",{className:"space-y-2",children:$d.map(D=>i.jsxs("button",{onClick:()=>W(D.id),className:`w-full p-3 rounded-xl border transition-all text-left ${n===D.id?"bg-purple-100/50 border-purple-300 shadow-md":"bg-white/80 border-white/60 hover:bg-white"}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Kr,{className:"w-4 h-4 text-purple-600"}),i.jsx("span",{className:"text-sm font-medium text-[#222]",children:D.name})]}),D.verified&&i.jsx("span",{className:"text-[10px] bg-green-500/20 text-green-700 px-2 py-0.5 rounded-full font-medium",children:"Snag Verified Zone"})]}),i.jsxs("div",{className:"flex items-center gap-2 ml-6",children:[i.jsx("span",{className:"text-xs text-[#666]",children:D.distance}),i.jsx("span",{className:"text-xs text-[#999]",children:""}),i.jsx("span",{className:"text-xs text-[#666]",children:D.hours})]})]},D.id))})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/60 rounded-3xl border border-white/60 p-4",children:[i.jsxs("h3",{className:"text-[#222] font-semibold mb-3 flex items-center gap-2",children:[i.jsx(ll,{className:"w-5 h-5 text-purple-600"}),"Pickup Time"]}),i.jsxs("div",{className:"mb-4",children:[i.jsx(Rr,{className:"text-xs text-[#666]",children:"Recommended Time Slots"}),i.jsx("div",{className:"space-y-2 mt-2",children:U.map(D=>i.jsx("button",{onClick:()=>Z(D.id),className:`w-full p-3 rounded-xl border transition-all text-left ${l===D.id?"bg-purple-100/50 border-purple-300 shadow-md":"bg-white/80 border-white/60 hover:bg-white"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium text-[#222]",children:D.label}),l===D.id&&i.jsx(jn,{className:"w-4 h-4 text-purple-600"})]})},D.id))})]}),i.jsxs("div",{className:"flex items-center gap-3 my-4",children:[i.jsx("div",{className:"flex-1 h-px bg-white/60"}),i.jsx("span",{className:"text-xs text-[#666] font-medium",children:"OR"}),i.jsx("div",{className:"flex-1 h-px bg-white/60"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsxs(Rr,{className:"text-xs text-[#666]",children:["Custom Time ",l&&"(Disabled - slot selected)"]}),i.jsx(At,{value:h,onChange:D=>S(D.target.value),placeholder:"HH:MM AM/PM (e.g., 2:30 PM)",disabled:!!l,className:`mt-1 ${l?"opacity-50 cursor-not-allowed":""}`}),x&&i.jsxs("p",{className:"text-xs text-red-600 mt-1 flex items-center gap-1",children:[i.jsx("span",{children:""}),x]})]}),i.jsxs("div",{children:[i.jsxs(Rr,{className:"text-xs text-[#666]",children:["Custom Date ",l&&"(Disabled - slot selected)"]}),i.jsx(At,{value:m,onChange:D=>M(D.target.value),placeholder:"MM/DD/YYYY (e.g., 12/25/2024)",disabled:!!l,className:`mt-1 ${l?"opacity-50 cursor-not-allowed":""}`}),k&&i.jsxs("p",{className:"text-xs text-red-600 mt-1 flex items-center gap-1",children:[i.jsx("span",{children:""}),k]}),!k&&m&&i.jsx("p",{className:"text-xs text-green-600 mt-1",children:" Date valid"})]})]}),(l||h&&m&&!x&&!k)&&i.jsx(i.Fragment,{children:H()?i.jsxs("div",{className:"mt-4 p-3 bg-yellow-100 border border-yellow-400 rounded-xl shadow-sm",children:[i.jsx("p",{className:"text-xs font-semibold text-yellow-800 mb-1 flex items-center gap-1",children:" Availability Mismatch"}),i.jsx("p",{className:"text-xs text-yellow-700",children:"You selected a different time or meeting spot than what the seller listed."})]}):i.jsxs("div",{className:"mt-4 p-3 bg-green-50/50 border border-green-200/50 rounded-xl",children:[i.jsx("p",{className:"text-xs text-green-700 font-medium mb-1",children:" Availability Match"}),i.jsx("p",{className:"text-xs text-green-600",children:"This time and location match the sellers original listing."})]})})]})]}),i.jsx("button",{onClick:V,disabled:E&&(!!x||!!k||!n||!l&&(!h||!m)),className:"w-full py-4 rounded-full bg-gradient-to-r from-purple-500 to-purple-600 text-white font-medium hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:shadow-none",children:"Confirm Meeting"})]})]})}function M9({item:r,navigateTo:e}){const[t,n]=_.useState([]),[o,l]=_.useState("");if(!r)return null;const u=()=>{const p={id:Date.now(),url:"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400&h=400&fit=crop"};n([...t,p])},h=p=>{n(t.filter(m=>m.id!==p))};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100",children:[i.jsx("div",{className:"sticky top-0 z-20 backdrop-blur-2xl bg-white/70 border-b border-white/40",children:i.jsxs("div",{className:"max-w-md mx-auto px-4 py-4 flex items-center gap-4",children:[i.jsx("button",{onClick:()=>e("item-detail",r),className:"p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(wt,{className:"w-6 h-6 text-[#222]"})}),i.jsx("h2",{className:"text-[#9333ea] font-semibold text-xl",children:"Barter Offer"})]})}),i.jsxs("div",{className:"max-w-md mx-auto p-4 space-y-4 pb-32",children:[i.jsxs("div",{className:"backdrop-blur-2xl bg-white/70 rounded-3xl p-6 border border-white/60 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:[i.jsx("p",{className:"text-[#555] mb-3 text-sm font-medium",children:"They're offering"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-20 h-20 rounded-2xl overflow-hidden bg-purple-100/50 flex-shrink-0",children:i.jsx(Ds,{src:r.image||r.images?.[0],alt:r.title,className:"w-full h-full object-cover"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-[#222] font-semibold mb-1",children:r.title}),i.jsx("p",{className:"text-[#555] text-sm",children:r.description})]})]})]}),i.jsxs("div",{className:"backdrop-blur-2xl bg-white/70 rounded-3xl p-6 border border-white/60 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:[i.jsx("h3",{className:"text-[#222] font-semibold mb-4",children:"What are you offering?"}),i.jsxs("div",{className:"mb-4",children:[i.jsx("p",{className:"text-[#555] mb-3 text-sm font-medium",children:"Add Photos"}),i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[t.map(p=>i.jsxs("div",{className:"relative aspect-square group",children:[i.jsx("div",{className:"w-full h-full backdrop-blur-2xl bg-white/70 rounded-2xl border border-white/60 overflow-hidden",children:i.jsx(Ds,{src:p.url,alt:"Offer item",className:"w-full h-full object-cover"})}),i.jsx("button",{onClick:()=>h(p.id),className:"absolute -top-2 -right-2 w-6 h-6 rounded-full bg-red-500 text-white flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity shadow-lg",children:i.jsx(kn,{className:"w-4 h-4"})})]},p.id)),t.length<6&&i.jsxs("button",{onClick:u,className:"aspect-square backdrop-blur-2xl bg-white/70 rounded-2xl border-2 border-dashed border-purple-300 hover:border-purple-500 hover:bg-white/80 transition-all flex flex-col items-center justify-center gap-2",children:[i.jsx(ni,{className:"w-6 h-6 text-purple-500"}),i.jsx("span",{className:"text-xs text-purple-600 font-medium",children:"Add photo"})]})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#555] mb-3 text-sm font-medium",children:"Description"}),i.jsx(Wc,{value:o,onChange:p=>l(p.target.value),placeholder:"Describe what you're offering in exchange...",className:"min-h-32 backdrop-blur-xl bg-white/80 border-purple-200/60 rounded-2xl resize-none focus-visible:ring-purple-400/50 text-[#222]"})]})]}),i.jsxs("div",{className:"backdrop-blur-2xl bg-gradient-to-br from-purple-500/10 to-purple-600/10 rounded-3xl p-6 border border-purple-300/40",children:[i.jsx("p",{className:"text-[#222] font-medium mb-3",children:" Quick Tip"}),i.jsx("p",{className:"text-[#555] text-sm font-light",children:"Be specific about condition, brand, and why this is a fair trade. Photos help build trust!"})]}),i.jsxs("div",{className:"backdrop-blur-2xl bg-white/70 rounded-3xl p-6 border border-white/60 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:[i.jsx("h3",{className:"text-[#222] font-semibold mb-4",children:"Offer Status"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center flex-shrink-0",children:i.jsx("span",{className:"text-white text-xs font-semibold",children:"1"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Submit Offer"}),i.jsx("p",{className:"text-[#555] text-sm font-light",children:"You send your proposal"})]})]}),i.jsxs("div",{className:"flex items-center gap-3 opacity-50",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-200 flex items-center justify-center flex-shrink-0",children:i.jsx("span",{className:"text-purple-600 text-xs font-semibold",children:"2"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Seller Reviews"}),i.jsx("p",{className:"text-[#555] text-sm font-light",children:"They accept or counter"})]})]}),i.jsxs("div",{className:"flex items-center gap-3 opacity-50",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-200 flex items-center justify-center flex-shrink-0",children:i.jsx("span",{className:"text-purple-600 text-xs font-semibold",children:"3"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Meet & Exchange"}),i.jsx("p",{className:"text-[#555] text-sm font-light",children:"Complete the trade"})]})]})]})]})]}),i.jsx("div",{className:"fixed bottom-0 left-0 right-0 backdrop-blur-2xl bg-white/70 border-t border-white/40 p-4",children:i.jsxs("div",{className:"max-w-md mx-auto space-y-3",children:[i.jsxs("button",{onClick:()=>e("home"),className:"w-full py-4 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] flex items-center justify-center gap-2",children:[i.jsx(St,{className:"w-5 h-5",strokeWidth:2.5}),i.jsx("span",{children:"Send Barter Offer"})]}),i.jsx("button",{onClick:()=>e("item-detail",r),className:"w-full py-4 rounded-2xl backdrop-blur-xl bg-white/80 text-[#222] font-medium border border-purple-200/60 shadow-sm transition-transform active:scale-[0.98] flex items-center justify-center",children:i.jsx("span",{children:"Cancel"})})]})})]})}function O9({item:r,counterOffer:e,navigateTo:t,onConfirm:n}){return r?i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100",children:[i.jsx("div",{className:"sticky top-0 z-20 backdrop-blur-2xl bg-white/70 border-b border-white/40",children:i.jsxs("div",{className:"max-w-md mx-auto px-4 py-4 flex items-center gap-4",children:[i.jsx("button",{onClick:()=>t("home"),className:"p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(wt,{className:"w-6 h-6 text-[#222]"})}),i.jsx("h2",{className:"text-[#9333ea] font-semibold text-xl",children:"Counter Offer Received"})]})}),i.jsxs("div",{className:"max-w-md mx-auto p-4 pb-32 space-y-4",children:[i.jsxs("div",{className:"backdrop-blur-xl bg-gradient-to-br from-purple-500/10 to-purple-600/10 rounded-2xl p-4 border border-purple-300/40 text-center",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center mx-auto mb-3",children:i.jsx(St,{className:"w-6 h-6 text-white"})}),i.jsx("p",{className:"text-[#222] font-medium mb-1",children:"New Counter Offer!"}),i.jsx("p",{className:"text-[#555] text-sm",children:"The seller has responded with a different item"})]}),i.jsxs("div",{className:"backdrop-blur-2xl bg-white/70 rounded-3xl p-6 border border-white/60 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:[i.jsx("p",{className:"text-[#555] mb-3 text-sm font-medium",children:"You wanted"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-20 h-20 rounded-2xl overflow-hidden bg-purple-100/50 flex-shrink-0",children:i.jsx(Ds,{src:r.image||r.images?.[0],alt:r.title,className:"w-full h-full object-cover"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-[#222] font-semibold mb-1",children:r.title}),i.jsx("p",{className:"text-[#555] text-sm",children:r.description})]})]})]}),i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center",children:i.jsx(St,{className:"w-5 h-5 text-white"})})}),i.jsxs("div",{className:"backdrop-blur-2xl bg-gradient-to-br from-purple-500/10 to-purple-600/10 rounded-3xl p-6 border border-purple-400/60 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:[i.jsx("p",{className:"text-[#555] mb-3 text-sm font-medium",children:"They're offering instead"}),i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("div",{className:"w-20 h-20 rounded-2xl overflow-hidden bg-white/50 flex-shrink-0",children:i.jsx(Ds,{src:e.image,alt:e.title,className:"w-full h-full object-cover"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-[#222] font-semibold mb-1",children:e.title}),i.jsx("p",{className:"text-[#555] text-sm",children:e.description})]})]}),e.credits!==void 0&&e.credits>0&&i.jsxs("div",{className:"backdrop-blur-xl bg-white/60 rounded-2xl p-3 border border-purple-200/60",children:[i.jsx("p",{className:"text-[#555] text-sm mb-1",children:i.jsx("span",{className:"font-medium",children:"Additional Credits:"})}),i.jsxs("p",{className:"text-purple-600 font-semibold",children:["+",e.credits," Credits"]})]})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-gradient-to-br from-blue-500/10 to-cyan-600/10 rounded-2xl p-4 border border-blue-300/40",children:[i.jsx("p",{className:"text-[#222] font-medium mb-1",children:" What happens next?"}),i.jsx("p",{className:"text-[#555] text-sm",children:"If you accept, you'll coordinate a meeting spot to complete the exchange. If you decline, the seller will be notified."})]})]}),i.jsx("div",{className:"fixed bottom-0 left-0 right-0 backdrop-blur-2xl bg-white/70 border-t border-white/40 p-4",children:i.jsxs("div",{className:"max-w-md mx-auto space-y-3",children:[i.jsxs("button",{onClick:n,className:"w-full py-4 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] flex items-center justify-center gap-2",children:[i.jsx(jn,{className:"w-5 h-5"}),i.jsx("span",{children:"Accept Counter Offer"})]}),i.jsx("button",{onClick:()=>t("home"),className:"w-full py-4 rounded-2xl backdrop-blur-xl bg-white/80 text-[#222] font-medium border border-purple-200/60 shadow-sm transition-transform active:scale-[0.98]",children:"Decline"})]})})]}):null}function L9({item:r,meetingSpot:e,navigateTo:t}){return console.log("item:",r),i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100 flex items-center justify-center p-4",children:i.jsxs("div",{className:"max-w-md w-full space-y-6 animate-in fade-in duration-500",children:[i.jsx("div",{className:"sticky top-0 z-20 backdrop-blur-2xl bg-white/70 border-b border-white/40",children:i.jsxs("div",{className:"max-w-md mx-auto px-4 py-4 flex items-center gap-4",children:[i.jsx("button",{onClick:()=>t("home"),className:"p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(wt,{className:"w-6 h-6 text-[#222]"})}),i.jsx("h2",{className:"text-[#9333ea] font-semibold text-xl",children:"Confirmation"})]})}),i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-green-500 to-green-600 flex items-center justify-center shadow-[0_8px_32px_rgba(34,197,94,0.3)] animate-in zoom-in duration-300",children:i.jsx(jn,{className:"w-12 h-12 text-white",strokeWidth:2.5})})}),i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-[#222] font-semibold mb-2",children:"Snag Confirmed!"}),i.jsx("p",{className:"text-[#555]",children:"Your meeting has been scheduled"})]}),i.jsxs("div",{className:"backdrop-blur-2xl bg-white/70 rounded-3xl p-6 border border-white/60 shadow-[0_8px_24px_rgba(139,92,246,0.12)] space-y-4",children:[i.jsxs("div",{className:"flex gap-4 pb-4 border-b border-purple-200/40",children:[i.jsx("div",{className:"w-20 h-20 rounded-2xl overflow-hidden bg-purple-100/50 flex-shrink-0",children:r?.image&&i.jsx(Ds,{src:r.images?.[0],alt:r.title,className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-[#222] font-semibold mb-1",children:r?.title}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(Sr,{className:"w-4 h-4 text-yellow-500"}),i.jsxs("span",{className:"text-[#555] text-sm font-medium",children:[r?.credits," Credits"]})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center flex-shrink-0",children:i.jsx(Kr,{className:"w-5 h-5 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#888] text-sm font-light",children:"Meeting Location"}),i.jsx("p",{className:"text-[#222] font-medium",children:r.meetingSpot})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center flex-shrink-0",children:i.jsx(Ph,{className:"w-5 h-5 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#888] text-sm font-light",children:"Scheduled For"}),i.jsx("p",{className:"text-[#222] font-medium",children:r.meetingTime})]})]})]})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-gradient-to-br from-green-500/10 to-emerald-600/10 rounded-2xl p-4 border border-green-300/40",children:[i.jsx("p",{className:"text-green-900 mb-1 font-medium",children:" What's next?"}),i.jsx("p",{className:"text-green-700 text-sm font-light",children:"You'll receive a notification 30 minutes before your meeting. The seller has been notified."})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("button",{onClick:()=>t("home"),className:"w-full py-4 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98]",children:"Back to Home"}),i.jsx("button",{onClick:()=>t("notifications"),className:"w-full py-4 rounded-2xl backdrop-blur-xl bg-white/60 text-[#222] font-medium border border-purple-200/60 shadow-sm transition-transform active:scale-[0.98]",children:"View Notifications"})]})]})})}function V9({isOpen:r,onClose:e,icon:t,title:n,message:o,autoDismiss:l=!0,dismissDelay:u=2500}){return _.useEffect(()=>{if(r&&l){const h=setTimeout(()=>{e()},u);return()=>clearTimeout(h)}},[r,l,u,e]),r?i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/30 backdrop-blur-sm",children:i.jsxs("div",{className:"backdrop-blur-2xl bg-white/90 rounded-3xl p-8 border border-white/60 shadow-[0_24px_48px_rgba(139,92,246,0.3)] max-w-sm w-full text-center animate-in fade-in zoom-in duration-300",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center mx-auto mb-4",children:t||i.jsx(jn,{className:"w-8 h-8 text-white",strokeWidth:2.5})}),i.jsx("h3",{className:"text-[#222] font-semibold text-xl mb-2",children:n}),i.jsx("p",{className:"text-[#555]",children:o})]})}):null}function $9({isOpen:r,onClose:e,listing:t,onViewListing:n}){return!r||!t?null:i.jsx("div",{className:"fixed inset-0 z-50 flex items-end justify-center bg-black/30 backdrop-blur-sm",children:i.jsxs("div",{className:"w-full max-w-md backdrop-blur-2xl bg-white/95 rounded-t-3xl border border-white/60 shadow-[0_-8px_32px_rgba(139,92,246,0.2)] max-h-[70vh] overflow-hidden animate-in slide-in-from-bottom duration-300",children:[i.jsxs("div",{className:"sticky top-0 z-10 backdrop-blur-xl bg-white/80 border-b border-purple-100/40 px-6 py-4 flex items-center justify-between",children:[i.jsx("h3",{className:"text-[#222] font-semibold",children:"Listing Posted"}),i.jsx("button",{onClick:e,className:"p-2 rounded-full hover:bg-purple-100/50 transition-colors",children:i.jsx(kn,{className:"w-5 h-5 text-[#555]"})})]}),i.jsxs("div",{className:"p-6 space-y-4 overflow-y-auto max-h-[calc(70vh-120px)]",children:[i.jsxs("div",{className:"backdrop-blur-xl bg-gradient-to-br from-green-500/10 to-emerald-600/10 rounded-2xl p-4 border border-green-300/40 text-center",children:[i.jsx("p",{className:"text-green-900 font-medium mb-1",children:" Successfully Posted!"}),i.jsx("p",{className:"text-green-700 text-sm",children:"Your listing is now live and visible to all students"})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/70 rounded-2xl border border-white/60 overflow-hidden",children:[i.jsx("div",{className:"aspect-[4/3] bg-purple-100/50 overflow-hidden",children:i.jsx(Ds,{src:t.image,alt:t.title,className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsx("h4",{className:"text-[#222] font-semibold",children:t.title}),i.jsx("div",{className:"backdrop-blur-xl bg-white/90 rounded-full px-3 py-1 border border-white/60 flex items-center gap-1 flex-shrink-0 ml-2",children:i.jsxs("span",{className:"text-[#222] font-medium text-sm",children:[t.credits," Cr"]})})]}),i.jsx("p",{className:"text-[#555] text-sm mb-3",children:t.description}),t.tags&&t.tags.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:t.tags.map(o=>i.jsx("div",{className:"backdrop-blur-xl bg-purple-100/60 rounded-full px-3 py-1 border border-purple-200/60",children:i.jsx("span",{className:"text-purple-700 text-xs font-medium",children:o})},o))}),t.meetingSpot&&i.jsxs("div",{className:"pt-3 border-t border-purple-200/40",children:[i.jsxs("p",{className:"text-[#555] text-sm mb-1",children:[i.jsx("span",{className:"font-medium",children:"Meeting:"})," ",t.meetingSpot]}),t.meetingTime&&i.jsxs("p",{className:"text-[#555] text-sm",children:[i.jsx("span",{className:"font-medium",children:"Suggested time:"})," ",t.meetingTime]})]})]})]})]}),i.jsx("div",{className:"sticky bottom-0 backdrop-blur-xl bg-white/80 border-t border-purple-100/40 p-6",children:i.jsx("button",{onClick:n,className:"w-full py-4 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] flex items-center justify-center",children:i.jsx("span",{children:"View Full Listing"})})})]})})}function F9({listing:r,navigateTo:e,currentUser:t}){if(!r)return null;const n=r.sellerId===t?.id;return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100 pb-32",children:[i.jsx("div",{className:"sticky top-0 z-20 backdrop-blur-2xl bg-white/70 border-b border-white/40",children:i.jsxs("div",{className:"max-w-md mx-auto px-4 py-4 flex items-center gap-4",children:[i.jsx("button",{onClick:()=>e("profile"),className:"p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(wt,{className:"w-6 h-6 text-[#222]"})}),i.jsx("h2",{className:"text-[#9333ea] font-semibold text-xl",children:"Listing Details"})]})}),i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("div",{className:"aspect-[4/3] bg-purple-100/50 overflow-hidden",children:i.jsx(SE,{images:r.images||[r.image]})}),i.jsxs("div",{className:"px-4 py-6 space-y-4",children:[i.jsxs("div",{className:"backdrop-blur-2xl bg-white/70 rounded-3xl p-6 border border-white/60 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsx("h1",{className:"text-[#222] font-semibold text-2xl flex-1",children:r.title}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/90 rounded-full px-4 py-2 border border-white/60 flex items-center gap-1 ml-3",children:[i.jsx(Sr,{className:"w-4 h-4 text-purple-600"}),i.jsxs("span",{className:"text-[#222] font-semibold",children:[r.credits||0," Cr"]})]})]}),r.tags&&r.tags.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:r.tags.map(o=>i.jsx("div",{className:"backdrop-blur-xl bg-purple-100/60 rounded-full px-3 py-1 border border-purple-200/60",children:i.jsx("span",{className:"text-purple-700 text-xs font-medium",children:o})},o))}),i.jsx("div",{className:"mb-4",children:i.jsx("p",{className:"text-[#555]",children:r.description})}),r.condition&&i.jsx("div",{className:"pt-4 border-t border-purple-200/40",children:i.jsxs("p",{className:"text-[#555] text-sm",children:[i.jsx("span",{className:"font-medium text-[#222]",children:"Condition:"})," ",r.condition]})})]}),i.jsxs("div",{className:"backdrop-blur-2xl bg-white/70 rounded-3xl p-6 border border-white/60 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:[i.jsx("p",{className:"text-[#555] text-sm mb-3",children:"Seller"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(qn,{className:"w-12 h-12 border-2 border-white",children:i.jsx(Gn,{className:"bg-gradient-to-br from-purple-400 to-purple-600 text-white font-semibold",children:r.seller?.name?.[0]||"U"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"text-[#222] font-semibold",children:r.seller?.name||"Anonymous"}),r.seller?.verified&&i.jsx(Dr,{variant:"secondary",className:"backdrop-blur-xl bg-green-100/80 text-green-700 border-green-300/40",children:" Verified"})]}),i.jsx("p",{className:"text-[#555] text-sm",children:"Active seller"})]})]})]}),i.jsxs("div",{className:"backdrop-blur-2xl bg-white/70 rounded-3xl p-6 border border-white/60 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:[i.jsx("h3",{className:"text-[#222] font-semibold mb-4",children:"Meeting Details"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center",children:i.jsx(Kr,{className:"w-5 h-5 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#888] text-sm font-light",children:"Pickup Location"}),i.jsx("p",{className:"text-[#222] font-medium",children:r.meetingSpot||"Main Campus Library Lobby"})]})]}),r.meetingTime&&i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center",children:i.jsx(ll,{className:"w-5 h-5 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#888] text-sm font-light",children:"Suggested Time"}),i.jsx("p",{className:"text-[#222] font-medium",children:r.meetingTime})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center",children:i.jsx(Ph,{className:"w-5 h-5 text-purple-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#888] text-sm font-light",children:"Posted"}),i.jsx("p",{className:"text-[#222] font-medium",children:r.postedTime||"2 days ago"})]})]})]})]}),i.jsx("div",{className:"backdrop-blur-xl bg-gradient-to-br from-purple-500/10 to-purple-600/10 rounded-2xl p-4 border border-purple-300/40",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(ws,{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium mb-1",children:" Safety Reminder"}),i.jsx("p",{className:"text-[#555] text-sm",children:"Always meet in safe, public campus spaces. Report any suspicious activity."})]})]})})]})]}),!n&&i.jsx("div",{className:"fixed bottom-0 left-0 right-0 backdrop-blur-2xl bg-white/70 border-t border-white/40 p-4",children:i.jsx("div",{className:"max-w-md mx-auto",children:r.isBarter?i.jsxs("button",{onClick:()=>e("barter-offer",r),className:"w-full py-4 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] flex items-center justify-center gap-2",children:[i.jsx(St,{className:"w-5 h-5",strokeWidth:2.5}),i.jsx("span",{children:"Offer to Barter"})]}):i.jsxs("button",{onClick:()=>e("meeting",r),className:"w-full py-4 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] flex items-center justify-center gap-2",children:[i.jsx(Sr,{className:"w-5 h-5",strokeWidth:2.5}),i.jsxs("span",{children:["Snag Now  ",r.credits," Credits"]})]})})})]})}function U9({navigateTo:r,myListings:e=[]}){return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100 pb-8",children:[i.jsx("div",{className:"sticky top-0 z-20 backdrop-blur-2xl bg-white/70 border-b border-white/40",children:i.jsxs("div",{className:"max-w-md mx-auto px-4 py-4 flex items-center gap-4",children:[i.jsx("button",{onClick:()=>r("profile"),className:"p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(wt,{className:"w-6 h-6 text-[#222]"})}),i.jsx("h2",{className:"text-[#9333ea] font-semibold text-xl",children:"My Listings"})]})}),i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:e.length>0?i.jsx("div",{className:"grid grid-cols-2 gap-3",children:e.map(t=>i.jsxs("button",{onClick:()=>r("full-listing-view",t),className:"backdrop-blur-2xl bg-white/70 rounded-2xl border border-white/60 shadow-sm hover:shadow-[0_8px_24px_rgba(139,92,246,0.15)] transition-all active:scale-[0.98] overflow-hidden text-left",children:[i.jsx("div",{className:"aspect-square bg-purple-100/50 overflow-hidden",children:i.jsx(Ds,{src:t.images?.[0]||t.image,alt:t.title,className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"p-3",children:[i.jsx("h3",{className:"text-[#222] font-semibold text-sm mb-1 line-clamp-2",children:t.title}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"backdrop-blur-xl bg-white/90 rounded-full px-2 py-1 border border-white/60",children:i.jsxs("span",{className:"text-[#222] font-medium text-xs",children:[t.credits," Cr"]})}),i.jsx("div",{className:"backdrop-blur-xl bg-green-100/80 rounded-full px-2 py-1 border border-green-200/60",children:i.jsx("span",{className:"text-green-700 text-xs font-medium",children:"Active"})})]}),i.jsx("p",{className:"text-[#777] text-xs mt-2",children:t.postedTime||"Just now"})]})]},t.id))}):i.jsxs("div",{className:"backdrop-blur-2xl bg-white/70 rounded-3xl p-12 border border-white/60 shadow-[0_8px_24px_rgba(139,92,246,0.12)] text-center",children:[i.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center mx-auto mb-4",children:i.jsx(bs,{className:"w-10 h-10 text-purple-500"})}),i.jsx("h3",{className:"text-[#222] font-semibold mb-2",children:"No listings yet"}),i.jsx("p",{className:"text-[#555] mb-4",children:"Start selling items to see them here"}),i.jsx("button",{onClick:()=>r("create"),className:"px-6 py-3 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98]",children:"Create Listing"})]})})]})}function Hn({className:r="",size:e=24}){const{darkMode:t}=Tt();return i.jsxs("div",{className:"relative",style:{width:e,height:e},children:[i.jsxs("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:r,children:[i.jsx("defs",{children:i.jsxs("linearGradient",{id:"snag-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",style:{stopColor:"#9333ea",stopOpacity:1}}),i.jsx("stop",{offset:"100%",style:{stopColor:"#a855f7",stopOpacity:1}})]})}),i.jsx("path",{d:"M20 7L12 3L4 7M20 7L12 11M20 7V17L12 21M12 11L4 7M12 11V21M4 7V17L12 21",stroke:"url(#snag-gradient)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),i.jsx("path",{d:"M12 3L16 5.5V8.5L12 11L8 8.5V5.5L12 3Z",fill:"url(#snag-gradient)",fillOpacity:"0.3"})]}),i.jsx("div",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 whitespace-nowrap font-bold bg-gradient-to-r from-purple-600 to-purple-500 bg-clip-text text-transparent",style:{fontSize:e*.4},children:"snag"})]})}function B9(){return i.jsxs("div",{className:"h-screen w-full bg-gradient-to-br from-purple-500 via-purple-600 to-purple-700 flex items-center justify-center relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_30%_40%,rgba(255,255,255,0.2)_0%,transparent_50%)]"}),i.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_70%_60%,rgba(255,255,255,0.15)_0%,transparent_50%)]"}),i.jsx("div",{className:"absolute top-20 left-10 w-40 h-40 rounded-full bg-white/10 blur-3xl animate-pulse"}),i.jsx("div",{className:"absolute bottom-32 right-10 w-56 h-56 rounded-full bg-purple-300/20 blur-3xl animate-pulse delay-700"}),i.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-6",children:[i.jsx("div",{className:"backdrop-blur-2xl bg-white/20 rounded-3xl p-8 shadow-[0_8px_32px_rgba(0,0,0,0.1)] border border-white/30",children:i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex flex-col items-center gap-4 mb-4",children:[i.jsx("div",{className:"w-20 h-20 rounded-3xl bg-white/20 backdrop-blur-xl border border-white/40 shadow-lg flex items-center justify-center",children:i.jsx(Hn,{className:"text-white",size:48})}),i.jsx("h1",{className:"text-white tracking-wider font-semibold",children:"Snag"})]}),i.jsxs("div",{className:"mt-2 flex items-center justify-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-bounce"}),i.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-bounce delay-150",style:{animationDelay:"150ms"}}),i.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-bounce delay-300",style:{animationDelay:"300ms"}})]})]})}),i.jsx("p",{className:"text-white/90 text-center px-8 font-light",children:"Turn Extras into Essentials."})]})]})}function z9({activeScreen:r,navigateTo:e}){const t=[{id:"home",label:"Home",icon:Wo},{id:"circles-home",label:"Circles",icon:Pr},{id:"create",label:"Create",icon:ni,isFab:!0},{id:"profile",label:"Profile",icon:bm},{id:"settings",label:"Settings",icon:ok}];return i.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-30 pb-safe",children:i.jsx("div",{className:"max-w-md mx-auto backdrop-blur-xl bg-white/10 border-t border-white/30 shadow-[0_-8px_24px_rgba(139,92,246,0.08)]",children:i.jsx("div",{className:"flex items-center justify-between px-2 h-20",children:t.map((n,o)=>{const l=n.icon,u=r===n.id;return n.isFab?i.jsxs("div",{className:"flex flex-col items-center justify-end h-full pb-3 px-1",children:[i.jsx("button",{onClick:()=>e("create"),className:"w-14 h-14 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 shadow-[0_8px_24px_rgba(139,92,246,0.4)] flex items-center justify-center hover:scale-105 active:scale-95 transition-transform -mt-7",children:i.jsx(l,{className:"w-6 h-6 text-white",strokeWidth:2.5})}),i.jsx("span",{className:"text-xs font-medium text-purple-600 mt-1",children:n.label})]},n.id):i.jsxs("button",{onClick:()=>e(n.id),className:"flex flex-col items-center justify-end h-full pb-3 min-w-[56px] flex-1",children:[i.jsx(l,{className:"w-6 h-6",strokeWidth:u?2.5:2,style:{color:u?"#9333ea":"#6b7280"}}),i.jsx("span",{className:"text-xs font-medium mt-2",style:{color:u?"#9333ea":"#6b7280"},children:n.label})]},n.id)})})})})}function H9({navigateTo:r}){return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100 pb-24",children:[i.jsx("div",{className:"sticky top-0 z-20 backdrop-blur-xl bg-white/10 border-b border-white/30",children:i.jsxs("div",{className:"max-w-md mx-auto px-4 py-4",children:[i.jsx("h1",{className:"text-[#9333ea] font-semibold",children:"Design System"}),i.jsx("p",{className:"text-[#555] mt-1",children:"Snag Liquid Glass UI"})]})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-8",children:[i.jsxs("section",{children:[i.jsx("h2",{className:"text-[#9333ea] mb-4 font-semibold",children:"Logo"}),i.jsx("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl p-6 border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center shadow-md",children:i.jsx(Hn,{className:"text-white",size:32})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-semibold",children:"Box Logo"}),i.jsx("p",{className:"text-[#555] text-sm",children:"Primary app icon"})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white/20 backdrop-blur-xl border border-white/40 flex items-center justify-center",children:i.jsx(Hn,{className:"text-purple-600",size:24})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-semibold",children:"Glass Variant"}),i.jsx("p",{className:"text-[#555] text-sm",children:"For light backgrounds"})]})]}),i.jsxs("div",{className:"flex items-center gap-4 bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl p-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white/20 backdrop-blur-xl border border-white/40 flex items-center justify-center",children:i.jsx(Hn,{className:"text-white",size:24})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-white font-semibold",children:"On Purple"}),i.jsx("p",{className:"text-white/80 text-sm",children:"Splash & headers"})]})]})]})})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-[#9333ea] mb-4 font-semibold",children:"Typography  Manrope"}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl p-6 border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] space-y-5",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-[#9333ea] font-semibold",children:"Page Title / H1"}),i.jsx("p",{className:"text-[#555] text-sm mt-1",children:"Manrope Semibold 2024px, Purple 600 (#9333ea)"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block",children:"font-semibold text-[#9333ea]"})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-[#222] font-semibold",children:"Heading 2"}),i.jsx("p",{className:"text-[#555] text-sm mt-1",children:"Manrope Semibold 1820px"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block",children:"font-semibold text-[#222]"})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-[#222] font-semibold",children:"Heading 3"}),i.jsx("p",{className:"text-[#555] text-sm mt-1",children:"Manrope Semibold 1618px"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block",children:"font-semibold text-[#222]"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Body Medium"}),i.jsx("p",{className:"text-[#555] text-sm mt-1",children:"Manrope Medium 1416px"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block",children:"font-medium text-[#222]"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#555]",children:"Body Regular"}),i.jsx("p",{className:"text-[#555] text-sm mt-1",children:"Manrope Regular 1416px, for descriptions"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block",children:"text-[#555]"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#555] text-sm font-medium",children:"Caption / Label"}),i.jsx("p",{className:"text-[#555] text-sm mt-1",children:"Manrope Medium 1214px"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block",children:"text-sm font-medium"})]}),i.jsxs("div",{children:[i.jsx("button",{className:"bg-gradient-to-r from-purple-500 to-purple-600 text-white px-6 py-3 rounded-2xl font-semibold",children:"Button Text"}),i.jsx("p",{className:"text-[#555] text-sm mt-2",children:"Manrope Semibold/Bold 16px, centered"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block",children:"font-semibold"})]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-[#9333ea] mb-4 font-semibold",children:"Colors"}),i.jsx("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl p-6 border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-semibold mb-3",children:"Primary Purple"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-500 shadow-md"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Purple 500"}),i.jsx("code",{className:"text-xs text-[#555]",children:"#a855f7"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-600 shadow-md"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Purple 600"}),i.jsx("code",{className:"text-xs text-[#555]",children:"#9333ea"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-purple-500 to-purple-600 shadow-md"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Purple Gradient"}),i.jsx("code",{className:"text-xs text-[#555]",children:"from-purple-500 to-purple-600"})]})]})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-semibold mb-3",children:"Lavender Accents"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-50 border border-purple-200/40"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Purple 50"}),i.jsx("code",{className:"text-xs text-[#555]",children:"#faf5ff"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-100 border border-purple-200/40"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Purple 100"}),i.jsx("code",{className:"text-xs text-[#555]",children:"#f3e8ff"})]})]})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-semibold mb-3",children:"Text Colors"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#222] shadow-md"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Primary Text"}),i.jsx("code",{className:"text-xs text-[#555]",children:"#222222"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#555] shadow-md"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Secondary Text"}),i.jsx("code",{className:"text-xs text-[#555]",children:"#555555"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-[#888] shadow-md"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Muted Text"}),i.jsx("code",{className:"text-xs text-[#555]",children:"#888888"})]})]})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-semibold mb-3",children:"Glass Overlay Colors"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl backdrop-blur-xl bg-white/10 border border-white/30"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Glass 10%"}),i.jsx("code",{className:"text-xs text-[#555]",children:"bg-white/10 border-white/30"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl backdrop-blur-xl bg-white/20 border border-white/40"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Glass 20%"}),i.jsx("code",{className:"text-xs text-[#555]",children:"bg-white/20 border-white/40"})]})]})]})]})]})})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-[#9333ea] mb-4 font-semibold",children:"Buttons"}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl p-6 border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] space-y-4",children:[i.jsxs("div",{children:[i.jsx("button",{className:"w-full py-4 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] font-semibold",children:"Primary Button (Snag Now)"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block",children:"bg-gradient-to-r from-purple-500 to-purple-600"})]}),i.jsxs("div",{children:[i.jsx("button",{className:"w-full py-4 rounded-2xl backdrop-blur-xl bg-white/20 text-purple-700 border border-white/30 shadow-sm transition-transform active:scale-[0.98] font-semibold",children:"Secondary Button (Barter/Offer)"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block",children:"backdrop-blur-xl bg-white/20"})]}),i.jsxs("div",{children:[i.jsx("button",{className:"w-full py-4 rounded-2xl backdrop-blur-xl bg-white/10 text-[#555] border border-white/20 shadow-sm transition-transform active:scale-[0.98] font-medium",children:"Ghost Button (Cancel)"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block",children:"backdrop-blur-xl bg-white/10"})]}),i.jsxs("div",{className:"flex items-center justify-center gap-3",children:[i.jsx("button",{className:"p-3 rounded-full backdrop-blur-xl bg-white/20 border border-white/30 shadow-sm hover:bg-white/30 transition-colors",children:i.jsx(Wo,{className:"w-6 h-6 text-purple-600"})}),i.jsx("button",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 shadow-[0_8px_24px_rgba(139,92,246,0.4)] flex items-center justify-center transition-transform active:scale-95",children:i.jsx("span",{className:"text-white text-2xl",children:"+"})})]}),i.jsx("p",{className:"text-[#555] text-sm text-center",children:"Icon buttons & FAB"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-[#9333ea] mb-4 font-semibold",children:"Inputs & Fields"}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl p-6 border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(sa,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[#888]"}),i.jsx("input",{type:"text",placeholder:"Search items or descriptions",className:"w-full pl-12 pr-4 py-3 rounded-full backdrop-blur-xl bg-white/20 border border-white/30 shadow-sm placeholder:text-[#888] text-[#222] focus:outline-none focus:ring-2 focus:ring-purple-400/50"})]}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded inline-block",children:"rounded-full backdrop-blur-xl bg-white/20"}),i.jsx("input",{type:"text",placeholder:"Regular text input",className:"w-full px-4 py-3 rounded-2xl backdrop-blur-xl bg-white/20 border border-white/30 shadow-sm placeholder:text-[#888] text-[#222] focus:outline-none focus:ring-2 focus:ring-purple-400/50"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded inline-block",children:"rounded-2xl backdrop-blur-xl bg-white/20"}),i.jsx("textarea",{placeholder:"Description textarea",className:"w-full px-4 py-3 rounded-2xl backdrop-blur-xl bg-white/20 border border-white/30 shadow-sm placeholder:text-[#888] text-[#222] focus:outline-none focus:ring-2 focus:ring-purple-400/50 resize-none",rows:3})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-[#9333ea] mb-4 font-semibold",children:"Tags & Badges"}),i.jsx("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl p-6 border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium mb-2",children:"Category Tags"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("div",{className:"backdrop-blur-xl bg-purple-100/60 rounded-full px-3 py-1.5 border border-purple-200/60 flex items-center gap-1.5",children:[i.jsx(ym,{className:"w-4 h-4 text-purple-600"}),i.jsx("span",{className:"text-purple-700 text-sm font-medium",children:"Textbooks"})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-purple-100/60 rounded-full px-3 py-1.5 border border-purple-200/60 flex items-center gap-1.5",children:[i.jsx(Bd,{className:"w-4 h-4 text-purple-600"}),i.jsx("span",{className:"text-purple-700 text-sm font-medium",children:"Furniture"})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-purple-100/60 rounded-full px-3 py-1.5 border border-purple-200/60 flex items-center gap-1.5",children:[i.jsx(vm,{className:"w-4 h-4 text-purple-600"}),i.jsx("span",{className:"text-purple-700 text-sm font-medium",children:"Apparel"})]})]}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block",children:"bg-purple-100/60 border-purple-200/60"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium mb-2",children:"Filter Chips (Active)"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-full px-3 py-1.5 shadow-lg font-medium text-sm",children:"Dorm"}),i.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 text-white rounded-full px-3 py-1.5 shadow-lg font-medium text-sm",children:"Electronics"})]}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block",children:"bg-gradient-to-r from-purple-500 to-purple-600"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium mb-2",children:"Filter Chips (Inactive)"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("div",{className:"backdrop-blur-xl bg-white/20 text-[#555] rounded-full px-3 py-1.5 border border-white/30 font-medium text-sm",children:"Kitchen"}),i.jsx("div",{className:"backdrop-blur-xl bg-white/20 text-[#555] rounded-full px-3 py-1.5 border border-white/30 font-medium text-sm",children:"Seasonal"})]}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block",children:"backdrop-blur-xl bg-white/20"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium mb-2",children:"Status Badges"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs(Dr,{className:"backdrop-blur-xl bg-gradient-to-r from-purple-500 to-purple-600 text-white border-0 shadow-lg font-medium flex items-center gap-1.5",children:[i.jsx(St,{className:"w-4 h-4"}),i.jsx("span",{children:"Barter"})]}),i.jsx(Dr,{className:"backdrop-blur-xl bg-blue-100/60 text-blue-700 border border-blue-200/60 font-medium",children:" .edu Verified"}),i.jsx(Dr,{className:"backdrop-blur-xl bg-green-100/60 text-green-700 border border-green-200/60 font-medium",children:"Active"})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium mb-2",children:"Credit Chips"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs("div",{className:"backdrop-blur-xl bg-white/20 rounded-full px-3 py-1.5 border border-white/30 shadow-md flex items-center gap-1.5",children:[i.jsx(Sr,{className:"w-4 h-4 text-yellow-500"}),i.jsx("span",{className:"text-[#222] font-medium",children:"42"})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/20 rounded-full px-3 py-1.5 border border-white/30 shadow-md flex items-center gap-1.5",children:[i.jsx(Sr,{className:"w-4 h-4 text-yellow-500"}),i.jsx("span",{className:"text-[#222] font-medium",children:"15"})]})]})]})]})})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-[#9333ea] mb-4 font-semibold",children:"Cards"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] overflow-hidden",children:[i.jsxs("div",{className:"aspect-[4/3] bg-gradient-to-br from-purple-100 to-lavender-100 flex items-center justify-center relative",children:[i.jsx("span",{className:"text-purple-400 font-medium",children:"Image Placeholder"}),i.jsx("div",{className:"absolute top-3 right-3",children:i.jsxs("div",{className:"backdrop-blur-xl bg-white/20 rounded-full px-3 py-1.5 border border-white/30 shadow-md flex items-center gap-1.5",children:[i.jsx(Sr,{className:"w-4 h-4 text-yellow-500"}),i.jsx("span",{className:"text-[#222] font-medium",children:"15"})]})})]}),i.jsxs("div",{className:"p-4",children:[i.jsx("h3",{className:"text-[#222] font-semibold mb-1",children:"Marketplace Card"}),i.jsx("p",{className:"text-[#555] mb-3 text-sm",children:"Short description goes here"}),i.jsx("div",{className:"flex items-center gap-2 mb-3",children:i.jsxs("div",{className:"backdrop-blur-xl bg-purple-100/60 rounded-full px-3 py-1.5 border border-purple-200/60 flex items-center gap-1.5",children:[i.jsx(Bd,{className:"w-3.5 h-3.5 text-purple-600"}),i.jsx("span",{className:"text-purple-700 text-xs font-medium",children:"Furniture"})]})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(qn,{className:"w-6 h-6",children:i.jsx(Gn,{className:"bg-gradient-to-br from-purple-400 to-purple-500 text-white text-xs font-medium",children:"JD"})}),i.jsx("span",{className:"text-[#555] text-sm",children:"Seller Name"})]})]})]}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded inline-block",children:"backdrop-blur-xl bg-white/10 rounded-3xl"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-[#9333ea] mb-4 font-semibold",children:"Glass Effects"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl p-6 border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:[i.jsx("p",{className:"text-[#222] font-semibold mb-1",children:"Ultra Glass Panel (10%)"}),i.jsx("p",{className:"text-[#555] text-sm mb-2",children:"Main cards, feed items"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded",children:"backdrop-blur-xl bg-white/10 border-white/30"})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/20 rounded-3xl p-6 border border-white/40 shadow-sm",children:[i.jsx("p",{className:"text-[#222] font-semibold mb-1",children:"Medium Glass Panel (20%)"}),i.jsx("p",{className:"text-[#555] text-sm mb-2",children:"Inputs, secondary cards"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded",children:"backdrop-blur-xl bg-white/20 border-white/40"})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-gradient-to-r from-purple-100/60 to-lavender-100/60 rounded-3xl p-6 border border-purple-200/60",children:[i.jsx("p",{className:"text-[#222] font-semibold mb-1",children:"Gradient Glass Panel"}),i.jsx("p",{className:"text-[#555] text-sm mb-2",children:"Special highlights, mode toggles"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded",children:"from-purple-100/60 to-lavender-100/60"})]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-[#9333ea] mb-4 font-semibold",children:"Border Radius"}),i.jsx("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl p-6 border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-16 h-16 rounded-2xl backdrop-blur-xl bg-purple-500/20 border border-white/30"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"16px / rounded-2xl"}),i.jsx("p",{className:"text-[#555] text-sm",children:"Small cards, icons"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-16 h-16 rounded-3xl backdrop-blur-xl bg-purple-500/20 border border-white/30"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"24px / rounded-3xl"}),i.jsx("p",{className:"text-[#555] text-sm",children:"Main cards, modals"})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-16 h-16 rounded-full backdrop-blur-xl bg-purple-500/20 border border-white/30"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Full / rounded-full"}),i.jsx("p",{className:"text-[#555] text-sm",children:"Pills, chips, FAB, avatars"})]})]})]})})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-[#9333ea] mb-4 font-semibold",children:"Blur Levels"}),i.jsx("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl p-6 border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:i.jsxs("div",{className:"space-y-3 relative",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-200 via-purple-300 to-lavender-200 rounded-3xl -z-10"}),i.jsx("div",{className:"backdrop-blur bg-white/20 rounded-2xl p-3 border border-white/30",children:i.jsx("p",{className:"text-[#222] font-medium",children:"backdrop-blur (4px)"})}),i.jsx("div",{className:"backdrop-blur-md bg-white/20 rounded-2xl p-3 border border-white/30",children:i.jsx("p",{className:"text-[#222] font-medium",children:"backdrop-blur-md (12px)"})}),i.jsx("div",{className:"backdrop-blur-xl bg-white/20 rounded-2xl p-3 border border-white/30",children:i.jsx("p",{className:"text-[#222] font-medium",children:"backdrop-blur-xl (1620px)  Primary"})}),i.jsx("div",{className:"backdrop-blur-2xl bg-white/20 rounded-2xl p-3 border border-white/30",children:i.jsx("p",{className:"text-[#222] font-medium",children:"backdrop-blur-2xl (24px)"})})]})})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-[#9333ea] mb-4 font-semibold",children:"Navigation"}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl p-6 border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:[i.jsx("p",{className:"text-[#222] font-medium mb-4",children:"Bottom Navigation Bar"}),i.jsx("div",{className:"backdrop-blur-xl bg-white/10 rounded-2xl border border-white/30 shadow-lg p-4",children:i.jsxs("div",{className:"flex items-center justify-around",children:[i.jsxs("div",{className:"flex flex-col items-center gap-1 text-purple-600",children:[i.jsx(Wo,{className:"w-6 h-6",strokeWidth:2.5}),i.jsx("span",{className:"text-[10px] font-medium",children:"Home"})]}),i.jsxs("div",{className:"flex flex-col items-center gap-1 text-gray-500",children:[i.jsx(al,{className:"w-6 h-6"}),i.jsx("span",{className:"text-[10px] font-medium",children:"Events"})]}),i.jsx("div",{className:"relative -mt-4 w-14 h-14 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 shadow-[0_8px_24px_rgba(139,92,246,0.4)] flex items-center justify-center",children:i.jsx("span",{className:"text-white text-2xl font-semibold",children:"+"})}),i.jsxs("div",{className:"flex flex-col items-center gap-1 text-gray-500",children:[i.jsx(Kr,{className:"w-6 h-6"}),i.jsx("span",{className:"text-[10px] font-medium",children:"Profile"})]}),i.jsxs("div",{className:"flex flex-col items-center gap-1 text-gray-500",children:[i.jsx(bs,{className:"w-6 h-6"}),i.jsx("span",{className:"text-[10px] font-medium",children:"Settings"})]})]})}),i.jsx("p",{className:"text-[#555] text-sm mt-3",children:"Active state: Purple 600 (#9333ea), strokeWidth 2.5"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-[#9333ea] mb-4 font-semibold",children:"Icons"}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl p-6 border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:[i.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center",children:i.jsx(Hn,{className:"text-white",size:24})}),i.jsx("span",{className:"text-[#555] text-xs text-center",children:"Box Logo"})]}),i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl backdrop-blur-xl bg-white/20 border border-white/30 flex items-center justify-center",children:i.jsx(St,{className:"w-6 h-6 text-purple-600"})}),i.jsx("span",{className:"text-[#555] text-xs text-center",children:"Barter"})]}),i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl backdrop-blur-xl bg-white/20 border border-white/30 flex items-center justify-center",children:i.jsx(Wo,{className:"w-6 h-6 text-purple-600"})}),i.jsx("span",{className:"text-[#555] text-xs text-center",children:"Home"})]}),i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl backdrop-blur-xl bg-white/20 border border-white/30 flex items-center justify-center",children:i.jsx(al,{className:"w-6 h-6 text-purple-600"})}),i.jsx("span",{className:"text-[#555] text-xs text-center",children:"Notifications"})]}),i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl backdrop-blur-xl bg-purple-100/60 border border-purple-200/60 flex items-center justify-center",children:i.jsx(ym,{className:"w-6 h-6 text-purple-600"})}),i.jsx("span",{className:"text-[#555] text-xs text-center",children:"Textbooks"})]}),i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl backdrop-blur-xl bg-purple-100/60 border border-purple-200/60 flex items-center justify-center",children:i.jsx(Bd,{className:"w-6 h-6 text-purple-600"})}),i.jsx("span",{className:"text-[#555] text-xs text-center",children:"Furniture"})]}),i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl backdrop-blur-xl bg-purple-100/60 border border-purple-200/60 flex items-center justify-center",children:i.jsx(vm,{className:"w-6 h-6 text-purple-600"})}),i.jsx("span",{className:"text-[#555] text-xs text-center",children:"Apparel"})]}),i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl backdrop-blur-xl bg-purple-100/60 border border-purple-200/60 flex items-center justify-center",children:i.jsx(jw,{className:"w-6 h-6 text-purple-600"})}),i.jsx("span",{className:"text-[#555] text-xs text-center",children:"Lab/Tech"})]}),i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl backdrop-blur-xl bg-purple-100/60 border border-purple-200/60 flex items-center justify-center",children:i.jsx(Aw,{className:"w-6 h-6 text-purple-600"})}),i.jsx("span",{className:"text-[#555] text-xs text-center",children:"Electronics"})]}),i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl backdrop-blur-xl bg-purple-100/60 border border-purple-200/60 flex items-center justify-center",children:i.jsx(Vw,{className:"w-6 h-6 text-purple-600"})}),i.jsx("span",{className:"text-[#555] text-xs text-center",children:"Kitchen"})]})]}),i.jsx("p",{className:"text-[#555] text-sm mt-4",children:"Lucide React icons, 20-24px standard size"})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-[#9333ea] mb-4 font-semibold",children:"Interaction States"}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl p-6 border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] space-y-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium mb-2",children:"Focus State"}),i.jsx("input",{type:"text",placeholder:"Focus ring example",className:"w-full px-4 py-3 rounded-2xl backdrop-blur-xl bg-white/20 border border-white/30 placeholder:text-[#888] text-[#222] focus:outline-none focus:ring-2 focus:ring-purple-400/50"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block",children:"focus:ring-2 focus:ring-purple-400/50"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium mb-2",children:"Active State"}),i.jsx("button",{className:"px-6 py-3 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-lg transition-transform active:scale-[0.98] font-semibold",children:"Press Me"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block ml-3",children:"active:scale-[0.98]"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[#222] font-medium mb-2",children:"Hover State"}),i.jsx("button",{className:"px-6 py-3 rounded-2xl backdrop-blur-xl bg-white/20 text-purple-700 border border-white/30 transition-all hover:bg-white/30 font-medium",children:"Hover Me"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-2 inline-block ml-3",children:"hover:bg-white/30"})]})]})]}),i.jsxs("section",{children:[i.jsx("h2",{className:"text-[#9333ea] mb-4 font-semibold",children:"Shadows"}),i.jsx("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl p-6 border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-2xl p-4 border border-white/30 shadow-sm",children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Subtle Shadow"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-1 inline-block",children:"shadow-sm"})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-2xl p-4 border border-white/30 shadow-md",children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Medium Shadow"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-1 inline-block",children:"shadow-md"})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-2xl p-4 border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)]",children:[i.jsx("p",{className:"text-[#222] font-medium",children:"Purple Tinted Shadow"}),i.jsx("code",{className:"text-xs text-purple-700 bg-purple-100/60 px-2 py-1 rounded mt-1 inline-block",children:"shadow-[0_8px_24px_rgba(139,92,246,0.12)]"})]}),i.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 rounded-2xl p-4 shadow-[0_8px_24px_rgba(139,92,246,0.4)]",children:[i.jsx("p",{className:"text-white font-medium",children:"Purple Glow Shadow"}),i.jsx("code",{className:"text-xs text-white/80 bg-white/20 px-2 py-1 rounded mt-1 inline-block",children:"shadow-[0_8px_24px_rgba(139,92,246,0.4)]"})]})]})})]})]})]})}function W9({navigateTo:r}){const[e,t]=_.useState(!0),[n,o]=_.useState(!0),[l,u]=_.useState(!0),[h,p]=_.useState(!1);return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100 pb-24",children:[i.jsx("div",{className:"sticky top-0 z-20 backdrop-blur-xl bg-white/10 border-b border-white/30",children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>r("settings"),className:"p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(wt,{className:"w-6 h-6 text-[#222]"})}),i.jsx("h2",{className:"text-[#9333ea] font-semibold text-xl",children:"Privacy Settings"})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] p-4 space-y-4",children:[i.jsx(Fd,{icon:i.jsx(Yo,{className:"w-5 h-5 text-purple-600"}),title:"Profile Visibility",description:"Allow other students to view your profile",value:e,onChange:t}),i.jsx("div",{className:"border-t border-purple-100/40"}),i.jsx(Fd,{icon:i.jsx(Kr,{className:"w-5 h-5 text-purple-600"}),title:"Location Sharing",description:"Show your campus location in listings",value:n,onChange:o}),i.jsx("div",{className:"border-t border-purple-100/40"}),i.jsx(Fd,{icon:i.jsx(BS,{className:"w-5 h-5 text-purple-600"}),title:"Allow Messages",description:"Let others contact you about listings",value:l,onChange:u}),i.jsx("div",{className:"border-t border-purple-100/40"}),i.jsx(Fd,{icon:i.jsx(Pr,{className:"w-5 h-5 text-purple-600"}),title:"Active Status",description:"Show when you're online",value:h,onChange:p})]}),i.jsx("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] p-4",children:i.jsx("p",{className:"text-[#666] text-sm leading-relaxed",children:"These settings help you control who can see your information and how others can interact with you on Snag."})})]})]})}function Fd({icon:r,title:e,description:t,value:n,onChange:o}){return i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center flex-shrink-0 mt-1",children:r}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-[#222] font-medium",children:e}),i.jsx("p",{className:"text-[#666] text-sm mt-1",children:t})]}),i.jsx(Ah,{checked:n,onCheckedChange:o,className:"mt-1"})]})}function q9({navigateTo:r}){const[e,t]=_.useState([{id:"1",name:"John Doe",username:"@johndoe",avatar:"https://api.dicebear.com/7.x/avataaars/svg?seed=John",blockedDate:"2 weeks ago"}]),[n,o]=_.useState(""),l=h=>{t(p=>p.filter(m=>m.id!==h))},u=e.filter(h=>h.name.toLowerCase().includes(n.toLowerCase())||h.username.toLowerCase().includes(n.toLowerCase()));return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100 pb-24",children:[i.jsx("div",{className:"sticky top-0 z-20 backdrop-blur-xl bg-white/10 border-b border-white/30",children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>r("settings"),className:"p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(wt,{className:"w-6 h-6 text-[#222]"})}),i.jsx("h2",{className:"text-[#9333ea] font-semibold text-xl",children:"Blocked Users"})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx(sa,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[#999]"}),i.jsx("input",{type:"text",placeholder:"Search blocked users...",value:n,onChange:h=>o(h.target.value),className:"w-full backdrop-blur-xl bg-white/10 border border-white/30 rounded-full pl-12 pr-4 py-3 text-[#222] placeholder:text-[#999] focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),u.length>0?i.jsx("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] overflow-hidden",children:u.map((h,p)=>i.jsxs("div",{className:`p-4 flex items-center gap-3 ${p!==u.length-1?"border-b border-purple-100/40":""}`,children:[i.jsx("img",{src:h.avatar,alt:h.name,className:"w-12 h-12 rounded-full bg-purple-100"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-[#222] font-medium",children:h.name}),i.jsx("p",{className:"text-[#666] text-sm",children:h.username}),i.jsxs("p",{className:"text-[#999] text-xs mt-1",children:["Blocked ",h.blockedDate]})]}),i.jsx("button",{onClick:()=>l(h.id),className:"px-4 py-2 rounded-full bg-purple-600 text-white hover:bg-purple-700 transition-colors text-sm",children:"Unblock"})]},h.id))}):i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] p-8 text-center",children:[i.jsx(bk,{className:"w-12 h-12 text-[#999] mx-auto mb-3"}),i.jsx("h3",{className:"text-[#222] font-medium mb-2",children:"No Blocked Users"}),i.jsx("p",{className:"text-[#666] text-sm",children:n?"No users match your search":"You haven't blocked anyone yet"})]})]})]})}function G9({navigateTo:r}){const e=[{icon:i.jsx(Kr,{className:"w-5 h-5 text-purple-600"}),title:"Meet in Public Places",description:"Always meet in well-lit, public campus locations. Use designated meeting spots like the Student Union or Library entrance."},{icon:i.jsx(Pr,{className:"w-5 h-5 text-purple-600"}),title:"Bring a Friend",description:"Consider bringing a friend to the meetup, especially for high-value items or first-time trades."},{icon:i.jsx(Yo,{className:"w-5 h-5 text-purple-600"}),title:"Inspect Before You Buy",description:"Always inspect items carefully before completing a transaction. Check for any damage or issues."},{icon:i.jsx(ws,{className:"w-5 h-5 text-purple-600"}),title:"Trust Your Instincts",description:"If something feels wrong or too good to be true, trust your gut. You can always cancel a meeting."},{icon:i.jsx(jn,{className:"w-5 h-5 text-purple-600"}),title:"Verify Seller Identity",description:"Check the seller's trust badges and verification status. Users with verified badges have confirmed their student status."},{icon:i.jsx(Gy,{className:"w-5 h-5 text-purple-600"}),title:"Report Suspicious Activity",description:"If you encounter suspicious behavior or scams, report it immediately to help keep the community safe."}];return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100 pb-24",children:[i.jsx("div",{className:"sticky top-0 z-20 backdrop-blur-xl bg-white/10 border-b border-white/30",children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>r("settings"),className:"p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(wt,{className:"w-6 h-6 text-[#222]"})}),i.jsx("h2",{className:"text-[#9333ea] font-semibold text-xl",children:"Safety Tips"})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[i.jsxs("div",{className:"backdrop-blur-xl bg-gradient-to-br from-purple-500/10 to-purple-600/10 rounded-3xl border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] p-6",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center mb-4",children:i.jsx(ws,{className:"w-6 h-6 text-white"})}),i.jsx("h3",{className:"text-[#222] font-semibold text-lg mb-2",children:"Stay Safe on Snag"}),i.jsx("p",{className:"text-[#666]",children:"Follow these guidelines to ensure safe and successful transactions with fellow students on campus."})]}),i.jsx("div",{className:"space-y-4",children:e.map((t,n)=>i.jsx("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-100 to-purple-200 flex items-center justify-center flex-shrink-0",children:t.icon}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-[#222] font-medium mb-1",children:t.title}),i.jsx("p",{className:"text-[#666] text-sm leading-relaxed",children:t.description})]})]})},n))}),i.jsx("div",{className:"backdrop-blur-xl bg-red-50/50 border border-red-200/50 rounded-3xl p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(Gy,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-red-900 font-medium mb-1",children:"Emergency Contact"}),i.jsx("p",{className:"text-red-700 text-sm",children:"If you feel unsafe or witness illegal activity, contact Campus Security immediately at (555) 123-4567"})]})]})})]})]})}const xw=["Furniture","Kitchen Supplies","Dorm Decor","Electronics","Clothing","Textbooks","Move-Out Essentials","Cleaning Supplies","Organization","International Student Essentials","Seasonal Items","Halloween","Winter Gear","Plants","Fitness","Gaming","Laundry","Lifestyle"];function K9({navigateTo:r}){const{darkMode:e}=Tt(),[t,n]=_.useState({name:"Ryan Mehta",username:"@ryanmehta",email:"ryan.mehta@university.edu",bio:"Computer Science major | Love vintage fashion and tech gadgets",campus:"Main Campus",graduationYear:"2025"}),[o,l]=_.useState(["Electronics","Clothing","Textbooks"]),[u,h]=_.useState(""),[p,m]=_.useState([]),[y,x]=_.useState(""),[w,k]=_.useState(""),[P,E]=_.useState(!1),T=W=>{o.includes(W)?l(o.filter(Z=>Z!==W)):l([...o,W])},O=()=>{const W=u.trim();W&&!p.includes(W)&&!xw.includes(W)&&(m([...p,W]),l([...o,W]),h(""))},B=W=>{m(p.filter(Z=>Z!==W)),l(o.filter(Z=>Z!==W))},U=[...xw,...p],H=()=>{if(E(!0),!t.name.trim()){x("Please enter your full name");return}if(!t.bio.trim()||t.bio.trim().length<10){k("Please add at least one sentence");return}He.success("Profile updated successfully!"),setTimeout(()=>{r("profile")},500)};return i.jsxs("div",{className:`min-h-screen ${e?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"} pb-24`,children:[i.jsx("div",{className:`sticky top-0 z-20 backdrop-blur-xl ${e?"bg-black/70 border-white/10":"bg-white/10 border-white/30"} border-b`,children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>r("settings"),className:`p-2 rounded-full ${e?"hover:bg-white/10":"hover:bg-white/50"} transition-colors`,children:i.jsx(wt,{className:`w-6 h-6 ${e?"text-white":"text-[#222]"}`})}),i.jsx("h2",{className:`${e?"text-white":"text-[#9333ea]"} font-semibold text-xl flex-1`,children:"Edit Profile"}),i.jsxs("button",{onClick:H,className:"px-4 py-2 rounded-full bg-purple-600 text-white hover:bg-purple-700 transition-colors flex items-center gap-2",children:[i.jsx(Dw,{className:"w-4 h-4"}),"Save"]})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[i.jsx("div",{className:`backdrop-blur-xl ${e?"bg-white/10 border-white/20":"bg-white/10 border-white/30"} rounded-3xl border shadow-[0_8px_24px_rgba(139,92,246,0.12)] p-6`,children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:"https://api.dicebear.com/7.x/avataaars/svg?seed=Ryan",alt:"Profile",className:"w-24 h-24 rounded-full bg-purple-100"}),i.jsx("button",{className:"absolute bottom-0 right-0 w-8 h-8 rounded-full bg-purple-600 text-white flex items-center justify-center hover:bg-purple-700 transition-colors",children:i.jsx(Sw,{className:"w-4 h-4"})})]}),i.jsx("p",{className:`${e?"text-gray-400":"text-[#666]"} text-sm mt-3`,children:"Click to change photo"})]})}),i.jsxs("div",{className:`backdrop-blur-xl ${e?"bg-white/10 border-white/20":"bg-white/10 border-white/30"} rounded-3xl border shadow-[0_8px_24px_rgba(139,92,246,0.12)] p-4 space-y-4`,children:[i.jsx(wc,{label:"Full Name",value:t.name,onChange:W=>{n({...t,name:W}),x("")},darkMode:e,error:P?y:""}),i.jsx("div",{className:`border-t ${e?"border-white/20":"border-purple-100/40"}`}),i.jsx(wc,{label:"Username",value:t.username,onChange:W=>n({...t,username:W}),darkMode:e}),i.jsx("div",{className:`border-t ${e?"border-white/20":"border-purple-100/40"}`}),i.jsx(wc,{label:"Email",value:t.email,onChange:W=>n({...t,email:W}),type:"email",darkMode:e}),i.jsx("div",{className:`border-t ${e?"border-white/20":"border-purple-100/40"}`}),i.jsx(Y9,{label:"Bio",value:t.bio,onChange:W=>{n({...t,bio:W}),k("")},darkMode:e,error:P?w:""})]}),i.jsxs("div",{className:`backdrop-blur-xl ${e?"bg-white/10 border-white/20":"bg-white/10 border-white/30"} rounded-3xl border shadow-[0_8px_24px_rgba(139,92,246,0.12)] p-4 space-y-4`,children:[i.jsx(wc,{label:"Campus",value:t.campus,onChange:W=>n({...t,campus:W}),darkMode:e}),i.jsx("div",{className:`border-t ${e?"border-white/20":"border-purple-100/40"}`}),i.jsx(wc,{label:"Graduation Year",value:t.graduationYear,onChange:W=>n({...t,graduationYear:W}),darkMode:e})]}),i.jsxs("div",{className:`backdrop-blur-xl ${e?"bg-white/10 border-white/20":"bg-white/10 border-white/30"} rounded-3xl border shadow-[0_8px_24px_rgba(139,92,246,0.12)] p-4`,children:[i.jsx("label",{className:`${e?"text-gray-400":"text-[#666]"} text-sm block mb-4`,children:"Your Interests"}),i.jsxs("div",{className:"flex gap-2 mb-4",children:[i.jsx("input",{type:"text",placeholder:"Add custom tag",value:u,onChange:W=>h(W.target.value),onKeyPress:W=>{W.key==="Enter"&&(W.preventDefault(),O())},className:`flex-1 ${e?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"bg-white/50 border-purple-100/50 text-[#222]"} border rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500`}),i.jsx("button",{onClick:O,disabled:!u.trim(),className:"px-4 py-2 rounded-xl bg-purple-600 text-white hover:bg-purple-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center gap-2",children:i.jsx(ni,{className:"w-4 h-4"})})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:U.map(W=>{const Z=o.includes(W),R=p.includes(W);return i.jsxs("button",{onClick:()=>T(W),className:`relative px-3 py-1.5 rounded-full transition-all text-sm ${Z?"bg-purple-600 text-white border-purple-600":e?"bg-white/5 text-white/80 border-white/10 hover:bg-white/10 hover:border-white/20":"bg-white/60 text-gray-700 border-purple-200/50 hover:bg-white/80 hover:border-purple-300"} border ${R?"pr-7":""}`,children:[W,R&&i.jsx("button",{onClick:S=>{S.stopPropagation(),B(W)},className:"absolute right-1.5 top-1/2 -translate-y-1/2",children:i.jsx(kn,{className:"w-3 h-3"})})]},W)})})]})]})]})}function wc({label:r,value:e,onChange:t,type:n="text",darkMode:o,error:l}){return i.jsxs("div",{children:[i.jsx("label",{className:`${o?"text-gray-400":"text-[#666]"} text-sm block mb-2`,children:r}),i.jsx("input",{type:n,value:e,onChange:u=>t(u.target.value),className:`w-full ${o?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"bg-white/50 border-purple-100/50 text-[#222]"} ${l?"border-2 border-red-500":"border"} rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500`}),l&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:l})]})}function Y9({label:r,value:e,onChange:t,darkMode:n,error:o}){return i.jsxs("div",{children:[i.jsx("label",{className:`${n?"text-gray-400":"text-[#666]"} text-sm block mb-2`,children:r}),i.jsx("textarea",{value:e,onChange:l=>t(l.target.value),rows:3,className:`w-full ${n?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"bg-white/50 border-purple-100/50 text-[#222]"} ${o?"border-2 border-red-500":"border"} rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none`}),o&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:o})]})}function Q9({navigateTo:r}){const[e,t]=_.useState(""),[n,o]=_.useState(""),[l,u]=_.useState(""),[h,p]=_.useState(!1),[m,y]=_.useState(!1),[x,w]=_.useState(!1),k=()=>{if(!e||!n||!l){He.error("Please fill in all fields");return}if(n!==l){He.error("New passwords do not match");return}if(n.length<8){He.error("Password must be at least 8 characters");return}He.success("Password changed successfully!"),setTimeout(()=>{r("settings")},500)};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100 pb-24",children:[i.jsx("div",{className:"sticky top-0 z-20 backdrop-blur-xl bg-white/10 border-b border-white/30",children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>r("settings"),className:"p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(wt,{className:"w-6 h-6 text-[#222]"})}),i.jsx("h2",{className:"text-[#9333ea] font-semibold text-xl flex-1",children:"Change Password"}),i.jsxs("button",{onClick:k,className:"px-4 py-2 rounded-full bg-purple-600 text-white hover:bg-purple-700 transition-colors flex items-center gap-2",children:[i.jsx(Dw,{className:"w-4 h-4"}),"Save"]})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[i.jsx("div",{className:"backdrop-blur-xl bg-purple-50/50 border border-purple-200/50 rounded-3xl p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(LS,{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-purple-900 font-medium mb-1",children:"Password Requirements"}),i.jsx("p",{className:"text-purple-700 text-sm",children:"Your password must be at least 8 characters long and include a mix of letters, numbers, and symbols."})]})]})}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] p-4 space-y-4",children:[i.jsx(xm,{label:"Current Password",value:e,onChange:t,show:h,onToggleShow:()=>p(!h)}),i.jsx("div",{className:"border-t border-purple-100/40"}),i.jsx(xm,{label:"New Password",value:n,onChange:o,show:m,onToggleShow:()=>y(!m)}),i.jsx("div",{className:"border-t border-purple-100/40"}),i.jsx(xm,{label:"Confirm New Password",value:l,onChange:u,show:x,onToggleShow:()=>w(!x)})]}),i.jsx("div",{className:"text-center",children:i.jsx("button",{className:"text-purple-600 hover:text-purple-700 text-sm",children:"Forgot your current password?"})})]})]})}function xm({label:r,value:e,onChange:t,show:n,onToggleShow:o}){return i.jsxs("div",{children:[i.jsx("label",{className:"text-[#666] text-sm block mb-2",children:r}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:n?"text":"password",value:e,onChange:l=>t(l.target.value),className:"w-full bg-white/50 border border-purple-100/50 rounded-xl px-4 py-2 pr-12 text-[#222] focus:outline-none focus:ring-2 focus:ring-purple-500"}),i.jsx("button",{type:"button",onClick:o,className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#999] hover:text-[#666] transition-colors",children:n?i.jsx(rh,{className:"w-5 h-5"}):i.jsx(Yo,{className:"w-5 h-5"})})]})]})}function X9({navigateTo:r}){const[e,t]=_.useState("en"),n=[{code:"en",name:"English",nativeName:"English",flag:""},{code:"ko",name:"Korean",nativeName:"",flag:""},{code:"es",name:"Spanish",nativeName:"Espaol",flag:""},{code:"zh",name:"Chinese",nativeName:"",flag:""},{code:"ja",name:"Japanese",nativeName:"",flag:""},{code:"fr",name:"French",nativeName:"Franais",flag:""},{code:"de",name:"German",nativeName:"Deutsch",flag:""},{code:"pt",name:"Portuguese",nativeName:"Portugus",flag:""},{code:"it",name:"Italian",nativeName:"Italiano",flag:""},{code:"ru",name:"Russian",nativeName:"",flag:""},{code:"ar",name:"Arabic",nativeName:"",flag:""},{code:"hi",name:"Hindi",nativeName:"",flag:""}],o=l=>{t(l);const u=n.find(h=>h.code===l);He.success(`Language changed to ${u?.name}`)};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100 pb-24",children:[i.jsx("div",{className:"sticky top-0 z-20 backdrop-blur-xl bg-white/10 border-b border-white/30",children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>r("settings"),className:"p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(wt,{className:"w-6 h-6 text-[#222]"})}),i.jsx("h2",{className:"text-[#9333ea] font-semibold text-xl",children:"Language"})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[i.jsx("div",{className:"backdrop-blur-xl bg-purple-50/50 border border-purple-200/50 rounded-3xl p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(Iw,{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-purple-900 font-medium mb-1",children:"App Language"}),i.jsx("p",{className:"text-purple-700 text-sm",children:"Select your preferred language. The app will restart to apply changes."})]})]})}),i.jsx("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] overflow-hidden",children:n.map((l,u)=>i.jsxs("button",{onClick:()=>o(l.code),className:`w-full px-4 py-4 flex items-center gap-3 text-left hover:bg-white/50 transition-colors ${u!==n.length-1?"border-b border-purple-100/40":""}`,children:[i.jsx("span",{className:"text-2xl flex-shrink-0",children:l.flag}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-[#222] font-medium",children:l.name}),i.jsx("p",{className:"text-[#666] text-sm",children:l.nativeName})]}),e===l.code&&i.jsx("div",{className:"w-6 h-6 rounded-full bg-purple-600 flex items-center justify-center",children:i.jsx(kw,{className:"w-4 h-4 text-white"})})]},l.code))})]})]})}function J9({navigateTo:r}){const[e,t]=_.useState(""),[n,o]=_.useState(null),l=[{category:"Getting Started",question:"How do I create my first listing?",answer:'Tap the purple + button at the bottom of your screen, fill in the item details including photos, price, and description, then tap "Publish Listing". Your item will be visible to all students on your campus immediately.'},{category:"Getting Started",question:"What are Snag Credits and how do they work?",answer:"Snag Credits are our campus currency. You earn credits by selling items, and can spend them on purchases. 1 credit equals approximately $1. Credits help maintain fairness and trust within the community."},{category:"Barter Mode",question:"How does Barter Mode work?",answer:"Toggle Barter Mode on when creating a listing to trade items instead of using credits. Other students can offer their items in exchange, and you can accept, counter, or decline offers."},{category:"Barter Mode",question:"Can I use both credits and barter?",answer:"Each listing can be either credit-based or barter-based, but not both. However, you can have multiple listings using different payment methods."},{category:"Safety",question:"Where should I meet buyers/sellers?",answer:"Always meet in public, well-lit campus locations. We recommend designated meeting spots like the Student Union entrance, Library lobby, or Campus Center. Never meet in private locations."},{category:"Safety",question:"What are Trust Badges?",answer:"Trust Badges are earned through verified transactions, student verification, and positive community interactions. They help identify reliable sellers and buyers. Verified students have confirmed their .edu email address."},{category:"Account",question:"How do I verify my student status?",answer:"Go to Settings > Edit Profile and verify your university email address. You'll receive a verification link to confirm your student status and earn your first Trust Badge."},{category:"Account",question:"Can I block or report users?",answer:`Yes! Go to any user's profile, tap the three dots, and select "Block User" or "Report User". You can manage blocked users in Settings > Privacy & Safety > Blocked Users.`},{category:"Transactions",question:"What happens after I confirm a purchase?",answer:"After confirming, you'll schedule a meeting time and location with the seller. Credits are held in escrow and released after you confirm receiving the item in good condition."},{category:"Transactions",question:"Can I cancel a transaction?",answer:'You can cancel before meeting. Go to Notifications, find the meeting confirmation, and tap "Cancel Meeting". Credits will be returned immediately. Frequent cancellations may affect your Trust Score.'}],u=l.filter(p=>p.question.toLowerCase().includes(e.toLowerCase())||p.answer.toLowerCase().includes(e.toLowerCase())||p.category.toLowerCase().includes(e.toLowerCase())),h=[...new Set(l.map(p=>p.category))];return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100 pb-24",children:[i.jsx("div",{className:"sticky top-0 z-20 backdrop-blur-xl bg-white/10 border-b border-white/30",children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>r("settings"),className:"p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(wt,{className:"w-6 h-6 text-[#222]"})}),i.jsx("h2",{className:"text-[#9333ea] font-semibold text-xl",children:"Help Center"})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx(sa,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-[#999]"}),i.jsx("input",{type:"text",placeholder:"Search for help...",value:e,onChange:p=>t(p.target.value),className:"w-full backdrop-blur-xl bg-white/10 border border-white/30 rounded-full pl-12 pr-4 py-3 text-[#222] placeholder:text-[#999] focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),h.map(p=>{const m=u.filter(y=>y.category===p);return m.length===0?null:i.jsxs("div",{children:[i.jsx("h3",{className:"text-[#555] font-medium text-sm px-2 mb-3",children:p}),i.jsx("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] overflow-hidden",children:m.map((y,x)=>{const w=l.indexOf(y),k=n===w;return i.jsxs("div",{children:[i.jsxs("button",{onClick:()=>o(k?null:w),className:"w-full px-4 py-4 flex items-start gap-3 text-left hover:bg-white/50 transition-colors",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-[#222] font-medium",children:y.question}),k&&i.jsx("p",{className:"text-[#666] text-sm mt-2 leading-relaxed",children:y.answer})]}),i.jsx("div",{className:"flex-shrink-0 mt-1",children:k?i.jsx(Cw,{className:"w-5 h-5 text-[#999]"}):i.jsx(lg,{className:"w-5 h-5 text-[#999]"})})]}),x!==m.length-1&&i.jsx("div",{className:"border-b border-purple-100/40"})]},w)})})]},p)}),i.jsxs("div",{className:"backdrop-blur-xl bg-purple-50/50 border border-purple-200/50 rounded-3xl p-4 text-center",children:[i.jsx("h3",{className:"text-purple-900 font-medium mb-2",children:"Still need help?"}),i.jsx("p",{className:"text-purple-700 text-sm mb-4",children:"Can't find what you're looking for? Send us your feedback and we'll get back to you."}),i.jsx("button",{onClick:()=>r("send-feedback"),className:"w-full py-3 rounded-full bg-purple-600 text-white hover:bg-purple-700 transition-colors",children:"Contact Support"})]})]})]})}function Z9({navigateTo:r}){const[e,t]=_.useState("general"),[n,o]=_.useState(""),[l,u]=_.useState(""),h=[{id:"general",label:"General Feedback",emoji:""},{id:"bug",label:"Report a Bug",emoji:""},{id:"feature",label:"Feature Request",emoji:""},{id:"safety",label:"Safety Concern",emoji:""}],p=()=>{if(!n||!l){He.error("Please fill in all fields");return}He.success("Feedback sent successfully! We'll get back to you soon."),setTimeout(()=>{r("settings")},500)};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100 pb-24",children:[i.jsx("div",{className:"sticky top-0 z-20 backdrop-blur-xl bg-white/10 border-b border-white/30",children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>r("settings"),className:"p-2 rounded-full hover:bg-white/50 transition-colors",children:i.jsx(wt,{className:"w-6 h-6 text-[#222]"})}),i.jsx("h2",{className:"text-[#9333ea] font-semibold text-xl flex-1",children:"Send Feedback"}),i.jsxs("button",{onClick:p,className:"px-4 py-2 rounded-full bg-purple-600 text-white hover:bg-purple-700 transition-colors flex items-center gap-2",children:[i.jsx(sk,{className:"w-4 h-4"}),"Send"]})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[i.jsx("div",{className:"backdrop-blur-xl bg-purple-50/50 border border-purple-200/50 rounded-3xl p-4",children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx(Rw,{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-purple-900 font-medium mb-1",children:"We'd love to hear from you!"}),i.jsx("p",{className:"text-purple-700 text-sm",children:"Your feedback helps us make Snag better for everyone in the campus community."})]})]})}),i.jsxs("div",{children:[i.jsx("label",{className:"text-[#666] text-sm block mb-3 px-2",children:"Feedback Type"}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:h.map(m=>i.jsxs("button",{onClick:()=>t(m.id),className:`backdrop-blur-xl rounded-2xl border p-4 transition-all ${e===m.id?"bg-purple-100/50 border-purple-300 shadow-[0_4px_16px_rgba(139,92,246,0.2)]":"bg-white/10 border-white/30 hover:bg-white/20"}`,children:[i.jsx("div",{className:"text-2xl mb-2",children:m.emoji}),i.jsx("div",{className:"text-[#222] text-sm font-medium",children:m.label})]},m.id))})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] p-4",children:[i.jsx("label",{className:"text-[#666] text-sm block mb-2",children:"Subject"}),i.jsx("input",{type:"text",value:n,onChange:m=>o(m.target.value),placeholder:"Brief summary of your feedback",className:"w-full bg-white/50 border border-purple-100/50 rounded-xl px-4 py-2 text-[#222] placeholder:text-[#999] focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] p-4",children:[i.jsx("label",{className:"text-[#666] text-sm block mb-2",children:"Message"}),i.jsx("textarea",{value:l,onChange:m=>u(m.target.value),placeholder:"Tell us more about your feedback...",rows:8,className:"w-full bg-white/50 border border-purple-100/50 rounded-xl px-4 py-3 text-[#222] placeholder:text-[#999] focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none"}),i.jsxs("p",{className:"text-[#999] text-xs mt-2",children:[l.length,"/1000 characters"]})]}),i.jsxs("div",{className:"backdrop-blur-xl bg-white/10 rounded-3xl border border-white/30 shadow-[0_8px_24px_rgba(139,92,246,0.12)] p-4",children:[i.jsx("label",{className:"text-[#666] text-sm block mb-2",children:"Your Email (Optional)"}),i.jsx("input",{type:"email",placeholder:"your.email@university.edu",className:"w-full bg-white/50 border border-purple-100/50 rounded-xl px-4 py-2 text-[#222] placeholder:text-[#999] focus:outline-none focus:ring-2 focus:ring-purple-500"}),i.jsx("p",{className:"text-[#999] text-xs mt-2",children:"We'll use this to follow up if needed"})]})]})]})}function eL({navigateTo:r,user:e}){const{darkMode:t}=Tt(),[n,o]=_.useState(null),[l,u]=_.useState([]),[h,p]=_.useState(!0);return _.useEffect(()=>{async function m(){try{if(!e?.id)return;const y=Nt(tt,"users",e.id),x=await ei(y);if(x.exists()){const w={id:x.id,...x.data()};o(w);const k=w.myListings||[];if(k.length>0){const P=qo(Sn(tt,"listings"),Ki("id","in",k.slice(0,10))),T=(await sl(P)).docs.map(O=>({id:O.id,...O.data()}));u(T)}}}catch(y){console.error("Error loading seller profile:",y)}finally{p(!1)}}m()},[e?.id]),h?i.jsx("div",{className:"p-6 text-center",children:"Loading..."}):n?(console.log(n),i.jsxs("div",{className:`min-h-screen ${t?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"}`,children:[i.jsx("div",{className:`sticky top-0 z-20 backdrop-blur-xl ${t?"bg-black/70":"bg-white/10"} border-b`,children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsx("button",{onClick:()=>r("home"),className:"p-2 rounded-full hover:bg-white/10 transition",children:i.jsx(wt,{className:"w-6 h-6"})})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[i.jsx("div",{className:`backdrop-blur-xl rounded-3xl p-6 border shadow-lg ${t?"bg-white/10":"bg-white/70"}`,children:i.jsxs("div",{className:"flex flex-col items-center text-center",children:[i.jsx(qn,{className:"w-24 h-24 mb-4",children:i.jsx(Gn,{className:"bg-purple-500 text-white text-3xl",children:n.name?.charAt(0)})}),i.jsx("h2",{className:"text-2xl font-semibold",children:n.name}),n.verified&&i.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded-full flex items-center justify-center mt-1",children:i.jsx(jn,{className:"w-4 h-4 text-white"})}),i.jsx("p",{className:"text-sm opacity-80 mt-3",children:n.bio||"Campus student selling items"}),i.jsxs("div",{className:"flex gap-6 mt-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1",children:[i.jsx(Mw,{className:"w-5 h-5 text-yellow-500",fill:"currentColor"}),i.jsx("span",{className:"text-xl font-semibold",children:n.trustScore})]}),i.jsx("p",{className:"text-xs opacity-70",children:"Trust"})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-1",children:[i.jsx(St,{className:"w-5 h-5 text-purple-500"}),i.jsx("span",{className:"text-xl font-semibold",children:n.trades})]}),i.jsx("p",{className:"text-xs opacity-70",children:"Trades"})]})]})]})}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold px-2 mb-3",children:["Active Listings (",l.length,")"]}),i.jsx("div",{className:"space-y-3",children:l.map(m=>i.jsxs("button",{onClick:()=>r("item-detail",{...m,seller:n}),className:"w-full backdrop-blur-xl border rounded-2xl p-3 flex gap-3 hover:shadow-lg",children:[i.jsx("div",{className:"w-20 h-20 rounded-xl overflow-hidden",children:i.jsx("img",{src:m.images[0],className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"text-left flex-1",children:[i.jsx("h4",{className:"font-semibold",children:m.title}),m.isTrade?i.jsxs(Dr,{className:"bg-purple-600 text-white flex gap-1 w-fit mt-1",children:[i.jsx(St,{className:"w-3 h-3"}),"Trade"]}):i.jsxs("p",{className:"opacity-70",children:[m.credits," credits"]})]})]},m.id))})]})]})]})):i.jsx("div",{className:"p-6 text-center",children:"Seller not found."})}const yw=[{id:1,name:"Move-Out Sale 2025",description:"Graduating seniors selling everything!",activePosts:128,coverImage:"https://images.unsplash.com/photo-1580480055273-228ff5388ef8?w=400",isJoined:!0},{id:2,name:"Textbook Exchange",description:"Trade or sell textbooks for all majors",activePosts:94,coverImage:"https://images.unsplash.com/photo-1456513080510-7bf3a84b82f8?w=400",isJoined:!0},{id:3,name:"Tech & Electronics",description:"Laptops, phones, headphones, and more",activePosts:67,coverImage:"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400",isJoined:!1},{id:4,name:"Dorm Furniture",description:"Chairs, desks, shelves for dorm rooms",activePosts:52,coverImage:"https://images.unsplash.com/photo-1580480055273-228ff5388ef8?w=400",isJoined:!1},{id:5,name:"Winter Apparel",description:"Coats, boots, and cold weather gear",activePosts:41,coverImage:"https://images.unsplash.com/photo-1539533018447-63fcce2678e3?w=400",isJoined:!1},{id:6,name:"Free Stuff",description:"Items being given away for free!",activePosts:33,coverImage:"https://images.unsplash.com/photo-1532012197267-da84d127e765?w=400",isJoined:!1}];function tL({navigateTo:r,userCircles:e}){const{darkMode:t}=Tt(),[n,o]=_.useState(""),u=[...e,...yw].filter(x=>x.isJoined),h=yw,p=x=>{if(!n.trim())return x;const w=n.toLowerCase();return x.filter(k=>k.name.toLowerCase().includes(w)||k.description.toLowerCase().includes(w)||k.category&&k.category.toLowerCase().includes(w))},m=p(u),y=p(h);return i.jsxs("div",{className:`min-h-screen ${t?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"} pb-24`,children:[i.jsx("div",{className:`sticky top-0 z-20 backdrop-blur-xl ${t?"bg-black/70 border-white/10":"bg-white/10 border-white/30"} border-b`,children:i.jsxs("div",{className:"max-w-md mx-auto px-4 py-4",children:[i.jsx("h1",{className:`${t?"text-white":"text-[#9333ea]"} font-semibold text-xl mb-4`,children:"Circles"}),i.jsxs("div",{className:"relative",children:[i.jsx(sa,{className:`absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 ${t?"text-gray-400":"text-[#888]"}`}),i.jsx("input",{type:"text",placeholder:"Search circles...",value:n,onChange:x=>o(x.target.value),className:`w-full pl-12 pr-4 py-3 rounded-full backdrop-blur-xl ${t?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"bg-white/80 border-white/60 text-[#222] placeholder:text-[#888]"} border shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-400/50`})]})]})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[i.jsxs("button",{onClick:()=>r("create-circle"),className:"w-full py-4 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] flex items-center justify-center gap-2 mx-auto",children:[i.jsx(ni,{className:"w-5 h-5",strokeWidth:2.5}),i.jsx("span",{children:"Create a Circle"})]}),m.length>0&&i.jsxs("div",{children:[i.jsx("h2",{className:`${t?"text-white":"text-[#222]"} font-semibold text-lg mb-3 px-2`,children:"Your Circles"}),i.jsx("div",{className:"space-y-3",children:m.map(x=>i.jsx(vw,{circle:x,navigateTo:r,darkMode:t},x.id))})]}),i.jsxs("div",{children:[i.jsx("h2",{className:`${t?"text-white":"text-[#222]"} font-semibold text-lg mb-3 px-2`,children:"All Circles"}),y.length>0?i.jsx("div",{className:"space-y-3",children:y.map(x=>i.jsx(vw,{circle:x,navigateTo:r,darkMode:t},x.id))}):i.jsx("div",{className:`backdrop-blur-2xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-2xl border p-8 text-center`,children:i.jsx("p",{className:`${t?"text-gray-400":"text-[#888]"}`,children:"No circles match your search."})})]})]})]})}function vw({circle:r,navigateTo:e,darkMode:t}){return i.jsx("button",{onClick:()=>e("circle-feed",r),className:`w-full backdrop-blur-2xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-2xl border shadow-[0_4px_16px_rgba(139,92,246,0.08)] overflow-hidden hover:shadow-[0_8px_24px_rgba(139,92,246,0.15)] transition-all active:scale-[0.98]`,children:i.jsxs("div",{className:"flex items-center gap-3 p-3",children:[i.jsx("div",{className:"w-20 h-20 rounded-xl overflow-hidden flex-shrink-0",children:i.jsx("img",{src:r.coverImage,alt:r.name,className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"flex-1 text-left",children:[i.jsx("h3",{className:`${t?"text-white":"text-[#222]"} font-semibold text-sm mb-1`,children:r.name}),i.jsx("p",{className:`${t?"text-gray-400":"text-[#555]"} text-xs mb-2 line-clamp-1`,children:r.description}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Pr,{className:"w-3.5 h-3.5 text-purple-500"}),i.jsxs("span",{className:`${t?"text-gray-400":"text-[#999]"} text-xs`,children:[r.activePosts," active posts"]})]})]}),r.isJoined&&i.jsx("div",{className:`${t?"bg-purple-500/20":"bg-purple-100/60"} rounded-full px-3 py-1 border ${t?"border-purple-500/40":"border-purple-200/60"}`,children:i.jsx("span",{className:"text-purple-600 text-xs font-medium",children:"Following"})})]})})}const bw=[{id:1,title:"Calculus Textbook",description:"Like new condition",credits:15,images:["https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?w=400"],tags:["Textbooks"],seller:{name:"Sarah K.",verified:!0,trustScore:4.8,trades:24},isTrade:!1},{id:2,title:"Mini Fridge",description:"Perfect for dorm",credits:0,images:["https://images.unsplash.com/photo-1584568694244-14fbdf83bd30?w=400"],tags:["Dorm"],seller:{name:"Alex P.",verified:!0,trustScore:5,trades:18},isTrade:!0},{id:3,title:"Desk Chair",description:"Ergonomic, great condition",credits:25,images:["https://images.unsplash.com/photo-1580480055273-228ff5388ef8?w=400"],tags:["Furniture"],seller:{name:"Mike R.",verified:!0,trustScore:4.9,trades:31},isTrade:!1}];function rL({navigateTo:r,circle:e,customTags:t=[],onAddCustomTag:n,onRemoveCustomTag:o}){const{darkMode:l}=Tt(),[u,h]=_.useState(e.isJoined||!1),[p,m]=_.useState("list"),[y,x]=_.useState([]),[w,k]=_.useState(""),E=[...["Textbooks","Furniture","Electronics","Dorm","Apparel"],...t],T=H=>{y.includes(H)?x(y.filter(W=>W!==H)):x([...y,H])},O=()=>{w.trim()&&n&&(n(w.trim()),k(""))},B=y.length>0?bw.filter(H=>H.tags.some(W=>y.includes(W))):bw,U=e.activePosts===0;return i.jsxs("div",{className:`min-h-screen ${l?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"} pb-8`,children:[i.jsx("div",{className:`sticky top-0 z-20 backdrop-blur-xl ${l?"bg-black/70 border-white/10":"bg-white/10 border-white/30"} border-b`,children:i.jsxs("div",{className:"max-w-md mx-auto px-4 py-4",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("button",{onClick:()=>r("circles-home"),className:`p-2 rounded-full ${l?"hover:bg-white/10":"hover:bg-white/50"} transition-colors`,children:i.jsx(wt,{className:`w-6 h-6 ${l?"text-white":"text-[#222]"}`})}),i.jsx("h2",{className:`${l?"text-white":"text-[#9333ea]"} font-semibold text-xl flex-1`,children:e.name}),i.jsx("button",{onClick:()=>r("circle-about",e),className:`p-2 rounded-full ${l?"hover:bg-white/10":"hover:bg-white/50"} transition-colors`,children:i.jsx(kS,{className:`w-6 h-6 ${l?"text-white":"text-[#222]"}`})})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("p",{className:`${l?"text-gray-400":"text-[#555]"} text-sm mb-3`,children:e.description}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:`${l?"text-gray-400":"text-[#999]"} text-sm`,children:[e.activePosts," posts"]}),i.jsx("button",{onClick:()=>h(!u),className:`px-4 py-2 rounded-full font-medium text-sm transition-all ${u?`${l?"bg-white/10 border-white/20 text-white":"bg-white/60 border-white/60 text-[#555]"} border`:"bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-md"}`,children:u?"Following":"Join Circle"})]})]}),i.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto pb-2 mb-3 no-scrollbar",children:[E.map(H=>i.jsx("button",{onClick:()=>T(H),className:`px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap transition-all ${y.includes(H)?"bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-md":`${l?"bg-white/10 border-white/20 text-gray-300":"bg-white/60 border-white/60 text-[#555]"} border`}`,children:H},H)),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",value:w,onChange:H=>k(H.target.value),placeholder:"Add new tag",className:`px-3 py-1.5 rounded-full text-xs font-medium whitespace-nowrap transition-all ${l?"bg-white/10 border-white/20 text-gray-300":"bg-white/60 border-white/60 text-[#555]"} border`}),i.jsx("button",{onClick:O,className:`absolute right-2 top-1.5 p-1.5 rounded-full transition-colors ${l?"text-gray-400":"text-[#555]"}`,children:i.jsx(St,{className:"w-3.5 h-3.5"})})]})]}),i.jsx("div",{className:"flex items-center justify-end gap-1",children:i.jsxs("div",{className:`flex items-center gap-1 ${l?"bg-white/10 border-white/20":"bg-white/60 border-white/60"} border rounded-full p-0.5`,children:[i.jsx("button",{onClick:()=>m("list"),className:`p-1.5 rounded-full transition-colors ${p==="list"?"bg-purple-600 text-white":`${l?"text-gray-400":"text-[#555]"}`}`,children:i.jsx(ug,{className:"w-3.5 h-3.5"})}),i.jsx("button",{onClick:()=>m("grid"),className:`p-1.5 rounded-full transition-colors ${p==="grid"?"bg-purple-600 text-white":`${l?"text-gray-400":"text-[#555]"}`}`,children:i.jsx(cg,{className:"w-3.5 h-3.5"})})]})})]})}),i.jsx("div",{className:"max-w-md mx-auto px-4 mt-4",children:U?i.jsx("div",{className:"flex flex-col items-center justify-center py-12 space-y-4",children:i.jsxs("div",{className:`backdrop-blur-xl ${l?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-8 border shadow-[0_8px_24px_rgba(139,92,246,0.12)] text-center space-y-4`,children:[i.jsx("div",{className:"w-16 h-16 mx-auto rounded-full bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center",children:i.jsx("span",{className:"text-3xl",children:""})}),i.jsx("h3",{className:`${l?"text-white":"text-[#222]"} font-semibold text-lg`,children:"No posts yet"}),i.jsx("p",{className:`${l?"text-gray-400":"text-[#555]"} text-sm`,children:"Be the first to add a post to this circle!"}),i.jsx("button",{onClick:()=>r("create",{prefilledCircle:e}),className:"w-full py-3 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] flex items-center justify-center mx-auto",children:"Post in This Circle"})]})}):p==="list"?i.jsx("div",{className:"space-y-3",children:B.map(H=>i.jsx(nL,{item:H,navigateTo:r,darkMode:l,circleName:e.name},H.id))}):i.jsx("div",{className:"grid grid-cols-2 gap-3",children:B.map(H=>i.jsx(sL,{item:H,navigateTo:r,darkMode:l},H.id))})})]})}function nL({item:r,navigateTo:e,darkMode:t,circleName:n}){return i.jsxs("button",{onClick:()=>e("item-detail",{...r,circle:n}),className:`w-full backdrop-blur-2xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-2xl border shadow-[0_4px_16px_rgba(139,92,246,0.08)] overflow-hidden hover:shadow-[0_8px_24px_rgba(139,92,246,0.15)] transition-all active:scale-[0.98]`,children:[i.jsxs("div",{className:"relative h-40",children:[i.jsx("img",{src:r.images[0],alt:r.title,className:"w-full h-full object-cover"}),r.isTrade&&i.jsx("div",{className:"absolute top-2 left-2",children:i.jsxs(Dr,{className:"backdrop-blur-xl bg-gradient-to-r from-purple-500 to-purple-600 text-white border-0 shadow-lg font-medium flex items-center gap-1.5 py-1",children:[i.jsx(St,{className:"w-3.5 h-3.5"}),i.jsx("span",{className:"text-xs",children:"Trade"})]})}),!r.isTrade&&i.jsx("div",{className:"absolute top-2 right-2",children:i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-white/20":"bg-white/90"} rounded-full px-2.5 py-1 border ${t?"border-white/30":"border-white/60"} shadow-md flex items-center gap-1`,children:[i.jsx(Sr,{className:"w-3.5 h-3.5 text-yellow-500"}),i.jsx("span",{className:`${t?"text-white":"text-[#222]"} text-sm font-medium`,children:r.credits})]})})]}),i.jsxs("div",{className:"p-3 text-left",children:[i.jsx("h3",{className:`${t?"text-white":"text-[#222]"} font-semibold text-sm mb-2 line-clamp-2`,children:r.title}),i.jsxs("button",{onClick:o=>{o.stopPropagation(),e("user-profile",r.seller)},className:"flex items-center gap-1.5 mb-2 hover:opacity-80 transition-opacity",children:[i.jsx(qn,{className:"w-5 h-5",children:i.jsx(Gn,{className:"bg-gradient-to-br from-purple-400 to-purple-500 text-white text-[10px] font-medium",children:r.seller.name.charAt(0)})}),i.jsx("span",{className:`${t?"text-gray-400":"text-[#555]"} text-xs`,children:r.seller.name}),r.seller.verified&&i.jsx("div",{className:"w-3.5 h-3.5 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center",children:i.jsx("span",{className:"text-white text-[8px]",children:""})}),i.jsxs("span",{className:`${t?"text-gray-500":"text-[#999]"} text-xs`,children:[" ",r.seller.trustScore," "]})]}),i.jsx("div",{className:`${t?"bg-purple-500/20 border-purple-500/40":"bg-purple-100/60 border-purple-200/60"} rounded-full px-2 py-0.5 border inline-flex items-center gap-1 w-fit`,children:i.jsxs("span",{className:"text-purple-600 text-[10px] font-medium",children:["Circle: ",n]})})]})]})}function sL({item:r,navigateTo:e,darkMode:t}){return i.jsxs("button",{onClick:()=>e("item-detail",r),className:`backdrop-blur-2xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-2xl border shadow-[0_4px_16px_rgba(139,92,246,0.08)] overflow-hidden hover:shadow-[0_8px_24px_rgba(139,92,246,0.15)] transition-all active:scale-[0.98]`,children:[i.jsxs("div",{className:"relative aspect-square",children:[i.jsx("img",{src:r.images[0],alt:r.title,className:"w-full h-full object-cover"}),r.isTrade&&i.jsx("div",{className:"absolute top-2 left-2",children:i.jsxs(Dr,{className:"backdrop-blur-xl bg-gradient-to-r from-purple-500 to-purple-600 text-white border-0 shadow-md font-medium flex items-center gap-1 py-0.5 px-2",children:[i.jsx(St,{className:"w-3 h-3"}),i.jsx("span",{className:"text-[10px]",children:"Trade"})]})}),!r.isTrade&&i.jsx("div",{className:"absolute top-2 right-2",children:i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-white/20":"bg-white/90"} rounded-full px-2 py-0.5 border ${t?"border-white/30":"border-white/60"} shadow-md flex items-center gap-0.5`,children:[i.jsx(Sr,{className:"w-3 h-3 text-yellow-500"}),i.jsx("span",{className:`${t?"text-white":"text-[#222]"} text-xs font-medium`,children:r.credits})]})})]}),i.jsxs("div",{className:"p-2.5",children:[i.jsx("h3",{className:`${t?"text-white":"text-[#222]"} font-semibold text-xs mb-1 line-clamp-2`,children:r.title}),i.jsx("div",{className:"flex items-center gap-1",children:i.jsxs("span",{className:`${t?"text-gray-400":"text-[#999]"} text-[10px]`,children:[r.seller.trustScore," "]})})]})]})}const iL=[{id:1,title:"Calculus Textbook",image:"https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?w=400",credits:15},{id:2,title:"Mini Fridge",image:"https://images.unsplash.com/photo-1584568694244-14fbdf83bd30?w=400",credits:0},{id:3,title:"Desk Chair",image:"https://images.unsplash.com/photo-1580480055273-228ff5388ef8?w=400",credits:25}];function oL({navigateTo:r,circle:e}){const{darkMode:t}=Tt(),[n,o]=_.useState(e.isJoined||!1),l=["Textbooks","Furniture","Electronics","Dorm"];return i.jsxs("div",{className:`min-h-screen ${t?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"}`,children:[i.jsx("div",{className:`sticky top-0 z-20 backdrop-blur-xl ${t?"bg-black/70 border-white/10":"bg-white/10 border-white/30"} border-b`,children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>r("circle-feed",e),className:`p-2 rounded-full ${t?"hover:bg-white/10":"hover:bg-white/50"} transition-colors`,children:i.jsx(wt,{className:`w-6 h-6 ${t?"text-white":"text-[#222]"}`})}),i.jsx("h2",{className:`${t?"text-white":"text-[#9333ea]"} font-semibold text-xl`,children:"About Circle"})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-6 border shadow-[0_8px_24px_rgba(139,92,246,0.12)]`,children:[i.jsx("div",{className:"w-full h-32 rounded-2xl overflow-hidden mb-4",children:i.jsx("img",{src:e.coverImage,alt:e.name,className:"w-full h-full object-cover"})}),i.jsx("h1",{className:`${t?"text-white":"text-[#222]"} font-semibold text-2xl mb-2`,children:e.name}),i.jsx("p",{className:`${t?"text-gray-400":"text-[#555]"} text-sm mb-4`,children:e.description}),i.jsxs("div",{className:"flex items-center gap-1 mb-4",children:[i.jsx(Pr,{className:"w-4 h-4 text-purple-500"}),i.jsxs("span",{className:`${t?"text-gray-400":"text-[#999]"} text-sm`,children:[e.activePosts," active posts"]})]}),i.jsx("button",{onClick:()=>o(!n),className:`w-full py-3 rounded-2xl font-semibold transition-all flex items-center justify-center mx-auto ${n?`${t?"bg-white/10 border-white/20 text-white":"bg-white/60 border-white/60 text-[#555]"} border`:"bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-md"}`,children:n?"Following":"Join Circle"})]}),i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-6 border shadow-[0_8px_24px_rgba(139,92,246,0.12)]`,children:[i.jsx("h3",{className:`${t?"text-white":"text-[#222]"} font-semibold text-lg mb-3`,children:"Description"}),i.jsxs("p",{className:`${t?"text-gray-300":"text-[#555]"} text-sm leading-relaxed`,children:["This circle is a community space for students to buy, sell, and trade items related to ",e.name.toLowerCase(),". Join to discover great deals, connect with other students, and make sustainable choices by giving items a second life!"]})]}),i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-6 border shadow-[0_8px_24px_rgba(139,92,246,0.12)]`,children:[i.jsx("h3",{className:`${t?"text-white":"text-[#222]"} font-semibold text-lg mb-3`,children:"Guidelines"}),i.jsxs("ul",{className:`${t?"text-gray-300":"text-[#555]"} text-sm space-y-2`,children:[i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-500 font-medium",children:""}),i.jsx("span",{children:"Only post items relevant to this circle's category"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-500 font-medium",children:""}),i.jsx("span",{children:"Be honest about item condition and include clear photos"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-500 font-medium",children:""}),i.jsx("span",{children:"Meet in safe, public campus locations"})]}),i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-purple-500 font-medium",children:""}),i.jsx("span",{children:"Respect other members and communicate promptly"})]})]})]}),i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-6 border shadow-[0_8px_24px_rgba(139,92,246,0.12)]`,children:[i.jsx("h3",{className:`${t?"text-white":"text-[#222]"} font-semibold text-lg mb-3`,children:"Popular Tags"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(u=>i.jsx("div",{className:`${t?"bg-purple-500/20 border-purple-500/40":"bg-purple-100/60 border-purple-200/60"} rounded-full px-3 py-1.5 border`,children:i.jsx("span",{className:"text-purple-600 text-xs font-medium",children:u})},u))})]}),i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-6 border shadow-[0_8px_24px_rgba(139,92,246,0.12)]`,children:[i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(Ow,{className:"w-5 h-5 text-purple-500"}),i.jsx("h3",{className:`${t?"text-white":"text-[#222]"} font-semibold text-lg`,children:"Popular Listings"})]}),i.jsx("div",{className:"grid grid-cols-3 gap-3",children:iL.map(u=>i.jsxs("button",{onClick:()=>r("item-detail",u),className:`backdrop-blur-xl ${t?"bg-white/10 border-white/20":"bg-white/60 border-white/60"} rounded-xl border overflow-hidden hover:scale-105 transition-transform active:scale-95`,children:[i.jsx("div",{className:"aspect-square",children:i.jsx("img",{src:u.image,alt:u.title,className:"w-full h-full object-cover"})}),i.jsx("div",{className:"p-2",children:i.jsx("p",{className:`${t?"text-white":"text-[#222]"} text-xs font-medium line-clamp-1`,children:u.title})})]},u.id))})]})]})]})}const aL=["Move-Out","Textbooks","Clothing","Tech","Furniture","Kitchen","Sports","Art","Other"];function lL({navigateTo:r,onCreate:e}){const{darkMode:t}=Tt(),[n,o]=_.useState(""),[l,u]=_.useState(""),[h,p]=_.useState(""),[m,y]=_.useState(""),[x,w]=_.useState(""),[k,P]=_.useState(""),[E,T]=_.useState(""),[O,B]=_.useState(!1),U=()=>{if(B(!0),!n.trim()){w("Please enter a circle name");return}if(!l.trim()){P("Please enter a description");return}if(!h){T("Please select a category");return}const W={id:Date.now(),name:n,description:l,category:h,coverImage:m||"https://images.unsplash.com/photo-1557683316-973673baf926?w=400",activePosts:0,isJoined:!0};He.success("Circle created successfully!"),e(W)},H=()=>{y("https://images.unsplash.com/photo-1557683316-973673baf926?w=400"),He.success("Image added!")};return i.jsxs("div",{className:`min-h-screen ${t?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"}`,children:[i.jsx("div",{className:`sticky top-0 z-20 backdrop-blur-xl ${t?"bg-black/70 border-white/10":"bg-white/10 border-white/30"} border-b`,children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>r("circles-home"),className:`p-2 rounded-full ${t?"hover:bg-white/10":"hover:bg-white/50"} transition-colors`,children:i.jsx(wt,{className:`w-6 h-6 ${t?"text-white":"text-[#222]"}`})}),i.jsx("h2",{className:`${t?"text-white":"text-[#9333ea]"} font-semibold text-xl`,children:"Create a Circle"})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6 pb-32",children:[i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-6 border shadow-[0_8px_24px_rgba(139,92,246,0.12)]`,children:[i.jsx(Rr,{htmlFor:"circle-name",className:`${t?"text-white":"text-[#222]"} font-semibold mb-2 block`,children:"Circle Name"}),i.jsx(At,{id:"circle-name",value:n,onChange:W=>o(W.target.value),placeholder:"e.g., Move-Out Sale 2025",className:`backdrop-blur-xl ${t?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"bg-white/80 border-purple-200/60 text-[#222] placeholder:text-[#888]"} rounded-2xl focus-visible:ring-purple-400/50`}),O&&x&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:x})]}),i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-6 border shadow-[0_8px_24px_rgba(139,92,246,0.12)]`,children:[i.jsx(Rr,{htmlFor:"description",className:`${t?"text-white":"text-[#222]"} font-semibold mb-2 block`,children:"Description"}),i.jsx(Wc,{id:"description",value:l,onChange:W=>u(W.target.value),placeholder:"Describe what this circle is about...",className:`min-h-32 backdrop-blur-xl ${t?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"bg-white/80 border-purple-200/60 text-[#222] placeholder:text-[#888]"} rounded-2xl resize-none focus-visible:ring-purple-400/50`}),O&&k&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:k})]}),i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-6 border shadow-[0_8px_24px_rgba(139,92,246,0.12)]`,children:[i.jsx(Rr,{className:`${t?"text-white":"text-[#222]"} font-semibold mb-2 block`,children:"Category"}),i.jsxs(ZN,{value:h,onValueChange:p,children:[i.jsx(tE,{className:`backdrop-blur-xl ${t?"bg-white/10 border-white/20 text-white":"bg-white/80 border-purple-200/60 text-[#222]"} rounded-2xl focus:ring-purple-400/50`,children:i.jsx(eE,{placeholder:"Select a category"})}),i.jsx(rE,{children:aL.map(W=>i.jsx(Ja,{value:W,children:W},W))})]}),O&&E&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:E})]}),i.jsxs("div",{className:`backdrop-blur-xl ${t?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-6 border shadow-[0_8px_24px_rgba(139,92,246,0.12)]`,children:[i.jsx(Rr,{className:`${t?"text-white":"text-[#222]"} font-semibold mb-3 block`,children:"Cover Image (Optional)"}),m?i.jsxs("div",{className:"relative w-full h-40 rounded-2xl overflow-hidden mb-3",children:[i.jsx("img",{src:m,alt:"Cover",className:"w-full h-full object-cover"}),i.jsx("button",{onClick:()=>y(""),className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-2 hover:bg-red-600 transition-colors",children:""})]}):i.jsxs("button",{onClick:H,className:`w-full h-40 ${t?"bg-white/10 border-white/20":"bg-white/80 border-purple-200/60"} rounded-2xl border-2 border-dashed hover:border-purple-500 transition-all flex flex-col items-center justify-center gap-3`,children:[i.jsx(Lw,{className:"w-8 h-8 text-purple-500"}),i.jsx("span",{className:"text-purple-600 font-medium",children:"Add Cover Image"})]})]})]}),i.jsx("div",{className:`fixed bottom-0 left-0 right-0 backdrop-blur-2xl ${t?"bg-black/70 border-white/10":"bg-white/70 border-white/40"} border-t p-4`,children:i.jsx("div",{className:"max-w-md mx-auto",children:i.jsx("button",{onClick:U,className:"w-full py-4 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white font-semibold shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] flex items-center justify-center mx-auto",children:"Create Circle"})})})]})}function cL({navigateTo:r}){const{darkMode:e}=Tt(),[t,n]=_.useState("light"),o=t==="dark";return i.jsxs("div",{className:`min-h-screen ${e?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"} pb-24`,children:[i.jsx("div",{className:`sticky top-0 z-20 backdrop-blur-xl ${e?"bg-black/70 border-white/10":"bg-white/10 border-white/30"} border-b`,children:i.jsx("div",{className:"max-w-md mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:`${e?"text-white":"text-[#9333ea]"} font-semibold text-xl`,children:"UI Panel"}),i.jsx("p",{className:`${e?"text-gray-400":"text-[#888]"} text-sm mt-1`,children:"Complete Design System"})]}),i.jsxs("div",{className:`flex gap-2 p-1 rounded-full ${e?"bg-white/10":"bg-white/60"}`,children:[i.jsx("button",{onClick:()=>n("light"),className:`px-4 py-2 rounded-full text-sm transition-all ${t==="light"?"bg-purple-600 text-white shadow-lg":e?"text-gray-400 hover:text-white":"text-[#888] hover:text-[#222]"}`,children:"Light"}),i.jsx("button",{onClick:()=>n("dark"),className:`px-4 py-2 rounded-full text-sm transition-all ${t==="dark"?"bg-purple-600 text-white shadow-lg":e?"text-gray-400 hover:text-white":"text-[#888] hover:text-[#222]"}`,children:"Dark"})]})]})})}),i.jsxs("div",{className:"max-w-md mx-auto px-4 py-6 space-y-8",children:[i.jsx(_n,{title:"Input Fields",darkMode:e,children:i.jsx(Nn,{isDark:o,children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mb-2`,children:"Standard Input"}),i.jsx(At,{placeholder:"Enter text...",className:`backdrop-blur-xl ${o?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"bg-white/80 border-purple-200/60 text-[#222] placeholder:text-[#888]"} rounded-2xl`})]}),i.jsxs("div",{children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mb-2`,children:"Title Input"}),i.jsx(At,{placeholder:"Item title...",className:`backdrop-blur-xl ${o?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"bg-white/80 border-purple-200/60 text-[#222] placeholder:text-[#888]"} rounded-2xl`})]}),i.jsxs("div",{children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mb-2`,children:"Description Field"}),i.jsx(Wc,{placeholder:"Describe your item...",className:`min-h-24 backdrop-blur-xl ${o?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"bg-white/80 border-purple-200/60 text-[#222] placeholder:text-[#888]"} rounded-2xl resize-none`})]}),i.jsxs("div",{children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mb-2`,children:"Time Input (HH:MM AM/PM)"}),i.jsx(At,{placeholder:"e.g., 2:30 PM",className:`backdrop-blur-xl ${o?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"bg-white/80 border-purple-200/60 text-[#222] placeholder:text-[#888]"} rounded-2xl`})]}),i.jsxs("div",{children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mb-2`,children:"Date Input (MM/DD/YYYY)"}),i.jsx(At,{placeholder:"e.g., 12/25/2024",className:`backdrop-blur-xl ${o?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"bg-white/80 border-purple-200/60 text-[#222] placeholder:text-[#888]"} rounded-2xl`})]}),i.jsxs("div",{children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mb-2`,children:"Search Bar (No Errors)"}),i.jsxs("div",{className:"relative",children:[i.jsx(sa,{className:`absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 ${o?"text-gray-400":"text-[#888]"}`}),i.jsx("input",{type:"text",placeholder:"Search...",className:`w-full pl-12 pr-4 py-3 rounded-full backdrop-blur-xl ${o?"bg-white/10 border-white/20 text-white placeholder:text-gray-400":"bg-white/80 border-white/60 text-[#222] placeholder:text-[#888]"} border shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-400/50`})]})]}),i.jsxs("div",{children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mb-2`,children:"Error State - Red Border"}),i.jsx(At,{placeholder:"Enter text...",className:`backdrop-blur-xl ${o?"bg-white/10 text-white placeholder:text-gray-400":"bg-white/80 text-[#222] placeholder:text-[#888]"} rounded-2xl border-2 border-red-500`}),i.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Please enter a valid title."})]}),i.jsxs("div",{children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mb-2`,children:"Error State - Description"}),i.jsx(Wc,{placeholder:"Describe your item...",className:`min-h-24 backdrop-blur-xl ${o?"bg-white/10 text-white placeholder:text-gray-400":"bg-white/80 text-[#222] placeholder:text-[#888]"} rounded-2xl resize-none border-2 border-red-500`}),i.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Add at least 50 words."})]})]})})}),i.jsx(_n,{title:"Buttons (Center-Aligned)",darkMode:e,children:i.jsx(Nn,{isDark:o,children:i.jsxs("div",{className:"space-y-3",children:[i.jsx("button",{className:"w-full py-4 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] mx-auto flex items-center justify-center",children:"Primary Button"}),i.jsx("button",{className:`w-full py-4 rounded-2xl backdrop-blur-xl ${o?"bg-white/10 border-white/20 text-white":"bg-white/80 border-purple-200/60 text-purple-700"} border shadow-sm transition-transform active:scale-[0.98] mx-auto flex items-center justify-center`,children:"Secondary Button"}),i.jsxs("button",{className:"w-full py-3 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] mx-auto flex items-center justify-center gap-2",children:[i.jsx(bs,{className:"w-5 h-5"}),"Snag Now"]}),i.jsxs("button",{className:"w-full py-3 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] mx-auto flex items-center justify-center gap-2",children:[i.jsx(St,{className:"w-5 h-5"}),"Offer to Trade"]}),i.jsxs("button",{className:"w-full py-3 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] mx-auto flex items-center justify-center gap-2",children:[i.jsx(ni,{className:"w-5 h-5",strokeWidth:2.5}),"Create Circle"]}),i.jsx("button",{className:"w-full py-3 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] mx-auto flex items-center justify-center",children:"Post in This Circle"}),i.jsx("button",{className:`w-full py-3 rounded-2xl backdrop-blur-xl ${o?"bg-white/10 border-white/20 text-white":"bg-white/80 border-purple-200/60 text-purple-700"} border shadow-sm transition-transform active:scale-[0.98] mx-auto flex items-center justify-center`,children:"View Full Listing"}),i.jsx("button",{className:"w-full py-3 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] mx-auto flex items-center justify-center",children:"Got It"}),i.jsx("button",{className:"w-full py-3 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98] mx-auto flex items-center justify-center",children:"Continue"}),i.jsx("button",{className:`px-6 py-2 rounded-full ${o?"text-white hover:bg-white/10":"text-[#9333ea] hover:bg-white/50"} transition-colors mx-auto flex items-center justify-center`,children:"Back"}),i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("button",{className:"px-6 py-2 rounded-full bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-lg transition-transform active:scale-95",children:"Following"}),i.jsx("button",{className:`px-6 py-2 rounded-full ${o?"bg-white/10 border-white/20 text-white":"bg-white/80 border-purple-200/60 text-purple-700"} border transition-transform active:scale-95`,children:"Join Circle"})]})]})})}),i.jsx(_n,{title:"Cards",darkMode:e,children:i.jsx(Nn,{isDark:o,children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm`,children:"Listing Card"}),i.jsxs("div",{className:`backdrop-blur-2xl ${o?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-2xl border shadow-[0_4px_16px_rgba(139,92,246,0.08)] overflow-hidden`,children:[i.jsxs("div",{className:"aspect-[4/3] bg-gradient-to-br from-purple-100 to-lavender-100 flex items-center justify-center relative",children:[i.jsx("span",{className:"text-purple-400 text-sm",children:"Image"}),i.jsx("div",{className:"absolute top-3 right-3",children:i.jsxs("div",{className:`backdrop-blur-xl ${o?"bg-white/20 border-white/30":"bg-white/90 border-white/60"} rounded-full px-3 py-1.5 border shadow-md flex items-center gap-1.5`,children:[i.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gradient-to-br from-yellow-400 to-yellow-500"}),i.jsx("span",{className:`text-xs ${o?"text-white":"text-[#222]"}`,children:"15 Cr"})]})})]}),i.jsxs("div",{className:"p-3",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("button",{className:`${o?"text-white hover:text-purple-400":"text-[#222] hover:text-purple-600"} text-sm transition-colors`,children:"@username"}),i.jsx(jn,{className:"w-3.5 h-3.5 text-purple-500"})]}),i.jsx("h3",{className:`${o?"text-white":"text-[#222]"} font-semibold text-sm mb-1`,children:"Vintage Desk Chair"}),i.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-2",children:[i.jsx("span",{className:`px-2 py-0.5 rounded-full ${o?"bg-white/10 text-gray-300":"bg-purple-100/60 text-purple-700"} text-xs`,children:"Furniture"}),i.jsx("span",{className:`px-2 py-0.5 rounded-full ${o?"bg-white/10 text-gray-300":"bg-purple-100/60 text-purple-700"} text-xs`,children:"Dorm"})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(ll,{className:`w-3.5 h-3.5 ${o?"text-gray-400":"text-[#999]"}`}),i.jsx("span",{className:`${o?"text-gray-400":"text-[#999]"} text-xs`,children:"12:00 PM  2:00 PM"})]})]})]}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Circle Card"}),i.jsx("div",{className:`backdrop-blur-2xl ${o?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-2xl border shadow-[0_4px_16px_rgba(139,92,246,0.08)] overflow-hidden`,children:i.jsxs("div",{className:"flex items-center gap-3 p-3",children:[i.jsx("div",{className:"w-20 h-20 rounded-xl overflow-hidden flex-shrink-0 bg-gradient-to-br from-purple-100 to-lavender-100",children:i.jsx("div",{className:"w-full h-full flex items-center justify-center",children:i.jsx("span",{className:"text-purple-400 text-xs",children:"Cover"})})}),i.jsxs("div",{className:"flex-1 text-left",children:[i.jsx("h3",{className:`${o?"text-white":"text-[#222]"} font-semibold text-sm mb-1`,children:"Move-Out Sale 2025"}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#555]"} text-xs mb-2 line-clamp-1`,children:"Graduating seniors selling everything!"}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Pr,{className:"w-3.5 h-3.5 text-purple-500"}),i.jsx("span",{className:`${o?"text-gray-400":"text-[#999]"} text-xs`,children:"128 active posts"})]})]}),i.jsx("div",{className:"px-3 py-1 rounded-full bg-gradient-to-r from-purple-500 to-purple-600 text-white text-xs",children:"Following"})]})}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Empty State Card"}),i.jsx("div",{className:`backdrop-blur-2xl ${o?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-2xl border shadow-[0_4px_16px_rgba(139,92,246,0.08)] p-8`,children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-purple-100 mx-auto mb-3 flex items-center justify-center",children:i.jsx(bs,{className:"w-8 h-8 text-purple-500"})}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm`,children:"No posts yet"})]})})]})})}),i.jsx(_n,{title:"Navigation Components",darkMode:e,children:i.jsx(Nn,{isDark:o,children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mb-3`,children:"Bottom Navigation Bar"}),i.jsx("div",{className:`backdrop-blur-2xl ${o?"bg-white/10 border-white/20":"bg-white/60 border-white/40"} rounded-2xl border shadow-lg p-4`,children:i.jsxs("div",{className:"flex items-center justify-around",children:[i.jsxs("div",{className:"flex flex-col items-center gap-1 text-purple-500",children:[i.jsx(Wo,{className:"w-6 h-6 drop-shadow-[0_0_8px_rgba(139,92,246,0.6)]"}),i.jsx("span",{className:"text-[10px]",children:"Home"})]}),i.jsxs("div",{className:`flex flex-col items-center gap-1 ${o?"text-gray-400":"text-gray-500"}`,children:[i.jsx(Pr,{className:"w-6 h-6"}),i.jsx("span",{className:"text-[10px]",children:"Circles"})]}),i.jsx("div",{className:"relative -mt-4 w-14 h-14 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 shadow-[0_8px_24px_rgba(139,92,246,0.4)] flex items-center justify-center",children:i.jsx(ni,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{className:`flex flex-col items-center gap-1 ${o?"text-gray-400":"text-gray-500"}`,children:[i.jsx(Pr,{className:"w-6 h-6"}),i.jsx("span",{className:"text-[10px]",children:"Profile"})]}),i.jsxs("div",{className:`flex flex-col items-center gap-1 ${o?"text-gray-400":"text-gray-500"}`,children:[i.jsx(Kr,{className:"w-6 h-6"}),i.jsx("span",{className:"text-[10px]",children:"Settings"})]})]})}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Active vs Inactive States"}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("div",{className:"flex flex-col items-center gap-1 text-purple-500",children:[i.jsx(Wo,{className:"w-6 h-6 drop-shadow-[0_0_8px_rgba(139,92,246,0.6)]"}),i.jsx("span",{className:"text-[10px]",children:"Active"})]}),i.jsxs("div",{className:`flex flex-col items-center gap-1 ${o?"text-gray-400":"text-gray-500"}`,children:[i.jsx(Wo,{className:"w-6 h-6"}),i.jsx("span",{className:"text-[10px]",children:"Inactive"})]})]})]})})}),i.jsx(_n,{title:"Tag System Components",darkMode:e,children:i.jsx(Nn,{isDark:o,children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm`,children:"Default Tags"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("span",{className:`px-3 py-1.5 rounded-full ${o?"bg-white/10 border-white/20 text-gray-300":"bg-purple-100/60 border-purple-200/60 text-purple-700"} border text-sm`,children:"Textbook"}),i.jsx("span",{className:`px-3 py-1.5 rounded-full ${o?"bg-white/10 border-white/20 text-gray-300":"bg-purple-100/60 border-purple-200/60 text-purple-700"} border text-sm`,children:"Furniture"}),i.jsx("span",{className:`px-3 py-1.5 rounded-full ${o?"bg-white/10 border-white/20 text-gray-300":"bg-purple-100/60 border-purple-200/60 text-purple-700"} border text-sm`,children:"Apparel"})]}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Active/Selected Tags"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("span",{className:"px-3 py-1.5 rounded-full bg-gradient-to-r from-purple-500 to-purple-600 text-white text-sm shadow-lg",children:"Textbook"}),i.jsx("span",{className:"px-3 py-1.5 rounded-full bg-gradient-to-r from-purple-500 to-purple-600 text-white text-sm shadow-lg",children:"Furniture"})]}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Custom Tag"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:i.jsx("span",{className:`px-3 py-1.5 rounded-full ${o?"bg-purple-500/20 border-purple-400/40 text-purple-300":"bg-purple-200/60 border-purple-300/60 text-purple-700"} border text-sm`,children:"Custom Tag"})}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Add New Tag Button"}),i.jsxs("button",{className:`px-3 py-1.5 rounded-full ${o?"bg-white/10 border-white/20 text-white":"bg-white/80 border-purple-200/60 text-purple-700"} border text-sm hover:border-purple-500 transition-colors flex items-center gap-1.5`,children:[i.jsx(ni,{className:"w-4 h-4"}),"Add Tag"]})]})})}),i.jsx(_n,{title:"Circle System Components",darkMode:e,children:i.jsx(Nn,{isDark:o,children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm`,children:"Circle Header"}),i.jsxs("div",{className:`backdrop-blur-2xl ${o?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-2xl border shadow-[0_4px_16px_rgba(139,92,246,0.08)] overflow-hidden`,children:[i.jsx("div",{className:"h-32 bg-gradient-to-br from-purple-100 to-lavender-100 flex items-center justify-center",children:i.jsx("span",{className:"text-purple-400",children:"Cover Image"})}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{children:[i.jsx("h2",{className:`${o?"text-white":"text-[#222]"} font-semibold text-lg mb-1`,children:"Circle Name"}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#555]"} text-sm`,children:"Circle description goes here"})]}),i.jsx("button",{className:"px-4 py-2 rounded-full bg-gradient-to-r from-purple-500 to-purple-600 text-white text-sm shadow-lg",children:"Following"})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(Pr,{className:"w-4 h-4 text-purple-500"}),i.jsx("span",{className:`${o?"text-gray-400":"text-[#999]"} text-sm`,children:"128 active posts"})]})]})]}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Join/Following Toggle"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{className:"px-6 py-2 rounded-full bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-lg transition-transform active:scale-95",children:"Following"}),i.jsx("button",{className:`px-6 py-2 rounded-full ${o?"bg-white/10 border-white/20 text-white":"bg-white/80 border-purple-200/60 text-purple-700"} border transition-transform active:scale-95`,children:"Join Circle"})]})]})})}),i.jsx(_n,{title:"Notification System",darkMode:e,children:i.jsx(Nn,{isDark:o,children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm`,children:"Notification Bell with Badge"}),i.jsxs("div",{className:"relative inline-block",children:[i.jsx(al,{className:`w-6 h-6 ${o?"text-white":"text-[#222]"}`}),i.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 rounded-full bg-red-500 border-2 border-white"})]}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Notification Row"}),i.jsx("div",{className:`backdrop-blur-2xl ${o?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-2xl border shadow-[0_4px_16px_rgba(139,92,246,0.08)] p-4`,children:i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center flex-shrink-0",children:i.jsx(bs,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:`${o?"text-white":"text-[#222]"} font-semibold text-sm mb-1`,children:"New listing posted"}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#555]"} text-xs mb-1`,children:"Check out this new item in your feed"}),i.jsx("span",{className:`${o?"text-gray-500":"text-[#999]"} text-xs`,children:"2 hours ago"})]})]})}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Event Types"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsx("p",{className:`${o?"text-gray-300":"text-[#555]"}`,children:" New listing posted"}),i.jsx("p",{className:`${o?"text-gray-300":"text-[#555]"}`,children:" Offer on your trade"}),i.jsx("p",{className:`${o?"text-gray-300":"text-[#555]"}`,children:" Offer accepted / counter-offer"}),i.jsx("p",{className:`${o?"text-gray-300":"text-[#555]"}`,children:" Meeting confirmed"}),i.jsx("p",{className:`${o?"text-gray-300":"text-[#555]"}`,children:" Meeting reminder"}),i.jsx("p",{className:`${o?"text-gray-300":"text-[#555]"}`,children:" New Circle post (if following)"})]})]})})}),i.jsx(_n,{title:"Profile View Components",darkMode:e,children:i.jsx(Nn,{isDark:o,children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm`,children:"Profile Header"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(qn,{className:"w-16 h-16",children:i.jsx(Gn,{className:"bg-gradient-to-br from-purple-400 to-purple-500 text-white",children:"RM"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:`${o?"text-white":"text-[#222]"} font-semibold`,children:"Ryan Mehta"}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#555]"} text-sm`,children:"@ryanmehta"})]}),i.jsx(jn,{className:"w-5 h-5 text-purple-500"})]}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Bio Block"}),i.jsx("div",{className:`${o?"text-gray-300":"text-[#555]"} text-sm`,children:"Computer Science major | Love vintage fashion and tech gadgets"}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Trust Score Bar"}),i.jsxs("div",{className:`backdrop-blur-2xl ${o?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-2xl border shadow-[0_4px_16px_rgba(139,92,246,0.08)] p-4`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:`${o?"text-white":"text-[#222]"} font-semibold text-sm`,children:"Trust Score"}),i.jsx("span",{className:"text-purple-500 font-semibold",children:"92%"})]}),i.jsx("div",{className:"w-full h-2 bg-purple-100 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-purple-600",style:{width:"92%"}})})]})]})})}),i.jsx(_n,{title:"Modal Components",darkMode:e,children:i.jsx(Nn,{isDark:o,children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm`,children:"Confirmation Modal"}),i.jsxs("div",{className:`backdrop-blur-2xl ${o?"bg-black/90 border-white/20":"bg-white/95 border-white/60"} rounded-3xl border shadow-[0_16px_48px_rgba(0,0,0,0.3)] p-6 text-center`,children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 mx-auto mb-4 flex items-center justify-center",children:i.jsx(jn,{className:"w-8 h-8 text-white"})}),i.jsx("h3",{className:`${o?"text-white":"text-[#222]"} font-semibold text-lg mb-2`,children:"Success!"}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#555]"} text-sm mb-4`,children:"Your action was completed successfully"}),i.jsx("button",{className:"w-full py-3 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98]",children:"Got It"})]}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Error Modal"}),i.jsxs("div",{className:`backdrop-blur-2xl ${o?"bg-black/90 border-white/20":"bg-white/95 border-white/60"} rounded-3xl border shadow-[0_16px_48px_rgba(0,0,0,0.3)] p-6 text-center`,children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-red-500 mx-auto mb-4 flex items-center justify-center",children:i.jsx(kn,{className:"w-8 h-8 text-white"})}),i.jsx("h3",{className:`${o?"text-white":"text-[#222]"} font-semibold text-lg mb-2`,children:"Error"}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#555]"} text-sm mb-4`,children:"Please check your inputs and try again"}),i.jsx("button",{className:"w-full py-3 rounded-2xl bg-gradient-to-r from-purple-500 to-purple-600 text-white shadow-[0_8px_24px_rgba(139,92,246,0.4)] transition-transform active:scale-[0.98]",children:"OK"})]})]})})}),i.jsx(_n,{title:"Universal Elements",darkMode:e,children:i.jsx(Nn,{isDark:o,children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm`,children:"Section Header"}),i.jsx("h2",{className:`${o?"text-white":"text-[#222]"} font-semibold text-lg`,children:"Section Title"}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Divider"}),i.jsx("div",{className:`border-t ${o?"border-white/20":"border-purple-100/40"}`}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Default Avatar"}),i.jsx(qn,{className:"w-12 h-12",children:i.jsx(Gn,{className:"bg-gradient-to-br from-purple-400 to-purple-500 text-white",children:"AB"})}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Back Arrow"}),i.jsx("button",{className:`p-2 rounded-full ${o?"hover:bg-white/10":"hover:bg-white/50"} transition-colors`,children:i.jsx(wt,{className:`w-6 h-6 ${o?"text-white":"text-[#222]"}`})}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Close Icon"}),i.jsx("button",{className:`p-2 rounded-full ${o?"hover:bg-white/10":"hover:bg-white/50"} transition-colors`,children:i.jsx(kn,{className:`w-6 h-6 ${o?"text-white":"text-[#222]"}`})}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Placeholder Image"}),i.jsx("div",{className:"w-full h-40 bg-gradient-to-br from-purple-100 to-lavender-100 rounded-2xl flex items-center justify-center",children:i.jsx("span",{className:"text-purple-400",children:"Image Placeholder"})})]})})}),i.jsx(_n,{title:"Toggles & Switches",darkMode:e,children:i.jsx(Nn,{isDark:o,children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm`,children:"Trade Toggle"}),i.jsxs("div",{className:`flex items-center justify-between backdrop-blur-xl ${o?"bg-white/10 border-white/20":"bg-gradient-to-r from-purple-100/60 to-lavender-100/60 border-white/60"} rounded-3xl px-4 py-3 border shadow-sm`,children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-500 to-purple-600 flex items-center justify-center",children:i.jsx(St,{className:"w-4 h-4 text-white"})}),i.jsx("span",{className:`${o?"text-white":"text-[#222]"}`,children:"Trade Mode"})]}),i.jsx(Ah,{})]}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm mt-4`,children:"Dark Mode Toggle"}),i.jsxs("div",{className:`flex items-center justify-between backdrop-blur-xl ${o?"bg-white/10 border-white/20":"bg-white/80 border-purple-200/60"} rounded-3xl px-4 py-3 border shadow-sm`,children:[i.jsx("span",{className:`${o?"text-white":"text-[#222]"}`,children:"Dark Mode"}),i.jsx(Ah,{})]})]})})}),i.jsx(_n,{title:"Liquid Glass Effects Reference",darkMode:e,children:i.jsx(Nn,{isDark:o,children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:`backdrop-blur-2xl ${o?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-4 border shadow-[0_8px_24px_rgba(139,92,246,0.12)]`,children:[i.jsx("p",{className:`${o?"text-white":"text-[#222]"} mb-1`,children:"Standard Glass Panel"}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm`,children:o?"bg-white/10, border-white/20":"bg-white/70, border-white/60"})]}),i.jsxs("div",{className:`backdrop-blur-xl ${o?"bg-white/10 border-white/20":"bg-white/80 border-white/60"} rounded-3xl p-4 border shadow-sm`,children:[i.jsx("p",{className:`${o?"text-white":"text-[#222]"} mb-1`,children:"Solid Glass Panel"}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm`,children:o?"bg-white/10, border-white/20":"bg-white/80, border-white/60"})]}),i.jsxs("div",{className:`backdrop-blur-xl ${o?"bg-purple-500/20 border-purple-400/40":"bg-gradient-to-r from-purple-100/60 to-lavender-100/60 border-purple-200/60"} rounded-3xl p-4 border shadow-sm`,children:[i.jsx("p",{className:`${o?"text-white":"text-[#222]"} mb-1`,children:"Gradient Glass Panel"}),i.jsx("p",{className:`${o?"text-gray-400":"text-[#888]"} text-sm`,children:o?"bg-purple-500/20":"from-purple-100/60 to-lavender-100/60"})]})]})})})]})]})}function _n({title:r,children:e,darkMode:t}){return i.jsxs("section",{children:[i.jsx("h2",{className:`${t?"text-white":"text-[#9333ea]"} font-semibold text-lg mb-4`,children:r}),e]})}function Nn({isDark:r,children:e}){return i.jsx("div",{className:`backdrop-blur-2xl ${r?"bg-white/10 border-white/20":"bg-white/70 border-white/60"} rounded-3xl p-6 border shadow-[0_8px_24px_rgba(139,92,246,0.12)]`,children:e})}function uL({navigateTo:r}){const{darkMode:e}=Tt(),[t,n]=_.useState(""),[o,l]=_.useState(""),[u,h]=_.useState(!1),[p,m]=_.useState(""),[y,x]=_.useState(""),w=U=>{const H=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return!U||!H.test(U)?(m("Please enter a valid email."),!1):(m(""),!0)},k=U=>!U||U.length<8?(x("Password must be at least 8 characters."),!1):(x(""),!0),P=U=>{const H=U.target.value;n(H),p&&w(H)},E=U=>{const H=U.target.value;l(H),y&&k(H)},{setCredits:T}=xx(),O=async()=>{const U=w(t),H=k(o);if(!(!U||!H))try{const Z=(await y5(fr,t,o)).user;console.log(" Logged in user:",Z.uid);const R=await ei(Nt(tt,"users",Z.uid));if(R.exists()){const S=R.data();console.log(" User profile:",S),S.credits!==void 0&&T(S.credits)}r("home")}catch(W){console.error(" Login failed:",W.message),W.code==="auth/invalid-credential"||W.code==="auth/wrong-password"?x("Incorrect email or password."):W.code==="auth/user-not-found"?m("No account found with this email."):x("Login failed. Try again later.")}},B=()=>{r("home")};return i.jsx("div",{className:`min-h-screen ${e?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"} px-6 pt-20 pb-12`,children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("div",{className:"flex justify-center mb-12",children:i.jsx(Hn,{size:80})}),i.jsxs("div",{className:"mb-6",children:[i.jsx(At,{type:"email",placeholder:"Enter your email",value:t,onChange:P,onBlur:()=>t&&w(t),className:`${e?"bg-white/5 border-white/10 text-white placeholder:text-white/40":"bg-white/60 border-purple-200/50"} backdrop-blur-xl ${p?"border-red-500":""}`}),p&&i.jsx("p",{className:"text-red-500 mt-2",children:p})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(At,{type:u?"text":"password",placeholder:"Enter your password",value:o,onChange:E,onBlur:()=>o&&k(o),className:`${e?"bg-white/5 border-white/10 text-white placeholder:text-white/40":"bg-white/60 border-purple-200/50"} backdrop-blur-xl pr-12 ${y?"border-red-500":""}`}),i.jsx("button",{type:"button",onClick:()=>h(!u),className:`absolute right-3 top-1/2 -translate-y-1/2 ${e?"text-white/60 hover:text-white/80":"text-gray-600 hover:text-gray-800"} transition-colors`,children:u?i.jsx(rh,{className:"w-5 h-5"}):i.jsx(Yo,{className:"w-5 h-5"})})]}),y&&i.jsx("p",{className:"text-red-500 mt-2",children:y})]}),i.jsx("div",{className:"text-right mb-8",children:i.jsx("button",{onClick:()=>r("forgot-password"),className:`${e?"text-purple-400 hover:text-purple-300":"text-purple-600 hover:text-purple-700"}`,children:"Forgot Password?"})}),i.jsx("div",{className:"flex justify-center mb-6",children:i.jsx("button",{onClick:O,className:"w-full bg-purple-600 hover:bg-purple-700 text-white px-8 py-3 rounded-xl transition-all shadow-lg",children:"Login"})}),i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs("span",{className:e?"text-white/60":"text-gray-600",children:["Don't have an account?"," "]}),i.jsx("button",{onClick:()=>r("signup"),className:`${e?"text-purple-400 hover:text-purple-300":"text-purple-600 hover:text-purple-700"}`,children:"Sign Up"})]}),i.jsx("div",{className:"flex justify-center",children:i.jsx("button",{onClick:B,className:`${e?"text-white/60 hover:text-white/80 border-white/20 hover:border-white/30":"text-gray-600 hover:text-gray-800 border-gray-300 hover:border-gray-400"} border px-8 py-3 rounded-xl transition-all w-full`,children:"Continue as Guest"})})]})})}function dL({navigateTo:r}){const{darkMode:e}=Tt(),[t,n]=_.useState(""),[o,l]=_.useState(""),[u,h]=_.useState(""),[p,m]=_.useState(""),[y,x]=_.useState(!1),[w,k]=_.useState(!1),[P,E]=_.useState(""),[T,O]=_.useState(""),[B,U]=_.useState(""),[H,W]=_.useState(""),Z=oe=>!oe||oe.trim().length===0?(E("Please enter your full name."),!1):(E(""),!0),R=oe=>{const K=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return!oe||!K.test(oe)?(O("Enter a valid email."),!1):(O(""),!0)},S=oe=>!oe||oe.length<8?(U("Password must be at least 8 characters."),!1):(U(""),!0),M=oe=>!oe||oe!==u?(W("Passwords do not match."),!1):(W(""),!0),V=oe=>{const K=oe.target.value;n(K),P&&Z(K)},D=oe=>{const K=oe.target.value;l(K),T&&R(K)},I=oe=>{const K=oe.target.value;h(K),B&&S(K),p&&M(p)},C=oe=>{const K=oe.target.value;m(K),H&&M(K)},de=async()=>{const oe=Z(t),K=R(o),q=S(u),$=M(p);if(!(!oe||!K||!q||!$))try{const ie=(await x5(fr,o,u)).user;await b5(ie,{displayName:t}),await px(Nt(tt,"users",ie.uid),{name:t,email:o,credits:40,trustScore:4.5,trades:0,createdAt:new Date}),console.log(" User created and stored:",ie.uid),r("select-interests",{uid:ie.uid,fullName:t,email:o})}catch(se){console.error(" Signup failed:",se.message),se.code==="auth/email-already-in-use"?O("That email is already registered."):se.code==="auth/weak-password"?U("Password should be at least 6 characters."):O("Failed to create account. Try again later.")}};return i.jsx("div",{className:`min-h-screen ${e?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"} px-6 pt-16 pb-12`,children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("div",{className:"flex justify-center mb-12",children:i.jsx(Hn,{size:80})}),i.jsxs("div",{className:"mb-6",children:[i.jsx(At,{type:"text",placeholder:"Full Name",value:t,onChange:V,onBlur:()=>t&&Z(t),className:`${e?"bg-white/5 border-white/10 text-white placeholder:text-white/40":"bg-white/60 border-purple-200/50"} backdrop-blur-xl ${P?"border-red-500":""}`}),P&&i.jsx("p",{className:"text-red-500 mt-2",children:P})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx(At,{type:"email",placeholder:"Email address",value:o,onChange:D,onBlur:()=>o&&R(o),className:`${e?"bg-white/5 border-white/10 text-white placeholder:text-white/40":"bg-white/60 border-purple-200/50"} backdrop-blur-xl ${T?"border-red-500":""}`}),T&&i.jsx("p",{className:"text-red-500 mt-2",children:T})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx(At,{type:y?"text":"password",placeholder:"Create password",value:u,onChange:I,onBlur:()=>u&&S(u),className:`${e?"bg-white/5 border-white/10 text-white placeholder:text-white/40":"bg-white/60 border-purple-200/50"} backdrop-blur-xl pr-12 ${B?"border-red-500":""}`}),i.jsx("button",{type:"button",onClick:()=>x(!y),className:`absolute right-3 top-1/2 -translate-y-1/2 ${e?"text-white/60 hover:text-white/80":"text-gray-600 hover:text-gray-800"} transition-colors`,children:y?i.jsx(rh,{className:"w-5 h-5"}):i.jsx(Yo,{className:"w-5 h-5"})})]}),B&&i.jsx("p",{className:"text-red-500 mt-2",children:B})]}),i.jsxs("div",{className:"mb-8",children:[i.jsxs("div",{className:"relative",children:[i.jsx(At,{type:w?"text":"password",placeholder:"Confirm password",value:p,onChange:C,onBlur:()=>p&&M(p),className:`${e?"bg-white/5 border-white/10 text-white placeholder:text-white/40":"bg-white/60 border-purple-200/50"} backdrop-blur-xl pr-12 ${H?"border-red-500":""}`}),i.jsx("button",{type:"button",onClick:()=>k(!w),className:`absolute right-3 top-1/2 -translate-y-1/2 ${e?"text-white/60 hover:text-white/80":"text-gray-600 hover:text-gray-800"} transition-colors`,children:w?i.jsx(rh,{className:"w-5 h-5"}):i.jsx(Yo,{className:"w-5 h-5"})})]}),H&&i.jsx("p",{className:"text-red-500 mt-2",children:H})]}),i.jsx("div",{className:"flex justify-center mb-6",children:i.jsx("button",{onClick:de,className:"w-full bg-purple-600 hover:bg-purple-700 text-white px-8 py-3 rounded-xl transition-all shadow-lg",children:"Next"})}),i.jsxs("div",{className:"text-center",children:[i.jsxs("span",{className:e?"text-white/60":"text-gray-600",children:["Already have an account?"," "]}),i.jsx("button",{onClick:()=>r("login"),className:`${e?"text-purple-400 hover:text-purple-300":"text-purple-600 hover:text-purple-700"}`,children:"Login"})]})]})})}const ww=["Furniture","Kitchen Supplies","Dorm Decor","Electronics","Clothing","Textbooks","Move-Out Essentials","Cleaning Supplies","Organization","International Student Essentials","Seasonal Items","Halloween","Winter Gear","Plants","Fitness","Gaming","Laundry","Lifestyle"];function hL({navigateTo:r,userData:e}){const{darkMode:t}=Tt(),[n,o]=_.useState([]),[l,u]=_.useState(""),[h,p]=_.useState([]),m=E=>{n.includes(E)?o(n.filter(T=>T!==E)):o([...n,E])},y=()=>{const E=l.trim();E&&!h.includes(E)&&!ww.includes(E)&&(p([...h,E]),o([...n,E]),u(""))},x=E=>{p(h.filter(T=>T!==E)),o(n.filter(T=>T!==E))},w=()=>{const E={...e,interests:n};r("review-profile",E)},k=()=>{const E={...e,interests:[]};r("review-profile",E)},P=[...ww,...h];return i.jsx("div",{className:`min-h-screen ${t?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"} px-6 pt-12 pb-24`,children:i.jsxs("div",{className:"max-w-2xl mx-auto",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:`mb-2 ${t?"text-white":"text-gray-900"}`,children:"Select Your Interests"}),i.jsx("p",{className:t?"text-white/60":"text-gray-600",children:"Choose topics that relate to your needs on campus."})]}),i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(At,{type:"text",placeholder:"Add custom tag",value:l,onChange:E=>u(E.target.value),onKeyPress:E=>{E.key==="Enter"&&(E.preventDefault(),y())},className:`${t?"bg-white/5 border-white/10 text-white placeholder:text-white/40":"bg-white/60 border-purple-200/50"} backdrop-blur-xl flex-1`}),i.jsxs("button",{onClick:y,disabled:!l.trim(),className:`${t?"bg-purple-600 hover:bg-purple-700 disabled:bg-white/5 disabled:text-white/30":"bg-purple-600 hover:bg-purple-700 disabled:bg-gray-200 disabled:text-gray-400"} text-white px-4 py-2 rounded-xl transition-all disabled:cursor-not-allowed flex items-center gap-2`,children:[i.jsx(ni,{className:"w-4 h-4"}),"Add"]})]})}),i.jsx("div",{className:"mb-8 max-h-[50vh] overflow-y-auto no-scrollbar",children:i.jsx("div",{className:"flex flex-wrap gap-3",children:P.map(E=>{const T=n.includes(E),O=h.includes(E);return i.jsxs("button",{onClick:()=>m(E),className:`relative px-4 py-2 rounded-full transition-all ${T?"bg-purple-600 text-white border-purple-600":t?"bg-white/5 text-white/80 border-white/10 hover:bg-white/10 hover:border-white/20":"bg-white/60 text-gray-700 border-purple-200/50 hover:bg-white/80 hover:border-purple-300"} border backdrop-blur-xl ${O?"pr-8":""}`,children:[E,O&&i.jsx("button",{onClick:B=>{B.stopPropagation(),x(E)},className:"absolute right-2 top-1/2 -translate-y-1/2",children:i.jsx(kn,{className:"w-3 h-3"})})]},E)})})}),n.length>0&&i.jsxs("div",{className:`text-center mb-6 ${t?"text-white/60":"text-gray-600"}`,children:[n.length," ",n.length===1?"interest":"interests"," selected"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("button",{onClick:w,className:"w-full bg-purple-600 hover:bg-purple-700 text-white px-8 py-3 rounded-xl transition-all shadow-lg",children:"Continue"})}),i.jsx("div",{className:"flex justify-center",children:i.jsx("button",{onClick:k,className:`w-full ${t?"text-white/60 hover:text-white/80 border-white/20 hover:border-white/30":"text-gray-600 hover:text-gray-800 border-gray-300 hover:border-gray-400"} border px-8 py-3 rounded-xl transition-all`,children:"Skip for now"})})]})]})})}function fL({navigateTo:r,userData:e}){const{darkMode:t}=Tt(),{fullName:n="",email:o="",interests:l=[]}=e||{},u=()=>{r("home")};return i.jsx("div",{className:`min-h-screen ${t?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"} px-6 pt-12 pb-24`,children:i.jsxs("div",{className:"max-w-2xl mx-auto",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:`mb-2 ${t?"text-white":"text-gray-900"}`,children:"Review Profile Information"}),i.jsx("p",{className:t?"text-white/60":"text-gray-600",children:"Make sure everything looks good before finishing setup."})]}),i.jsxs("div",{className:"space-y-4 mb-8",children:[i.jsxs("div",{className:`${t?"bg-white/5 border-white/10":"bg-white/60 border-purple-200/50"} backdrop-blur-xl rounded-2xl p-6 border`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h3",{className:t?"text-white":"text-gray-900",children:"Name"}),i.jsx("button",{onClick:()=>r("signup"),className:`${t?"text-purple-400 hover:text-purple-300":"text-purple-600 hover:text-purple-700"}`,children:"Edit"})]}),i.jsx("p",{className:t?"text-white/80":"text-gray-700",children:n||"Not provided"})]}),i.jsxs("div",{className:`${t?"bg-white/5 border-white/10":"bg-white/60 border-purple-200/50"} backdrop-blur-xl rounded-2xl p-6 border`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h3",{className:t?"text-white":"text-gray-900",children:"Email"}),i.jsx("button",{onClick:()=>r("signup"),className:`${t?"text-purple-400 hover:text-purple-300":"text-purple-600 hover:text-purple-700"}`,children:"Edit"})]}),i.jsx("p",{className:t?"text-white/80":"text-gray-700",children:o||"Not provided"})]}),i.jsxs("div",{className:`${t?"bg-white/5 border-white/10":"bg-white/60 border-purple-200/50"} backdrop-blur-xl rounded-2xl p-6 border`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx("h3",{className:t?"text-white":"text-gray-900",children:"Interests"}),i.jsx("button",{onClick:()=>r("select-interests",e),className:`${t?"text-purple-400 hover:text-purple-300":"text-purple-600 hover:text-purple-700"}`,children:"Edit"})]}),l.length>0?i.jsx("div",{className:"flex flex-wrap gap-2",children:l.map(h=>i.jsx("span",{className:`${t?"bg-purple-600/20 text-purple-300 border-purple-500/30":"bg-purple-100 text-purple-700 border-purple-300"} px-3 py-1 rounded-full border`,children:h},h))}):i.jsx("p",{className:t?"text-white/60":"text-gray-600",children:"No interests selected"})]})]}),i.jsx("div",{className:"flex justify-center",children:i.jsx("button",{onClick:u,className:"w-full bg-purple-600 hover:bg-purple-700 text-white px-8 py-3 rounded-xl transition-all shadow-lg",children:"Finish Setup"})})]})})}function pL({navigateTo:r}){const{darkMode:e}=Tt(),[t,n]=_.useState(""),[o,l]=_.useState(""),[u,h]=_.useState(!1),p=w=>{const k=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return!w||!k.test(w)?(l("Enter a valid email."),!1):(l(""),!0)},m=w=>{const k=w.target.value;n(k),o&&p(k)},y=()=>{p(t)&&h(!0)},x=()=>{h(!1),r("login")};return u?i.jsx("div",{className:`min-h-screen ${e?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"} px-6 flex items-center justify-center`,children:i.jsx("div",{className:`${e?"bg-white/5 border-white/10":"bg-white/80 border-purple-200/50"} backdrop-blur-xl rounded-3xl p-8 border max-w-md w-full`,children:i.jsxs("div",{className:"flex flex-col items-center text-center",children:[i.jsx("div",{className:"bg-purple-600 rounded-full p-4 mb-6",children:i.jsx(jn,{className:"w-12 h-12 text-white"})}),i.jsx("h2",{className:`mb-3 ${e?"text-white":"text-gray-900"}`,children:"Check Your Email"}),i.jsxs("p",{className:`mb-8 ${e?"text-white/60":"text-gray-600"}`,children:["We've sent you a reset link to ",t]}),i.jsx("button",{onClick:x,className:"w-full bg-purple-600 hover:bg-purple-700 text-white px-8 py-3 rounded-xl transition-all shadow-lg",children:"Back to Login"})]})})}):i.jsx("div",{className:`min-h-screen ${e?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"} px-6 pt-12 pb-12`,children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsxs("button",{onClick:()=>r("login"),className:`mb-8 flex items-center gap-2 ${e?"text-white/60 hover:text-white/80":"text-gray-600 hover:text-gray-800"} transition-colors`,children:[i.jsx(wt,{className:"w-5 h-5"}),"Back to Login"]}),i.jsx("div",{className:"flex justify-center mb-12",children:i.jsx(Hn,{size:80})}),i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:`mb-2 ${e?"text-white":"text-gray-900"}`,children:"Forgot Password?"}),i.jsx("p",{className:e?"text-white/60":"text-gray-600",children:"Enter your email and we'll send you a reset link."})]}),i.jsxs("div",{className:"mb-8",children:[i.jsx(At,{type:"email",placeholder:"Enter your email",value:t,onChange:m,onBlur:()=>t&&p(t),className:`${e?"bg-white/5 border-white/10 text-white placeholder:text-white/40":"bg-white/60 border-purple-200/50"} backdrop-blur-xl ${o?"border-red-500":""}`}),o&&i.jsx("p",{className:"text-red-500 mt-2",children:o})]}),i.jsx("div",{className:"flex justify-center",children:i.jsx("button",{onClick:y,className:"w-full bg-purple-600 hover:bg-purple-700 text-white px-8 py-3 rounded-xl transition-all shadow-lg",children:"Send Reset Link"})})]})})}function mL({navigateTo:r,userData:e}){const{darkMode:t}=Tt(),[n,o]=_.useState(["","","","","",""]),[l,u]=_.useState(""),[h,p]=_.useState(0),m=_.useRef([]);_.useEffect(()=>{m.current[0]?.focus()},[]),_.useEffect(()=>{if(h>0){const E=setTimeout(()=>p(h-1),1e3);return()=>clearTimeout(E)}},[h]);const y=(E,T)=>{if(T&&!/^\d$/.test(T))return;const O=[...n];O[E]=T,o(O),u(""),T&&E<5&&m.current[E+1]?.focus()},x=(E,T)=>{T.key==="Backspace"&&!n[E]&&E>0&&m.current[E-1]?.focus()},w=E=>{E.preventDefault();const T=E.clipboardData.getData("text").slice(0,6);if(/^\d+$/.test(T)){const O=T.split("").concat(Array(6-T.length).fill(""));o(O.slice(0,6)),u("");const B=Math.min(T.length,5);m.current[B]?.focus()}},k=()=>{const E=n.join("");if(E.length<6){u("Please enter the complete 6-digit code.");return}E==="123456"?u("Invalid or expired code. Please try again."):r("select-interests",e)},P=()=>{h>0||(p(60),o(["","","","","",""]),u(""),m.current[0]?.focus())};return i.jsx("div",{className:`min-h-screen ${t?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"} px-6 pt-12 pb-12`,children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsxs("button",{onClick:()=>r("signup"),className:`mb-8 flex items-center gap-2 ${t?"text-white/60 hover:text-white/80":"text-gray-600 hover:text-gray-800"} transition-colors`,children:[i.jsx(wt,{className:"w-5 h-5"}),"Back"]}),i.jsx("div",{className:"flex justify-center mb-12",children:i.jsx(Hn,{size:80})}),i.jsxs("div",{className:"mb-8 text-center",children:[i.jsx("h1",{className:`mb-2 ${t?"text-white":"text-gray-900"}`,children:"Verify Your Email"}),i.jsx("p",{className:t?"text-white/60":"text-gray-600",children:"Enter the 6-digit code we emailed you."})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("div",{className:"flex gap-3 justify-center mb-4",children:n.map((E,T)=>i.jsx("input",{ref:O=>m.current[T]=O,type:"text",inputMode:"numeric",maxLength:1,value:E,onChange:O=>y(T,O.target.value),onKeyDown:O=>x(T,O),onPaste:T===0?w:void 0,className:`w-12 h-14 text-center ${t?"bg-white/5 border-white/10 text-white":"bg-white/60 border-purple-200/50 text-gray-900"} backdrop-blur-xl border rounded-xl focus:outline-none focus:ring-2 ${t?"focus:ring-purple-500":"focus:ring-purple-600"} ${l?"border-red-500":""} transition-all`},T))}),l&&i.jsx("p",{className:"text-red-500 text-center",children:l})]}),i.jsx("div",{className:"text-center mb-8",children:h>0?i.jsxs("p",{className:t?"text-white/60":"text-gray-600",children:["Resend code in ",h,"s"]}):i.jsx("button",{onClick:P,className:`${t?"text-purple-400 hover:text-purple-300":"text-purple-600 hover:text-purple-700"}`,children:"Resend code"})}),i.jsx("div",{className:"flex justify-center",children:i.jsx("button",{onClick:k,className:"w-full bg-purple-600 hover:bg-purple-700 text-white px-8 py-3 rounded-xl transition-all shadow-lg",children:"Verify"})})]})})}const gL=({...r})=>i.jsx(qO,{theme:"light",className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...r}),xL=zw("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Ud({className:r,variant:e,size:t,asChild:n=!1,...o}){const l=n?Fw:"button";return i.jsx(l,{"data-slot":"button",className:Xt(xL({variant:e,size:t,className:r})),...o})}function yL({navigateTo:r}){const[e,t]=_.useState(!1),n=l=>{const u=document.getElementById(l);u&&(u.scrollIntoView({behavior:"smooth"}),t(!1))},o=()=>{r("login")};return i.jsxs("div",{className:"landing-page",children:[i.jsxs("nav",{className:"landing-nav",children:[i.jsxs("div",{className:"landing-nav-inner",children:[i.jsx("div",{className:"landing-nav-left",children:i.jsx(Hn,{size:28})}),i.jsxs("div",{className:"landing-nav-center",children:[i.jsx("button",{onClick:()=>n("about"),className:"landing-nav-link",children:"About"}),i.jsx("span",{className:"landing-nav-dot",children:""}),i.jsx("button",{onClick:()=>n("how-it-works"),className:"landing-nav-link",children:"How It Works"}),i.jsx("span",{className:"landing-nav-dot",children:""}),i.jsx("button",{onClick:()=>n("circles"),className:"landing-nav-link",children:"Circles"}),i.jsx("span",{className:"landing-nav-dot",children:""}),i.jsx("button",{onClick:()=>n("footer"),className:"landing-nav-link",children:"Contact"})]}),i.jsxs("div",{className:"landing-nav-right",children:[i.jsx(Ud,{onClick:o,className:"landing-hero-primary-btn",children:"Get Started"}),i.jsx("button",{className:"landing-nav-menu-btn",onClick:()=>t(!e),children:e?i.jsx(kn,{size:22}):i.jsx(FS,{size:22})})]})]}),e&&i.jsxs("div",{className:"landing-nav-mobile",children:[i.jsx("button",{onClick:()=>n("about"),className:"landing-nav-mobile-link",children:"About"}),i.jsx("button",{onClick:()=>n("how-it-works"),className:"landing-nav-mobile-link",children:"How It Works"}),i.jsx("button",{onClick:()=>n("circles"),className:"landing-nav-mobile-link",children:"Circles"}),i.jsx("button",{onClick:()=>n("footer"),className:"landing-nav-mobile-link",children:"Contact"})]})]}),i.jsx("section",{className:"landing-hero",children:i.jsxs("div",{className:"landing-hero-inner",children:[i.jsxs("div",{className:"landing-hero-left",children:[i.jsx("h1",{className:"landing-hero-title",children:"Turn Extras Into Essentials."}),i.jsx("p",{className:"landing-hero-subtitle",children:"A campus-first marketplace built to help students trade smarter, declutter faster, and create a circular economy."}),i.jsxs("div",{className:"landing-hero-actions",children:[i.jsx(Ud,{onClick:o,className:"landing-hero-primary-btn",children:"Get Started"}),i.jsx("button",{onClick:()=>n("circles"),className:"landing-hero-secondary-link",children:"Explore Snag Circles"})]})]}),i.jsx("div",{className:"landing-hero-right",children:i.jsx("div",{className:"landing-hero-device-shell",children:i.jsx(Ds,{src:"https://images.unsplash.com/photo-1722834228772-01d16b9bf83b?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxzbWFydHBob25lJTIwc2NyZWVuJTIwaW50ZXJmYWNlfGVufDF8fHx8MTc2Mjk5ODgwOXww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",alt:"Snag App Interface",className:"landing-hero-device-image"})})})]})}),i.jsx("section",{id:"about",className:"landing-section landing-about",children:i.jsxs("div",{className:"landing-section-inner landing-about-inner",children:[i.jsx("div",{className:"landing-section-heading",children:i.jsx("h2",{className:"landing-heading-xl center",children:"Built by Students at the University of Illinois Chicago"})}),i.jsxs("div",{className:"landing-about-grid",children:[i.jsx("div",{className:"landing-about-card",children:i.jsx("p",{children:"Snag was created by UIC students who saw how much time, money, and effort gets wasted during move-out season, semester turnovers, and campus life transitions. We're building a sustainable, student-first marketplace that redefines how items move across campus."})}),i.jsx("div",{className:"landing-about-image-card",children:i.jsx(Ds,{src:"https://images.unsplash.com/photo-1758270705518-b61b40527e76?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxzdHVkZW50JTIwdGVhbSUyMHVuaXZlcnNpdHl8ZW58MXx8fHwxNjMwMDU1NTl8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",alt:"UIC Students",className:"landing-about-image"})})]}),i.jsx("div",{className:"landing-founders-grid",children:vL.map((l,u)=>i.jsxs("div",{className:"landing-founder-card",children:[i.jsx("div",{className:"landing-founder-avatar",children:l.initials}),i.jsx("h3",{children:l.name}),i.jsx("p",{children:"Co-Creator of Snag"})]},u))})]})}),i.jsx("section",{id:"how-it-works",className:"landing-section",children:i.jsxs("div",{className:"landing-section-inner",children:[i.jsx("h2",{className:"landing-heading-xl center",children:"How Snag Works"}),i.jsxs("div",{className:"landing-how-grid",children:[i.jsxs("div",{className:"landing-how-card",children:[i.jsx("div",{className:"landing-how-icon",children:i.jsx(Lw,{size:32})}),i.jsx("h3",{children:"Post in Seconds"}),i.jsx("p",{children:"Snap a photo, add a few details, choose a pickup spot  done."})]}),i.jsxs("div",{className:"landing-how-card",children:[i.jsx("div",{className:"landing-how-icon",children:i.jsx(ws,{size:32})}),i.jsx("h3",{children:"Safe & Verified"}),i.jsx("p",{children:"Meet at campus-approved spots, view trust scores, and stay protected."})]}),i.jsxs("div",{className:"landing-how-card",children:[i.jsx("div",{className:"landing-how-icon",children:i.jsx(St,{size:32})}),i.jsx("h3",{children:"Smart Trading"}),i.jsx("p",{children:"Use credits or essentials to trade  no cash required."})]})]})]})}),i.jsx("section",{id:"circles",className:"landing-section landing-circles",children:i.jsxs("div",{className:"landing-section-inner",children:[i.jsxs("div",{className:"landing-section-heading center",children:[i.jsx("h2",{className:"landing-heading-xl center",children:"Snag Circles  Trade in Groups That Matter"}),i.jsx("p",{className:"landing-section-subtitle center",children:"Join public circles or create your own to trade within clubs, dorm floors, majors, or interest groups. Keep exchanges relevant, fast, and trusted."})]}),i.jsx("div",{className:"landing-circles-grid",children:bL.map((l,u)=>i.jsxs("div",{className:"landing-circle-card",children:[i.jsx("div",{className:`landing-circle-icon ${l.colorClass}`,children:i.jsx(l.icon,{size:22})}),i.jsx("h4",{children:l.name}),i.jsxs("p",{children:[l.members," members"]})]},u))}),i.jsx("div",{className:"landing-circles-cta",children:i.jsx(Ud,{onClick:o,className:"landing-hero-primary-btn",children:"Explore Circles"})})]})}),i.jsx("section",{className:"landing-section landing-sustain",children:i.jsx("div",{className:"landing-section-inner",children:i.jsxs("div",{className:"landing-sustain-card",children:[i.jsx("h2",{className:"landing-heading-xl center",children:"Why Snag Matters"}),i.jsx("p",{className:"landing-section-subtitle center",children:"Every item traded, reused, or repurposed reduces waste and lightens your move-out load. We aim to solve the growing problem of waste on college campuses by helping students exchange what they no longer need with those who do."}),i.jsxs("div",{className:"landing-sustain-icons",children:[i.jsxs("div",{className:"landing-sustain-icon-block",children:[i.jsx("div",{className:"landing-sustain-icon",children:i.jsx(ek,{size:32})}),i.jsx("span",{children:"Reuse"})]}),i.jsxs("div",{className:"landing-sustain-icon-block",children:[i.jsx("div",{className:"landing-sustain-icon",children:i.jsx(mk,{size:32})}),i.jsx("span",{children:"Reduce"})]}),i.jsxs("div",{className:"landing-sustain-icon-block",children:[i.jsx("div",{className:"landing-sustain-icon",children:i.jsx(RS,{size:32})}),i.jsx("span",{children:"Rethink"})]})]})]})})}),i.jsx("section",{className:"landing-section landing-final-cta",children:i.jsxs("div",{className:"landing-final-card",children:[i.jsx("h2",{children:"Join thousands of students building a circular campus economy."}),i.jsx(Ud,{onClick:o,className:"landing-final-button",children:"Get Started"})]})}),i.jsxs("footer",{id:"footer",className:"landing-footer",children:[i.jsxs("div",{className:"landing-footer-inner",children:[i.jsx("div",{className:"landing-footer-left",children:i.jsx(Hn,{size:24})}),i.jsxs("div",{className:"landing-footer-links",children:[i.jsx("button",{children:"About"}),i.jsx("span",{children:""}),i.jsx("button",{children:"Contact"}),i.jsx("span",{children:""}),i.jsx("button",{children:"Terms"}),i.jsx("span",{children:""}),i.jsx("button",{children:"Privacy"})]}),i.jsxs("div",{className:"landing-footer-social",children:[i.jsx("button",{children:i.jsx(CS,{size:18})}),i.jsx("button",{children:i.jsx(DS,{size:18})})]})]}),i.jsx("div",{className:"landing-footer-bottom",children:" 2025 Snag  Made by students, for students."})]})]})}const vL=[{initials:"HB",name:"Humza Bukhari"},{initials:"JL",name:"Joshua Luce"},{initials:"JM",name:"Joonyoung Ma"},{initials:"YN",name:"Yamaan Nandolia"}],bL=[{name:"Dorm 3A",members:45,icon:Pr,colorClass:"circle-blue"},{name:"Film Club",members:28,icon:Pr,colorClass:"circle-pink"},{name:"Movers Circle",members:156,icon:Pr,colorClass:"circle-green"},{name:"UIUC Carpool",members:92,icon:Pr,colorClass:"circle-orange"},{name:"CS Majors",members:203,icon:Pr,colorClass:"circle-purple"},{name:"Study Abroad",members:67,icon:Pr,colorClass:"circle-indigo"}];function wL(){const[r,e]=_.useState("landing"),[t,n]=_.useState(null),[o,l]=_.useState(""),[u,h]=_.useState(!1),[p,m]=_.useState(null),[y,x]=_.useState([]),[w]=_.useState({id:"user_1",name:"Ryan Mehta"}),[k,P]=_.useState([]),[E,T]=_.useState([]),[O,B]=_.useState({isOpen:!1,icon:void 0,title:"",message:""}),[U,H]=_.useState({isOpen:!1,listing:null}),[W,Z]=_.useState([{id:1,type:"meeting",title:"Meeting confirmed",message:"Your meeting for Desk Chair at Student Union Entrance",time:"1 hour ago",unread:!0},{id:2,type:"barter",title:"New barter offer received",message:"Emma L. wants to trade for your Vintage Denim Jacket",time:"3 hours ago",unread:!0}]),[R,S]=_.useState(2);_.useEffect(()=>{if(u){const re=setTimeout(()=>{h(!1),e("home")},2500);return()=>clearTimeout(re)}},[u]);const M=(re,te,he,ve)=>{const le={id:Date.now(),type:re,title:te,message:he,time:"Just now",unread:!0,listingData:ve};Z(pe=>[le,...pe]),S(pe=>pe+1)},V=(re,te,he)=>{B({isOpen:!0,icon:re,title:te,message:he})},D=re=>{re.type==="listing"&&re.listingData&&H({isOpen:!0,listing:re.listingData})},I=re=>{const te={...re,id:Date.now(),sellerId:w.id,seller:{name:w.name,verified:!0},status:"active",views:0,images:[re.image],postedTime:"Just now",isBarter:!1};x(he=>[te,...he]),m(te),M("listing","Listing published","Your item is now visible to all campus students",te),V(i.jsx(bs,{className:"w-8 h-8 text-white"}),"Listing Published!","Your item is now visible to all students")},C=()=>{M("barter","Barter confirmed","Your trade has been accepted! Schedule a meetup to exchange items."),V(i.jsx(St,{className:"w-8 h-8 text-white"}),"Barter Confirmed!","Your trade has been accepted"),e("home")},de=re=>{P(te=>[re,...te]),n(re),e("circle-feed")},oe=re=>{const te=re.trim();te&&!E.includes(te)&&T(he=>[...he,te])},K=re=>{T(te=>te.filter(he=>he!==re))},q=(re,te)=>{re==="confirmation"&&(M("meeting","Meeting confirmed",`Your meeting at ${o||"Main Library Lobby"} has been scheduled`),V(i.jsx(Ph,{className:"w-8 h-8 text-white"}),"Meeting Confirmed!",`Your meetup is scheduled at ${o||"Main Library Lobby"}`)),re==="notifications"&&(Z(he=>he.map(ve=>({...ve,unread:!1}))),S(0)),e(re),te&&n(te)},$=re=>{l(re)};if(u)return i.jsx(B9,{});const se=()=>{switch(r){case"landing":return i.jsx(yL,{navigateTo:q});case"login":return i.jsx(uL,{navigateTo:q});case"signup":return i.jsx(dL,{navigateTo:q});case"select-interests":return i.jsx(hL,{navigateTo:q,userData:t});case"review-profile":return i.jsx(fL,{navigateTo:q,userData:t});case"forgot-password":return i.jsx(pL,{navigateTo:q});case"verify-email":return i.jsx(mL,{navigateTo:q,userData:t});case"home":return i.jsx(Fb,{navigateTo:q,notificationCount:R,customTags:E,onAddCustomTag:oe,onRemoveCustomTag:K});case"trade":return i.jsx(A3,{navigateTo:q,customTags:E,onAddCustomTag:oe,onRemoveCustomTag:K});case"circles-home":return i.jsx(tL,{navigateTo:q,userCircles:k});case"circle-feed":return i.jsx(rL,{navigateTo:q,circle:t,customTags:E,onAddCustomTag:oe,onRemoveCustomTag:K});case"circle-about":return i.jsx(oL,{navigateTo:q,circle:t});case"create-circle":return i.jsx(lL,{navigateTo:q,onCreate:de});case"user-profile":return i.jsx(eL,{navigateTo:q,user:t});case"create":return i.jsx(KO,{navigateTo:q,onPublish:I,prefilledCircle:t?.prefilledCircle,customTags:E,onAddCustomTag:oe});case"profile":return i.jsx(b9,{navigateTo:q,myListings:y});case"settings":return i.jsx(k9,{navigateTo:q});case"notifications":return i.jsx(I9,{navigateTo:q,notifications:W,onNotificationClick:D});case"item-detail":return i.jsx(P9,{item:t,navigateTo:q});case"meeting":return i.jsx(D9,{item:t,navigateTo:q,onSelectSpot:$});case"barter-offer":return i.jsx(M9,{item:t,navigateTo:q});case"counter-offer":return i.jsx(O9,{item:t,counterOffer:{title:"Vintage Leather Jacket",description:"Size L, excellent condition",image:"https://images.unsplash.com/photo-1551028719-00167b16eac5?w=400",credits:5},navigateTo:q,onConfirm:C});case"confirmation":return i.jsx(L9,{item:t,meetingSpot:o,navigateTo:q});case"full-listing-view":return i.jsx(F9,{listing:t,navigateTo:q,currentUser:w});case"my-listings":return i.jsx(U9,{navigateTo:q,myListings:y});case"style-guide":return i.jsx(H9,{navigateTo:q});case"privacy-settings":return i.jsx(W9,{navigateTo:q});case"blocked-users":return i.jsx(q9,{navigateTo:q});case"safety-tips":return i.jsx(G9,{navigateTo:q});case"edit-profile":return i.jsx(K9,{navigateTo:q});case"change-password":return i.jsx(Q9,{navigateTo:q});case"language-settings":return i.jsx(X9,{navigateTo:q});case"help-center":return i.jsx(J9,{navigateTo:q});case"send-feedback":return i.jsx(Z9,{navigateTo:q});case"component-library":return i.jsx(cL,{navigateTo:q});default:return i.jsx(Fb,{navigateTo:q,notificationCount:R})}},F=["home","circles-home","profile","settings"].includes(r),{darkMode:J}=Tt();return i.jsxs("div",{className:`relative w-full min-h-screen ${J?"bg-black":"bg-gradient-to-br from-purple-50 via-lavender-50 to-purple-100"}`,children:[i.jsx("div",{className:F?"pb-24":"",children:se()}),F&&i.jsx(z9,{activeScreen:r,navigateTo:q}),i.jsx(V9,{isOpen:O.isOpen,onClose:()=>B({...O,isOpen:!1}),icon:O.icon,title:O.title,message:O.message}),i.jsx($9,{isOpen:U.isOpen,onClose:()=>H({isOpen:!1,listing:null}),listing:U.listing,onViewListing:()=>{H({isOpen:!1,listing:null}),n(U.listing),e("full-listing-view")}}),i.jsx(gL,{position:"top-center"})]})}function _L(){return i.jsx(OT,{children:i.jsx(w3,{children:i.jsx(wL,{})})})}Uj.createRoot(document.getElementById("root")).render(i.jsx(_L,{}));
